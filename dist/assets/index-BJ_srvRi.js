const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AdminContents-Dgz7PfdF.js","assets/ButtonBase-Sg0HLTF_.js","assets/assertThisInitialized-B9jnkVVz.js","assets/DialogActions-BJABQdRi.js","assets/AdminDashboard-BQjW9cL0.js","assets/findIndex-CuVz4xHe.js","assets/AdminEvents-BotjZivY.js","assets/Box-BC6t46yC.js","assets/AdminEvents-qeKFb0yB.css","assets/AdminJobListings-CADikh4o.js"])))=>i.map(i=>d[i]);
var IZ=Object.defineProperty;var OZ=(t,e,n)=>e in t?IZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var co=(t,e,n)=>OZ(t,typeof e!="symbol"?e+"":e,n);function LZ(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in t)){const r=Object.getOwnPropertyDescriptor(i,s);r&&Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();var qGe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function du(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var IT={exports:{}},cg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uk;function kZ(){if(Uk)return cg;Uk=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,s,r){var o=null;if(r!==void 0&&(o=""+r),s.key!==void 0&&(o=""+s.key),"key"in s){r={};for(var a in s)a!=="key"&&(r[a]=s[a])}else r=s;return s=r.ref,{$$typeof:t,type:i,key:o,ref:s!==void 0?s:null,props:r}}return cg.Fragment=e,cg.jsx=n,cg.jsxs=n,cg}var jk;function BZ(){return jk||(jk=1,IT.exports=kZ()),IT.exports}var v=BZ(),OT={exports:{}},Bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wk;function HZ(){if(Wk)return Bt;Wk=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function p(H){return H===null||typeof H!="object"?null:(H=f&&H[f]||H["@@iterator"],typeof H=="function"?H:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,C={};function x(H,ee,ge){this.props=H,this.context=ee,this.refs=C,this.updater=ge||m}x.prototype.isReactComponent={},x.prototype.setState=function(H,ee){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ee,"setState")},x.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function w(){}w.prototype=x.prototype;function M(H,ee,ge){this.props=H,this.context=ee,this.refs=C,this.updater=ge||m}var S=M.prototype=new w;S.constructor=M,y(S,x.prototype),S.isPureReactComponent=!0;var R=Array.isArray,P={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function N(H,ee,ge,Se,Z,ae){return ge=ae.ref,{$$typeof:t,type:H,key:ee,ref:ge!==void 0?ge:null,props:ae}}function I(H,ee){return N(H.type,ee,void 0,void 0,void 0,H.props)}function _(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function A(H){var ee={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ge){return ee[ge]})}var O=/\/+/g;function k(H,ee){return typeof H=="object"&&H!==null&&H.key!=null?A(""+H.key):ee.toString(36)}function z(){}function W(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(z,z):(H.status="pending",H.then(function(ee){H.status==="pending"&&(H.status="fulfilled",H.value=ee)},function(ee){H.status==="pending"&&(H.status="rejected",H.reason=ee)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function K(H,ee,ge,Se,Z){var ae=typeof H;(ae==="undefined"||ae==="boolean")&&(H=null);var xe=!1;if(H===null)xe=!0;else switch(ae){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(H.$$typeof){case t:case e:xe=!0;break;case d:return xe=H._init,K(xe(H._payload),ee,ge,Se,Z)}}if(xe)return Z=Z(H),xe=Se===""?"."+k(H,0):Se,R(Z)?(ge="",xe!=null&&(ge=xe.replace(O,"$&/")+"/"),K(Z,ee,ge,"",function(Le){return Le})):Z!=null&&(_(Z)&&(Z=I(Z,ge+(Z.key==null||H&&H.key===Z.key?"":(""+Z.key).replace(O,"$&/")+"/")+xe)),ee.push(Z)),1;xe=0;var Me=Se===""?".":Se+":";if(R(H))for(var Oe=0;Oe<H.length;Oe++)Se=H[Oe],ae=Me+k(Se,Oe),xe+=K(Se,ee,ge,ae,Z);else if(Oe=p(H),typeof Oe=="function")for(H=Oe.call(H),Oe=0;!(Se=H.next()).done;)Se=Se.value,ae=Me+k(Se,Oe++),xe+=K(Se,ee,ge,ae,Z);else if(ae==="object"){if(typeof H.then=="function")return K(W(H),ee,ge,Se,Z);throw ee=String(H),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return xe}function V(H,ee,ge){if(H==null)return H;var Se=[],Z=0;return K(H,Se,"","",function(ae){return ee.call(ge,ae,Z++)}),Se}function Q(H){if(H._status===-1){var ee=H._result;ee=ee(),ee.then(function(ge){(H._status===0||H._status===-1)&&(H._status=1,H._result=ge)},function(ge){(H._status===0||H._status===-1)&&(H._status=2,H._result=ge)}),H._status===-1&&(H._status=0,H._result=ee)}if(H._status===1)return H._result.default;throw H._result}var q=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function X(){}return Bt.Children={map:V,forEach:function(H,ee,ge){V(H,function(){ee.apply(this,arguments)},ge)},count:function(H){var ee=0;return V(H,function(){ee++}),ee},toArray:function(H){return V(H,function(ee){return ee})||[]},only:function(H){if(!_(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Bt.Component=x,Bt.Fragment=n,Bt.Profiler=s,Bt.PureComponent=M,Bt.StrictMode=i,Bt.Suspense=l,Bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Bt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Bt.cache=function(H){return function(){return H.apply(null,arguments)}},Bt.cloneElement=function(H,ee,ge){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var Se=y({},H.props),Z=H.key,ae=void 0;if(ee!=null)for(xe in ee.ref!==void 0&&(ae=void 0),ee.key!==void 0&&(Z=""+ee.key),ee)!F.call(ee,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&ee.ref===void 0||(Se[xe]=ee[xe]);var xe=arguments.length-2;if(xe===1)Se.children=ge;else if(1<xe){for(var Me=Array(xe),Oe=0;Oe<xe;Oe++)Me[Oe]=arguments[Oe+2];Se.children=Me}return N(H.type,Z,void 0,void 0,ae,Se)},Bt.createContext=function(H){return H={$$typeof:o,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:r,_context:H},H},Bt.createElement=function(H,ee,ge){var Se,Z={},ae=null;if(ee!=null)for(Se in ee.key!==void 0&&(ae=""+ee.key),ee)F.call(ee,Se)&&Se!=="key"&&Se!=="__self"&&Se!=="__source"&&(Z[Se]=ee[Se]);var xe=arguments.length-2;if(xe===1)Z.children=ge;else if(1<xe){for(var Me=Array(xe),Oe=0;Oe<xe;Oe++)Me[Oe]=arguments[Oe+2];Z.children=Me}if(H&&H.defaultProps)for(Se in xe=H.defaultProps,xe)Z[Se]===void 0&&(Z[Se]=xe[Se]);return N(H,ae,void 0,void 0,null,Z)},Bt.createRef=function(){return{current:null}},Bt.forwardRef=function(H){return{$$typeof:a,render:H}},Bt.isValidElement=_,Bt.lazy=function(H){return{$$typeof:d,_payload:{_status:-1,_result:H},_init:Q}},Bt.memo=function(H,ee){return{$$typeof:c,type:H,compare:ee===void 0?null:ee}},Bt.startTransition=function(H){var ee=P.T,ge={};P.T=ge;try{var Se=H(),Z=P.S;Z!==null&&Z(ge,Se),typeof Se=="object"&&Se!==null&&typeof Se.then=="function"&&Se.then(X,q)}catch(ae){q(ae)}finally{P.T=ee}},Bt.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Bt.use=function(H){return P.H.use(H)},Bt.useActionState=function(H,ee,ge){return P.H.useActionState(H,ee,ge)},Bt.useCallback=function(H,ee){return P.H.useCallback(H,ee)},Bt.useContext=function(H){return P.H.useContext(H)},Bt.useDebugValue=function(){},Bt.useDeferredValue=function(H,ee){return P.H.useDeferredValue(H,ee)},Bt.useEffect=function(H,ee){return P.H.useEffect(H,ee)},Bt.useId=function(){return P.H.useId()},Bt.useImperativeHandle=function(H,ee,ge){return P.H.useImperativeHandle(H,ee,ge)},Bt.useInsertionEffect=function(H,ee){return P.H.useInsertionEffect(H,ee)},Bt.useLayoutEffect=function(H,ee){return P.H.useLayoutEffect(H,ee)},Bt.useMemo=function(H,ee){return P.H.useMemo(H,ee)},Bt.useOptimistic=function(H,ee){return P.H.useOptimistic(H,ee)},Bt.useReducer=function(H,ee,ge){return P.H.useReducer(H,ee,ge)},Bt.useRef=function(H){return P.H.useRef(H)},Bt.useState=function(H){return P.H.useState(H)},Bt.useSyncExternalStore=function(H,ee,ge){return P.H.useSyncExternalStore(H,ee,ge)},Bt.useTransition=function(){return P.H.useTransition()},Bt.version="19.0.0",Bt}var $k;function VD(){return $k||($k=1,OT.exports=HZ()),OT.exports}var E=VD();const ne=du(E),Ov=LZ({__proto__:null,default:ne},[E]);var LT={exports:{}},ug={},kT={exports:{}},BT={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qk;function VZ(){return qk||(qk=1,function(t){function e(V,Q){var q=V.length;V.push(Q);e:for(;0<q;){var X=q-1>>>1,H=V[X];if(0<s(H,Q))V[X]=Q,V[q]=H,q=X;else break e}}function n(V){return V.length===0?null:V[0]}function i(V){if(V.length===0)return null;var Q=V[0],q=V.pop();if(q!==Q){V[0]=q;e:for(var X=0,H=V.length,ee=H>>>1;X<ee;){var ge=2*(X+1)-1,Se=V[ge],Z=ge+1,ae=V[Z];if(0>s(Se,q))Z<H&&0>s(ae,Se)?(V[X]=ae,V[Z]=q,X=Z):(V[X]=Se,V[ge]=q,X=ge);else if(Z<H&&0>s(ae,q))V[X]=ae,V[Z]=q,X=Z;else break e}}return Q}function s(V,Q){var q=V.sortIndex-Q.sortIndex;return q!==0?q:V.id-Q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,p=3,m=!1,y=!1,C=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function S(V){for(var Q=n(c);Q!==null;){if(Q.callback===null)i(c);else if(Q.startTime<=V)i(c),Q.sortIndex=Q.expirationTime,e(l,Q);else break;Q=n(c)}}function R(V){if(C=!1,S(V),!y)if(n(l)!==null)y=!0,W();else{var Q=n(c);Q!==null&&K(R,Q.startTime-V)}}var P=!1,F=-1,N=5,I=-1;function _(){return!(t.unstable_now()-I<N)}function A(){if(P){var V=t.unstable_now();I=V;var Q=!0;try{e:{y=!1,C&&(C=!1,w(F),F=-1),m=!0;var q=p;try{t:{for(S(V),f=n(l);f!==null&&!(f.expirationTime>V&&_());){var X=f.callback;if(typeof X=="function"){f.callback=null,p=f.priorityLevel;var H=X(f.expirationTime<=V);if(V=t.unstable_now(),typeof H=="function"){f.callback=H,S(V),Q=!0;break t}f===n(l)&&i(l),S(V)}else i(l);f=n(l)}if(f!==null)Q=!0;else{var ee=n(c);ee!==null&&K(R,ee.startTime-V),Q=!1}}break e}finally{f=null,p=q,m=!1}Q=void 0}}finally{Q?O():P=!1}}}var O;if(typeof M=="function")O=function(){M(A)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,z=k.port2;k.port1.onmessage=A,O=function(){z.postMessage(null)}}else O=function(){x(A,0)};function W(){P||(P=!0,O())}function K(V,Q){F=x(function(){V(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,W())},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(p){case 1:case 2:case 3:var Q=3;break;default:Q=p}var q=p;p=Q;try{return V()}finally{p=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,Q){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var q=p;p=V;try{return Q()}finally{p=q}},t.unstable_scheduleCallback=function(V,Q,q){var X=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?X+q:X):q=X,V){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=q+H,V={id:d++,callback:Q,priorityLevel:V,startTime:q,expirationTime:H,sortIndex:-1},q>X?(V.sortIndex=q,e(c,V),n(l)===null&&V===n(c)&&(C?(w(F),F=-1):C=!0,K(R,q-X))):(V.sortIndex=H,e(l,V),y||m||(y=!0,W())),V},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(V){var Q=p;return function(){var q=p;p=Q;try{return V.apply(this,arguments)}finally{p=q}}}}(BT)),BT}var Kk;function zZ(){return Kk||(Kk=1,kT.exports=VZ()),kT.exports}var HT={exports:{}},vs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yk;function GZ(){if(Yk)return vs;Yk=1;var t=VD();function e(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function r(l,c,d){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:f==null?null:""+f,children:l,containerInfo:c,implementation:d}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return vs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,vs.createPortal=function(l,c){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return r(l,c,null,d)},vs.flushSync=function(l){var c=o.T,d=i.p;try{if(o.T=null,i.p=2,l)return l()}finally{o.T=c,i.p=d,i.d.f()}},vs.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,i.d.C(l,c))},vs.prefetchDNS=function(l){typeof l=="string"&&i.d.D(l)},vs.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var d=c.as,f=a(d,c.crossOrigin),p=typeof c.integrity=="string"?c.integrity:void 0,m=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;d==="style"?i.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:f,integrity:p,fetchPriority:m}):d==="script"&&i.d.X(l,{crossOrigin:f,integrity:p,fetchPriority:m,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},vs.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var d=a(c.as,c.crossOrigin);i.d.M(l,{crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&i.d.M(l)},vs.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var d=c.as,f=a(d,c.crossOrigin);i.d.L(l,d,{crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},vs.preloadModule=function(l,c){if(typeof l=="string")if(c){var d=a(c.as,c.crossOrigin);i.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else i.d.m(l)},vs.requestFormReset=function(l){i.d.r(l)},vs.unstable_batchedUpdates=function(l,c){return l(c)},vs.useFormState=function(l,c,d){return o.H.useFormState(l,c,d)},vs.useFormStatus=function(){return o.H.useHostTransitionStatus()},vs.version="19.0.0",vs}var Xk;function xG(){if(Xk)return HT.exports;Xk=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),HT.exports=GZ(),HT.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zk;function UZ(){if(Zk)return ug;Zk=1;var t=zZ(),e=VD(),n=xG();function i(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}var r=Symbol.for("react.element"),o=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),p=Symbol.for("react.consumer"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),R=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function F(u){return u===null||typeof u!="object"?null:(u=P&&u[P]||u["@@iterator"],typeof u=="function"?u:null)}var N=Symbol.for("react.client.reference");function I(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===N?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case l:return"Fragment";case a:return"Portal";case d:return"Profiler";case c:return"StrictMode";case C:return"Suspense";case x:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case m:return(u.displayName||"Context")+".Provider";case p:return(u._context.displayName||"Context")+".Consumer";case y:var h=u.render;return u=u.displayName,u||(u=h.displayName||h.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case w:return h=u.displayName||null,h!==null?h:I(u.type)||"Memo";case M:h=u._payload,u=u._init;try{return I(u(h))}catch{}}return null}var _=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A=Object.assign,O,k;function z(u){if(O===void 0)try{throw Error()}catch(g){var h=g.stack.trim().match(/\n( *(at )?)/);O=h&&h[1]||"",k=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+O+u+k}var W=!1;function K(u,h){if(!u||W)return"";W=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(h){var Ue=function(){throw Error()};if(Object.defineProperty(Ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ue,[])}catch(Pe){var be=Pe}Reflect.construct(u,[],Ue)}else{try{Ue.call()}catch(Pe){be=Pe}u.call(Ue.prototype)}}else{try{throw Error()}catch(Pe){be=Pe}(Ue=u())&&typeof Ue.catch=="function"&&Ue.catch(function(){})}}catch(Pe){if(Pe&&be&&typeof Pe.stack=="string")return[Pe.stack,be.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var D=b.DetermineComponentFrameRoot(),L=D[0],G=D[1];if(L&&G){var J=L.split(`
`),re=G.split(`
`);for(T=b=0;b<J.length&&!J[b].includes("DetermineComponentFrameRoot");)b++;for(;T<re.length&&!re[T].includes("DetermineComponentFrameRoot");)T++;if(b===J.length||T===re.length)for(b=J.length-1,T=re.length-1;1<=b&&0<=T&&J[b]!==re[T];)T--;for(;1<=b&&0<=T;b--,T--)if(J[b]!==re[T]){if(b!==1||T!==1)do if(b--,T--,0>T||J[b]!==re[T]){var _e=`
`+J[b].replace(" at new "," at ");return u.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",u.displayName)),_e}while(1<=b&&0<=T);break}}}finally{W=!1,Error.prepareStackTrace=g}return(g=u?u.displayName||u.name:"")?z(g):""}function V(u){switch(u.tag){case 26:case 27:case 5:return z(u.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 15:return u=K(u.type,!1),u;case 11:return u=K(u.type.render,!1),u;case 1:return u=K(u.type,!0),u;default:return""}}function Q(u){try{var h="";do h+=V(u),u=u.return;while(u);return h}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}function q(u){var h=u,g=u;if(u.alternate)for(;h.return;)h=h.return;else{u=h;do h=u,(h.flags&4098)!==0&&(g=h.return),u=h.return;while(u)}return h.tag===3?g:null}function X(u){if(u.tag===13){var h=u.memoizedState;if(h===null&&(u=u.alternate,u!==null&&(h=u.memoizedState)),h!==null)return h.dehydrated}return null}function H(u){if(q(u)!==u)throw Error(i(188))}function ee(u){var h=u.alternate;if(!h){if(h=q(u),h===null)throw Error(i(188));return h!==u?null:u}for(var g=u,b=h;;){var T=g.return;if(T===null)break;var D=T.alternate;if(D===null){if(b=T.return,b!==null){g=b;continue}break}if(T.child===D.child){for(D=T.child;D;){if(D===g)return H(T),u;if(D===b)return H(T),h;D=D.sibling}throw Error(i(188))}if(g.return!==b.return)g=T,b=D;else{for(var L=!1,G=T.child;G;){if(G===g){L=!0,g=T,b=D;break}if(G===b){L=!0,b=T,g=D;break}G=G.sibling}if(!L){for(G=D.child;G;){if(G===g){L=!0,g=D,b=T;break}if(G===b){L=!0,b=D,g=T;break}G=G.sibling}if(!L)throw Error(i(189))}}if(g.alternate!==b)throw Error(i(190))}if(g.tag!==3)throw Error(i(188));return g.stateNode.current===g?u:h}function ge(u){var h=u.tag;if(h===5||h===26||h===27||h===6)return u;for(u=u.child;u!==null;){if(h=ge(u),h!==null)return h;u=u.sibling}return null}var Se=Array.isArray,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},xe=[],Me=-1;function Oe(u){return{current:u}}function Le(u){0>Me||(u.current=xe[Me],xe[Me]=null,Me--)}function we(u,h){Me++,xe[Me]=u.current,u.current=h}var $e=Oe(null),ce=Oe(null),Ce=Oe(null),U=Oe(null);function ke(u,h){switch(we(Ce,h),we(ce,u),we($e,null),u=h.nodeType,u){case 9:case 11:h=(h=h.documentElement)&&(h=h.namespaceURI)?yk(h):0;break;default:if(u=u===8?h.parentNode:h,h=u.tagName,u=u.namespaceURI)u=yk(u),h=xk(u,h);else switch(h){case"svg":h=1;break;case"math":h=2;break;default:h=0}}Le($e),we($e,h)}function De(){Le($e),Le(ce),Le(Ce)}function Xe(u){u.memoizedState!==null&&we(U,u);var h=$e.current,g=xk(h,u.type);h!==g&&(we(ce,u),we($e,g))}function Ve(u){ce.current===u&&(Le($e),Le(ce)),U.current===u&&(Le(U),sg._currentValue=ae)}var at=Object.prototype.hasOwnProperty,Ge=t.unstable_scheduleCallback,$=t.unstable_cancelCallback,B=t.unstable_shouldYield,de=t.unstable_requestPaint,te=t.unstable_now,fe=t.unstable_getCurrentPriorityLevel,he=t.unstable_ImmediatePriority,je=t.unstable_UserBlockingPriority,We=t.unstable_NormalPriority,Ze=t.unstable_LowPriority,Ct=t.unstable_IdlePriority,Ne=t.log,et=t.unstable_setDisableYieldValue,ft=null,dt=null;function Ie(u){if(dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(ft,u,void 0,(u.current.flags&128)===128)}catch{}}function rt(u){if(typeof Ne=="function"&&et(u),dt&&typeof dt.setStrictMode=="function")try{dt.setStrictMode(ft,u)}catch{}}var tt=Math.clz32?Math.clz32:st,Gt=Math.log,se=Math.LN2;function st(u){return u>>>=0,u===0?32:31-(Gt(u)/se|0)|0}var Re=128,He=4194304;function Qe(u){var h=u&42;if(h!==0)return h;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function it(u,h){var g=u.pendingLanes;if(g===0)return 0;var b=0,T=u.suspendedLanes,D=u.pingedLanes,L=u.warmLanes;u=u.finishedLanes!==0;var G=g&134217727;return G!==0?(g=G&~T,g!==0?b=Qe(g):(D&=G,D!==0?b=Qe(D):u||(L=G&~L,L!==0&&(b=Qe(L))))):(G=g&~T,G!==0?b=Qe(G):D!==0?b=Qe(D):u||(L=g&~L,L!==0&&(b=Qe(L)))),b===0?0:h!==0&&h!==b&&(h&T)===0&&(T=b&-b,L=h&-h,T>=L||T===32&&(L&4194176)!==0)?h:b}function Rt(u,h){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&h)===0}function Vn(u,h){switch(u){case 1:case 2:case 4:case 8:return h+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ai(){var u=Re;return Re<<=1,(Re&4194176)===0&&(Re=128),u}function ln(){var u=He;return He<<=1,(He&62914560)===0&&(He=4194304),u}function Is(u){for(var h=[],g=0;31>g;g++)h.push(u);return h}function Os(u,h){u.pendingLanes|=h,h!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function D0(u,h,g,b,T,D){var L=u.pendingLanes;u.pendingLanes=g,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=g,u.entangledLanes&=g,u.errorRecoveryDisabledLanes&=g,u.shellSuspendCounter=0;var G=u.entanglements,J=u.expirationTimes,re=u.hiddenUpdates;for(g=L&~g;0<g;){var _e=31-tt(g),Ue=1<<_e;G[_e]=0,J[_e]=-1;var be=re[_e];if(be!==null)for(re[_e]=null,_e=0;_e<be.length;_e++){var Pe=be[_e];Pe!==null&&(Pe.lane&=-536870913)}g&=~Ue}b!==0&&mm(u,b,0),D!==0&&T===0&&u.tag!==0&&(u.suspendedLanes|=D&~(L&~h))}function mm(u,h,g){u.pendingLanes|=h,u.suspendedLanes&=~h;var b=31-tt(h);u.entangledLanes|=h,u.entanglements[b]=u.entanglements[b]|1073741824|g&4194218}function ca(u,h){var g=u.entangledLanes|=h;for(u=u.entanglements;g;){var b=31-tt(g),T=1<<b;T&h|u[b]&h&&(u[b]|=h),g&=~T}}function Ih(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function gm(){var u=Z.p;return u!==0?u:(u=window.event,u===void 0?32:kk(u.type))}function _0(u,h){var g=Z.p;try{return Z.p=u,h()}finally{Z.p=g}}var Rr=Math.random().toString(36).slice(2),Pi="__reactFiber$"+Rr,Di="__reactProps$"+Rr,Xa="__reactContainer$"+Rr,Oh="__reactEvents$"+Rr,FE="__reactListeners$"+Rr,NE="__reactHandles$"+Rr,F0="__reactResources$"+Rr,Tu="__reactMarker$"+Rr;function vm(u){delete u[Pi],delete u[Di],delete u[Oh],delete u[FE],delete u[NE]}function Za(u){var h=u[Pi];if(h)return h;for(var g=u.parentNode;g;){if(h=g[Xa]||g[Pi]){if(g=h.alternate,h.child!==null||g!==null&&g.child!==null)for(u=bk(u);u!==null;){if(g=u[Pi])return g;u=bk(u)}return h}u=g,g=u.parentNode}return null}function j(u){if(u=u[Pi]||u[Xa]){var h=u.tag;if(h===5||h===6||h===13||h===26||h===27||h===3)return u}return null}function oe(u){var h=u.tag;if(h===5||h===26||h===27||h===6)return u.stateNode;throw Error(i(33))}function ye(u){var h=u[F0];return h||(h=u[F0]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function pe(u){u[Tu]=!0}var le=new Set,Ye={};function Je(u,h){lt(u,h),lt(u+"Capture",h)}function lt(u,h){for(Ye[u]=h,u=0;u<h.length;u++)le.add(h[u])}var ot=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),At=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pt={},xt={};function Xt(u){return at.call(xt,u)?!0:at.call(Pt,u)?!1:At.test(u)?xt[u]=!0:(Pt[u]=!0,!1)}function Zt(u,h,g){if(Xt(h))if(g===null)u.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":u.removeAttribute(h);return;case"boolean":var b=h.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){u.removeAttribute(h);return}}u.setAttribute(h,""+g)}}function Hn(u,h,g){if(g===null)u.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(h);return}u.setAttribute(h,""+g)}}function cn(u,h,g,b){if(b===null)u.removeAttribute(g);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(g);return}u.setAttributeNS(h,g,""+b)}}function Dt(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function wt(u){var h=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function _i(u){var h=wt(u)?"checked":"value",g=Object.getOwnPropertyDescriptor(u.constructor.prototype,h),b=""+u[h];if(!u.hasOwnProperty(h)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var T=g.get,D=g.set;return Object.defineProperty(u,h,{configurable:!0,get:function(){return T.call(this)},set:function(L){b=""+L,D.call(this,L)}}),Object.defineProperty(u,h,{enumerable:g.enumerable}),{getValue:function(){return b},setValue:function(L){b=""+L},stopTracking:function(){u._valueTracker=null,delete u[h]}}}}function Jt(u){u._valueTracker||(u._valueTracker=_i(u))}function lr(u){if(!u)return!1;var h=u._valueTracker;if(!h)return!0;var g=h.getValue(),b="";return u&&(b=wt(u)?u.checked?"true":"false":u.value),u=b,u!==g?(h.setValue(u),!0):!1}function No(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var Ls=/[\n"\\]/g;function zi(u){return u.replace(Ls,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function bn(u,h,g,b,T,D,L,G){u.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?u.type=L:u.removeAttribute("type"),h!=null?L==="number"?(h===0&&u.value===""||u.value!=h)&&(u.value=""+Dt(h)):u.value!==""+Dt(h)&&(u.value=""+Dt(h)):L!=="submit"&&L!=="reset"||u.removeAttribute("value"),h!=null?ms(u,L,Dt(h)):g!=null?ms(u,L,Dt(g)):b!=null&&u.removeAttribute("value"),T==null&&D!=null&&(u.defaultChecked=!!D),T!=null&&(u.checked=T&&typeof T!="function"&&typeof T!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?u.name=""+Dt(G):u.removeAttribute("name")}function ks(u,h,g,b,T,D,L,G){if(D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(u.type=D),h!=null||g!=null){if(!(D!=="submit"&&D!=="reset"||h!=null))return;g=g!=null?""+Dt(g):"",h=h!=null?""+Dt(h):g,G||h===u.value||(u.value=h),u.defaultValue=h}b=b??T,b=typeof b!="function"&&typeof b!="symbol"&&!!b,u.checked=G?u.checked:!!b,u.defaultChecked=!!b,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(u.name=L)}function ms(u,h,g){h==="number"&&No(u.ownerDocument)===u||u.defaultValue===""+g||(u.defaultValue=""+g)}function ei(u,h,g,b){if(u=u.options,h){h={};for(var T=0;T<g.length;T++)h["$"+g[T]]=!0;for(g=0;g<u.length;g++)T=h.hasOwnProperty("$"+u[g].value),u[g].selected!==T&&(u[g].selected=T),T&&b&&(u[g].defaultSelected=!0)}else{for(g=""+Dt(g),h=null,T=0;T<u.length;T++){if(u[T].value===g){u[T].selected=!0,b&&(u[T].defaultSelected=!0);return}h!==null||u[T].disabled||(h=u[T])}h!==null&&(h.selected=!0)}}function Qi(u,h,g){if(h!=null&&(h=""+Dt(h),h!==u.value&&(u.value=h),g==null)){u.defaultValue!==h&&(u.defaultValue=h);return}u.defaultValue=g!=null?""+Dt(g):""}function Lh(u,h,g,b){if(h==null){if(b!=null){if(g!=null)throw Error(i(92));if(Se(b)){if(1<b.length)throw Error(i(93));b=b[0]}g=b}g==null&&(g=""),h=g}g=Dt(h),u.defaultValue=g,b=u.textContent,b===g&&b!==""&&b!==null&&(u.value=b)}function cr(u,h){if(h){var g=u.firstChild;if(g&&g===u.lastChild&&g.nodeType===3){g.nodeValue=h;return}}u.textContent=h}var _Y=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function TI(u,h,g){var b=h.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?b?u.setProperty(h,""):h==="float"?u.cssFloat="":u[h]="":b?u.setProperty(h,g):typeof g!="number"||g===0||_Y.has(h)?h==="float"?u.cssFloat=g:u[h]=(""+g).trim():u[h]=g+"px"}function RI(u,h,g){if(h!=null&&typeof h!="object")throw Error(i(62));if(u=u.style,g!=null){for(var b in g)!g.hasOwnProperty(b)||h!=null&&h.hasOwnProperty(b)||(b.indexOf("--")===0?u.setProperty(b,""):b==="float"?u.cssFloat="":u[b]="");for(var T in h)b=h[T],h.hasOwnProperty(T)&&g[T]!==b&&TI(u,T,b)}else for(var D in h)h.hasOwnProperty(D)&&TI(u,D,h[D])}function IE(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var FY=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),NY=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function N0(u){return NY.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}var OE=null;function LE(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var kh=null,Bh=null;function AI(u){var h=j(u);if(h&&(u=h.stateNode)){var g=u[Di]||null;e:switch(u=h.stateNode,h.type){case"input":if(bn(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),h=g.name,g.type==="radio"&&h!=null){for(g=u;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+zi(""+h)+'"][type="radio"]'),h=0;h<g.length;h++){var b=g[h];if(b!==u&&b.form===u.form){var T=b[Di]||null;if(!T)throw Error(i(90));bn(b,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(h=0;h<g.length;h++)b=g[h],b.form===u.form&&lr(b)}break e;case"textarea":Qi(u,g.value,g.defaultValue);break e;case"select":h=g.value,h!=null&&ei(u,!!g.multiple,h,!1)}}}var kE=!1;function PI(u,h,g){if(kE)return u(h,g);kE=!0;try{var b=u(h);return b}finally{if(kE=!1,(kh!==null||Bh!==null)&&(gx(),kh&&(h=kh,u=Bh,Bh=kh=null,AI(h),u)))for(h=0;h<u.length;h++)AI(u[h])}}function ym(u,h){var g=u.stateNode;if(g===null)return null;var b=g[Di]||null;if(b===null)return null;g=b[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(u=u.type,b=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!b;break e;default:u=!1}if(u)return null;if(g&&typeof g!="function")throw Error(i(231,h,typeof g));return g}var BE=!1;if(ot)try{var xm={};Object.defineProperty(xm,"passive",{get:function(){BE=!0}}),window.addEventListener("test",xm,xm),window.removeEventListener("test",xm,xm)}catch{BE=!1}var tc=null,HE=null,I0=null;function DI(){if(I0)return I0;var u,h=HE,g=h.length,b,T="value"in tc?tc.value:tc.textContent,D=T.length;for(u=0;u<g&&h[u]===T[u];u++);var L=g-u;for(b=1;b<=L&&h[g-b]===T[D-b];b++);return I0=T.slice(u,1<b?1-b:void 0)}function O0(u){var h=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&h===13&&(u=13)):u=h,u===10&&(u=13),32<=u||u===13?u:0}function L0(){return!0}function _I(){return!1}function ur(u){function h(g,b,T,D,L){this._reactName=g,this._targetInst=T,this.type=b,this.nativeEvent=D,this.target=L,this.currentTarget=null;for(var G in u)u.hasOwnProperty(G)&&(g=u[G],this[G]=g?g(D):D[G]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?L0:_I,this.isPropagationStopped=_I,this}return A(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=L0)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=L0)},persist:function(){},isPersistent:L0}),h}var Ru={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},k0=ur(Ru),Cm=A({},Ru,{view:0,detail:0}),IY=ur(Cm),VE,zE,wm,B0=A({},Cm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:UE,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==wm&&(wm&&u.type==="mousemove"?(VE=u.screenX-wm.screenX,zE=u.screenY-wm.screenY):zE=VE=0,wm=u),VE)},movementY:function(u){return"movementY"in u?u.movementY:zE}}),FI=ur(B0),OY=A({},B0,{dataTransfer:0}),LY=ur(OY),kY=A({},Cm,{relatedTarget:0}),GE=ur(kY),BY=A({},Ru,{animationName:0,elapsedTime:0,pseudoElement:0}),HY=ur(BY),VY=A({},Ru,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),zY=ur(VY),GY=A({},Ru,{data:0}),NI=ur(GY),UY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $Y(u){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(u):(u=WY[u])?!!h[u]:!1}function UE(){return $Y}var qY=A({},Cm,{key:function(u){if(u.key){var h=UY[u.key]||u.key;if(h!=="Unidentified")return h}return u.type==="keypress"?(u=O0(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?jY[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:UE,charCode:function(u){return u.type==="keypress"?O0(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?O0(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),KY=ur(qY),YY=A({},B0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),II=ur(YY),XY=A({},Cm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:UE}),ZY=ur(XY),JY=A({},Ru,{propertyName:0,elapsedTime:0,pseudoElement:0}),QY=ur(JY),eX=A({},B0,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),tX=ur(eX),nX=A({},Ru,{newState:0,oldState:0}),iX=ur(nX),sX=[9,13,27,32],jE=ot&&"CompositionEvent"in window,bm=null;ot&&"documentMode"in document&&(bm=document.documentMode);var rX=ot&&"TextEvent"in window&&!bm,OI=ot&&(!jE||bm&&8<bm&&11>=bm),LI=" ",kI=!1;function BI(u,h){switch(u){case"keyup":return sX.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function HI(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Hh=!1;function oX(u,h){switch(u){case"compositionend":return HI(h);case"keypress":return h.which!==32?null:(kI=!0,LI);case"textInput":return u=h.data,u===LI&&kI?null:u;default:return null}}function aX(u,h){if(Hh)return u==="compositionend"||!jE&&BI(u,h)?(u=DI(),I0=HE=tc=null,Hh=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return OI&&h.locale!=="ko"?null:h.data;default:return null}}var lX={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function VI(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h==="input"?!!lX[u.type]:h==="textarea"}function zI(u,h,g,b){kh?Bh?Bh.push(b):Bh=[b]:kh=b,h=wx(h,"onChange"),0<h.length&&(g=new k0("onChange","change",null,g,b),u.push({event:g,listeners:h}))}var Sm=null,Em=null;function cX(u){fk(u,0)}function H0(u){var h=oe(u);if(lr(h))return u}function GI(u,h){if(u==="change")return h}var UI=!1;if(ot){var WE;if(ot){var $E="oninput"in document;if(!$E){var jI=document.createElement("div");jI.setAttribute("oninput","return;"),$E=typeof jI.oninput=="function"}WE=$E}else WE=!1;UI=WE&&(!document.documentMode||9<document.documentMode)}function WI(){Sm&&(Sm.detachEvent("onpropertychange",$I),Em=Sm=null)}function $I(u){if(u.propertyName==="value"&&H0(Em)){var h=[];zI(h,Em,u,LE(u)),PI(cX,h)}}function uX(u,h,g){u==="focusin"?(WI(),Sm=h,Em=g,Sm.attachEvent("onpropertychange",$I)):u==="focusout"&&WI()}function dX(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return H0(Em)}function hX(u,h){if(u==="click")return H0(h)}function fX(u,h){if(u==="input"||u==="change")return H0(h)}function pX(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var Ar=typeof Object.is=="function"?Object.is:pX;function Mm(u,h){if(Ar(u,h))return!0;if(typeof u!="object"||u===null||typeof h!="object"||h===null)return!1;var g=Object.keys(u),b=Object.keys(h);if(g.length!==b.length)return!1;for(b=0;b<g.length;b++){var T=g[b];if(!at.call(h,T)||!Ar(u[T],h[T]))return!1}return!0}function qI(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function KI(u,h){var g=qI(u);u=0;for(var b;g;){if(g.nodeType===3){if(b=u+g.textContent.length,u<=h&&b>=h)return{node:g,offset:h-u};u=b}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=qI(g)}}function YI(u,h){return u&&h?u===h?!0:u&&u.nodeType===3?!1:h&&h.nodeType===3?YI(u,h.parentNode):"contains"in u?u.contains(h):u.compareDocumentPosition?!!(u.compareDocumentPosition(h)&16):!1:!1}function XI(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var h=No(u.document);h instanceof u.HTMLIFrameElement;){try{var g=typeof h.contentWindow.location.href=="string"}catch{g=!1}if(g)u=h.contentWindow;else break;h=No(u.document)}return h}function qE(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h&&(h==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||h==="textarea"||u.contentEditable==="true")}function mX(u,h){var g=XI(h);h=u.focusedElem;var b=u.selectionRange;if(g!==h&&h&&h.ownerDocument&&YI(h.ownerDocument.documentElement,h)){if(b!==null&&qE(h)){if(u=b.start,g=b.end,g===void 0&&(g=u),"selectionStart"in h)h.selectionStart=u,h.selectionEnd=Math.min(g,h.value.length);else if(g=(u=h.ownerDocument||document)&&u.defaultView||window,g.getSelection){g=g.getSelection();var T=h.textContent.length,D=Math.min(b.start,T);b=b.end===void 0?D:Math.min(b.end,T),!g.extend&&D>b&&(T=b,b=D,D=T),T=KI(h,D);var L=KI(h,b);T&&L&&(g.rangeCount!==1||g.anchorNode!==T.node||g.anchorOffset!==T.offset||g.focusNode!==L.node||g.focusOffset!==L.offset)&&(u=u.createRange(),u.setStart(T.node,T.offset),g.removeAllRanges(),D>b?(g.addRange(u),g.extend(L.node,L.offset)):(u.setEnd(L.node,L.offset),g.addRange(u)))}}for(u=[],g=h;g=g.parentNode;)g.nodeType===1&&u.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<u.length;h++)g=u[h],g.element.scrollLeft=g.left,g.element.scrollTop=g.top}}var gX=ot&&"documentMode"in document&&11>=document.documentMode,Vh=null,KE=null,Tm=null,YE=!1;function ZI(u,h,g){var b=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;YE||Vh==null||Vh!==No(b)||(b=Vh,"selectionStart"in b&&qE(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),Tm&&Mm(Tm,b)||(Tm=b,b=wx(KE,"onSelect"),0<b.length&&(h=new k0("onSelect","select",null,h,g),u.push({event:h,listeners:b}),h.target=Vh)))}function Au(u,h){var g={};return g[u.toLowerCase()]=h.toLowerCase(),g["Webkit"+u]="webkit"+h,g["Moz"+u]="moz"+h,g}var zh={animationend:Au("Animation","AnimationEnd"),animationiteration:Au("Animation","AnimationIteration"),animationstart:Au("Animation","AnimationStart"),transitionrun:Au("Transition","TransitionRun"),transitionstart:Au("Transition","TransitionStart"),transitioncancel:Au("Transition","TransitionCancel"),transitionend:Au("Transition","TransitionEnd")},XE={},JI={};ot&&(JI=document.createElement("div").style,"AnimationEvent"in window||(delete zh.animationend.animation,delete zh.animationiteration.animation,delete zh.animationstart.animation),"TransitionEvent"in window||delete zh.transitionend.transition);function Pu(u){if(XE[u])return XE[u];if(!zh[u])return u;var h=zh[u],g;for(g in h)if(h.hasOwnProperty(g)&&g in JI)return XE[u]=h[g];return u}var QI=Pu("animationend"),eO=Pu("animationiteration"),tO=Pu("animationstart"),vX=Pu("transitionrun"),yX=Pu("transitionstart"),xX=Pu("transitioncancel"),nO=Pu("transitionend"),iO=new Map,sO="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Io(u,h){iO.set(u,h),Je(h,[u])}var Qr=[],Gh=0,ZE=0;function V0(){for(var u=Gh,h=ZE=Gh=0;h<u;){var g=Qr[h];Qr[h++]=null;var b=Qr[h];Qr[h++]=null;var T=Qr[h];Qr[h++]=null;var D=Qr[h];if(Qr[h++]=null,b!==null&&T!==null){var L=b.pending;L===null?T.next=T:(T.next=L.next,L.next=T),b.pending=T}D!==0&&rO(g,T,D)}}function z0(u,h,g,b){Qr[Gh++]=u,Qr[Gh++]=h,Qr[Gh++]=g,Qr[Gh++]=b,ZE|=b,u.lanes|=b,u=u.alternate,u!==null&&(u.lanes|=b)}function JE(u,h,g,b){return z0(u,h,g,b),G0(u)}function nc(u,h){return z0(u,null,null,h),G0(u)}function rO(u,h,g){u.lanes|=g;var b=u.alternate;b!==null&&(b.lanes|=g);for(var T=!1,D=u.return;D!==null;)D.childLanes|=g,b=D.alternate,b!==null&&(b.childLanes|=g),D.tag===22&&(u=D.stateNode,u===null||u._visibility&1||(T=!0)),u=D,D=D.return;T&&h!==null&&u.tag===3&&(D=u.stateNode,T=31-tt(g),D=D.hiddenUpdates,u=D[T],u===null?D[T]=[h]:u.push(h),h.lane=g|536870912)}function G0(u){if(50<Zm)throw Zm=0,sT=null,Error(i(185));for(var h=u.return;h!==null;)u=h,h=u.return;return u.tag===3?u.stateNode:null}var Uh={},oO=new WeakMap;function eo(u,h){if(typeof u=="object"&&u!==null){var g=oO.get(u);return g!==void 0?g:(h={value:u,source:h,stack:Q(h)},oO.set(u,h),h)}return{value:u,source:h,stack:Q(h)}}var jh=[],Wh=0,U0=null,j0=0,to=[],no=0,Du=null,Ja=1,Qa="";function _u(u,h){jh[Wh++]=j0,jh[Wh++]=U0,U0=u,j0=h}function aO(u,h,g){to[no++]=Ja,to[no++]=Qa,to[no++]=Du,Du=u;var b=Ja;u=Qa;var T=32-tt(b)-1;b&=~(1<<T),g+=1;var D=32-tt(h)+T;if(30<D){var L=T-T%5;D=(b&(1<<L)-1).toString(32),b>>=L,T-=L,Ja=1<<32-tt(h)+T|g<<T|b,Qa=D+u}else Ja=1<<D|g<<T|b,Qa=u}function QE(u){u.return!==null&&(_u(u,1),aO(u,1,0))}function eM(u){for(;u===U0;)U0=jh[--Wh],jh[Wh]=null,j0=jh[--Wh],jh[Wh]=null;for(;u===Du;)Du=to[--no],to[no]=null,Qa=to[--no],to[no]=null,Ja=to[--no],to[no]=null}var Bs=null,es=null,un=!1,Oo=null,ua=!1,tM=Error(i(519));function Fu(u){var h=Error(i(418,""));throw Pm(eo(h,u)),tM}function lO(u){var h=u.stateNode,g=u.type,b=u.memoizedProps;switch(h[Pi]=u,h[Di]=b,g){case"dialog":Qt("cancel",h),Qt("close",h);break;case"iframe":case"object":case"embed":Qt("load",h);break;case"video":case"audio":for(g=0;g<Qm.length;g++)Qt(Qm[g],h);break;case"source":Qt("error",h);break;case"img":case"image":case"link":Qt("error",h),Qt("load",h);break;case"details":Qt("toggle",h);break;case"input":Qt("invalid",h),ks(h,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0),Jt(h);break;case"select":Qt("invalid",h);break;case"textarea":Qt("invalid",h),Lh(h,b.value,b.defaultValue,b.children),Jt(h)}g=b.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||h.textContent===""+g||b.suppressHydrationWarning===!0||vk(h.textContent,g)?(b.popover!=null&&(Qt("beforetoggle",h),Qt("toggle",h)),b.onScroll!=null&&Qt("scroll",h),b.onScrollEnd!=null&&Qt("scrollend",h),b.onClick!=null&&(h.onclick=bx),h=!0):h=!1,h||Fu(u)}function cO(u){for(Bs=u.return;Bs;)switch(Bs.tag){case 3:case 27:ua=!0;return;case 5:case 13:ua=!1;return;default:Bs=Bs.return}}function Rm(u){if(u!==Bs)return!1;if(!un)return cO(u),un=!0,!1;var h=!1,g;if((g=u.tag!==3&&u.tag!==27)&&((g=u.tag===5)&&(g=u.type,g=!(g!=="form"&&g!=="button")||wT(u.type,u.memoizedProps)),g=!g),g&&(h=!0),h&&es&&Fu(u),cO(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));e:{for(u=u.nextSibling,h=0;u;){if(u.nodeType===8)if(g=u.data,g==="/$"){if(h===0){es=ko(u.nextSibling);break e}h--}else g!=="$"&&g!=="$!"&&g!=="$?"||h++;u=u.nextSibling}es=null}}else es=Bs?ko(u.stateNode.nextSibling):null;return!0}function Am(){es=Bs=null,un=!1}function Pm(u){Oo===null?Oo=[u]:Oo.push(u)}var Dm=Error(i(460)),uO=Error(i(474)),nM={then:function(){}};function dO(u){return u=u.status,u==="fulfilled"||u==="rejected"}function W0(){}function hO(u,h,g){switch(g=u[g],g===void 0?u.push(h):g!==h&&(h.then(W0,W0),h=g),h.status){case"fulfilled":return h.value;case"rejected":throw u=h.reason,u===Dm?Error(i(483)):u;default:if(typeof h.status=="string")h.then(W0,W0);else{if(u=Ln,u!==null&&100<u.shellSuspendCounter)throw Error(i(482));u=h,u.status="pending",u.then(function(b){if(h.status==="pending"){var T=h;T.status="fulfilled",T.value=b}},function(b){if(h.status==="pending"){var T=h;T.status="rejected",T.reason=b}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw u=h.reason,u===Dm?Error(i(483)):u}throw _m=h,Dm}}var _m=null;function fO(){if(_m===null)throw Error(i(459));var u=_m;return _m=null,u}var $h=null,Fm=0;function $0(u){var h=Fm;return Fm+=1,$h===null&&($h=[]),hO($h,u,h)}function Nm(u,h){h=h.props.ref,u.ref=h!==void 0?h:null}function q0(u,h){throw h.$$typeof===r?Error(i(525)):(u=Object.prototype.toString.call(h),Error(i(31,u==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":u)))}function pO(u){var h=u._init;return h(u._payload)}function mO(u){function h(ue,ie){if(u){var me=ue.deletions;me===null?(ue.deletions=[ie],ue.flags|=16):me.push(ie)}}function g(ue,ie){if(!u)return null;for(;ie!==null;)h(ue,ie),ie=ie.sibling;return null}function b(ue){for(var ie=new Map;ue!==null;)ue.key!==null?ie.set(ue.key,ue):ie.set(ue.index,ue),ue=ue.sibling;return ie}function T(ue,ie){return ue=pc(ue,ie),ue.index=0,ue.sibling=null,ue}function D(ue,ie,me){return ue.index=me,u?(me=ue.alternate,me!==null?(me=me.index,me<ie?(ue.flags|=33554434,ie):me):(ue.flags|=33554434,ie)):(ue.flags|=1048576,ie)}function L(ue){return u&&ue.alternate===null&&(ue.flags|=33554434),ue}function G(ue,ie,me,Be){return ie===null||ie.tag!==6?(ie=XM(me,ue.mode,Be),ie.return=ue,ie):(ie=T(ie,me),ie.return=ue,ie)}function J(ue,ie,me,Be){var ht=me.type;return ht===l?_e(ue,ie,me.props.children,Be,me.key):ie!==null&&(ie.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===M&&pO(ht)===ie.type)?(ie=T(ie,me.props),Nm(ie,me),ie.return=ue,ie):(ie=dx(me.type,me.key,me.props,null,ue.mode,Be),Nm(ie,me),ie.return=ue,ie)}function re(ue,ie,me,Be){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==me.containerInfo||ie.stateNode.implementation!==me.implementation?(ie=ZM(me,ue.mode,Be),ie.return=ue,ie):(ie=T(ie,me.children||[]),ie.return=ue,ie)}function _e(ue,ie,me,Be,ht){return ie===null||ie.tag!==7?(ie=Gu(me,ue.mode,Be,ht),ie.return=ue,ie):(ie=T(ie,me),ie.return=ue,ie)}function Ue(ue,ie,me){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return ie=XM(""+ie,ue.mode,me),ie.return=ue,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case o:return me=dx(ie.type,ie.key,ie.props,null,ue.mode,me),Nm(me,ie),me.return=ue,me;case a:return ie=ZM(ie,ue.mode,me),ie.return=ue,ie;case M:var Be=ie._init;return ie=Be(ie._payload),Ue(ue,ie,me)}if(Se(ie)||F(ie))return ie=Gu(ie,ue.mode,me,null),ie.return=ue,ie;if(typeof ie.then=="function")return Ue(ue,$0(ie),me);if(ie.$$typeof===m)return Ue(ue,lx(ue,ie),me);q0(ue,ie)}return null}function be(ue,ie,me,Be){var ht=ie!==null?ie.key:null;if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return ht!==null?null:G(ue,ie,""+me,Be);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case o:return me.key===ht?J(ue,ie,me,Be):null;case a:return me.key===ht?re(ue,ie,me,Be):null;case M:return ht=me._init,me=ht(me._payload),be(ue,ie,me,Be)}if(Se(me)||F(me))return ht!==null?null:_e(ue,ie,me,Be,null);if(typeof me.then=="function")return be(ue,ie,$0(me),Be);if(me.$$typeof===m)return be(ue,ie,lx(ue,me),Be);q0(ue,me)}return null}function Pe(ue,ie,me,Be,ht){if(typeof Be=="string"&&Be!==""||typeof Be=="number"||typeof Be=="bigint")return ue=ue.get(me)||null,G(ie,ue,""+Be,ht);if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case o:return ue=ue.get(Be.key===null?me:Be.key)||null,J(ie,ue,Be,ht);case a:return ue=ue.get(Be.key===null?me:Be.key)||null,re(ie,ue,Be,ht);case M:var $t=Be._init;return Be=$t(Be._payload),Pe(ue,ie,me,Be,ht)}if(Se(Be)||F(Be))return ue=ue.get(me)||null,_e(ie,ue,Be,ht,null);if(typeof Be.then=="function")return Pe(ue,ie,me,$0(Be),ht);if(Be.$$typeof===m)return Pe(ue,ie,me,lx(ie,Be),ht);q0(ie,Be)}return null}function gt(ue,ie,me,Be){for(var ht=null,$t=null,yt=ie,St=ie=0,ji=null;yt!==null&&St<me.length;St++){yt.index>St?(ji=yt,yt=null):ji=yt.sibling;var dn=be(ue,yt,me[St],Be);if(dn===null){yt===null&&(yt=ji);break}u&&yt&&dn.alternate===null&&h(ue,yt),ie=D(dn,ie,St),$t===null?ht=dn:$t.sibling=dn,$t=dn,yt=ji}if(St===me.length)return g(ue,yt),un&&_u(ue,St),ht;if(yt===null){for(;St<me.length;St++)yt=Ue(ue,me[St],Be),yt!==null&&(ie=D(yt,ie,St),$t===null?ht=yt:$t.sibling=yt,$t=yt);return un&&_u(ue,St),ht}for(yt=b(yt);St<me.length;St++)ji=Pe(yt,ue,St,me[St],Be),ji!==null&&(u&&ji.alternate!==null&&yt.delete(ji.key===null?St:ji.key),ie=D(ji,ie,St),$t===null?ht=ji:$t.sibling=ji,$t=ji);return u&&yt.forEach(function(wc){return h(ue,wc)}),un&&_u(ue,St),ht}function Nt(ue,ie,me,Be){if(me==null)throw Error(i(151));for(var ht=null,$t=null,yt=ie,St=ie=0,ji=null,dn=me.next();yt!==null&&!dn.done;St++,dn=me.next()){yt.index>St?(ji=yt,yt=null):ji=yt.sibling;var wc=be(ue,yt,dn.value,Be);if(wc===null){yt===null&&(yt=ji);break}u&&yt&&wc.alternate===null&&h(ue,yt),ie=D(wc,ie,St),$t===null?ht=wc:$t.sibling=wc,$t=wc,yt=ji}if(dn.done)return g(ue,yt),un&&_u(ue,St),ht;if(yt===null){for(;!dn.done;St++,dn=me.next())dn=Ue(ue,dn.value,Be),dn!==null&&(ie=D(dn,ie,St),$t===null?ht=dn:$t.sibling=dn,$t=dn);return un&&_u(ue,St),ht}for(yt=b(yt);!dn.done;St++,dn=me.next())dn=Pe(yt,ue,St,dn.value,Be),dn!==null&&(u&&dn.alternate!==null&&yt.delete(dn.key===null?St:dn.key),ie=D(dn,ie,St),$t===null?ht=dn:$t.sibling=dn,$t=dn);return u&&yt.forEach(function(NZ){return h(ue,NZ)}),un&&_u(ue,St),ht}function ii(ue,ie,me,Be){if(typeof me=="object"&&me!==null&&me.type===l&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case o:e:{for(var ht=me.key;ie!==null;){if(ie.key===ht){if(ht=me.type,ht===l){if(ie.tag===7){g(ue,ie.sibling),Be=T(ie,me.props.children),Be.return=ue,ue=Be;break e}}else if(ie.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===M&&pO(ht)===ie.type){g(ue,ie.sibling),Be=T(ie,me.props),Nm(Be,me),Be.return=ue,ue=Be;break e}g(ue,ie);break}else h(ue,ie);ie=ie.sibling}me.type===l?(Be=Gu(me.props.children,ue.mode,Be,me.key),Be.return=ue,ue=Be):(Be=dx(me.type,me.key,me.props,null,ue.mode,Be),Nm(Be,me),Be.return=ue,ue=Be)}return L(ue);case a:e:{for(ht=me.key;ie!==null;){if(ie.key===ht)if(ie.tag===4&&ie.stateNode.containerInfo===me.containerInfo&&ie.stateNode.implementation===me.implementation){g(ue,ie.sibling),Be=T(ie,me.children||[]),Be.return=ue,ue=Be;break e}else{g(ue,ie);break}else h(ue,ie);ie=ie.sibling}Be=ZM(me,ue.mode,Be),Be.return=ue,ue=Be}return L(ue);case M:return ht=me._init,me=ht(me._payload),ii(ue,ie,me,Be)}if(Se(me))return gt(ue,ie,me,Be);if(F(me)){if(ht=F(me),typeof ht!="function")throw Error(i(150));return me=ht.call(me),Nt(ue,ie,me,Be)}if(typeof me.then=="function")return ii(ue,ie,$0(me),Be);if(me.$$typeof===m)return ii(ue,ie,lx(ue,me),Be);q0(ue,me)}return typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint"?(me=""+me,ie!==null&&ie.tag===6?(g(ue,ie.sibling),Be=T(ie,me),Be.return=ue,ue=Be):(g(ue,ie),Be=XM(me,ue.mode,Be),Be.return=ue,ue=Be),L(ue)):g(ue,ie)}return function(ue,ie,me,Be){try{Fm=0;var ht=ii(ue,ie,me,Be);return $h=null,ht}catch(yt){if(yt===Dm)throw yt;var $t=oo(29,yt,null,ue.mode);return $t.lanes=Be,$t.return=ue,$t}finally{}}}var Nu=mO(!0),gO=mO(!1),qh=Oe(null),K0=Oe(0);function vO(u,h){u=ul,we(K0,u),we(qh,h),ul=u|h.baseLanes}function iM(){we(K0,ul),we(qh,qh.current)}function sM(){ul=K0.current,Le(qh),Le(K0)}var io=Oe(null),da=null;function ic(u){var h=u.alternate;we(Fi,Fi.current&1),we(io,u),da===null&&(h===null||qh.current!==null||h.memoizedState!==null)&&(da=u)}function yO(u){if(u.tag===22){if(we(Fi,Fi.current),we(io,u),da===null){var h=u.alternate;h!==null&&h.memoizedState!==null&&(da=u)}}else sc()}function sc(){we(Fi,Fi.current),we(io,io.current)}function el(u){Le(io),da===u&&(da=null),Le(Fi)}var Fi=Oe(0);function Y0(u){for(var h=u;h!==null;){if(h.tag===13){var g=h.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var CX=typeof AbortController<"u"?AbortController:function(){var u=[],h=this.signal={aborted:!1,addEventListener:function(g,b){u.push(b)}};this.abort=function(){h.aborted=!0,u.forEach(function(g){return g()})}},wX=t.unstable_scheduleCallback,bX=t.unstable_NormalPriority,Ni={$$typeof:m,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rM(){return{controller:new CX,data:new Map,refCount:0}}function Im(u){u.refCount--,u.refCount===0&&wX(bX,function(){u.controller.abort()})}var Om=null,oM=0,Kh=0,Yh=null;function SX(u,h){if(Om===null){var g=Om=[];oM=0,Kh=hT(),Yh={status:"pending",value:void 0,then:function(b){g.push(b)}}}return oM++,h.then(xO,xO),h}function xO(){if(--oM===0&&Om!==null){Yh!==null&&(Yh.status="fulfilled");var u=Om;Om=null,Kh=0,Yh=null;for(var h=0;h<u.length;h++)(0,u[h])()}}function EX(u,h){var g=[],b={status:"pending",value:null,reason:null,then:function(T){g.push(T)}};return u.then(function(){b.status="fulfilled",b.value=h;for(var T=0;T<g.length;T++)(0,g[T])(h)},function(T){for(b.status="rejected",b.reason=T,T=0;T<g.length;T++)(0,g[T])(void 0)}),b}var CO=_.S;_.S=function(u,h){typeof h=="object"&&h!==null&&typeof h.then=="function"&&SX(u,h),CO!==null&&CO(u,h)};var Iu=Oe(null);function aM(){var u=Iu.current;return u!==null?u:Ln.pooledCache}function X0(u,h){h===null?we(Iu,Iu.current):we(Iu,h.pool)}function wO(){var u=aM();return u===null?null:{parent:Ni._currentValue,pool:u}}var rc=0,Ut=null,Sn=null,Ci=null,Z0=!1,Xh=!1,Ou=!1,J0=0,Lm=0,Zh=null,MX=0;function mi(){throw Error(i(321))}function lM(u,h){if(h===null)return!1;for(var g=0;g<h.length&&g<u.length;g++)if(!Ar(u[g],h[g]))return!1;return!0}function cM(u,h,g,b,T,D){return rc=D,Ut=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,_.H=u===null||u.memoizedState===null?Lu:oc,Ou=!1,D=g(b,T),Ou=!1,Xh&&(D=SO(h,g,b,T)),bO(u),D}function bO(u){_.H=ha;var h=Sn!==null&&Sn.next!==null;if(rc=0,Ci=Sn=Ut=null,Z0=!1,Lm=0,Zh=null,h)throw Error(i(300));u===null||Gi||(u=u.dependencies,u!==null&&ax(u)&&(Gi=!0))}function SO(u,h,g,b){Ut=u;var T=0;do{if(Xh&&(Zh=null),Lm=0,Xh=!1,25<=T)throw Error(i(301));if(T+=1,Ci=Sn=null,u.updateQueue!=null){var D=u.updateQueue;D.lastEffect=null,D.events=null,D.stores=null,D.memoCache!=null&&(D.memoCache.index=0)}_.H=ku,D=h(g,b)}while(Xh);return D}function TX(){var u=_.H,h=u.useState()[0];return h=typeof h.then=="function"?km(h):h,u=u.useState()[0],(Sn!==null?Sn.memoizedState:null)!==u&&(Ut.flags|=1024),h}function uM(){var u=J0!==0;return J0=0,u}function dM(u,h,g){h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~g}function hM(u){if(Z0){for(u=u.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}Z0=!1}rc=0,Ci=Sn=Ut=null,Xh=!1,Lm=J0=0,Zh=null}function dr(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ci===null?Ut.memoizedState=Ci=u:Ci=Ci.next=u,Ci}function wi(){if(Sn===null){var u=Ut.alternate;u=u!==null?u.memoizedState:null}else u=Sn.next;var h=Ci===null?Ut.memoizedState:Ci.next;if(h!==null)Ci=h,Sn=u;else{if(u===null)throw Ut.alternate===null?Error(i(467)):Error(i(310));Sn=u,u={memoizedState:Sn.memoizedState,baseState:Sn.baseState,baseQueue:Sn.baseQueue,queue:Sn.queue,next:null},Ci===null?Ut.memoizedState=Ci=u:Ci=Ci.next=u}return Ci}var Q0;Q0=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function km(u){var h=Lm;return Lm+=1,Zh===null&&(Zh=[]),u=hO(Zh,u,h),h=Ut,(Ci===null?h.memoizedState:Ci.next)===null&&(h=h.alternate,_.H=h===null||h.memoizedState===null?Lu:oc),u}function ex(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return km(u);if(u.$$typeof===m)return gs(u)}throw Error(i(438,String(u)))}function fM(u){var h=null,g=Ut.updateQueue;if(g!==null&&(h=g.memoCache),h==null){var b=Ut.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(h={data:b.data.map(function(T){return T.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),g===null&&(g=Q0(),Ut.updateQueue=g),g.memoCache=h,g=h.data[h.index],g===void 0)for(g=h.data[h.index]=Array(u),b=0;b<u;b++)g[b]=R;return h.index++,g}function tl(u,h){return typeof h=="function"?h(u):h}function tx(u){var h=wi();return pM(h,Sn,u)}function pM(u,h,g){var b=u.queue;if(b===null)throw Error(i(311));b.lastRenderedReducer=g;var T=u.baseQueue,D=b.pending;if(D!==null){if(T!==null){var L=T.next;T.next=D.next,D.next=L}h.baseQueue=T=D,b.pending=null}if(D=u.baseState,T===null)u.memoizedState=D;else{h=T.next;var G=L=null,J=null,re=h,_e=!1;do{var Ue=re.lane&-536870913;if(Ue!==re.lane?(en&Ue)===Ue:(rc&Ue)===Ue){var be=re.revertLane;if(be===0)J!==null&&(J=J.next={lane:0,revertLane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),Ue===Kh&&(_e=!0);else if((rc&be)===be){re=re.next,be===Kh&&(_e=!0);continue}else Ue={lane:0,revertLane:re.revertLane,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},J===null?(G=J=Ue,L=D):J=J.next=Ue,Ut.lanes|=be,mc|=be;Ue=re.action,Ou&&g(D,Ue),D=re.hasEagerState?re.eagerState:g(D,Ue)}else be={lane:Ue,revertLane:re.revertLane,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},J===null?(G=J=be,L=D):J=J.next=be,Ut.lanes|=Ue,mc|=Ue;re=re.next}while(re!==null&&re!==h);if(J===null?L=D:J.next=G,!Ar(D,u.memoizedState)&&(Gi=!0,_e&&(g=Yh,g!==null)))throw g;u.memoizedState=D,u.baseState=L,u.baseQueue=J,b.lastRenderedState=D}return T===null&&(b.lanes=0),[u.memoizedState,b.dispatch]}function mM(u){var h=wi(),g=h.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=u;var b=g.dispatch,T=g.pending,D=h.memoizedState;if(T!==null){g.pending=null;var L=T=T.next;do D=u(D,L.action),L=L.next;while(L!==T);Ar(D,h.memoizedState)||(Gi=!0),h.memoizedState=D,h.baseQueue===null&&(h.baseState=D),g.lastRenderedState=D}return[D,b]}function EO(u,h,g){var b=Ut,T=wi(),D=un;if(D){if(g===void 0)throw Error(i(407));g=g()}else g=h();var L=!Ar((Sn||T).memoizedState,g);if(L&&(T.memoizedState=g,Gi=!0),T=T.queue,yM(RO.bind(null,b,T,u),[u]),T.getSnapshot!==h||L||Ci!==null&&Ci.memoizedState.tag&1){if(b.flags|=2048,Jh(9,TO.bind(null,b,T,g,h),{destroy:void 0},null),Ln===null)throw Error(i(349));D||(rc&60)!==0||MO(b,h,g)}return g}function MO(u,h,g){u.flags|=16384,u={getSnapshot:h,value:g},h=Ut.updateQueue,h===null?(h=Q0(),Ut.updateQueue=h,h.stores=[u]):(g=h.stores,g===null?h.stores=[u]:g.push(u))}function TO(u,h,g,b){h.value=g,h.getSnapshot=b,AO(h)&&PO(u)}function RO(u,h,g){return g(function(){AO(h)&&PO(u)})}function AO(u){var h=u.getSnapshot;u=u.value;try{var g=h();return!Ar(u,g)}catch{return!0}}function PO(u){var h=nc(u,2);h!==null&&Hs(h,u,2)}function gM(u){var h=dr();if(typeof u=="function"){var g=u;if(u=g(),Ou){rt(!0);try{g()}finally{rt(!1)}}}return h.memoizedState=h.baseState=u,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:u},h}function DO(u,h,g,b){return u.baseState=g,pM(u,Sn,typeof b=="function"?b:tl)}function RX(u,h,g,b,T){if(sx(u))throw Error(i(485));if(u=h.action,u!==null){var D={payload:T,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){D.listeners.push(L)}};_.T!==null?g(!0):D.isTransition=!1,b(D),g=h.pending,g===null?(D.next=h.pending=D,_O(h,D)):(D.next=g.next,h.pending=g.next=D)}}function _O(u,h){var g=h.action,b=h.payload,T=u.state;if(h.isTransition){var D=_.T,L={};_.T=L;try{var G=g(T,b),J=_.S;J!==null&&J(L,G),FO(u,h,G)}catch(re){vM(u,h,re)}finally{_.T=D}}else try{D=g(T,b),FO(u,h,D)}catch(re){vM(u,h,re)}}function FO(u,h,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(b){NO(u,h,b)},function(b){return vM(u,h,b)}):NO(u,h,g)}function NO(u,h,g){h.status="fulfilled",h.value=g,IO(h),u.state=g,h=u.pending,h!==null&&(g=h.next,g===h?u.pending=null:(g=g.next,h.next=g,_O(u,g)))}function vM(u,h,g){var b=u.pending;if(u.pending=null,b!==null){b=b.next;do h.status="rejected",h.reason=g,IO(h),h=h.next;while(h!==b)}u.action=null}function IO(u){u=u.listeners;for(var h=0;h<u.length;h++)(0,u[h])()}function OO(u,h){return h}function LO(u,h){if(un){var g=Ln.formState;if(g!==null){e:{var b=Ut;if(un){if(es){t:{for(var T=es,D=ua;T.nodeType!==8;){if(!D){T=null;break t}if(T=ko(T.nextSibling),T===null){T=null;break t}}D=T.data,T=D==="F!"||D==="F"?T:null}if(T){es=ko(T.nextSibling),b=T.data==="F!";break e}}Fu(b)}b=!1}b&&(h=g[0])}}return g=dr(),g.memoizedState=g.baseState=h,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:OO,lastRenderedState:h},g.queue=b,g=eL.bind(null,Ut,b),b.dispatch=g,b=gM(!1),D=SM.bind(null,Ut,!1,b.queue),b=dr(),T={state:h,dispatch:null,action:u,pending:null},b.queue=T,g=RX.bind(null,Ut,T,D,g),T.dispatch=g,b.memoizedState=u,[h,g,!1]}function kO(u){var h=wi();return BO(h,Sn,u)}function BO(u,h,g){h=pM(u,h,OO)[0],u=tx(tl)[0],h=typeof h=="object"&&h!==null&&typeof h.then=="function"?km(h):h;var b=wi(),T=b.queue,D=T.dispatch;return g!==b.memoizedState&&(Ut.flags|=2048,Jh(9,AX.bind(null,T,g),{destroy:void 0},null)),[h,D,u]}function AX(u,h){u.action=h}function HO(u){var h=wi(),g=Sn;if(g!==null)return BO(h,g,u);wi(),h=h.memoizedState,g=wi();var b=g.queue.dispatch;return g.memoizedState=u,[h,b,!1]}function Jh(u,h,g,b){return u={tag:u,create:h,inst:g,deps:b,next:null},h=Ut.updateQueue,h===null&&(h=Q0(),Ut.updateQueue=h),g=h.lastEffect,g===null?h.lastEffect=u.next=u:(b=g.next,g.next=u,u.next=b,h.lastEffect=u),u}function VO(){return wi().memoizedState}function nx(u,h,g,b){var T=dr();Ut.flags|=u,T.memoizedState=Jh(1|h,g,{destroy:void 0},b===void 0?null:b)}function ix(u,h,g,b){var T=wi();b=b===void 0?null:b;var D=T.memoizedState.inst;Sn!==null&&b!==null&&lM(b,Sn.memoizedState.deps)?T.memoizedState=Jh(h,g,D,b):(Ut.flags|=u,T.memoizedState=Jh(1|h,g,D,b))}function zO(u,h){nx(8390656,8,u,h)}function yM(u,h){ix(2048,8,u,h)}function GO(u,h){return ix(4,2,u,h)}function UO(u,h){return ix(4,4,u,h)}function jO(u,h){if(typeof h=="function"){u=u();var g=h(u);return function(){typeof g=="function"?g():h(null)}}if(h!=null)return u=u(),h.current=u,function(){h.current=null}}function WO(u,h,g){g=g!=null?g.concat([u]):null,ix(4,4,jO.bind(null,h,u),g)}function xM(){}function $O(u,h){var g=wi();h=h===void 0?null:h;var b=g.memoizedState;return h!==null&&lM(h,b[1])?b[0]:(g.memoizedState=[u,h],u)}function qO(u,h){var g=wi();h=h===void 0?null:h;var b=g.memoizedState;if(h!==null&&lM(h,b[1]))return b[0];if(b=u(),Ou){rt(!0);try{u()}finally{rt(!1)}}return g.memoizedState=[b,h],b}function CM(u,h,g){return g===void 0||(rc&1073741824)!==0?u.memoizedState=h:(u.memoizedState=g,u=YL(),Ut.lanes|=u,mc|=u,g)}function KO(u,h,g,b){return Ar(g,h)?g:qh.current!==null?(u=CM(u,g,b),Ar(u,h)||(Gi=!0),u):(rc&42)===0?(Gi=!0,u.memoizedState=g):(u=YL(),Ut.lanes|=u,mc|=u,h)}function YO(u,h,g,b,T){var D=Z.p;Z.p=D!==0&&8>D?D:8;var L=_.T,G={};_.T=G,SM(u,!1,h,g);try{var J=T(),re=_.S;if(re!==null&&re(G,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var _e=EX(J,b);Bm(u,h,_e,Fr(u))}else Bm(u,h,b,Fr(u))}catch(Ue){Bm(u,h,{then:function(){},status:"rejected",reason:Ue},Fr())}finally{Z.p=D,_.T=L}}function PX(){}function wM(u,h,g,b){if(u.tag!==5)throw Error(i(476));var T=XO(u).queue;YO(u,T,h,ae,g===null?PX:function(){return ZO(u),g(b)})}function XO(u){var h=u.memoizedState;if(h!==null)return h;h={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:ae},next:null};var g={};return h.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:g},next:null},u.memoizedState=h,u=u.alternate,u!==null&&(u.memoizedState=h),h}function ZO(u){var h=XO(u).next.queue;Bm(u,h,{},Fr())}function bM(){return gs(sg)}function JO(){return wi().memoizedState}function QO(){return wi().memoizedState}function DX(u){for(var h=u.return;h!==null;){switch(h.tag){case 24:case 3:var g=Fr();u=cc(g);var b=uc(h,u,g);b!==null&&(Hs(b,h,g),zm(b,h,g)),h={cache:rM()},u.payload=h;return}h=h.return}}function _X(u,h,g){var b=Fr();g={lane:b,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null},sx(u)?tL(h,g):(g=JE(u,h,g,b),g!==null&&(Hs(g,u,b),nL(g,h,b)))}function eL(u,h,g){var b=Fr();Bm(u,h,g,b)}function Bm(u,h,g,b){var T={lane:b,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null};if(sx(u))tL(h,T);else{var D=u.alternate;if(u.lanes===0&&(D===null||D.lanes===0)&&(D=h.lastRenderedReducer,D!==null))try{var L=h.lastRenderedState,G=D(L,g);if(T.hasEagerState=!0,T.eagerState=G,Ar(G,L))return z0(u,h,T,0),Ln===null&&V0(),!1}catch{}finally{}if(g=JE(u,h,T,b),g!==null)return Hs(g,u,b),nL(g,h,b),!0}return!1}function SM(u,h,g,b){if(b={lane:2,revertLane:hT(),action:b,hasEagerState:!1,eagerState:null,next:null},sx(u)){if(h)throw Error(i(479))}else h=JE(u,g,b,2),h!==null&&Hs(h,u,2)}function sx(u){var h=u.alternate;return u===Ut||h!==null&&h===Ut}function tL(u,h){Xh=Z0=!0;var g=u.pending;g===null?h.next=h:(h.next=g.next,g.next=h),u.pending=h}function nL(u,h,g){if((g&4194176)!==0){var b=h.lanes;b&=u.pendingLanes,g|=b,h.lanes=g,ca(u,g)}}var ha={readContext:gs,use:ex,useCallback:mi,useContext:mi,useEffect:mi,useImperativeHandle:mi,useLayoutEffect:mi,useInsertionEffect:mi,useMemo:mi,useReducer:mi,useRef:mi,useState:mi,useDebugValue:mi,useDeferredValue:mi,useTransition:mi,useSyncExternalStore:mi,useId:mi};ha.useCacheRefresh=mi,ha.useMemoCache=mi,ha.useHostTransitionStatus=mi,ha.useFormState=mi,ha.useActionState=mi,ha.useOptimistic=mi;var Lu={readContext:gs,use:ex,useCallback:function(u,h){return dr().memoizedState=[u,h===void 0?null:h],u},useContext:gs,useEffect:zO,useImperativeHandle:function(u,h,g){g=g!=null?g.concat([u]):null,nx(4194308,4,jO.bind(null,h,u),g)},useLayoutEffect:function(u,h){return nx(4194308,4,u,h)},useInsertionEffect:function(u,h){nx(4,2,u,h)},useMemo:function(u,h){var g=dr();h=h===void 0?null:h;var b=u();if(Ou){rt(!0);try{u()}finally{rt(!1)}}return g.memoizedState=[b,h],b},useReducer:function(u,h,g){var b=dr();if(g!==void 0){var T=g(h);if(Ou){rt(!0);try{g(h)}finally{rt(!1)}}}else T=h;return b.memoizedState=b.baseState=T,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:T},b.queue=u,u=u.dispatch=_X.bind(null,Ut,u),[b.memoizedState,u]},useRef:function(u){var h=dr();return u={current:u},h.memoizedState=u},useState:function(u){u=gM(u);var h=u.queue,g=eL.bind(null,Ut,h);return h.dispatch=g,[u.memoizedState,g]},useDebugValue:xM,useDeferredValue:function(u,h){var g=dr();return CM(g,u,h)},useTransition:function(){var u=gM(!1);return u=YO.bind(null,Ut,u.queue,!0,!1),dr().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,h,g){var b=Ut,T=dr();if(un){if(g===void 0)throw Error(i(407));g=g()}else{if(g=h(),Ln===null)throw Error(i(349));(en&60)!==0||MO(b,h,g)}T.memoizedState=g;var D={value:g,getSnapshot:h};return T.queue=D,zO(RO.bind(null,b,D,u),[u]),b.flags|=2048,Jh(9,TO.bind(null,b,D,g,h),{destroy:void 0},null),g},useId:function(){var u=dr(),h=Ln.identifierPrefix;if(un){var g=Qa,b=Ja;g=(b&~(1<<32-tt(b)-1)).toString(32)+g,h=":"+h+"R"+g,g=J0++,0<g&&(h+="H"+g.toString(32)),h+=":"}else g=MX++,h=":"+h+"r"+g.toString(32)+":";return u.memoizedState=h},useCacheRefresh:function(){return dr().memoizedState=DX.bind(null,Ut)}};Lu.useMemoCache=fM,Lu.useHostTransitionStatus=bM,Lu.useFormState=LO,Lu.useActionState=LO,Lu.useOptimistic=function(u){var h=dr();h.memoizedState=h.baseState=u;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=g,h=SM.bind(null,Ut,!0,g),g.dispatch=h,[u,h]};var oc={readContext:gs,use:ex,useCallback:$O,useContext:gs,useEffect:yM,useImperativeHandle:WO,useInsertionEffect:GO,useLayoutEffect:UO,useMemo:qO,useReducer:tx,useRef:VO,useState:function(){return tx(tl)},useDebugValue:xM,useDeferredValue:function(u,h){var g=wi();return KO(g,Sn.memoizedState,u,h)},useTransition:function(){var u=tx(tl)[0],h=wi().memoizedState;return[typeof u=="boolean"?u:km(u),h]},useSyncExternalStore:EO,useId:JO};oc.useCacheRefresh=QO,oc.useMemoCache=fM,oc.useHostTransitionStatus=bM,oc.useFormState=kO,oc.useActionState=kO,oc.useOptimistic=function(u,h){var g=wi();return DO(g,Sn,u,h)};var ku={readContext:gs,use:ex,useCallback:$O,useContext:gs,useEffect:yM,useImperativeHandle:WO,useInsertionEffect:GO,useLayoutEffect:UO,useMemo:qO,useReducer:mM,useRef:VO,useState:function(){return mM(tl)},useDebugValue:xM,useDeferredValue:function(u,h){var g=wi();return Sn===null?CM(g,u,h):KO(g,Sn.memoizedState,u,h)},useTransition:function(){var u=mM(tl)[0],h=wi().memoizedState;return[typeof u=="boolean"?u:km(u),h]},useSyncExternalStore:EO,useId:JO};ku.useCacheRefresh=QO,ku.useMemoCache=fM,ku.useHostTransitionStatus=bM,ku.useFormState=HO,ku.useActionState=HO,ku.useOptimistic=function(u,h){var g=wi();return Sn!==null?DO(g,Sn,u,h):(g.baseState=u,[u,g.queue.dispatch])};function EM(u,h,g,b){h=u.memoizedState,g=g(b,h),g=g==null?h:A({},h,g),u.memoizedState=g,u.lanes===0&&(u.updateQueue.baseState=g)}var MM={isMounted:function(u){return(u=u._reactInternals)?q(u)===u:!1},enqueueSetState:function(u,h,g){u=u._reactInternals;var b=Fr(),T=cc(b);T.payload=h,g!=null&&(T.callback=g),h=uc(u,T,b),h!==null&&(Hs(h,u,b),zm(h,u,b))},enqueueReplaceState:function(u,h,g){u=u._reactInternals;var b=Fr(),T=cc(b);T.tag=1,T.payload=h,g!=null&&(T.callback=g),h=uc(u,T,b),h!==null&&(Hs(h,u,b),zm(h,u,b))},enqueueForceUpdate:function(u,h){u=u._reactInternals;var g=Fr(),b=cc(g);b.tag=2,h!=null&&(b.callback=h),h=uc(u,b,g),h!==null&&(Hs(h,u,g),zm(h,u,g))}};function iL(u,h,g,b,T,D,L){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(b,D,L):h.prototype&&h.prototype.isPureReactComponent?!Mm(g,b)||!Mm(T,D):!0}function sL(u,h,g,b){u=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(g,b),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(g,b),h.state!==u&&MM.enqueueReplaceState(h,h.state,null)}function Bu(u,h){var g=h;if("ref"in h){g={};for(var b in h)b!=="ref"&&(g[b]=h[b])}if(u=u.defaultProps){g===h&&(g=A({},g));for(var T in u)g[T]===void 0&&(g[T]=u[T])}return g}var rx=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)};function rL(u){rx(u)}function oL(u){console.error(u)}function aL(u){rx(u)}function ox(u,h){try{var g=u.onUncaughtError;g(h.value,{componentStack:h.stack})}catch(b){setTimeout(function(){throw b})}}function lL(u,h,g){try{var b=u.onCaughtError;b(g.value,{componentStack:g.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function TM(u,h,g){return g=cc(g),g.tag=3,g.payload={element:null},g.callback=function(){ox(u,h)},g}function cL(u){return u=cc(u),u.tag=3,u}function uL(u,h,g,b){var T=g.type.getDerivedStateFromError;if(typeof T=="function"){var D=b.value;u.payload=function(){return T(D)},u.callback=function(){lL(h,g,b)}}var L=g.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(u.callback=function(){lL(h,g,b),typeof T!="function"&&(gc===null?gc=new Set([this]):gc.add(this));var G=b.stack;this.componentDidCatch(b.value,{componentStack:G!==null?G:""})})}function FX(u,h,g,b,T){if(g.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(h=g.alternate,h!==null&&Vm(h,g,T,!0),g=io.current,g!==null){switch(g.tag){case 13:return da===null?aT():g.alternate===null&&ni===0&&(ni=3),g.flags&=-257,g.flags|=65536,g.lanes=T,b===nM?g.flags|=16384:(h=g.updateQueue,h===null?g.updateQueue=new Set([b]):h.add(b),cT(u,b,T)),!1;case 22:return g.flags|=65536,b===nM?g.flags|=16384:(h=g.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([b])},g.updateQueue=h):(g=h.retryQueue,g===null?h.retryQueue=new Set([b]):g.add(b)),cT(u,b,T)),!1}throw Error(i(435,g.tag))}return cT(u,b,T),aT(),!1}if(un)return h=io.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=T,b!==tM&&(u=Error(i(422),{cause:b}),Pm(eo(u,g)))):(b!==tM&&(h=Error(i(423),{cause:b}),Pm(eo(h,g))),u=u.current.alternate,u.flags|=65536,T&=-T,u.lanes|=T,b=eo(b,g),T=TM(u.stateNode,b,T),zM(u,T),ni!==4&&(ni=2)),!1;var D=Error(i(520),{cause:b});if(D=eo(D,g),Ym===null?Ym=[D]:Ym.push(D),ni!==4&&(ni=2),h===null)return!0;b=eo(b,g),g=h;do{switch(g.tag){case 3:return g.flags|=65536,u=T&-T,g.lanes|=u,u=TM(g.stateNode,b,u),zM(g,u),!1;case 1:if(h=g.type,D=g.stateNode,(g.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(gc===null||!gc.has(D))))return g.flags|=65536,T&=-T,g.lanes|=T,T=cL(T),uL(T,u,g,b),zM(g,T),!1}g=g.return}while(g!==null);return!1}var dL=Error(i(461)),Gi=!1;function ts(u,h,g,b){h.child=u===null?gO(h,null,g,b):Nu(h,u.child,g,b)}function hL(u,h,g,b,T){g=g.render;var D=h.ref;if("ref"in b){var L={};for(var G in b)G!=="ref"&&(L[G]=b[G])}else L=b;return Vu(h),b=cM(u,h,g,L,D,T),G=uM(),u!==null&&!Gi?(dM(u,h,T),nl(u,h,T)):(un&&G&&QE(h),h.flags|=1,ts(u,h,b,T),h.child)}function fL(u,h,g,b,T){if(u===null){var D=g.type;return typeof D=="function"&&!YM(D)&&D.defaultProps===void 0&&g.compare===null?(h.tag=15,h.type=D,pL(u,h,D,b,T)):(u=dx(g.type,null,b,h,h.mode,T),u.ref=h.ref,u.return=h,h.child=u)}if(D=u.child,!OM(u,T)){var L=D.memoizedProps;if(g=g.compare,g=g!==null?g:Mm,g(L,b)&&u.ref===h.ref)return nl(u,h,T)}return h.flags|=1,u=pc(D,b),u.ref=h.ref,u.return=h,h.child=u}function pL(u,h,g,b,T){if(u!==null){var D=u.memoizedProps;if(Mm(D,b)&&u.ref===h.ref)if(Gi=!1,h.pendingProps=b=D,OM(u,T))(u.flags&131072)!==0&&(Gi=!0);else return h.lanes=u.lanes,nl(u,h,T)}return RM(u,h,g,b,T)}function mL(u,h,g){var b=h.pendingProps,T=b.children,D=(h.stateNode._pendingVisibility&2)!==0,L=u!==null?u.memoizedState:null;if(Hm(u,h),b.mode==="hidden"||D){if((h.flags&128)!==0){if(b=L!==null?L.baseLanes|g:g,u!==null){for(T=h.child=u.child,D=0;T!==null;)D=D|T.lanes|T.childLanes,T=T.sibling;h.childLanes=D&~b}else h.childLanes=0,h.child=null;return gL(u,h,b,g)}if((g&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},u!==null&&X0(h,L!==null?L.cachePool:null),L!==null?vO(h,L):iM(),yO(h);else return h.lanes=h.childLanes=536870912,gL(u,h,L!==null?L.baseLanes|g:g,g)}else L!==null?(X0(h,L.cachePool),vO(h,L),sc(),h.memoizedState=null):(u!==null&&X0(h,null),iM(),sc());return ts(u,h,T,g),h.child}function gL(u,h,g,b){var T=aM();return T=T===null?null:{parent:Ni._currentValue,pool:T},h.memoizedState={baseLanes:g,cachePool:T},u!==null&&X0(h,null),iM(),yO(h),u!==null&&Vm(u,h,b,!0),null}function Hm(u,h){var g=h.ref;if(g===null)u!==null&&u.ref!==null&&(h.flags|=2097664);else{if(typeof g!="function"&&typeof g!="object")throw Error(i(284));(u===null||u.ref!==g)&&(h.flags|=2097664)}}function RM(u,h,g,b,T){return Vu(h),g=cM(u,h,g,b,void 0,T),b=uM(),u!==null&&!Gi?(dM(u,h,T),nl(u,h,T)):(un&&b&&QE(h),h.flags|=1,ts(u,h,g,T),h.child)}function vL(u,h,g,b,T,D){return Vu(h),h.updateQueue=null,g=SO(h,b,g,T),bO(u),b=uM(),u!==null&&!Gi?(dM(u,h,D),nl(u,h,D)):(un&&b&&QE(h),h.flags|=1,ts(u,h,g,D),h.child)}function yL(u,h,g,b,T){if(Vu(h),h.stateNode===null){var D=Uh,L=g.contextType;typeof L=="object"&&L!==null&&(D=gs(L)),D=new g(b,D),h.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,D.updater=MM,h.stateNode=D,D._reactInternals=h,D=h.stateNode,D.props=b,D.state=h.memoizedState,D.refs={},HM(h),L=g.contextType,D.context=typeof L=="object"&&L!==null?gs(L):Uh,D.state=h.memoizedState,L=g.getDerivedStateFromProps,typeof L=="function"&&(EM(h,g,L,b),D.state=h.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(L=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),L!==D.state&&MM.enqueueReplaceState(D,D.state,null),Um(h,b,D,T),Gm(),D.state=h.memoizedState),typeof D.componentDidMount=="function"&&(h.flags|=4194308),b=!0}else if(u===null){D=h.stateNode;var G=h.memoizedProps,J=Bu(g,G);D.props=J;var re=D.context,_e=g.contextType;L=Uh,typeof _e=="object"&&_e!==null&&(L=gs(_e));var Ue=g.getDerivedStateFromProps;_e=typeof Ue=="function"||typeof D.getSnapshotBeforeUpdate=="function",G=h.pendingProps!==G,_e||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(G||re!==L)&&sL(h,D,b,L),lc=!1;var be=h.memoizedState;D.state=be,Um(h,b,D,T),Gm(),re=h.memoizedState,G||be!==re||lc?(typeof Ue=="function"&&(EM(h,g,Ue,b),re=h.memoizedState),(J=lc||iL(h,g,J,b,be,re,L))?(_e||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(h.flags|=4194308)):(typeof D.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=b,h.memoizedState=re),D.props=b,D.state=re,D.context=L,b=J):(typeof D.componentDidMount=="function"&&(h.flags|=4194308),b=!1)}else{D=h.stateNode,VM(u,h),L=h.memoizedProps,_e=Bu(g,L),D.props=_e,Ue=h.pendingProps,be=D.context,re=g.contextType,J=Uh,typeof re=="object"&&re!==null&&(J=gs(re)),G=g.getDerivedStateFromProps,(re=typeof G=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(L!==Ue||be!==J)&&sL(h,D,b,J),lc=!1,be=h.memoizedState,D.state=be,Um(h,b,D,T),Gm();var Pe=h.memoizedState;L!==Ue||be!==Pe||lc||u!==null&&u.dependencies!==null&&ax(u.dependencies)?(typeof G=="function"&&(EM(h,g,G,b),Pe=h.memoizedState),(_e=lc||iL(h,g,_e,b,be,Pe,J)||u!==null&&u.dependencies!==null&&ax(u.dependencies))?(re||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(b,Pe,J),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(b,Pe,J)),typeof D.componentDidUpdate=="function"&&(h.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof D.componentDidUpdate!="function"||L===u.memoizedProps&&be===u.memoizedState||(h.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||L===u.memoizedProps&&be===u.memoizedState||(h.flags|=1024),h.memoizedProps=b,h.memoizedState=Pe),D.props=b,D.state=Pe,D.context=J,b=_e):(typeof D.componentDidUpdate!="function"||L===u.memoizedProps&&be===u.memoizedState||(h.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||L===u.memoizedProps&&be===u.memoizedState||(h.flags|=1024),b=!1)}return D=b,Hm(u,h),b=(h.flags&128)!==0,D||b?(D=h.stateNode,g=b&&typeof g.getDerivedStateFromError!="function"?null:D.render(),h.flags|=1,u!==null&&b?(h.child=Nu(h,u.child,null,T),h.child=Nu(h,null,g,T)):ts(u,h,g,T),h.memoizedState=D.state,u=h.child):u=nl(u,h,T),u}function xL(u,h,g,b){return Am(),h.flags|=256,ts(u,h,g,b),h.child}var AM={dehydrated:null,treeContext:null,retryLane:0};function PM(u){return{baseLanes:u,cachePool:wO()}}function DM(u,h,g){return u=u!==null?u.childLanes&~g:0,h&&(u|=ao),u}function CL(u,h,g){var b=h.pendingProps,T=!1,D=(h.flags&128)!==0,L;if((L=D)||(L=u!==null&&u.memoizedState===null?!1:(Fi.current&2)!==0),L&&(T=!0,h.flags&=-129),L=(h.flags&32)!==0,h.flags&=-33,u===null){if(un){if(T?ic(h):sc(),un){var G=es,J;if(J=G){e:{for(J=G,G=ua;J.nodeType!==8;){if(!G){G=null;break e}if(J=ko(J.nextSibling),J===null){G=null;break e}}G=J}G!==null?(h.memoizedState={dehydrated:G,treeContext:Du!==null?{id:Ja,overflow:Qa}:null,retryLane:536870912},J=oo(18,null,null,0),J.stateNode=G,J.return=h,h.child=J,Bs=h,es=null,J=!0):J=!1}J||Fu(h)}if(G=h.memoizedState,G!==null&&(G=G.dehydrated,G!==null))return G.data==="$!"?h.lanes=16:h.lanes=536870912,null;el(h)}return G=b.children,b=b.fallback,T?(sc(),T=h.mode,G=FM({mode:"hidden",children:G},T),b=Gu(b,T,g,null),G.return=h,b.return=h,G.sibling=b,h.child=G,T=h.child,T.memoizedState=PM(g),T.childLanes=DM(u,L,g),h.memoizedState=AM,b):(ic(h),_M(h,G))}if(J=u.memoizedState,J!==null&&(G=J.dehydrated,G!==null)){if(D)h.flags&256?(ic(h),h.flags&=-257,h=NM(u,h,g)):h.memoizedState!==null?(sc(),h.child=u.child,h.flags|=128,h=null):(sc(),T=b.fallback,G=h.mode,b=FM({mode:"visible",children:b.children},G),T=Gu(T,G,g,null),T.flags|=2,b.return=h,T.return=h,b.sibling=T,h.child=b,Nu(h,u.child,null,g),b=h.child,b.memoizedState=PM(g),b.childLanes=DM(u,L,g),h.memoizedState=AM,h=T);else if(ic(h),G.data==="$!"){if(L=G.nextSibling&&G.nextSibling.dataset,L)var re=L.dgst;L=re,b=Error(i(419)),b.stack="",b.digest=L,Pm({value:b,source:null,stack:null}),h=NM(u,h,g)}else if(Gi||Vm(u,h,g,!1),L=(g&u.childLanes)!==0,Gi||L){if(L=Ln,L!==null){if(b=g&-g,(b&42)!==0)b=1;else switch(b){case 2:b=1;break;case 8:b=4;break;case 32:b=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:b=64;break;case 268435456:b=134217728;break;default:b=0}if(b=(b&(L.suspendedLanes|g))!==0?0:b,b!==0&&b!==J.retryLane)throw J.retryLane=b,nc(u,b),Hs(L,u,b),dL}G.data==="$?"||aT(),h=NM(u,h,g)}else G.data==="$?"?(h.flags|=128,h.child=u.child,h=qX.bind(null,u),G._reactRetry=h,h=null):(u=J.treeContext,es=ko(G.nextSibling),Bs=h,un=!0,Oo=null,ua=!1,u!==null&&(to[no++]=Ja,to[no++]=Qa,to[no++]=Du,Ja=u.id,Qa=u.overflow,Du=h),h=_M(h,b.children),h.flags|=4096);return h}return T?(sc(),T=b.fallback,G=h.mode,J=u.child,re=J.sibling,b=pc(J,{mode:"hidden",children:b.children}),b.subtreeFlags=J.subtreeFlags&31457280,re!==null?T=pc(re,T):(T=Gu(T,G,g,null),T.flags|=2),T.return=h,b.return=h,b.sibling=T,h.child=b,b=T,T=h.child,G=u.child.memoizedState,G===null?G=PM(g):(J=G.cachePool,J!==null?(re=Ni._currentValue,J=J.parent!==re?{parent:re,pool:re}:J):J=wO(),G={baseLanes:G.baseLanes|g,cachePool:J}),T.memoizedState=G,T.childLanes=DM(u,L,g),h.memoizedState=AM,b):(ic(h),g=u.child,u=g.sibling,g=pc(g,{mode:"visible",children:b.children}),g.return=h,g.sibling=null,u!==null&&(L=h.deletions,L===null?(h.deletions=[u],h.flags|=16):L.push(u)),h.child=g,h.memoizedState=null,g)}function _M(u,h){return h=FM({mode:"visible",children:h},u.mode),h.return=u,u.child=h}function FM(u,h){return $L(u,h,0,null)}function NM(u,h,g){return Nu(h,u.child,null,g),u=_M(h,h.pendingProps.children),u.flags|=2,h.memoizedState=null,u}function wL(u,h,g){u.lanes|=h;var b=u.alternate;b!==null&&(b.lanes|=h),kM(u.return,h,g)}function IM(u,h,g,b,T){var D=u.memoizedState;D===null?u.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:b,tail:g,tailMode:T}:(D.isBackwards=h,D.rendering=null,D.renderingStartTime=0,D.last=b,D.tail=g,D.tailMode=T)}function bL(u,h,g){var b=h.pendingProps,T=b.revealOrder,D=b.tail;if(ts(u,h,b.children,g),b=Fi.current,(b&2)!==0)b=b&1|2,h.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=h.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&wL(u,g,h);else if(u.tag===19)wL(u,g,h);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break e;for(;u.sibling===null;){if(u.return===null||u.return===h)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}b&=1}switch(we(Fi,b),T){case"forwards":for(g=h.child,T=null;g!==null;)u=g.alternate,u!==null&&Y0(u)===null&&(T=g),g=g.sibling;g=T,g===null?(T=h.child,h.child=null):(T=g.sibling,g.sibling=null),IM(h,!1,T,g,D);break;case"backwards":for(g=null,T=h.child,h.child=null;T!==null;){if(u=T.alternate,u!==null&&Y0(u)===null){h.child=T;break}u=T.sibling,T.sibling=g,g=T,T=u}IM(h,!0,g,null,D);break;case"together":IM(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function nl(u,h,g){if(u!==null&&(h.dependencies=u.dependencies),mc|=h.lanes,(g&h.childLanes)===0)if(u!==null){if(Vm(u,h,g,!1),(g&h.childLanes)===0)return null}else return null;if(u!==null&&h.child!==u.child)throw Error(i(153));if(h.child!==null){for(u=h.child,g=pc(u,u.pendingProps),h.child=g,g.return=h;u.sibling!==null;)u=u.sibling,g=g.sibling=pc(u,u.pendingProps),g.return=h;g.sibling=null}return h.child}function OM(u,h){return(u.lanes&h)!==0?!0:(u=u.dependencies,!!(u!==null&&ax(u)))}function NX(u,h,g){switch(h.tag){case 3:ke(h,h.stateNode.containerInfo),ac(h,Ni,u.memoizedState.cache),Am();break;case 27:case 5:Xe(h);break;case 4:ke(h,h.stateNode.containerInfo);break;case 10:ac(h,h.type,h.memoizedProps.value);break;case 13:var b=h.memoizedState;if(b!==null)return b.dehydrated!==null?(ic(h),h.flags|=128,null):(g&h.child.childLanes)!==0?CL(u,h,g):(ic(h),u=nl(u,h,g),u!==null?u.sibling:null);ic(h);break;case 19:var T=(u.flags&128)!==0;if(b=(g&h.childLanes)!==0,b||(Vm(u,h,g,!1),b=(g&h.childLanes)!==0),T){if(b)return bL(u,h,g);h.flags|=128}if(T=h.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),we(Fi,Fi.current),b)break;return null;case 22:case 23:return h.lanes=0,mL(u,h,g);case 24:ac(h,Ni,u.memoizedState.cache)}return nl(u,h,g)}function SL(u,h,g){if(u!==null)if(u.memoizedProps!==h.pendingProps)Gi=!0;else{if(!OM(u,g)&&(h.flags&128)===0)return Gi=!1,NX(u,h,g);Gi=(u.flags&131072)!==0}else Gi=!1,un&&(h.flags&1048576)!==0&&aO(h,j0,h.index);switch(h.lanes=0,h.tag){case 16:e:{u=h.pendingProps;var b=h.elementType,T=b._init;if(b=T(b._payload),h.type=b,typeof b=="function")YM(b)?(u=Bu(b,u),h.tag=1,h=yL(null,h,b,u,g)):(h.tag=0,h=RM(null,h,b,u,g));else{if(b!=null){if(T=b.$$typeof,T===y){h.tag=11,h=hL(null,h,b,u,g);break e}else if(T===w){h.tag=14,h=fL(null,h,b,u,g);break e}}throw h=I(b)||b,Error(i(306,h,""))}}return h;case 0:return RM(u,h,h.type,h.pendingProps,g);case 1:return b=h.type,T=Bu(b,h.pendingProps),yL(u,h,b,T,g);case 3:e:{if(ke(h,h.stateNode.containerInfo),u===null)throw Error(i(387));var D=h.pendingProps;T=h.memoizedState,b=T.element,VM(u,h),Um(h,D,null,g);var L=h.memoizedState;if(D=L.cache,ac(h,Ni,D),D!==T.cache&&BM(h,[Ni],g,!0),Gm(),D=L.element,T.isDehydrated)if(T={element:D,isDehydrated:!1,cache:L.cache},h.updateQueue.baseState=T,h.memoizedState=T,h.flags&256){h=xL(u,h,D,g);break e}else if(D!==b){b=eo(Error(i(424)),h),Pm(b),h=xL(u,h,D,g);break e}else for(es=ko(h.stateNode.containerInfo.firstChild),Bs=h,un=!0,Oo=null,ua=!0,g=gO(h,null,D,g),h.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Am(),D===b){h=nl(u,h,g);break e}ts(u,h,D,g)}h=h.child}return h;case 26:return Hm(u,h),u===null?(g=Tk(h.type,null,h.pendingProps,null))?h.memoizedState=g:un||(g=h.type,u=h.pendingProps,b=Sx(Ce.current).createElement(g),b[Pi]=h,b[Di]=u,ns(b,g,u),pe(b),h.stateNode=b):h.memoizedState=Tk(h.type,u.memoizedProps,h.pendingProps,u.memoizedState),null;case 27:return Xe(h),u===null&&un&&(b=h.stateNode=Sk(h.type,h.pendingProps,Ce.current),Bs=h,ua=!0,es=ko(b.firstChild)),b=h.pendingProps.children,u!==null||un?ts(u,h,b,g):h.child=Nu(h,null,b,g),Hm(u,h),h.child;case 5:return u===null&&un&&((T=b=es)&&(b=cZ(b,h.type,h.pendingProps,ua),b!==null?(h.stateNode=b,Bs=h,es=ko(b.firstChild),ua=!1,T=!0):T=!1),T||Fu(h)),Xe(h),T=h.type,D=h.pendingProps,L=u!==null?u.memoizedProps:null,b=D.children,wT(T,D)?b=null:L!==null&&wT(T,L)&&(h.flags|=32),h.memoizedState!==null&&(T=cM(u,h,TX,null,null,g),sg._currentValue=T),Hm(u,h),ts(u,h,b,g),h.child;case 6:return u===null&&un&&((u=g=es)&&(g=uZ(g,h.pendingProps,ua),g!==null?(h.stateNode=g,Bs=h,es=null,u=!0):u=!1),u||Fu(h)),null;case 13:return CL(u,h,g);case 4:return ke(h,h.stateNode.containerInfo),b=h.pendingProps,u===null?h.child=Nu(h,null,b,g):ts(u,h,b,g),h.child;case 11:return hL(u,h,h.type,h.pendingProps,g);case 7:return ts(u,h,h.pendingProps,g),h.child;case 8:return ts(u,h,h.pendingProps.children,g),h.child;case 12:return ts(u,h,h.pendingProps.children,g),h.child;case 10:return b=h.pendingProps,ac(h,h.type,b.value),ts(u,h,b.children,g),h.child;case 9:return T=h.type._context,b=h.pendingProps.children,Vu(h),T=gs(T),b=b(T),h.flags|=1,ts(u,h,b,g),h.child;case 14:return fL(u,h,h.type,h.pendingProps,g);case 15:return pL(u,h,h.type,h.pendingProps,g);case 19:return bL(u,h,g);case 22:return mL(u,h,g);case 24:return Vu(h),b=gs(Ni),u===null?(T=aM(),T===null&&(T=Ln,D=rM(),T.pooledCache=D,D.refCount++,D!==null&&(T.pooledCacheLanes|=g),T=D),h.memoizedState={parent:b,cache:T},HM(h),ac(h,Ni,T)):((u.lanes&g)!==0&&(VM(u,h),Um(h,null,null,g),Gm()),T=u.memoizedState,D=h.memoizedState,T.parent!==b?(T={parent:b,cache:b},h.memoizedState=T,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=T),ac(h,Ni,b)):(b=D.cache,ac(h,Ni,b),b!==T.cache&&BM(h,[Ni],g,!0))),ts(u,h,h.pendingProps.children,g),h.child;case 29:throw h.pendingProps}throw Error(i(156,h.tag))}var LM=Oe(null),Hu=null,il=null;function ac(u,h,g){we(LM,h._currentValue),h._currentValue=g}function sl(u){u._currentValue=LM.current,Le(LM)}function kM(u,h,g){for(;u!==null;){var b=u.alternate;if((u.childLanes&h)!==h?(u.childLanes|=h,b!==null&&(b.childLanes|=h)):b!==null&&(b.childLanes&h)!==h&&(b.childLanes|=h),u===g)break;u=u.return}}function BM(u,h,g,b){var T=u.child;for(T!==null&&(T.return=u);T!==null;){var D=T.dependencies;if(D!==null){var L=T.child;D=D.firstContext;e:for(;D!==null;){var G=D;D=T;for(var J=0;J<h.length;J++)if(G.context===h[J]){D.lanes|=g,G=D.alternate,G!==null&&(G.lanes|=g),kM(D.return,g,u),b||(L=null);break e}D=G.next}}else if(T.tag===18){if(L=T.return,L===null)throw Error(i(341));L.lanes|=g,D=L.alternate,D!==null&&(D.lanes|=g),kM(L,g,u),L=null}else L=T.child;if(L!==null)L.return=T;else for(L=T;L!==null;){if(L===u){L=null;break}if(T=L.sibling,T!==null){T.return=L.return,L=T;break}L=L.return}T=L}}function Vm(u,h,g,b){u=null;for(var T=h,D=!1;T!==null;){if(!D){if((T.flags&524288)!==0)D=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var L=T.alternate;if(L===null)throw Error(i(387));if(L=L.memoizedProps,L!==null){var G=T.type;Ar(T.pendingProps.value,L.value)||(u!==null?u.push(G):u=[G])}}else if(T===U.current){if(L=T.alternate,L===null)throw Error(i(387));L.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(u!==null?u.push(sg):u=[sg])}T=T.return}u!==null&&BM(h,u,g,b),h.flags|=262144}function ax(u){for(u=u.firstContext;u!==null;){if(!Ar(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function Vu(u){Hu=u,il=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function gs(u){return EL(Hu,u)}function lx(u,h){return Hu===null&&Vu(u),EL(u,h)}function EL(u,h){var g=h._currentValue;if(h={context:h,memoizedValue:g,next:null},il===null){if(u===null)throw Error(i(308));il=h,u.dependencies={lanes:0,firstContext:h},u.flags|=524288}else il=il.next=h;return g}var lc=!1;function HM(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function VM(u,h){u=u.updateQueue,h.updateQueue===u&&(h.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function cc(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function uc(u,h,g){var b=u.updateQueue;if(b===null)return null;if(b=b.shared,(Wn&2)!==0){var T=b.pending;return T===null?h.next=h:(h.next=T.next,T.next=h),b.pending=h,h=G0(u),rO(u,null,g),h}return z0(u,b,h,g),G0(u)}function zm(u,h,g){if(h=h.updateQueue,h!==null&&(h=h.shared,(g&4194176)!==0)){var b=h.lanes;b&=u.pendingLanes,g|=b,h.lanes=g,ca(u,g)}}function zM(u,h){var g=u.updateQueue,b=u.alternate;if(b!==null&&(b=b.updateQueue,g===b)){var T=null,D=null;if(g=g.firstBaseUpdate,g!==null){do{var L={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};D===null?T=D=L:D=D.next=L,g=g.next}while(g!==null);D===null?T=D=h:D=D.next=h}else T=D=h;g={baseState:b.baseState,firstBaseUpdate:T,lastBaseUpdate:D,shared:b.shared,callbacks:b.callbacks},u.updateQueue=g;return}u=g.lastBaseUpdate,u===null?g.firstBaseUpdate=h:u.next=h,g.lastBaseUpdate=h}var GM=!1;function Gm(){if(GM){var u=Yh;if(u!==null)throw u}}function Um(u,h,g,b){GM=!1;var T=u.updateQueue;lc=!1;var D=T.firstBaseUpdate,L=T.lastBaseUpdate,G=T.shared.pending;if(G!==null){T.shared.pending=null;var J=G,re=J.next;J.next=null,L===null?D=re:L.next=re,L=J;var _e=u.alternate;_e!==null&&(_e=_e.updateQueue,G=_e.lastBaseUpdate,G!==L&&(G===null?_e.firstBaseUpdate=re:G.next=re,_e.lastBaseUpdate=J))}if(D!==null){var Ue=T.baseState;L=0,_e=re=J=null,G=D;do{var be=G.lane&-536870913,Pe=be!==G.lane;if(Pe?(en&be)===be:(b&be)===be){be!==0&&be===Kh&&(GM=!0),_e!==null&&(_e=_e.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var gt=u,Nt=G;be=h;var ii=g;switch(Nt.tag){case 1:if(gt=Nt.payload,typeof gt=="function"){Ue=gt.call(ii,Ue,be);break e}Ue=gt;break e;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=Nt.payload,be=typeof gt=="function"?gt.call(ii,Ue,be):gt,be==null)break e;Ue=A({},Ue,be);break e;case 2:lc=!0}}be=G.callback,be!==null&&(u.flags|=64,Pe&&(u.flags|=8192),Pe=T.callbacks,Pe===null?T.callbacks=[be]:Pe.push(be))}else Pe={lane:be,tag:G.tag,payload:G.payload,callback:G.callback,next:null},_e===null?(re=_e=Pe,J=Ue):_e=_e.next=Pe,L|=be;if(G=G.next,G===null){if(G=T.shared.pending,G===null)break;Pe=G,G=Pe.next,Pe.next=null,T.lastBaseUpdate=Pe,T.shared.pending=null}}while(!0);_e===null&&(J=Ue),T.baseState=J,T.firstBaseUpdate=re,T.lastBaseUpdate=_e,D===null&&(T.shared.lanes=0),mc|=L,u.lanes=L,u.memoizedState=Ue}}function ML(u,h){if(typeof u!="function")throw Error(i(191,u));u.call(h)}function TL(u,h){var g=u.callbacks;if(g!==null)for(u.callbacks=null,u=0;u<g.length;u++)ML(g[u],h)}function jm(u,h){try{var g=h.updateQueue,b=g!==null?g.lastEffect:null;if(b!==null){var T=b.next;g=T;do{if((g.tag&u)===u){b=void 0;var D=g.create,L=g.inst;b=D(),L.destroy=b}g=g.next}while(g!==T)}}catch(G){Pn(h,h.return,G)}}function dc(u,h,g){try{var b=h.updateQueue,T=b!==null?b.lastEffect:null;if(T!==null){var D=T.next;b=D;do{if((b.tag&u)===u){var L=b.inst,G=L.destroy;if(G!==void 0){L.destroy=void 0,T=h;var J=g;try{G()}catch(re){Pn(T,J,re)}}}b=b.next}while(b!==D)}}catch(re){Pn(h,h.return,re)}}function RL(u){var h=u.updateQueue;if(h!==null){var g=u.stateNode;try{TL(h,g)}catch(b){Pn(u,u.return,b)}}}function AL(u,h,g){g.props=Bu(u.type,u.memoizedProps),g.state=u.memoizedState;try{g.componentWillUnmount()}catch(b){Pn(u,h,b)}}function zu(u,h){try{var g=u.ref;if(g!==null){var b=u.stateNode;switch(u.tag){case 26:case 27:case 5:var T=b;break;default:T=b}typeof g=="function"?u.refCleanup=g(T):g.current=T}}catch(D){Pn(u,h,D)}}function Pr(u,h){var g=u.ref,b=u.refCleanup;if(g!==null)if(typeof b=="function")try{b()}catch(T){Pn(u,h,T)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(T){Pn(u,h,T)}else g.current=null}function PL(u){var h=u.type,g=u.memoizedProps,b=u.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":g.autoFocus&&b.focus();break e;case"img":g.src?b.src=g.src:g.srcSet&&(b.srcset=g.srcSet)}}catch(T){Pn(u,u.return,T)}}function DL(u,h,g){try{var b=u.stateNode;sZ(b,u.type,g,h),b[Di]=h}catch(T){Pn(u,u.return,T)}}function _L(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27||u.tag===4}function UM(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||_L(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==27&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function jM(u,h,g){var b=u.tag;if(b===5||b===6)u=u.stateNode,h?g.nodeType===8?g.parentNode.insertBefore(u,h):g.insertBefore(u,h):(g.nodeType===8?(h=g.parentNode,h.insertBefore(u,g)):(h=g,h.appendChild(u)),g=g._reactRootContainer,g!=null||h.onclick!==null||(h.onclick=bx));else if(b!==4&&b!==27&&(u=u.child,u!==null))for(jM(u,h,g),u=u.sibling;u!==null;)jM(u,h,g),u=u.sibling}function cx(u,h,g){var b=u.tag;if(b===5||b===6)u=u.stateNode,h?g.insertBefore(u,h):g.appendChild(u);else if(b!==4&&b!==27&&(u=u.child,u!==null))for(cx(u,h,g),u=u.sibling;u!==null;)cx(u,h,g),u=u.sibling}var rl=!1,ti=!1,WM=!1,FL=typeof WeakSet=="function"?WeakSet:Set,Ui=null,NL=!1;function IX(u,h){if(u=u.containerInfo,xT=Px,u=XI(u),qE(u)){if("selectionStart"in u)var g={start:u.selectionStart,end:u.selectionEnd};else e:{g=(g=u.ownerDocument)&&g.defaultView||window;var b=g.getSelection&&g.getSelection();if(b&&b.rangeCount!==0){g=b.anchorNode;var T=b.anchorOffset,D=b.focusNode;b=b.focusOffset;try{g.nodeType,D.nodeType}catch{g=null;break e}var L=0,G=-1,J=-1,re=0,_e=0,Ue=u,be=null;t:for(;;){for(var Pe;Ue!==g||T!==0&&Ue.nodeType!==3||(G=L+T),Ue!==D||b!==0&&Ue.nodeType!==3||(J=L+b),Ue.nodeType===3&&(L+=Ue.nodeValue.length),(Pe=Ue.firstChild)!==null;)be=Ue,Ue=Pe;for(;;){if(Ue===u)break t;if(be===g&&++re===T&&(G=L),be===D&&++_e===b&&(J=L),(Pe=Ue.nextSibling)!==null)break;Ue=be,be=Ue.parentNode}Ue=Pe}g=G===-1||J===-1?null:{start:G,end:J}}else g=null}g=g||{start:0,end:0}}else g=null;for(CT={focusedElem:u,selectionRange:g},Px=!1,Ui=h;Ui!==null;)if(h=Ui,u=h.child,(h.subtreeFlags&1028)!==0&&u!==null)u.return=h,Ui=u;else for(;Ui!==null;){switch(h=Ui,D=h.alternate,u=h.flags,h.tag){case 0:break;case 11:case 15:break;case 1:if((u&1024)!==0&&D!==null){u=void 0,g=h,T=D.memoizedProps,D=D.memoizedState,b=g.stateNode;try{var gt=Bu(g.type,T,g.elementType===g.type);u=b.getSnapshotBeforeUpdate(gt,D),b.__reactInternalSnapshotBeforeUpdate=u}catch(Nt){Pn(g,g.return,Nt)}}break;case 3:if((u&1024)!==0){if(u=h.stateNode.containerInfo,g=u.nodeType,g===9)ET(u);else if(g===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":ET(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(i(163))}if(u=h.sibling,u!==null){u.return=h.return,Ui=u;break}Ui=h.return}return gt=NL,NL=!1,gt}function IL(u,h,g){var b=g.flags;switch(g.tag){case 0:case 11:case 15:al(u,g),b&4&&jm(5,g);break;case 1:if(al(u,g),b&4)if(u=g.stateNode,h===null)try{u.componentDidMount()}catch(G){Pn(g,g.return,G)}else{var T=Bu(g.type,h.memoizedProps);h=h.memoizedState;try{u.componentDidUpdate(T,h,u.__reactInternalSnapshotBeforeUpdate)}catch(G){Pn(g,g.return,G)}}b&64&&RL(g),b&512&&zu(g,g.return);break;case 3:if(al(u,g),b&64&&(b=g.updateQueue,b!==null)){if(u=null,g.child!==null)switch(g.child.tag){case 27:case 5:u=g.child.stateNode;break;case 1:u=g.child.stateNode}try{TL(b,u)}catch(G){Pn(g,g.return,G)}}break;case 26:al(u,g),b&512&&zu(g,g.return);break;case 27:case 5:al(u,g),h===null&&b&4&&PL(g),b&512&&zu(g,g.return);break;case 12:al(u,g);break;case 13:al(u,g),b&4&&kL(u,g);break;case 22:if(T=g.memoizedState!==null||rl,!T){h=h!==null&&h.memoizedState!==null||ti;var D=rl,L=ti;rl=T,(ti=h)&&!L?hc(u,g,(g.subtreeFlags&8772)!==0):al(u,g),rl=D,ti=L}b&512&&(g.memoizedProps.mode==="manual"?zu(g,g.return):Pr(g,g.return));break;default:al(u,g)}}function OL(u){var h=u.alternate;h!==null&&(u.alternate=null,OL(h)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(h=u.stateNode,h!==null&&vm(h)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var bi=null,Dr=!1;function ol(u,h,g){for(g=g.child;g!==null;)LL(u,h,g),g=g.sibling}function LL(u,h,g){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(ft,g)}catch{}switch(g.tag){case 26:ti||Pr(g,h),ol(u,h,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:ti||Pr(g,h);var b=bi,T=Dr;for(bi=g.stateNode,ol(u,h,g),g=g.stateNode,h=g.attributes;h.length;)g.removeAttributeNode(h[0]);vm(g),bi=b,Dr=T;break;case 5:ti||Pr(g,h);case 6:T=bi;var D=Dr;if(bi=null,ol(u,h,g),bi=T,Dr=D,bi!==null)if(Dr)try{u=bi,b=g.stateNode,u.nodeType===8?u.parentNode.removeChild(b):u.removeChild(b)}catch(L){Pn(g,h,L)}else try{bi.removeChild(g.stateNode)}catch(L){Pn(g,h,L)}break;case 18:bi!==null&&(Dr?(h=bi,g=g.stateNode,h.nodeType===8?ST(h.parentNode,g):h.nodeType===1&&ST(h,g),lg(h)):ST(bi,g.stateNode));break;case 4:b=bi,T=Dr,bi=g.stateNode.containerInfo,Dr=!0,ol(u,h,g),bi=b,Dr=T;break;case 0:case 11:case 14:case 15:ti||dc(2,g,h),ti||dc(4,g,h),ol(u,h,g);break;case 1:ti||(Pr(g,h),b=g.stateNode,typeof b.componentWillUnmount=="function"&&AL(g,h,b)),ol(u,h,g);break;case 21:ol(u,h,g);break;case 22:ti||Pr(g,h),ti=(b=ti)||g.memoizedState!==null,ol(u,h,g),ti=b;break;default:ol(u,h,g)}}function kL(u,h){if(h.memoizedState===null&&(u=h.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{lg(u)}catch(g){Pn(h,h.return,g)}}function OX(u){switch(u.tag){case 13:case 19:var h=u.stateNode;return h===null&&(h=u.stateNode=new FL),h;case 22:return u=u.stateNode,h=u._retryCache,h===null&&(h=u._retryCache=new FL),h;default:throw Error(i(435,u.tag))}}function $M(u,h){var g=OX(u);h.forEach(function(b){var T=KX.bind(null,u,b);g.has(b)||(g.add(b),b.then(T,T))})}function so(u,h){var g=h.deletions;if(g!==null)for(var b=0;b<g.length;b++){var T=g[b],D=u,L=h,G=L;e:for(;G!==null;){switch(G.tag){case 27:case 5:bi=G.stateNode,Dr=!1;break e;case 3:bi=G.stateNode.containerInfo,Dr=!0;break e;case 4:bi=G.stateNode.containerInfo,Dr=!0;break e}G=G.return}if(bi===null)throw Error(i(160));LL(D,L,T),bi=null,Dr=!1,D=T.alternate,D!==null&&(D.return=null),T.return=null}if(h.subtreeFlags&13878)for(h=h.child;h!==null;)BL(h,u),h=h.sibling}var Lo=null;function BL(u,h){var g=u.alternate,b=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:so(h,u),ro(u),b&4&&(dc(3,u,u.return),jm(3,u),dc(5,u,u.return));break;case 1:so(h,u),ro(u),b&512&&(ti||g===null||Pr(g,g.return)),b&64&&rl&&(u=u.updateQueue,u!==null&&(b=u.callbacks,b!==null&&(g=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=g===null?b:g.concat(b))));break;case 26:var T=Lo;if(so(h,u),ro(u),b&512&&(ti||g===null||Pr(g,g.return)),b&4){var D=g!==null?g.memoizedState:null;if(b=u.memoizedState,g===null)if(b===null)if(u.stateNode===null){e:{b=u.type,g=u.memoizedProps,T=T.ownerDocument||T;t:switch(b){case"title":D=T.getElementsByTagName("title")[0],(!D||D[Tu]||D[Pi]||D.namespaceURI==="http://www.w3.org/2000/svg"||D.hasAttribute("itemprop"))&&(D=T.createElement(b),T.head.insertBefore(D,T.querySelector("head > title"))),ns(D,b,g),D[Pi]=u,pe(D),b=D;break e;case"link":var L=Pk("link","href",T).get(b+(g.href||""));if(L){for(var G=0;G<L.length;G++)if(D=L[G],D.getAttribute("href")===(g.href==null?null:g.href)&&D.getAttribute("rel")===(g.rel==null?null:g.rel)&&D.getAttribute("title")===(g.title==null?null:g.title)&&D.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){L.splice(G,1);break t}}D=T.createElement(b),ns(D,b,g),T.head.appendChild(D);break;case"meta":if(L=Pk("meta","content",T).get(b+(g.content||""))){for(G=0;G<L.length;G++)if(D=L[G],D.getAttribute("content")===(g.content==null?null:""+g.content)&&D.getAttribute("name")===(g.name==null?null:g.name)&&D.getAttribute("property")===(g.property==null?null:g.property)&&D.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&D.getAttribute("charset")===(g.charSet==null?null:g.charSet)){L.splice(G,1);break t}}D=T.createElement(b),ns(D,b,g),T.head.appendChild(D);break;default:throw Error(i(468,b))}D[Pi]=u,pe(D),b=D}u.stateNode=b}else Dk(T,u.type,u.stateNode);else u.stateNode=Ak(T,b,u.memoizedProps);else D!==b?(D===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):D.count--,b===null?Dk(T,u.type,u.stateNode):Ak(T,b,u.memoizedProps)):b===null&&u.stateNode!==null&&DL(u,u.memoizedProps,g.memoizedProps)}break;case 27:if(b&4&&u.alternate===null){T=u.stateNode,D=u.memoizedProps;try{for(var J=T.firstChild;J;){var re=J.nextSibling,_e=J.nodeName;J[Tu]||_e==="HEAD"||_e==="BODY"||_e==="SCRIPT"||_e==="STYLE"||_e==="LINK"&&J.rel.toLowerCase()==="stylesheet"||T.removeChild(J),J=re}for(var Ue=u.type,be=T.attributes;be.length;)T.removeAttributeNode(be[0]);ns(T,Ue,D),T[Pi]=u,T[Di]=D}catch(gt){Pn(u,u.return,gt)}}case 5:if(so(h,u),ro(u),b&512&&(ti||g===null||Pr(g,g.return)),u.flags&32){T=u.stateNode;try{cr(T,"")}catch(gt){Pn(u,u.return,gt)}}b&4&&u.stateNode!=null&&(T=u.memoizedProps,DL(u,T,g!==null?g.memoizedProps:T)),b&1024&&(WM=!0);break;case 6:if(so(h,u),ro(u),b&4){if(u.stateNode===null)throw Error(i(162));b=u.memoizedProps,g=u.stateNode;try{g.nodeValue=b}catch(gt){Pn(u,u.return,gt)}}break;case 3:if(Tx=null,T=Lo,Lo=Ex(h.containerInfo),so(h,u),Lo=T,ro(u),b&4&&g!==null&&g.memoizedState.isDehydrated)try{lg(h.containerInfo)}catch(gt){Pn(u,u.return,gt)}WM&&(WM=!1,HL(u));break;case 4:b=Lo,Lo=Ex(u.stateNode.containerInfo),so(h,u),ro(u),Lo=b;break;case 12:so(h,u),ro(u);break;case 13:so(h,u),ro(u),u.child.flags&8192&&u.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(tT=te()),b&4&&(b=u.updateQueue,b!==null&&(u.updateQueue=null,$M(u,b)));break;case 22:if(b&512&&(ti||g===null||Pr(g,g.return)),J=u.memoizedState!==null,re=g!==null&&g.memoizedState!==null,_e=rl,Ue=ti,rl=_e||J,ti=Ue||re,so(h,u),ti=Ue,rl=_e,ro(u),h=u.stateNode,h._current=u,h._visibility&=-3,h._visibility|=h._pendingVisibility&2,b&8192&&(h._visibility=J?h._visibility&-2:h._visibility|1,J&&(h=rl||ti,g===null||re||h||Qh(u)),u.memoizedProps===null||u.memoizedProps.mode!=="manual"))e:for(g=null,h=u;;){if(h.tag===5||h.tag===26||h.tag===27){if(g===null){re=g=h;try{if(T=re.stateNode,J)D=T.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{L=re.stateNode,G=re.memoizedProps.style;var Pe=G!=null&&G.hasOwnProperty("display")?G.display:null;L.style.display=Pe==null||typeof Pe=="boolean"?"":(""+Pe).trim()}}catch(gt){Pn(re,re.return,gt)}}}else if(h.tag===6){if(g===null){re=h;try{re.stateNode.nodeValue=J?"":re.memoizedProps}catch(gt){Pn(re,re.return,gt)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===u)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break e;for(;h.sibling===null;){if(h.return===null||h.return===u)break e;g===h&&(g=null),h=h.return}g===h&&(g=null),h.sibling.return=h.return,h=h.sibling}b&4&&(b=u.updateQueue,b!==null&&(g=b.retryQueue,g!==null&&(b.retryQueue=null,$M(u,g))));break;case 19:so(h,u),ro(u),b&4&&(b=u.updateQueue,b!==null&&(u.updateQueue=null,$M(u,b)));break;case 21:break;default:so(h,u),ro(u)}}function ro(u){var h=u.flags;if(h&2){try{if(u.tag!==27){e:{for(var g=u.return;g!==null;){if(_L(g)){var b=g;break e}g=g.return}throw Error(i(160))}switch(b.tag){case 27:var T=b.stateNode,D=UM(u);cx(u,D,T);break;case 5:var L=b.stateNode;b.flags&32&&(cr(L,""),b.flags&=-33);var G=UM(u);cx(u,G,L);break;case 3:case 4:var J=b.stateNode.containerInfo,re=UM(u);jM(u,re,J);break;default:throw Error(i(161))}}}catch(_e){Pn(u,u.return,_e)}u.flags&=-3}h&4096&&(u.flags&=-4097)}function HL(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var h=u;HL(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),u=u.sibling}}function al(u,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)IL(u,h.alternate,h),h=h.sibling}function Qh(u){for(u=u.child;u!==null;){var h=u;switch(h.tag){case 0:case 11:case 14:case 15:dc(4,h,h.return),Qh(h);break;case 1:Pr(h,h.return);var g=h.stateNode;typeof g.componentWillUnmount=="function"&&AL(h,h.return,g),Qh(h);break;case 26:case 27:case 5:Pr(h,h.return),Qh(h);break;case 22:Pr(h,h.return),h.memoizedState===null&&Qh(h);break;default:Qh(h)}u=u.sibling}}function hc(u,h,g){for(g=g&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var b=h.alternate,T=u,D=h,L=D.flags;switch(D.tag){case 0:case 11:case 15:hc(T,D,g),jm(4,D);break;case 1:if(hc(T,D,g),b=D,T=b.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(re){Pn(b,b.return,re)}if(b=D,T=b.updateQueue,T!==null){var G=b.stateNode;try{var J=T.shared.hiddenCallbacks;if(J!==null)for(T.shared.hiddenCallbacks=null,T=0;T<J.length;T++)ML(J[T],G)}catch(re){Pn(b,b.return,re)}}g&&L&64&&RL(D),zu(D,D.return);break;case 26:case 27:case 5:hc(T,D,g),g&&b===null&&L&4&&PL(D),zu(D,D.return);break;case 12:hc(T,D,g);break;case 13:hc(T,D,g),g&&L&4&&kL(T,D);break;case 22:D.memoizedState===null&&hc(T,D,g),zu(D,D.return);break;default:hc(T,D,g)}h=h.sibling}}function qM(u,h){var g=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),u=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(u=h.memoizedState.cachePool.pool),u!==g&&(u!=null&&u.refCount++,g!=null&&Im(g))}function KM(u,h){u=null,h.alternate!==null&&(u=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==u&&(h.refCount++,u!=null&&Im(u))}function fc(u,h,g,b){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)VL(u,h,g,b),h=h.sibling}function VL(u,h,g,b){var T=h.flags;switch(h.tag){case 0:case 11:case 15:fc(u,h,g,b),T&2048&&jm(9,h);break;case 3:fc(u,h,g,b),T&2048&&(u=null,h.alternate!==null&&(u=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==u&&(h.refCount++,u!=null&&Im(u)));break;case 12:if(T&2048){fc(u,h,g,b),u=h.stateNode;try{var D=h.memoizedProps,L=D.id,G=D.onPostCommit;typeof G=="function"&&G(L,h.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(J){Pn(h,h.return,J)}}else fc(u,h,g,b);break;case 23:break;case 22:D=h.stateNode,h.memoizedState!==null?D._visibility&4?fc(u,h,g,b):Wm(u,h):D._visibility&4?fc(u,h,g,b):(D._visibility|=4,ef(u,h,g,b,(h.subtreeFlags&10256)!==0)),T&2048&&qM(h.alternate,h);break;case 24:fc(u,h,g,b),T&2048&&KM(h.alternate,h);break;default:fc(u,h,g,b)}}function ef(u,h,g,b,T){for(T=T&&(h.subtreeFlags&10256)!==0,h=h.child;h!==null;){var D=u,L=h,G=g,J=b,re=L.flags;switch(L.tag){case 0:case 11:case 15:ef(D,L,G,J,T),jm(8,L);break;case 23:break;case 22:var _e=L.stateNode;L.memoizedState!==null?_e._visibility&4?ef(D,L,G,J,T):Wm(D,L):(_e._visibility|=4,ef(D,L,G,J,T)),T&&re&2048&&qM(L.alternate,L);break;case 24:ef(D,L,G,J,T),T&&re&2048&&KM(L.alternate,L);break;default:ef(D,L,G,J,T)}h=h.sibling}}function Wm(u,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var g=u,b=h,T=b.flags;switch(b.tag){case 22:Wm(g,b),T&2048&&qM(b.alternate,b);break;case 24:Wm(g,b),T&2048&&KM(b.alternate,b);break;default:Wm(g,b)}h=h.sibling}}var $m=8192;function tf(u){if(u.subtreeFlags&$m)for(u=u.child;u!==null;)zL(u),u=u.sibling}function zL(u){switch(u.tag){case 26:tf(u),u.flags&$m&&u.memoizedState!==null&&SZ(Lo,u.memoizedState,u.memoizedProps);break;case 5:tf(u);break;case 3:case 4:var h=Lo;Lo=Ex(u.stateNode.containerInfo),tf(u),Lo=h;break;case 22:u.memoizedState===null&&(h=u.alternate,h!==null&&h.memoizedState!==null?(h=$m,$m=16777216,tf(u),$m=h):tf(u));break;default:tf(u)}}function GL(u){var h=u.alternate;if(h!==null&&(u=h.child,u!==null)){h.child=null;do h=u.sibling,u.sibling=null,u=h;while(u!==null)}}function qm(u){var h=u.deletions;if((u.flags&16)!==0){if(h!==null)for(var g=0;g<h.length;g++){var b=h[g];Ui=b,jL(b,u)}GL(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)UL(u),u=u.sibling}function UL(u){switch(u.tag){case 0:case 11:case 15:qm(u),u.flags&2048&&dc(9,u,u.return);break;case 3:qm(u);break;case 12:qm(u);break;case 22:var h=u.stateNode;u.memoizedState!==null&&h._visibility&4&&(u.return===null||u.return.tag!==13)?(h._visibility&=-5,ux(u)):qm(u);break;default:qm(u)}}function ux(u){var h=u.deletions;if((u.flags&16)!==0){if(h!==null)for(var g=0;g<h.length;g++){var b=h[g];Ui=b,jL(b,u)}GL(u)}for(u=u.child;u!==null;){switch(h=u,h.tag){case 0:case 11:case 15:dc(8,h,h.return),ux(h);break;case 22:g=h.stateNode,g._visibility&4&&(g._visibility&=-5,ux(h));break;default:ux(h)}u=u.sibling}}function jL(u,h){for(;Ui!==null;){var g=Ui;switch(g.tag){case 0:case 11:case 15:dc(8,g,h);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var b=g.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:Im(g.memoizedState.cache)}if(b=g.child,b!==null)b.return=g,Ui=b;else e:for(g=u;Ui!==null;){b=Ui;var T=b.sibling,D=b.return;if(OL(b),b===g){Ui=null;break e}if(T!==null){T.return=D,Ui=T;break e}Ui=D}}}function LX(u,h,g,b){this.tag=u,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oo(u,h,g,b){return new LX(u,h,g,b)}function YM(u){return u=u.prototype,!(!u||!u.isReactComponent)}function pc(u,h){var g=u.alternate;return g===null?(g=oo(u.tag,h,u.key,u.mode),g.elementType=u.elementType,g.type=u.type,g.stateNode=u.stateNode,g.alternate=u,u.alternate=g):(g.pendingProps=h,g.type=u.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=u.flags&31457280,g.childLanes=u.childLanes,g.lanes=u.lanes,g.child=u.child,g.memoizedProps=u.memoizedProps,g.memoizedState=u.memoizedState,g.updateQueue=u.updateQueue,h=u.dependencies,g.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},g.sibling=u.sibling,g.index=u.index,g.ref=u.ref,g.refCleanup=u.refCleanup,g}function WL(u,h){u.flags&=31457282;var g=u.alternate;return g===null?(u.childLanes=0,u.lanes=h,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=g.childLanes,u.lanes=g.lanes,u.child=g.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=g.memoizedProps,u.memoizedState=g.memoizedState,u.updateQueue=g.updateQueue,u.type=g.type,h=g.dependencies,u.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),u}function dx(u,h,g,b,T,D){var L=0;if(b=u,typeof u=="function")YM(u)&&(L=1);else if(typeof u=="string")L=wZ(u,g,$e.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case l:return Gu(g.children,T,D,h);case c:L=8,T|=24;break;case d:return u=oo(12,g,h,T|2),u.elementType=d,u.lanes=D,u;case C:return u=oo(13,g,h,T),u.elementType=C,u.lanes=D,u;case x:return u=oo(19,g,h,T),u.elementType=x,u.lanes=D,u;case S:return $L(g,T,D,h);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case f:case m:L=10;break e;case p:L=9;break e;case y:L=11;break e;case w:L=14;break e;case M:L=16,b=null;break e}L=29,g=Error(i(130,u===null?"null":typeof u,"")),b=null}return h=oo(L,g,h,T),h.elementType=u,h.type=b,h.lanes=D,h}function Gu(u,h,g,b){return u=oo(7,u,b,h),u.lanes=g,u}function $L(u,h,g,b){u=oo(22,u,b,h),u.elementType=S,u.lanes=g;var T={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var D=T._current;if(D===null)throw Error(i(456));if((T._pendingVisibility&2)===0){var L=nc(D,2);L!==null&&(T._pendingVisibility|=2,Hs(L,D,2))}},attach:function(){var D=T._current;if(D===null)throw Error(i(456));if((T._pendingVisibility&2)!==0){var L=nc(D,2);L!==null&&(T._pendingVisibility&=-3,Hs(L,D,2))}}};return u.stateNode=T,u}function XM(u,h,g){return u=oo(6,u,null,h),u.lanes=g,u}function ZM(u,h,g){return h=oo(4,u.children!==null?u.children:[],u.key,h),h.lanes=g,h.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},h}function ll(u){u.flags|=4}function qL(u,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)u.flags&=-16777217;else if(u.flags|=16777216,!_k(h)){if(h=io.current,h!==null&&((en&4194176)===en?da!==null:(en&62914560)!==en&&(en&536870912)===0||h!==da))throw _m=nM,uO;u.flags|=8192}}function hx(u,h){h!==null&&(u.flags|=4),u.flags&16384&&(h=u.tag!==22?ln():536870912,u.lanes|=h,sf|=h)}function Km(u,h){if(!un)switch(u.tailMode){case"hidden":h=u.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?u.tail=null:g.sibling=null;break;case"collapsed":g=u.tail;for(var b=null;g!==null;)g.alternate!==null&&(b=g),g=g.sibling;b===null?h||u.tail===null?u.tail=null:u.tail.sibling=null:b.sibling=null}}function jn(u){var h=u.alternate!==null&&u.alternate.child===u.child,g=0,b=0;if(h)for(var T=u.child;T!==null;)g|=T.lanes|T.childLanes,b|=T.subtreeFlags&31457280,b|=T.flags&31457280,T.return=u,T=T.sibling;else for(T=u.child;T!==null;)g|=T.lanes|T.childLanes,b|=T.subtreeFlags,b|=T.flags,T.return=u,T=T.sibling;return u.subtreeFlags|=b,u.childLanes=g,h}function kX(u,h,g){var b=h.pendingProps;switch(eM(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jn(h),null;case 1:return jn(h),null;case 3:return g=h.stateNode,b=null,u!==null&&(b=u.memoizedState.cache),h.memoizedState.cache!==b&&(h.flags|=2048),sl(Ni),De(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(u===null||u.child===null)&&(Rm(h)?ll(h):u===null||u.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Oo!==null&&(rT(Oo),Oo=null))),jn(h),null;case 26:return g=h.memoizedState,u===null?(ll(h),g!==null?(jn(h),qL(h,g)):(jn(h),h.flags&=-16777217)):g?g!==u.memoizedState?(ll(h),jn(h),qL(h,g)):(jn(h),h.flags&=-16777217):(u.memoizedProps!==b&&ll(h),jn(h),h.flags&=-16777217),null;case 27:Ve(h),g=Ce.current;var T=h.type;if(u!==null&&h.stateNode!=null)u.memoizedProps!==b&&ll(h);else{if(!b){if(h.stateNode===null)throw Error(i(166));return jn(h),null}u=$e.current,Rm(h)?lO(h):(u=Sk(T,b,g),h.stateNode=u,ll(h))}return jn(h),null;case 5:if(Ve(h),g=h.type,u!==null&&h.stateNode!=null)u.memoizedProps!==b&&ll(h);else{if(!b){if(h.stateNode===null)throw Error(i(166));return jn(h),null}if(u=$e.current,Rm(h))lO(h);else{switch(T=Sx(Ce.current),u){case 1:u=T.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:u=T.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":u=T.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":u=T.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":u=T.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof b.is=="string"?T.createElement("select",{is:b.is}):T.createElement("select"),b.multiple?u.multiple=!0:b.size&&(u.size=b.size);break;default:u=typeof b.is=="string"?T.createElement(g,{is:b.is}):T.createElement(g)}}u[Pi]=h,u[Di]=b;e:for(T=h.child;T!==null;){if(T.tag===5||T.tag===6)u.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===h)break e;for(;T.sibling===null;){if(T.return===null||T.return===h)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}h.stateNode=u;e:switch(ns(u,g,b),g){case"button":case"input":case"select":case"textarea":u=!!b.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&ll(h)}}return jn(h),h.flags&=-16777217,null;case 6:if(u&&h.stateNode!=null)u.memoizedProps!==b&&ll(h);else{if(typeof b!="string"&&h.stateNode===null)throw Error(i(166));if(u=Ce.current,Rm(h)){if(u=h.stateNode,g=h.memoizedProps,b=null,T=Bs,T!==null)switch(T.tag){case 27:case 5:b=T.memoizedProps}u[Pi]=h,u=!!(u.nodeValue===g||b!==null&&b.suppressHydrationWarning===!0||vk(u.nodeValue,g)),u||Fu(h)}else u=Sx(u).createTextNode(b),u[Pi]=h,h.stateNode=u}return jn(h),null;case 13:if(b=h.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(T=Rm(h),b!==null&&b.dehydrated!==null){if(u===null){if(!T)throw Error(i(318));if(T=h.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(i(317));T[Pi]=h}else Am(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;jn(h),T=!1}else Oo!==null&&(rT(Oo),Oo=null),T=!0;if(!T)return h.flags&256?(el(h),h):(el(h),null)}if(el(h),(h.flags&128)!==0)return h.lanes=g,h;if(g=b!==null,u=u!==null&&u.memoizedState!==null,g){b=h.child,T=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(T=b.alternate.memoizedState.cachePool.pool);var D=null;b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(D=b.memoizedState.cachePool.pool),D!==T&&(b.flags|=2048)}return g!==u&&g&&(h.child.flags|=8192),hx(h,h.updateQueue),jn(h),null;case 4:return De(),u===null&&gT(h.stateNode.containerInfo),jn(h),null;case 10:return sl(h.type),jn(h),null;case 19:if(Le(Fi),T=h.memoizedState,T===null)return jn(h),null;if(b=(h.flags&128)!==0,D=T.rendering,D===null)if(b)Km(T,!1);else{if(ni!==0||u!==null&&(u.flags&128)!==0)for(u=h.child;u!==null;){if(D=Y0(u),D!==null){for(h.flags|=128,Km(T,!1),u=D.updateQueue,h.updateQueue=u,hx(h,u),h.subtreeFlags=0,u=g,g=h.child;g!==null;)WL(g,u),g=g.sibling;return we(Fi,Fi.current&1|2),h.child}u=u.sibling}T.tail!==null&&te()>fx&&(h.flags|=128,b=!0,Km(T,!1),h.lanes=4194304)}else{if(!b)if(u=Y0(D),u!==null){if(h.flags|=128,b=!0,u=u.updateQueue,h.updateQueue=u,hx(h,u),Km(T,!0),T.tail===null&&T.tailMode==="hidden"&&!D.alternate&&!un)return jn(h),null}else 2*te()-T.renderingStartTime>fx&&g!==536870912&&(h.flags|=128,b=!0,Km(T,!1),h.lanes=4194304);T.isBackwards?(D.sibling=h.child,h.child=D):(u=T.last,u!==null?u.sibling=D:h.child=D,T.last=D)}return T.tail!==null?(h=T.tail,T.rendering=h,T.tail=h.sibling,T.renderingStartTime=te(),h.sibling=null,u=Fi.current,we(Fi,b?u&1|2:u&1),h):(jn(h),null);case 22:case 23:return el(h),sM(),b=h.memoizedState!==null,u!==null?u.memoizedState!==null!==b&&(h.flags|=8192):b&&(h.flags|=8192),b?(g&536870912)!==0&&(h.flags&128)===0&&(jn(h),h.subtreeFlags&6&&(h.flags|=8192)):jn(h),g=h.updateQueue,g!==null&&hx(h,g.retryQueue),g=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),b=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),b!==g&&(h.flags|=2048),u!==null&&Le(Iu),null;case 24:return g=null,u!==null&&(g=u.memoizedState.cache),h.memoizedState.cache!==g&&(h.flags|=2048),sl(Ni),jn(h),null;case 25:return null}throw Error(i(156,h.tag))}function BX(u,h){switch(eM(h),h.tag){case 1:return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 3:return sl(Ni),De(),u=h.flags,(u&65536)!==0&&(u&128)===0?(h.flags=u&-65537|128,h):null;case 26:case 27:case 5:return Ve(h),null;case 13:if(el(h),u=h.memoizedState,u!==null&&u.dehydrated!==null){if(h.alternate===null)throw Error(i(340));Am()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 19:return Le(Fi),null;case 4:return De(),null;case 10:return sl(h.type),null;case 22:case 23:return el(h),sM(),u!==null&&Le(Iu),u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 24:return sl(Ni),null;case 25:return null;default:return null}}function KL(u,h){switch(eM(h),h.tag){case 3:sl(Ni),De();break;case 26:case 27:case 5:Ve(h);break;case 4:De();break;case 13:el(h);break;case 19:Le(Fi);break;case 10:sl(h.type);break;case 22:case 23:el(h),sM(),u!==null&&Le(Iu);break;case 24:sl(Ni)}}var HX={getCacheForType:function(u){var h=gs(Ni),g=h.data.get(u);return g===void 0&&(g=u(),h.data.set(u,g)),g}},VX=typeof WeakMap=="function"?WeakMap:Map,Wn=0,Ln=null,qt=null,en=0,kn=0,_r=null,cl=!1,nf=!1,JM=!1,ul=0,ni=0,mc=0,Uu=0,QM=0,ao=0,sf=0,Ym=null,fa=null,eT=!1,tT=0,fx=1/0,px=null,gc=null,mx=!1,ju=null,Xm=0,nT=0,iT=null,Zm=0,sT=null;function Fr(){if((Wn&2)!==0&&en!==0)return en&-en;if(_.T!==null){var u=Kh;return u!==0?u:hT()}return gm()}function YL(){ao===0&&(ao=(en&536870912)===0||un?Ai():536870912);var u=io.current;return u!==null&&(u.flags|=32),ao}function Hs(u,h,g){(u===Ln&&kn===2||u.cancelPendingCommit!==null)&&(rf(u,0),dl(u,en,ao,!1)),Os(u,g),((Wn&2)===0||u!==Ln)&&(u===Ln&&((Wn&2)===0&&(Uu|=g),ni===4&&dl(u,en,ao,!1)),pa(u))}function XL(u,h,g){if((Wn&6)!==0)throw Error(i(327));var b=!g&&(h&60)===0&&(h&u.expiredLanes)===0||Rt(u,h),T=b?UX(u,h):lT(u,h,!0),D=b;do{if(T===0){nf&&!b&&dl(u,h,0,!1);break}else if(T===6)dl(u,h,0,!cl);else{if(g=u.current.alternate,D&&!zX(g)){T=lT(u,h,!1),D=!1;continue}if(T===2){if(D=h,u.errorRecoveryDisabledLanes&D)var L=0;else L=u.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){h=L;e:{var G=u;T=Ym;var J=G.current.memoizedState.isDehydrated;if(J&&(rf(G,L).flags|=256),L=lT(G,L,!1),L!==2){if(JM&&!J){G.errorRecoveryDisabledLanes|=D,Uu|=D,T=4;break e}D=fa,fa=T,D!==null&&rT(D)}T=L}if(D=!1,T!==2)continue}}if(T===1){rf(u,0),dl(u,h,0,!0);break}e:{switch(b=u,T){case 0:case 1:throw Error(i(345));case 4:if((h&4194176)===h){dl(b,h,ao,!cl);break e}break;case 2:fa=null;break;case 3:case 5:break;default:throw Error(i(329))}if(b.finishedWork=g,b.finishedLanes=h,(h&62914560)===h&&(D=tT+300-te(),10<D)){if(dl(b,h,ao,!cl),it(b,0)!==0)break e;b.timeoutHandle=Ck(ZL.bind(null,b,g,fa,px,eT,h,ao,Uu,sf,cl,2,-0,0),D);break e}ZL(b,g,fa,px,eT,h,ao,Uu,sf,cl,0,-0,0)}}break}while(!0);pa(u)}function rT(u){fa===null?fa=u:fa.push.apply(fa,u)}function ZL(u,h,g,b,T,D,L,G,J,re,_e,Ue,be){var Pe=h.subtreeFlags;if((Pe&8192||(Pe&16785408)===16785408)&&(ig={stylesheets:null,count:0,unsuspend:bZ},zL(h),h=EZ(),h!==null)){u.cancelPendingCommit=h(sk.bind(null,u,g,b,T,L,G,J,1,Ue,be)),dl(u,D,L,!re);return}sk(u,g,b,T,L,G,J,_e,Ue,be)}function zX(u){for(var h=u;;){var g=h.tag;if((g===0||g===11||g===15)&&h.flags&16384&&(g=h.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var b=0;b<g.length;b++){var T=g[b],D=T.getSnapshot;T=T.value;try{if(!Ar(D(),T))return!1}catch{return!1}}if(g=h.child,h.subtreeFlags&16384&&g!==null)g.return=h,h=g;else{if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function dl(u,h,g,b){h&=~QM,h&=~Uu,u.suspendedLanes|=h,u.pingedLanes&=~h,b&&(u.warmLanes|=h),b=u.expirationTimes;for(var T=h;0<T;){var D=31-tt(T),L=1<<D;b[D]=-1,T&=~L}g!==0&&mm(u,g,h)}function gx(){return(Wn&6)===0?(Jm(0),!1):!0}function oT(){if(qt!==null){if(kn===0)var u=qt.return;else u=qt,il=Hu=null,hM(u),$h=null,Fm=0,u=qt;for(;u!==null;)KL(u.alternate,u),u=u.return;qt=null}}function rf(u,h){u.finishedWork=null,u.finishedLanes=0;var g=u.timeoutHandle;g!==-1&&(u.timeoutHandle=-1,oZ(g)),g=u.cancelPendingCommit,g!==null&&(u.cancelPendingCommit=null,g()),oT(),Ln=u,qt=g=pc(u.current,null),en=h,kn=0,_r=null,cl=!1,nf=Rt(u,h),JM=!1,sf=ao=QM=Uu=mc=ni=0,fa=Ym=null,eT=!1,(h&8)!==0&&(h|=h&32);var b=u.entangledLanes;if(b!==0)for(u=u.entanglements,b&=h;0<b;){var T=31-tt(b),D=1<<T;h|=u[T],b&=~D}return ul=h,V0(),g}function JL(u,h){Ut=null,_.H=ha,h===Dm?(h=fO(),kn=3):h===uO?(h=fO(),kn=4):kn=h===dL?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,_r=h,qt===null&&(ni=1,ox(u,eo(h,u.current)))}function QL(){var u=_.H;return _.H=ha,u===null?ha:u}function ek(){var u=_.A;return _.A=HX,u}function aT(){ni=4,cl||(en&4194176)!==en&&io.current!==null||(nf=!0),(mc&134217727)===0&&(Uu&134217727)===0||Ln===null||dl(Ln,en,ao,!1)}function lT(u,h,g){var b=Wn;Wn|=2;var T=QL(),D=ek();(Ln!==u||en!==h)&&(px=null,rf(u,h)),h=!1;var L=ni;e:do try{if(kn!==0&&qt!==null){var G=qt,J=_r;switch(kn){case 8:oT(),L=6;break e;case 3:case 2:case 6:io.current===null&&(h=!0);var re=kn;if(kn=0,_r=null,of(u,G,J,re),g&&nf){L=0;break e}break;default:re=kn,kn=0,_r=null,of(u,G,J,re)}}GX(),L=ni;break}catch(_e){JL(u,_e)}while(!0);return h&&u.shellSuspendCounter++,il=Hu=null,Wn=b,_.H=T,_.A=D,qt===null&&(Ln=null,en=0,V0()),L}function GX(){for(;qt!==null;)tk(qt)}function UX(u,h){var g=Wn;Wn|=2;var b=QL(),T=ek();Ln!==u||en!==h?(px=null,fx=te()+500,rf(u,h)):nf=Rt(u,h);e:do try{if(kn!==0&&qt!==null){h=qt;var D=_r;t:switch(kn){case 1:kn=0,_r=null,of(u,h,D,1);break;case 2:if(dO(D)){kn=0,_r=null,nk(h);break}h=function(){kn===2&&Ln===u&&(kn=7),pa(u)},D.then(h,h);break e;case 3:kn=7;break e;case 4:kn=5;break e;case 7:dO(D)?(kn=0,_r=null,nk(h)):(kn=0,_r=null,of(u,h,D,7));break;case 5:var L=null;switch(qt.tag){case 26:L=qt.memoizedState;case 5:case 27:var G=qt;if(!L||_k(L)){kn=0,_r=null;var J=G.sibling;if(J!==null)qt=J;else{var re=G.return;re!==null?(qt=re,vx(re)):qt=null}break t}}kn=0,_r=null,of(u,h,D,5);break;case 6:kn=0,_r=null,of(u,h,D,6);break;case 8:oT(),ni=6;break e;default:throw Error(i(462))}}jX();break}catch(_e){JL(u,_e)}while(!0);return il=Hu=null,_.H=b,_.A=T,Wn=g,qt!==null?0:(Ln=null,en=0,V0(),ni)}function jX(){for(;qt!==null&&!B();)tk(qt)}function tk(u){var h=SL(u.alternate,u,ul);u.memoizedProps=u.pendingProps,h===null?vx(u):qt=h}function nk(u){var h=u,g=h.alternate;switch(h.tag){case 15:case 0:h=vL(g,h,h.pendingProps,h.type,void 0,en);break;case 11:h=vL(g,h,h.pendingProps,h.type.render,h.ref,en);break;case 5:hM(h);default:KL(g,h),h=qt=WL(h,ul),h=SL(g,h,ul)}u.memoizedProps=u.pendingProps,h===null?vx(u):qt=h}function of(u,h,g,b){il=Hu=null,hM(h),$h=null,Fm=0;var T=h.return;try{if(FX(u,T,h,g,en)){ni=1,ox(u,eo(g,u.current)),qt=null;return}}catch(D){if(T!==null)throw qt=T,D;ni=1,ox(u,eo(g,u.current)),qt=null;return}h.flags&32768?(un||b===1?u=!0:nf||(en&536870912)!==0?u=!1:(cl=u=!0,(b===2||b===3||b===6)&&(b=io.current,b!==null&&b.tag===13&&(b.flags|=16384))),ik(h,u)):vx(h)}function vx(u){var h=u;do{if((h.flags&32768)!==0){ik(h,cl);return}u=h.return;var g=kX(h.alternate,h,ul);if(g!==null){qt=g;return}if(h=h.sibling,h!==null){qt=h;return}qt=h=u}while(h!==null);ni===0&&(ni=5)}function ik(u,h){do{var g=BX(u.alternate,u);if(g!==null){g.flags&=32767,qt=g;return}if(g=u.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!h&&(u=u.sibling,u!==null)){qt=u;return}qt=u=g}while(u!==null);ni=6,qt=null}function sk(u,h,g,b,T,D,L,G,J,re){var _e=_.T,Ue=Z.p;try{Z.p=2,_.T=null,WX(u,h,g,b,Ue,T,D,L,G,J,re)}finally{_.T=_e,Z.p=Ue}}function WX(u,h,g,b,T,D,L,G){do af();while(ju!==null);if((Wn&6)!==0)throw Error(i(327));var J=u.finishedWork;if(b=u.finishedLanes,J===null)return null;if(u.finishedWork=null,u.finishedLanes=0,J===u.current)throw Error(i(177));u.callbackNode=null,u.callbackPriority=0,u.cancelPendingCommit=null;var re=J.lanes|J.childLanes;if(re|=ZE,D0(u,b,re,D,L,G),u===Ln&&(qt=Ln=null,en=0),(J.subtreeFlags&10256)===0&&(J.flags&10256)===0||mx||(mx=!0,nT=re,iT=g,YX(We,function(){return af(),null})),g=(J.flags&15990)!==0,(J.subtreeFlags&15990)!==0||g?(g=_.T,_.T=null,D=Z.p,Z.p=2,L=Wn,Wn|=4,IX(u,J),BL(J,u),mX(CT,u.containerInfo),Px=!!xT,CT=xT=null,u.current=J,IL(u,J.alternate,J),de(),Wn=L,Z.p=D,_.T=g):u.current=J,mx?(mx=!1,ju=u,Xm=b):rk(u,re),re=u.pendingLanes,re===0&&(gc=null),Ie(J.stateNode),pa(u),h!==null)for(T=u.onRecoverableError,J=0;J<h.length;J++)re=h[J],T(re.value,{componentStack:re.stack});return(Xm&3)!==0&&af(),re=u.pendingLanes,(b&4194218)!==0&&(re&42)!==0?u===sT?Zm++:(Zm=0,sT=u):Zm=0,Jm(0),null}function rk(u,h){(u.pooledCacheLanes&=h)===0&&(h=u.pooledCache,h!=null&&(u.pooledCache=null,Im(h)))}function af(){if(ju!==null){var u=ju,h=nT;nT=0;var g=Ih(Xm),b=_.T,T=Z.p;try{if(Z.p=32>g?32:g,_.T=null,ju===null)var D=!1;else{g=iT,iT=null;var L=ju,G=Xm;if(ju=null,Xm=0,(Wn&6)!==0)throw Error(i(331));var J=Wn;if(Wn|=4,UL(L.current),VL(L,L.current,G,g),Wn=J,Jm(0,!1),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(ft,L)}catch{}D=!0}return D}finally{Z.p=T,_.T=b,rk(u,h)}}return!1}function ok(u,h,g){h=eo(g,h),h=TM(u.stateNode,h,2),u=uc(u,h,2),u!==null&&(Os(u,2),pa(u))}function Pn(u,h,g){if(u.tag===3)ok(u,u,g);else for(;h!==null;){if(h.tag===3){ok(h,u,g);break}else if(h.tag===1){var b=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(gc===null||!gc.has(b))){u=eo(g,u),g=cL(2),b=uc(h,g,2),b!==null&&(uL(g,b,h,u),Os(b,2),pa(b));break}}h=h.return}}function cT(u,h,g){var b=u.pingCache;if(b===null){b=u.pingCache=new VX;var T=new Set;b.set(h,T)}else T=b.get(h),T===void 0&&(T=new Set,b.set(h,T));T.has(g)||(JM=!0,T.add(g),u=$X.bind(null,u,h,g),h.then(u,u))}function $X(u,h,g){var b=u.pingCache;b!==null&&b.delete(h),u.pingedLanes|=u.suspendedLanes&g,u.warmLanes&=~g,Ln===u&&(en&g)===g&&(ni===4||ni===3&&(en&62914560)===en&&300>te()-tT?(Wn&2)===0&&rf(u,0):QM|=g,sf===en&&(sf=0)),pa(u)}function ak(u,h){h===0&&(h=ln()),u=nc(u,h),u!==null&&(Os(u,h),pa(u))}function qX(u){var h=u.memoizedState,g=0;h!==null&&(g=h.retryLane),ak(u,g)}function KX(u,h){var g=0;switch(u.tag){case 13:var b=u.stateNode,T=u.memoizedState;T!==null&&(g=T.retryLane);break;case 19:b=u.stateNode;break;case 22:b=u.stateNode._retryCache;break;default:throw Error(i(314))}b!==null&&b.delete(h),ak(u,g)}function YX(u,h){return Ge(u,h)}var yx=null,lf=null,uT=!1,xx=!1,dT=!1,Wu=0;function pa(u){u!==lf&&u.next===null&&(lf===null?yx=lf=u:lf=lf.next=u),xx=!0,uT||(uT=!0,ZX(XX))}function Jm(u,h){if(!dT&&xx){dT=!0;do for(var g=!1,b=yx;b!==null;){if(u!==0){var T=b.pendingLanes;if(T===0)var D=0;else{var L=b.suspendedLanes,G=b.pingedLanes;D=(1<<31-tt(42|u)+1)-1,D&=T&~(L&~G),D=D&201326677?D&201326677|1:D?D|2:0}D!==0&&(g=!0,uk(b,D))}else D=en,D=it(b,b===Ln?D:0),(D&3)===0||Rt(b,D)||(g=!0,uk(b,D));b=b.next}while(g);dT=!1}}function XX(){xx=uT=!1;var u=0;Wu!==0&&(rZ()&&(u=Wu),Wu=0);for(var h=te(),g=null,b=yx;b!==null;){var T=b.next,D=lk(b,h);D===0?(b.next=null,g===null?yx=T:g.next=T,T===null&&(lf=g)):(g=b,(u!==0||(D&3)!==0)&&(xx=!0)),b=T}Jm(u)}function lk(u,h){for(var g=u.suspendedLanes,b=u.pingedLanes,T=u.expirationTimes,D=u.pendingLanes&-62914561;0<D;){var L=31-tt(D),G=1<<L,J=T[L];J===-1?((G&g)===0||(G&b)!==0)&&(T[L]=Vn(G,h)):J<=h&&(u.expiredLanes|=G),D&=~G}if(h=Ln,g=en,g=it(u,u===h?g:0),b=u.callbackNode,g===0||u===h&&kn===2||u.cancelPendingCommit!==null)return b!==null&&b!==null&&$(b),u.callbackNode=null,u.callbackPriority=0;if((g&3)===0||Rt(u,g)){if(h=g&-g,h===u.callbackPriority)return h;switch(b!==null&&$(b),Ih(g)){case 2:case 8:g=je;break;case 32:g=We;break;case 268435456:g=Ct;break;default:g=We}return b=ck.bind(null,u),g=Ge(g,b),u.callbackPriority=h,u.callbackNode=g,h}return b!==null&&b!==null&&$(b),u.callbackPriority=2,u.callbackNode=null,2}function ck(u,h){var g=u.callbackNode;if(af()&&u.callbackNode!==g)return null;var b=en;return b=it(u,u===Ln?b:0),b===0?null:(XL(u,b,h),lk(u,te()),u.callbackNode!=null&&u.callbackNode===g?ck.bind(null,u):null)}function uk(u,h){if(af())return null;XL(u,h,!0)}function ZX(u){aZ(function(){(Wn&6)!==0?Ge(he,u):u()})}function hT(){return Wu===0&&(Wu=Ai()),Wu}function dk(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:N0(""+u)}function hk(u,h){var g=h.ownerDocument.createElement("input");return g.name=h.name,g.value=h.value,u.id&&g.setAttribute("form",u.id),h.parentNode.insertBefore(g,h),u=new FormData(u),g.parentNode.removeChild(g),u}function JX(u,h,g,b,T){if(h==="submit"&&g&&g.stateNode===T){var D=dk((T[Di]||null).action),L=b.submitter;L&&(h=(h=L[Di]||null)?dk(h.formAction):L.getAttribute("formAction"),h!==null&&(D=h,L=null));var G=new k0("action","action",null,b,T);u.push({event:G,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(Wu!==0){var J=L?hk(T,L):new FormData(T);wM(g,{pending:!0,data:J,method:T.method,action:D},null,J)}}else typeof D=="function"&&(G.preventDefault(),J=L?hk(T,L):new FormData(T),wM(g,{pending:!0,data:J,method:T.method,action:D},D,J))},currentTarget:T}]})}}for(var fT=0;fT<sO.length;fT++){var pT=sO[fT],QX=pT.toLowerCase(),eZ=pT[0].toUpperCase()+pT.slice(1);Io(QX,"on"+eZ)}Io(QI,"onAnimationEnd"),Io(eO,"onAnimationIteration"),Io(tO,"onAnimationStart"),Io("dblclick","onDoubleClick"),Io("focusin","onFocus"),Io("focusout","onBlur"),Io(vX,"onTransitionRun"),Io(yX,"onTransitionStart"),Io(xX,"onTransitionCancel"),Io(nO,"onTransitionEnd"),lt("onMouseEnter",["mouseout","mouseover"]),lt("onMouseLeave",["mouseout","mouseover"]),lt("onPointerEnter",["pointerout","pointerover"]),lt("onPointerLeave",["pointerout","pointerover"]),Je("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Je("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Je("onBeforeInput",["compositionend","keypress","textInput","paste"]),Je("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Je("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Je("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tZ=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qm));function fk(u,h){h=(h&4)!==0;for(var g=0;g<u.length;g++){var b=u[g],T=b.event;b=b.listeners;e:{var D=void 0;if(h)for(var L=b.length-1;0<=L;L--){var G=b[L],J=G.instance,re=G.currentTarget;if(G=G.listener,J!==D&&T.isPropagationStopped())break e;D=G,T.currentTarget=re;try{D(T)}catch(_e){rx(_e)}T.currentTarget=null,D=J}else for(L=0;L<b.length;L++){if(G=b[L],J=G.instance,re=G.currentTarget,G=G.listener,J!==D&&T.isPropagationStopped())break e;D=G,T.currentTarget=re;try{D(T)}catch(_e){rx(_e)}T.currentTarget=null,D=J}}}}function Qt(u,h){var g=h[Oh];g===void 0&&(g=h[Oh]=new Set);var b=u+"__bubble";g.has(b)||(pk(h,u,2,!1),g.add(b))}function mT(u,h,g){var b=0;h&&(b|=4),pk(g,u,b,h)}var Cx="_reactListening"+Math.random().toString(36).slice(2);function gT(u){if(!u[Cx]){u[Cx]=!0,le.forEach(function(g){g!=="selectionchange"&&(tZ.has(g)||mT(g,!1,u),mT(g,!0,u))});var h=u.nodeType===9?u:u.ownerDocument;h===null||h[Cx]||(h[Cx]=!0,mT("selectionchange",!1,h))}}function pk(u,h,g,b){switch(kk(h)){case 2:var T=RZ;break;case 8:T=AZ;break;default:T=PT}g=T.bind(null,h,g,u),T=void 0,!BE||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(T=!0),b?T!==void 0?u.addEventListener(h,g,{capture:!0,passive:T}):u.addEventListener(h,g,!0):T!==void 0?u.addEventListener(h,g,{passive:T}):u.addEventListener(h,g,!1)}function vT(u,h,g,b,T){var D=b;if((h&1)===0&&(h&2)===0&&b!==null)e:for(;;){if(b===null)return;var L=b.tag;if(L===3||L===4){var G=b.stateNode.containerInfo;if(G===T||G.nodeType===8&&G.parentNode===T)break;if(L===4)for(L=b.return;L!==null;){var J=L.tag;if((J===3||J===4)&&(J=L.stateNode.containerInfo,J===T||J.nodeType===8&&J.parentNode===T))return;L=L.return}for(;G!==null;){if(L=Za(G),L===null)return;if(J=L.tag,J===5||J===6||J===26||J===27){b=D=L;continue e}G=G.parentNode}}b=b.return}PI(function(){var re=D,_e=LE(g),Ue=[];e:{var be=iO.get(u);if(be!==void 0){var Pe=k0,gt=u;switch(u){case"keypress":if(O0(g)===0)break e;case"keydown":case"keyup":Pe=KY;break;case"focusin":gt="focus",Pe=GE;break;case"focusout":gt="blur",Pe=GE;break;case"beforeblur":case"afterblur":Pe=GE;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=FI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=LY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=ZY;break;case QI:case eO:case tO:Pe=HY;break;case nO:Pe=QY;break;case"scroll":case"scrollend":Pe=IY;break;case"wheel":Pe=tX;break;case"copy":case"cut":case"paste":Pe=zY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=II;break;case"toggle":case"beforetoggle":Pe=iX}var Nt=(h&4)!==0,ii=!Nt&&(u==="scroll"||u==="scrollend"),ue=Nt?be!==null?be+"Capture":null:be;Nt=[];for(var ie=re,me;ie!==null;){var Be=ie;if(me=Be.stateNode,Be=Be.tag,Be!==5&&Be!==26&&Be!==27||me===null||ue===null||(Be=ym(ie,ue),Be!=null&&Nt.push(eg(ie,Be,me))),ii)break;ie=ie.return}0<Nt.length&&(be=new Pe(be,gt,null,g,_e),Ue.push({event:be,listeners:Nt}))}}if((h&7)===0){e:{if(be=u==="mouseover"||u==="pointerover",Pe=u==="mouseout"||u==="pointerout",be&&g!==OE&&(gt=g.relatedTarget||g.fromElement)&&(Za(gt)||gt[Xa]))break e;if((Pe||be)&&(be=_e.window===_e?_e:(be=_e.ownerDocument)?be.defaultView||be.parentWindow:window,Pe?(gt=g.relatedTarget||g.toElement,Pe=re,gt=gt?Za(gt):null,gt!==null&&(ii=q(gt),Nt=gt.tag,gt!==ii||Nt!==5&&Nt!==27&&Nt!==6)&&(gt=null)):(Pe=null,gt=re),Pe!==gt)){if(Nt=FI,Be="onMouseLeave",ue="onMouseEnter",ie="mouse",(u==="pointerout"||u==="pointerover")&&(Nt=II,Be="onPointerLeave",ue="onPointerEnter",ie="pointer"),ii=Pe==null?be:oe(Pe),me=gt==null?be:oe(gt),be=new Nt(Be,ie+"leave",Pe,g,_e),be.target=ii,be.relatedTarget=me,Be=null,Za(_e)===re&&(Nt=new Nt(ue,ie+"enter",gt,g,_e),Nt.target=me,Nt.relatedTarget=ii,Be=Nt),ii=Be,Pe&&gt)t:{for(Nt=Pe,ue=gt,ie=0,me=Nt;me;me=cf(me))ie++;for(me=0,Be=ue;Be;Be=cf(Be))me++;for(;0<ie-me;)Nt=cf(Nt),ie--;for(;0<me-ie;)ue=cf(ue),me--;for(;ie--;){if(Nt===ue||ue!==null&&Nt===ue.alternate)break t;Nt=cf(Nt),ue=cf(ue)}Nt=null}else Nt=null;Pe!==null&&mk(Ue,be,Pe,Nt,!1),gt!==null&&ii!==null&&mk(Ue,ii,gt,Nt,!0)}}e:{if(be=re?oe(re):window,Pe=be.nodeName&&be.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&be.type==="file")var ht=GI;else if(VI(be))if(UI)ht=fX;else{ht=dX;var $t=uX}else Pe=be.nodeName,!Pe||Pe.toLowerCase()!=="input"||be.type!=="checkbox"&&be.type!=="radio"?re&&IE(re.elementType)&&(ht=GI):ht=hX;if(ht&&(ht=ht(u,re))){zI(Ue,ht,g,_e);break e}$t&&$t(u,be,re),u==="focusout"&&re&&be.type==="number"&&re.memoizedProps.value!=null&&ms(be,"number",be.value)}switch($t=re?oe(re):window,u){case"focusin":(VI($t)||$t.contentEditable==="true")&&(Vh=$t,KE=re,Tm=null);break;case"focusout":Tm=KE=Vh=null;break;case"mousedown":YE=!0;break;case"contextmenu":case"mouseup":case"dragend":YE=!1,ZI(Ue,g,_e);break;case"selectionchange":if(gX)break;case"keydown":case"keyup":ZI(Ue,g,_e)}var yt;if(jE)e:{switch(u){case"compositionstart":var St="onCompositionStart";break e;case"compositionend":St="onCompositionEnd";break e;case"compositionupdate":St="onCompositionUpdate";break e}St=void 0}else Hh?BI(u,g)&&(St="onCompositionEnd"):u==="keydown"&&g.keyCode===229&&(St="onCompositionStart");St&&(OI&&g.locale!=="ko"&&(Hh||St!=="onCompositionStart"?St==="onCompositionEnd"&&Hh&&(yt=DI()):(tc=_e,HE="value"in tc?tc.value:tc.textContent,Hh=!0)),$t=wx(re,St),0<$t.length&&(St=new NI(St,u,null,g,_e),Ue.push({event:St,listeners:$t}),yt?St.data=yt:(yt=HI(g),yt!==null&&(St.data=yt)))),(yt=rX?oX(u,g):aX(u,g))&&(St=wx(re,"onBeforeInput"),0<St.length&&($t=new NI("onBeforeInput","beforeinput",null,g,_e),Ue.push({event:$t,listeners:St}),$t.data=yt)),JX(Ue,u,re,g,_e)}fk(Ue,h)})}function eg(u,h,g){return{instance:u,listener:h,currentTarget:g}}function wx(u,h){for(var g=h+"Capture",b=[];u!==null;){var T=u,D=T.stateNode;T=T.tag,T!==5&&T!==26&&T!==27||D===null||(T=ym(u,g),T!=null&&b.unshift(eg(u,T,D)),T=ym(u,h),T!=null&&b.push(eg(u,T,D))),u=u.return}return b}function cf(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function mk(u,h,g,b,T){for(var D=h._reactName,L=[];g!==null&&g!==b;){var G=g,J=G.alternate,re=G.stateNode;if(G=G.tag,J!==null&&J===b)break;G!==5&&G!==26&&G!==27||re===null||(J=re,T?(re=ym(g,D),re!=null&&L.unshift(eg(g,re,J))):T||(re=ym(g,D),re!=null&&L.push(eg(g,re,J)))),g=g.return}L.length!==0&&u.push({event:h,listeners:L})}var nZ=/\r\n?/g,iZ=/\u0000|\uFFFD/g;function gk(u){return(typeof u=="string"?u:""+u).replace(nZ,`
`).replace(iZ,"")}function vk(u,h){return h=gk(h),gk(u)===h}function bx(){}function En(u,h,g,b,T,D){switch(g){case"children":typeof b=="string"?h==="body"||h==="textarea"&&b===""||cr(u,b):(typeof b=="number"||typeof b=="bigint")&&h!=="body"&&cr(u,""+b);break;case"className":Hn(u,"class",b);break;case"tabIndex":Hn(u,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":Hn(u,g,b);break;case"style":RI(u,b,D);break;case"data":if(h!=="object"){Hn(u,"data",b);break}case"src":case"href":if(b===""&&(h!=="a"||g!=="href")){u.removeAttribute(g);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){u.removeAttribute(g);break}b=N0(""+b),u.setAttribute(g,b);break;case"action":case"formAction":if(typeof b=="function"){u.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof D=="function"&&(g==="formAction"?(h!=="input"&&En(u,h,"name",T.name,T,null),En(u,h,"formEncType",T.formEncType,T,null),En(u,h,"formMethod",T.formMethod,T,null),En(u,h,"formTarget",T.formTarget,T,null)):(En(u,h,"encType",T.encType,T,null),En(u,h,"method",T.method,T,null),En(u,h,"target",T.target,T,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){u.removeAttribute(g);break}b=N0(""+b),u.setAttribute(g,b);break;case"onClick":b!=null&&(u.onclick=bx);break;case"onScroll":b!=null&&Qt("scroll",u);break;case"onScrollEnd":b!=null&&Qt("scrollend",u);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(i(61));if(g=b.__html,g!=null){if(T.children!=null)throw Error(i(60));u.innerHTML=g}}break;case"multiple":u.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":u.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){u.removeAttribute("xlink:href");break}g=N0(""+b),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?u.setAttribute(g,""+b):u.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?u.setAttribute(g,""):u.removeAttribute(g);break;case"capture":case"download":b===!0?u.setAttribute(g,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?u.setAttribute(g,b):u.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?u.setAttribute(g,b):u.removeAttribute(g);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?u.removeAttribute(g):u.setAttribute(g,b);break;case"popover":Qt("beforetoggle",u),Qt("toggle",u),Zt(u,"popover",b);break;case"xlinkActuate":cn(u,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":cn(u,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":cn(u,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":cn(u,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":cn(u,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":cn(u,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":cn(u,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":cn(u,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":cn(u,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":Zt(u,"is",b);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=FY.get(g)||g,Zt(u,g,b))}}function yT(u,h,g,b,T,D){switch(g){case"style":RI(u,b,D);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(i(61));if(g=b.__html,g!=null){if(T.children!=null)throw Error(i(60));u.innerHTML=g}}break;case"children":typeof b=="string"?cr(u,b):(typeof b=="number"||typeof b=="bigint")&&cr(u,""+b);break;case"onScroll":b!=null&&Qt("scroll",u);break;case"onScrollEnd":b!=null&&Qt("scrollend",u);break;case"onClick":b!=null&&(u.onclick=bx);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ye.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(T=g.endsWith("Capture"),h=g.slice(2,T?g.length-7:void 0),D=u[Di]||null,D=D!=null?D[g]:null,typeof D=="function"&&u.removeEventListener(h,D,T),typeof b=="function")){typeof D!="function"&&D!==null&&(g in u?u[g]=null:u.hasAttribute(g)&&u.removeAttribute(g)),u.addEventListener(h,b,T);break e}g in u?u[g]=b:b===!0?u.setAttribute(g,""):Zt(u,g,b)}}}function ns(u,h,g){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qt("error",u),Qt("load",u);var b=!1,T=!1,D;for(D in g)if(g.hasOwnProperty(D)){var L=g[D];if(L!=null)switch(D){case"src":b=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,h));default:En(u,h,D,L,g,null)}}T&&En(u,h,"srcSet",g.srcSet,g,null),b&&En(u,h,"src",g.src,g,null);return;case"input":Qt("invalid",u);var G=D=L=T=null,J=null,re=null;for(b in g)if(g.hasOwnProperty(b)){var _e=g[b];if(_e!=null)switch(b){case"name":T=_e;break;case"type":L=_e;break;case"checked":J=_e;break;case"defaultChecked":re=_e;break;case"value":D=_e;break;case"defaultValue":G=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(i(137,h));break;default:En(u,h,b,_e,g,null)}}ks(u,D,G,J,re,L,T,!1),Jt(u);return;case"select":Qt("invalid",u),b=L=D=null;for(T in g)if(g.hasOwnProperty(T)&&(G=g[T],G!=null))switch(T){case"value":D=G;break;case"defaultValue":L=G;break;case"multiple":b=G;default:En(u,h,T,G,g,null)}h=D,g=L,u.multiple=!!b,h!=null?ei(u,!!b,h,!1):g!=null&&ei(u,!!b,g,!0);return;case"textarea":Qt("invalid",u),D=T=b=null;for(L in g)if(g.hasOwnProperty(L)&&(G=g[L],G!=null))switch(L){case"value":b=G;break;case"defaultValue":T=G;break;case"children":D=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(91));break;default:En(u,h,L,G,g,null)}Lh(u,b,T,D),Jt(u);return;case"option":for(J in g)if(g.hasOwnProperty(J)&&(b=g[J],b!=null))switch(J){case"selected":u.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:En(u,h,J,b,g,null)}return;case"dialog":Qt("cancel",u),Qt("close",u);break;case"iframe":case"object":Qt("load",u);break;case"video":case"audio":for(b=0;b<Qm.length;b++)Qt(Qm[b],u);break;case"image":Qt("error",u),Qt("load",u);break;case"details":Qt("toggle",u);break;case"embed":case"source":case"link":Qt("error",u),Qt("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(re in g)if(g.hasOwnProperty(re)&&(b=g[re],b!=null))switch(re){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,h));default:En(u,h,re,b,g,null)}return;default:if(IE(h)){for(_e in g)g.hasOwnProperty(_e)&&(b=g[_e],b!==void 0&&yT(u,h,_e,b,g,void 0));return}}for(G in g)g.hasOwnProperty(G)&&(b=g[G],b!=null&&En(u,h,G,b,g,null))}function sZ(u,h,g,b){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,D=null,L=null,G=null,J=null,re=null,_e=null;for(Pe in g){var Ue=g[Pe];if(g.hasOwnProperty(Pe)&&Ue!=null)switch(Pe){case"checked":break;case"value":break;case"defaultValue":J=Ue;default:b.hasOwnProperty(Pe)||En(u,h,Pe,null,b,Ue)}}for(var be in b){var Pe=b[be];if(Ue=g[be],b.hasOwnProperty(be)&&(Pe!=null||Ue!=null))switch(be){case"type":D=Pe;break;case"name":T=Pe;break;case"checked":re=Pe;break;case"defaultChecked":_e=Pe;break;case"value":L=Pe;break;case"defaultValue":G=Pe;break;case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(i(137,h));break;default:Pe!==Ue&&En(u,h,be,Pe,b,Ue)}}bn(u,L,G,J,re,_e,D,T);return;case"select":Pe=L=G=be=null;for(D in g)if(J=g[D],g.hasOwnProperty(D)&&J!=null)switch(D){case"value":break;case"multiple":Pe=J;default:b.hasOwnProperty(D)||En(u,h,D,null,b,J)}for(T in b)if(D=b[T],J=g[T],b.hasOwnProperty(T)&&(D!=null||J!=null))switch(T){case"value":be=D;break;case"defaultValue":G=D;break;case"multiple":L=D;default:D!==J&&En(u,h,T,D,b,J)}h=G,g=L,b=Pe,be!=null?ei(u,!!g,be,!1):!!b!=!!g&&(h!=null?ei(u,!!g,h,!0):ei(u,!!g,g?[]:"",!1));return;case"textarea":Pe=be=null;for(G in g)if(T=g[G],g.hasOwnProperty(G)&&T!=null&&!b.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:En(u,h,G,null,b,T)}for(L in b)if(T=b[L],D=g[L],b.hasOwnProperty(L)&&(T!=null||D!=null))switch(L){case"value":be=T;break;case"defaultValue":Pe=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:T!==D&&En(u,h,L,T,b,D)}Qi(u,be,Pe);return;case"option":for(var gt in g)if(be=g[gt],g.hasOwnProperty(gt)&&be!=null&&!b.hasOwnProperty(gt))switch(gt){case"selected":u.selected=!1;break;default:En(u,h,gt,null,b,be)}for(J in b)if(be=b[J],Pe=g[J],b.hasOwnProperty(J)&&be!==Pe&&(be!=null||Pe!=null))switch(J){case"selected":u.selected=be&&typeof be!="function"&&typeof be!="symbol";break;default:En(u,h,J,be,b,Pe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Nt in g)be=g[Nt],g.hasOwnProperty(Nt)&&be!=null&&!b.hasOwnProperty(Nt)&&En(u,h,Nt,null,b,be);for(re in b)if(be=b[re],Pe=g[re],b.hasOwnProperty(re)&&be!==Pe&&(be!=null||Pe!=null))switch(re){case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(i(137,h));break;default:En(u,h,re,be,b,Pe)}return;default:if(IE(h)){for(var ii in g)be=g[ii],g.hasOwnProperty(ii)&&be!==void 0&&!b.hasOwnProperty(ii)&&yT(u,h,ii,void 0,b,be);for(_e in b)be=b[_e],Pe=g[_e],!b.hasOwnProperty(_e)||be===Pe||be===void 0&&Pe===void 0||yT(u,h,_e,be,b,Pe);return}}for(var ue in g)be=g[ue],g.hasOwnProperty(ue)&&be!=null&&!b.hasOwnProperty(ue)&&En(u,h,ue,null,b,be);for(Ue in b)be=b[Ue],Pe=g[Ue],!b.hasOwnProperty(Ue)||be===Pe||be==null&&Pe==null||En(u,h,Ue,be,b,Pe)}var xT=null,CT=null;function Sx(u){return u.nodeType===9?u:u.ownerDocument}function yk(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xk(u,h){if(u===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&h==="foreignObject"?0:u}function wT(u,h){return u==="textarea"||u==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var bT=null;function rZ(){var u=window.event;return u&&u.type==="popstate"?u===bT?!1:(bT=u,!0):(bT=null,!1)}var Ck=typeof setTimeout=="function"?setTimeout:void 0,oZ=typeof clearTimeout=="function"?clearTimeout:void 0,wk=typeof Promise=="function"?Promise:void 0,aZ=typeof queueMicrotask=="function"?queueMicrotask:typeof wk<"u"?function(u){return wk.resolve(null).then(u).catch(lZ)}:Ck;function lZ(u){setTimeout(function(){throw u})}function ST(u,h){var g=h,b=0;do{var T=g.nextSibling;if(u.removeChild(g),T&&T.nodeType===8)if(g=T.data,g==="/$"){if(b===0){u.removeChild(T),lg(h);return}b--}else g!=="$"&&g!=="$?"&&g!=="$!"||b++;g=T}while(g);lg(h)}function ET(u){var h=u.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var g=h;switch(h=h.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":ET(g),vm(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}u.removeChild(g)}}function cZ(u,h,g,b){for(;u.nodeType===1;){var T=g;if(u.nodeName.toLowerCase()!==h.toLowerCase()){if(!b&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(b){if(!u[Tu])switch(h){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(D=u.getAttribute("rel"),D==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(D!==T.rel||u.getAttribute("href")!==(T.href==null?null:T.href)||u.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||u.getAttribute("title")!==(T.title==null?null:T.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(D=u.getAttribute("src"),(D!==(T.src==null?null:T.src)||u.getAttribute("type")!==(T.type==null?null:T.type)||u.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&D&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(h==="input"&&u.type==="hidden"){var D=T.name==null?null:""+T.name;if(T.type==="hidden"&&u.getAttribute("name")===D)return u}else return u;if(u=ko(u.nextSibling),u===null)break}return null}function uZ(u,h,g){if(h==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!g||(u=ko(u.nextSibling),u===null))return null;return u}function ko(u){for(;u!=null;u=u.nextSibling){var h=u.nodeType;if(h===1||h===3)break;if(h===8){if(h=u.data,h==="$"||h==="$!"||h==="$?"||h==="F!"||h==="F")break;if(h==="/$")return null}}return u}function bk(u){u=u.previousSibling;for(var h=0;u;){if(u.nodeType===8){var g=u.data;if(g==="$"||g==="$!"||g==="$?"){if(h===0)return u;h--}else g==="/$"&&h++}u=u.previousSibling}return null}function Sk(u,h,g){switch(h=Sx(g),u){case"html":if(u=h.documentElement,!u)throw Error(i(452));return u;case"head":if(u=h.head,!u)throw Error(i(453));return u;case"body":if(u=h.body,!u)throw Error(i(454));return u;default:throw Error(i(451))}}var lo=new Map,Ek=new Set;function Ex(u){return typeof u.getRootNode=="function"?u.getRootNode():u.ownerDocument}var hl=Z.d;Z.d={f:dZ,r:hZ,D:fZ,C:pZ,L:mZ,m:gZ,X:yZ,S:vZ,M:xZ};function dZ(){var u=hl.f(),h=gx();return u||h}function hZ(u){var h=j(u);h!==null&&h.tag===5&&h.type==="form"?ZO(h):hl.r(u)}var uf=typeof document>"u"?null:document;function Mk(u,h,g){var b=uf;if(b&&typeof h=="string"&&h){var T=zi(h);T='link[rel="'+u+'"][href="'+T+'"]',typeof g=="string"&&(T+='[crossorigin="'+g+'"]'),Ek.has(T)||(Ek.add(T),u={rel:u,crossOrigin:g,href:h},b.querySelector(T)===null&&(h=b.createElement("link"),ns(h,"link",u),pe(h),b.head.appendChild(h)))}}function fZ(u){hl.D(u),Mk("dns-prefetch",u,null)}function pZ(u,h){hl.C(u,h),Mk("preconnect",u,h)}function mZ(u,h,g){hl.L(u,h,g);var b=uf;if(b&&u&&h){var T='link[rel="preload"][as="'+zi(h)+'"]';h==="image"&&g&&g.imageSrcSet?(T+='[imagesrcset="'+zi(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(T+='[imagesizes="'+zi(g.imageSizes)+'"]')):T+='[href="'+zi(u)+'"]';var D=T;switch(h){case"style":D=df(u);break;case"script":D=hf(u)}lo.has(D)||(u=A({rel:"preload",href:h==="image"&&g&&g.imageSrcSet?void 0:u,as:h},g),lo.set(D,u),b.querySelector(T)!==null||h==="style"&&b.querySelector(tg(D))||h==="script"&&b.querySelector(ng(D))||(h=b.createElement("link"),ns(h,"link",u),pe(h),b.head.appendChild(h)))}}function gZ(u,h){hl.m(u,h);var g=uf;if(g&&u){var b=h&&typeof h.as=="string"?h.as:"script",T='link[rel="modulepreload"][as="'+zi(b)+'"][href="'+zi(u)+'"]',D=T;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":D=hf(u)}if(!lo.has(D)&&(u=A({rel:"modulepreload",href:u},h),lo.set(D,u),g.querySelector(T)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(ng(D)))return}b=g.createElement("link"),ns(b,"link",u),pe(b),g.head.appendChild(b)}}}function vZ(u,h,g){hl.S(u,h,g);var b=uf;if(b&&u){var T=ye(b).hoistableStyles,D=df(u);h=h||"default";var L=T.get(D);if(!L){var G={loading:0,preload:null};if(L=b.querySelector(tg(D)))G.loading=5;else{u=A({rel:"stylesheet",href:u,"data-precedence":h},g),(g=lo.get(D))&&MT(u,g);var J=L=b.createElement("link");pe(J),ns(J,"link",u),J._p=new Promise(function(re,_e){J.onload=re,J.onerror=_e}),J.addEventListener("load",function(){G.loading|=1}),J.addEventListener("error",function(){G.loading|=2}),G.loading|=4,Mx(L,h,b)}L={type:"stylesheet",instance:L,count:1,state:G},T.set(D,L)}}}function yZ(u,h){hl.X(u,h);var g=uf;if(g&&u){var b=ye(g).hoistableScripts,T=hf(u),D=b.get(T);D||(D=g.querySelector(ng(T)),D||(u=A({src:u,async:!0},h),(h=lo.get(T))&&TT(u,h),D=g.createElement("script"),pe(D),ns(D,"link",u),g.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},b.set(T,D))}}function xZ(u,h){hl.M(u,h);var g=uf;if(g&&u){var b=ye(g).hoistableScripts,T=hf(u),D=b.get(T);D||(D=g.querySelector(ng(T)),D||(u=A({src:u,async:!0,type:"module"},h),(h=lo.get(T))&&TT(u,h),D=g.createElement("script"),pe(D),ns(D,"link",u),g.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},b.set(T,D))}}function Tk(u,h,g,b){var T=(T=Ce.current)?Ex(T):null;if(!T)throw Error(i(446));switch(u){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(h=df(g.href),g=ye(T).hoistableStyles,b=g.get(h),b||(b={type:"style",instance:null,count:0,state:null},g.set(h,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){u=df(g.href);var D=ye(T).hoistableStyles,L=D.get(u);if(L||(T=T.ownerDocument||T,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},D.set(u,L),(D=T.querySelector(tg(u)))&&!D._p&&(L.instance=D,L.state.loading=5),lo.has(u)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},lo.set(u,g),D||CZ(T,u,g,L.state))),h&&b===null)throw Error(i(528,""));return L}if(h&&b!==null)throw Error(i(529,""));return null;case"script":return h=g.async,g=g.src,typeof g=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=hf(g),g=ye(T).hoistableScripts,b=g.get(h),b||(b={type:"script",instance:null,count:0,state:null},g.set(h,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,u))}}function df(u){return'href="'+zi(u)+'"'}function tg(u){return'link[rel="stylesheet"]['+u+"]"}function Rk(u){return A({},u,{"data-precedence":u.precedence,precedence:null})}function CZ(u,h,g,b){u.querySelector('link[rel="preload"][as="style"]['+h+"]")?b.loading=1:(h=u.createElement("link"),b.preload=h,h.addEventListener("load",function(){return b.loading|=1}),h.addEventListener("error",function(){return b.loading|=2}),ns(h,"link",g),pe(h),u.head.appendChild(h))}function hf(u){return'[src="'+zi(u)+'"]'}function ng(u){return"script[async]"+u}function Ak(u,h,g){if(h.count++,h.instance===null)switch(h.type){case"style":var b=u.querySelector('style[data-href~="'+zi(g.href)+'"]');if(b)return h.instance=b,pe(b),b;var T=A({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return b=(u.ownerDocument||u).createElement("style"),pe(b),ns(b,"style",T),Mx(b,g.precedence,u),h.instance=b;case"stylesheet":T=df(g.href);var D=u.querySelector(tg(T));if(D)return h.state.loading|=4,h.instance=D,pe(D),D;b=Rk(g),(T=lo.get(T))&&MT(b,T),D=(u.ownerDocument||u).createElement("link"),pe(D);var L=D;return L._p=new Promise(function(G,J){L.onload=G,L.onerror=J}),ns(D,"link",b),h.state.loading|=4,Mx(D,g.precedence,u),h.instance=D;case"script":return D=hf(g.src),(T=u.querySelector(ng(D)))?(h.instance=T,pe(T),T):(b=g,(T=lo.get(D))&&(b=A({},g),TT(b,T)),u=u.ownerDocument||u,T=u.createElement("script"),pe(T),ns(T,"link",b),u.head.appendChild(T),h.instance=T);case"void":return null;default:throw Error(i(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(b=h.instance,h.state.loading|=4,Mx(b,g.precedence,u));return h.instance}function Mx(u,h,g){for(var b=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=b.length?b[b.length-1]:null,D=T,L=0;L<b.length;L++){var G=b[L];if(G.dataset.precedence===h)D=G;else if(D!==T)break}D?D.parentNode.insertBefore(u,D.nextSibling):(h=g.nodeType===9?g.head:g,h.insertBefore(u,h.firstChild))}function MT(u,h){u.crossOrigin==null&&(u.crossOrigin=h.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=h.referrerPolicy),u.title==null&&(u.title=h.title)}function TT(u,h){u.crossOrigin==null&&(u.crossOrigin=h.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=h.referrerPolicy),u.integrity==null&&(u.integrity=h.integrity)}var Tx=null;function Pk(u,h,g){if(Tx===null){var b=new Map,T=Tx=new Map;T.set(g,b)}else T=Tx,b=T.get(g),b||(b=new Map,T.set(g,b));if(b.has(u))return b;for(b.set(u,null),g=g.getElementsByTagName(u),T=0;T<g.length;T++){var D=g[T];if(!(D[Tu]||D[Pi]||u==="link"&&D.getAttribute("rel")==="stylesheet")&&D.namespaceURI!=="http://www.w3.org/2000/svg"){var L=D.getAttribute(h)||"";L=u+L;var G=b.get(L);G?G.push(D):b.set(L,[D])}}return b}function Dk(u,h,g){u=u.ownerDocument||u,u.head.insertBefore(g,h==="title"?u.querySelector("head > title"):null)}function wZ(u,h,g){if(g===1||h.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return u=h.disabled,typeof h.precedence=="string"&&u==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function _k(u){return!(u.type==="stylesheet"&&(u.state.loading&3)===0)}var ig=null;function bZ(){}function SZ(u,h,g){if(ig===null)throw Error(i(475));var b=ig;if(h.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var T=df(g.href),D=u.querySelector(tg(T));if(D){u=D._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(b.count++,b=Rx.bind(b),u.then(b,b)),h.state.loading|=4,h.instance=D,pe(D);return}D=u.ownerDocument||u,g=Rk(g),(T=lo.get(T))&&MT(g,T),D=D.createElement("link"),pe(D);var L=D;L._p=new Promise(function(G,J){L.onload=G,L.onerror=J}),ns(D,"link",g),h.instance=D}b.stylesheets===null&&(b.stylesheets=new Map),b.stylesheets.set(h,u),(u=h.state.preload)&&(h.state.loading&3)===0&&(b.count++,h=Rx.bind(b),u.addEventListener("load",h),u.addEventListener("error",h))}}function EZ(){if(ig===null)throw Error(i(475));var u=ig;return u.stylesheets&&u.count===0&&RT(u,u.stylesheets),0<u.count?function(h){var g=setTimeout(function(){if(u.stylesheets&&RT(u,u.stylesheets),u.unsuspend){var b=u.unsuspend;u.unsuspend=null,b()}},6e4);return u.unsuspend=h,function(){u.unsuspend=null,clearTimeout(g)}}:null}function Rx(){if(this.count--,this.count===0){if(this.stylesheets)RT(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var Ax=null;function RT(u,h){u.stylesheets=null,u.unsuspend!==null&&(u.count++,Ax=new Map,h.forEach(MZ,u),Ax=null,Rx.call(u))}function MZ(u,h){if(!(h.state.loading&4)){var g=Ax.get(u);if(g)var b=g.get(null);else{g=new Map,Ax.set(u,g);for(var T=u.querySelectorAll("link[data-precedence],style[data-precedence]"),D=0;D<T.length;D++){var L=T[D];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(g.set(L.dataset.precedence,L),b=L)}b&&g.set(null,b)}T=h.instance,L=T.getAttribute("data-precedence"),D=g.get(L)||b,D===b&&g.set(null,T),g.set(L,T),this.count++,b=Rx.bind(this),T.addEventListener("load",b),T.addEventListener("error",b),D?D.parentNode.insertBefore(T,D.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(T,u.firstChild)),h.state.loading|=4}}var sg={$$typeof:m,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function TZ(u,h,g,b,T,D,L,G){this.tag=1,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Is(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Is(0),this.hiddenUpdates=Is(null),this.identifierPrefix=b,this.onUncaughtError=T,this.onCaughtError=D,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function Fk(u,h,g,b,T,D,L,G,J,re,_e,Ue){return u=new TZ(u,h,g,L,G,J,re,Ue),h=1,D===!0&&(h|=24),D=oo(3,null,null,h),u.current=D,D.stateNode=u,h=rM(),h.refCount++,u.pooledCache=h,h.refCount++,D.memoizedState={element:b,isDehydrated:g,cache:h},HM(D),u}function Nk(u){return u?(u=Uh,u):Uh}function Ik(u,h,g,b,T,D){T=Nk(T),b.context===null?b.context=T:b.pendingContext=T,b=cc(h),b.payload={element:g},D=D===void 0?null:D,D!==null&&(b.callback=D),g=uc(u,b,h),g!==null&&(Hs(g,u,h),zm(g,u,h))}function Ok(u,h){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var g=u.retryLane;u.retryLane=g!==0&&g<h?g:h}}function AT(u,h){Ok(u,h),(u=u.alternate)&&Ok(u,h)}function Lk(u){if(u.tag===13){var h=nc(u,67108864);h!==null&&Hs(h,u,67108864),AT(u,67108864)}}var Px=!0;function RZ(u,h,g,b){var T=_.T;_.T=null;var D=Z.p;try{Z.p=2,PT(u,h,g,b)}finally{Z.p=D,_.T=T}}function AZ(u,h,g,b){var T=_.T;_.T=null;var D=Z.p;try{Z.p=8,PT(u,h,g,b)}finally{Z.p=D,_.T=T}}function PT(u,h,g,b){if(Px){var T=DT(b);if(T===null)vT(u,h,b,Dx,g),Bk(u,b);else if(DZ(T,u,h,g,b))b.stopPropagation();else if(Bk(u,b),h&4&&-1<PZ.indexOf(u)){for(;T!==null;){var D=j(T);if(D!==null)switch(D.tag){case 3:if(D=D.stateNode,D.current.memoizedState.isDehydrated){var L=Qe(D.pendingLanes);if(L!==0){var G=D;for(G.pendingLanes|=2,G.entangledLanes|=2;L;){var J=1<<31-tt(L);G.entanglements[1]|=J,L&=~J}pa(D),(Wn&6)===0&&(fx=te()+500,Jm(0))}}break;case 13:G=nc(D,2),G!==null&&Hs(G,D,2),gx(),AT(D,2)}if(D=DT(b),D===null&&vT(u,h,b,Dx,g),D===T)break;T=D}T!==null&&b.stopPropagation()}else vT(u,h,b,null,g)}}function DT(u){return u=LE(u),_T(u)}var Dx=null;function _T(u){if(Dx=null,u=Za(u),u!==null){var h=q(u);if(h===null)u=null;else{var g=h.tag;if(g===13){if(u=X(h),u!==null)return u;u=null}else if(g===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;u=null}else h!==u&&(u=null)}}return Dx=u,null}function kk(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fe()){case he:return 2;case je:return 8;case We:case Ze:return 32;case Ct:return 268435456;default:return 32}default:return 32}}var FT=!1,vc=null,yc=null,xc=null,rg=new Map,og=new Map,Cc=[],PZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bk(u,h){switch(u){case"focusin":case"focusout":vc=null;break;case"dragenter":case"dragleave":yc=null;break;case"mouseover":case"mouseout":xc=null;break;case"pointerover":case"pointerout":rg.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":og.delete(h.pointerId)}}function ag(u,h,g,b,T,D){return u===null||u.nativeEvent!==D?(u={blockedOn:h,domEventName:g,eventSystemFlags:b,nativeEvent:D,targetContainers:[T]},h!==null&&(h=j(h),h!==null&&Lk(h)),u):(u.eventSystemFlags|=b,h=u.targetContainers,T!==null&&h.indexOf(T)===-1&&h.push(T),u)}function DZ(u,h,g,b,T){switch(h){case"focusin":return vc=ag(vc,u,h,g,b,T),!0;case"dragenter":return yc=ag(yc,u,h,g,b,T),!0;case"mouseover":return xc=ag(xc,u,h,g,b,T),!0;case"pointerover":var D=T.pointerId;return rg.set(D,ag(rg.get(D)||null,u,h,g,b,T)),!0;case"gotpointercapture":return D=T.pointerId,og.set(D,ag(og.get(D)||null,u,h,g,b,T)),!0}return!1}function Hk(u){var h=Za(u.target);if(h!==null){var g=q(h);if(g!==null){if(h=g.tag,h===13){if(h=X(g),h!==null){u.blockedOn=h,_0(u.priority,function(){if(g.tag===13){var b=Fr(),T=nc(g,b);T!==null&&Hs(T,g,b),AT(g,b)}});return}}else if(h===3&&g.stateNode.current.memoizedState.isDehydrated){u.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}u.blockedOn=null}function _x(u){if(u.blockedOn!==null)return!1;for(var h=u.targetContainers;0<h.length;){var g=DT(u.nativeEvent);if(g===null){g=u.nativeEvent;var b=new g.constructor(g.type,g);OE=b,g.target.dispatchEvent(b),OE=null}else return h=j(g),h!==null&&Lk(h),u.blockedOn=g,!1;h.shift()}return!0}function Vk(u,h,g){_x(u)&&g.delete(h)}function _Z(){FT=!1,vc!==null&&_x(vc)&&(vc=null),yc!==null&&_x(yc)&&(yc=null),xc!==null&&_x(xc)&&(xc=null),rg.forEach(Vk),og.forEach(Vk)}function Fx(u,h){u.blockedOn===h&&(u.blockedOn=null,FT||(FT=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,_Z)))}var Nx=null;function zk(u){Nx!==u&&(Nx=u,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Nx===u&&(Nx=null);for(var h=0;h<u.length;h+=3){var g=u[h],b=u[h+1],T=u[h+2];if(typeof b!="function"){if(_T(b||g)===null)continue;break}var D=j(g);D!==null&&(u.splice(h,3),h-=3,wM(D,{pending:!0,data:T,method:g.method,action:b},b,T))}}))}function lg(u){function h(J){return Fx(J,u)}vc!==null&&Fx(vc,u),yc!==null&&Fx(yc,u),xc!==null&&Fx(xc,u),rg.forEach(h),og.forEach(h);for(var g=0;g<Cc.length;g++){var b=Cc[g];b.blockedOn===u&&(b.blockedOn=null)}for(;0<Cc.length&&(g=Cc[0],g.blockedOn===null);)Hk(g),g.blockedOn===null&&Cc.shift();if(g=(u.ownerDocument||u).$$reactFormReplay,g!=null)for(b=0;b<g.length;b+=3){var T=g[b],D=g[b+1],L=T[Di]||null;if(typeof D=="function")L||zk(g);else if(L){var G=null;if(D&&D.hasAttribute("formAction")){if(T=D,L=D[Di]||null)G=L.formAction;else if(_T(T)!==null)continue}else G=L.action;typeof G=="function"?g[b+1]=G:(g.splice(b,3),b-=3),zk(g)}}}function NT(u){this._internalRoot=u}Ix.prototype.render=NT.prototype.render=function(u){var h=this._internalRoot;if(h===null)throw Error(i(409));var g=h.current,b=Fr();Ik(g,b,u,h,null,null)},Ix.prototype.unmount=NT.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var h=u.containerInfo;u.tag===0&&af(),Ik(u.current,2,null,u,null,null),gx(),h[Xa]=null}};function Ix(u){this._internalRoot=u}Ix.prototype.unstable_scheduleHydration=function(u){if(u){var h=gm();u={blockedOn:null,target:u,priority:h};for(var g=0;g<Cc.length&&h!==0&&h<Cc[g].priority;g++);Cc.splice(g,0,u),g===0&&Hk(u)}};var Gk=e.version;if(Gk!=="19.0.0")throw Error(i(527,Gk,"19.0.0"));Z.findDOMNode=function(u){var h=u._reactInternals;if(h===void 0)throw typeof u.render=="function"?Error(i(188)):(u=Object.keys(u).join(","),Error(i(268,u)));return u=ee(h),u=u!==null?ge(u):null,u=u===null?null:u.stateNode,u};var FZ={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:_,findFiberByHostInstance:Za,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ox=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ox.isDisabled&&Ox.supportsFiber)try{ft=Ox.inject(FZ),dt=Ox}catch{}}return ug.createRoot=function(u,h){if(!s(u))throw Error(i(299));var g=!1,b="",T=rL,D=oL,L=aL,G=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(b=h.identifierPrefix),h.onUncaughtError!==void 0&&(T=h.onUncaughtError),h.onCaughtError!==void 0&&(D=h.onCaughtError),h.onRecoverableError!==void 0&&(L=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(G=h.unstable_transitionCallbacks)),h=Fk(u,1,!1,null,null,g,b,T,D,L,G,null),u[Xa]=h.current,gT(u.nodeType===8?u.parentNode:u),new NT(h)},ug.hydrateRoot=function(u,h,g){if(!s(u))throw Error(i(299));var b=!1,T="",D=rL,L=oL,G=aL,J=null,re=null;return g!=null&&(g.unstable_strictMode===!0&&(b=!0),g.identifierPrefix!==void 0&&(T=g.identifierPrefix),g.onUncaughtError!==void 0&&(D=g.onUncaughtError),g.onCaughtError!==void 0&&(L=g.onCaughtError),g.onRecoverableError!==void 0&&(G=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(J=g.unstable_transitionCallbacks),g.formState!==void 0&&(re=g.formState)),h=Fk(u,1,!0,h,g??null,b,T,D,L,G,J,re),h.context=Nk(null),g=h.current,b=Fr(),T=cc(b),T.callback=null,uc(g,T,b),h.current.lanes=b,Os(h,b),pa(h),u[Xa]=h.current,gT(u),new Ix(h)},ug.version="19.0.0",ug}var Jk;function jZ(){if(Jk)return LT.exports;Jk=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),LT.exports=UZ(),LT.exports}var WZ=jZ(),VT,Qk;function $Z(){if(Qk)return VT;Qk=1;var t=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",i=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function s(r,o){if(r===o)return!0;if(r&&o&&typeof r=="object"&&typeof o=="object"){if(r.constructor!==o.constructor)return!1;var a,l,c;if(Array.isArray(r)){if(a=r.length,a!=o.length)return!1;for(l=a;l--!==0;)if(!s(r[l],o[l]))return!1;return!0}var d;if(e&&r instanceof Map&&o instanceof Map){if(r.size!==o.size)return!1;for(d=r.entries();!(l=d.next()).done;)if(!o.has(l.value[0]))return!1;for(d=r.entries();!(l=d.next()).done;)if(!s(l.value[1],o.get(l.value[0])))return!1;return!0}if(n&&r instanceof Set&&o instanceof Set){if(r.size!==o.size)return!1;for(d=r.entries();!(l=d.next()).done;)if(!o.has(l.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(r)&&ArrayBuffer.isView(o)){if(a=r.length,a!=o.length)return!1;for(l=a;l--!==0;)if(r[l]!==o[l])return!1;return!0}if(r.constructor===RegExp)return r.source===o.source&&r.flags===o.flags;if(r.valueOf!==Object.prototype.valueOf&&typeof r.valueOf=="function"&&typeof o.valueOf=="function")return r.valueOf()===o.valueOf();if(r.toString!==Object.prototype.toString&&typeof r.toString=="function"&&typeof o.toString=="function")return r.toString()===o.toString();if(c=Object.keys(r),a=c.length,a!==Object.keys(o).length)return!1;for(l=a;l--!==0;)if(!Object.prototype.hasOwnProperty.call(o,c[l]))return!1;if(t&&r instanceof Element)return!1;for(l=a;l--!==0;)if(!((c[l]==="_owner"||c[l]==="__v"||c[l]==="__o")&&r.$$typeof)&&!s(r[c[l]],o[c[l]]))return!1;return!0}return r!==r&&o!==o}return VT=function(o,a){try{return s(o,a)}catch(l){if((l.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw l}},VT}var qZ=$Z();const KZ=du(qZ);var zT,e3;function YZ(){if(e3)return zT;e3=1;var t=function(e,n,i,s,r,o,a,l){if(!e){var c;if(n===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[i,s,r,o,a,l],f=0;c=new Error(n.replace(/%s/g,function(){return d[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}};return zT=t,zT}var XZ=YZ();const t3=du(XZ);var GT,n3;function ZZ(){return n3||(n3=1,GT=function(e,n,i,s){var r=i?i.call(s,e,n):void 0;if(r!==void 0)return!!r;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var o=Object.keys(e),a=Object.keys(n);if(o.length!==a.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(n),c=0;c<o.length;c++){var d=o[c];if(!l(d))return!1;var f=e[d],p=n[d];if(r=i?i.call(s,f,p,d):void 0,r===!1||r===void 0&&f!==p)return!1}return!0}),GT}var JZ=ZZ();const QZ=du(JZ);var CG=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(CG||{}),UT={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},i3=Object.values(CG),zD={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},eJ=Object.entries(zD).reduce((t,[e,n])=>(t[n]=e,t),{}),qo="data-rh",lp={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},cp=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const i=t[n];if(Object.prototype.hasOwnProperty.call(i,e))return i[e]}return null},tJ=t=>{let e=cp(t,"title");const n=cp(t,lp.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const i=cp(t,lp.DEFAULT_TITLE);return e||i||void 0},nJ=t=>cp(t,lp.ON_CHANGE_CLIENT_STATE)||(()=>{}),jT=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,i)=>({...n,...i}),{}),iJ=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,i)=>{if(!n.length){const s=Object.keys(i);for(let r=0;r<s.length;r+=1){const a=s[r].toLowerCase();if(t.indexOf(a)!==-1&&i[a])return n.concat(i)}}return n},[]),sJ=t=>console&&typeof console.warn=="function"&&console.warn(t),dg=(t,e,n)=>{const i={};return n.filter(s=>Array.isArray(s[t])?!0:(typeof s[t]<"u"&&sJ(`Helmet: ${t} should be of type "Array". Instead found type "${typeof s[t]}"`),!1)).map(s=>s[t]).reverse().reduce((s,r)=>{const o={};r.filter(l=>{let c;const d=Object.keys(l);for(let p=0;p<d.length;p+=1){const m=d[p],y=m.toLowerCase();e.indexOf(y)!==-1&&!(c==="rel"&&l[c].toLowerCase()==="canonical")&&!(y==="rel"&&l[y].toLowerCase()==="stylesheet")&&(c=y),e.indexOf(m)!==-1&&(m==="innerHTML"||m==="cssText"||m==="itemprop")&&(c=m)}if(!c||!l[c])return!1;const f=l[c].toLowerCase();return i[c]||(i[c]={}),o[c]||(o[c]={}),i[c][f]?!1:(o[c][f]=!0,!0)}).reverse().forEach(l=>s.push(l));const a=Object.keys(o);for(let l=0;l<a.length;l+=1){const c=a[l],d={...i[c],...o[c]};i[c]=d}return s},[]).reverse()},rJ=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},oJ=t=>({baseTag:iJ(["href"],t),bodyAttributes:jT("bodyAttributes",t),defer:cp(t,lp.DEFER),encode:cp(t,lp.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:jT("htmlAttributes",t),linkTags:dg("link",["rel","href"],t),metaTags:dg("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:dg("noscript",["innerHTML"],t),onChangeClientState:nJ(t),scriptTags:dg("script",["src","innerHTML"],t),styleTags:dg("style",["cssText"],t),title:tJ(t),titleAttributes:jT("titleAttributes",t),prioritizeSeoTags:rJ(t,lp.PRIORITIZE_SEO_TAGS)}),wG=t=>Array.isArray(t)?t.join(""):t,aJ=(t,e)=>{const n=Object.keys(t);for(let i=0;i<n.length;i+=1)if(e[n[i]]&&e[n[i]].includes(t[n[i]]))return!0;return!1},WT=(t,e)=>Array.isArray(t)?t.reduce((n,i)=>(aJ(i,e)?n.priority.push(i):n.default.push(i),n),{priority:[],default:[]}):{default:t,priority:[]},s3=(t,e)=>({...t,[e]:void 0}),lJ=["noscript","script","style"],f2=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),bG=t=>Object.keys(t).reduce((e,n)=>{const i=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${i}`:i},""),cJ=(t,e,n,i)=>{const s=bG(n),r=wG(e);return s?`<${t} ${qo}="true" ${s}>${f2(r,i)}</${t}>`:`<${t} ${qo}="true">${f2(r,i)}</${t}>`},uJ=(t,e,n=!0)=>e.reduce((i,s)=>{const r=s,o=Object.keys(r).filter(c=>!(c==="innerHTML"||c==="cssText")).reduce((c,d)=>{const f=typeof r[d]>"u"?d:`${d}="${f2(r[d],n)}"`;return c?`${c} ${f}`:f},""),a=r.innerHTML||r.cssText||"",l=lJ.indexOf(t)===-1;return`${i}<${t} ${qo}="true" ${o}${l?"/>":`>${a}</${t}>`}`},""),SG=(t,e={})=>Object.keys(t).reduce((n,i)=>{const s=zD[i];return n[s||i]=t[i],n},e),dJ=(t,e,n)=>{const i={key:e,[qo]:!0},s=SG(n,i);return[ne.createElement("title",s,e)]},sw=(t,e)=>e.map((n,i)=>{const s={key:i,[qo]:!0};return Object.keys(n).forEach(r=>{const a=zD[r]||r;if(a==="innerHTML"||a==="cssText"){const l=n.innerHTML||n.cssText;s.dangerouslySetInnerHTML={__html:l}}else s[a]=n[r]}),ne.createElement(t,s)}),go=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>dJ(t,e.title,e.titleAttributes),toString:()=>cJ(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>SG(e),toString:()=>bG(e)};default:return{toComponent:()=>sw(t,e),toString:()=>uJ(t,e,n)}}},hJ=({metaTags:t,linkTags:e,scriptTags:n,encode:i})=>{const s=WT(t,UT.meta),r=WT(e,UT.link),o=WT(n,UT.script);return{priorityMethods:{toComponent:()=>[...sw("meta",s.priority),...sw("link",r.priority),...sw("script",o.priority)],toString:()=>`${go("meta",s.priority,i)} ${go("link",r.priority,i)} ${go("script",o.priority,i)}`},metaTags:s.default,linkTags:r.default,scriptTags:o.default}},fJ=t=>{const{baseTag:e,bodyAttributes:n,encode:i=!0,htmlAttributes:s,noscriptTags:r,styleTags:o,title:a="",titleAttributes:l,prioritizeSeoTags:c}=t;let{linkTags:d,metaTags:f,scriptTags:p}=t,m={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:m,linkTags:d,metaTags:f,scriptTags:p}=hJ(t)),{priority:m,base:go("base",e,i),bodyAttributes:go("bodyAttributes",n,i),htmlAttributes:go("htmlAttributes",s,i),link:go("link",d,i),meta:go("meta",f,i),noscript:go("noscript",r,i),script:go("script",p,i),style:go("style",o,i),title:go("title",{title:a,titleAttributes:l},i)}},p2=fJ,Lx=[],EG=!!(typeof window<"u"&&window.document&&window.document.createElement),m2=class{constructor(t,e){co(this,"instances",[]);co(this,"canUseDOM",EG);co(this,"context");co(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?Lx:this.instances,add:t=>{(this.canUseDOM?Lx:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?Lx:this.instances).indexOf(t);(this.canUseDOM?Lx:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=p2({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},pJ={},MG=ne.createContext(pJ),Hd,TG=(Hd=class extends E.Component{constructor(n){super(n);co(this,"helmetData");this.helmetData=new m2(this.props.context||{},Hd.canUseDOM)}render(){return ne.createElement(MG.Provider,{value:this.helmetData.value},this.props.children)}},co(Hd,"canUseDOM",EG),Hd),ff=(t,e)=>{const n=document.head||document.querySelector("head"),i=n.querySelectorAll(`${t}[${qo}]`),s=[].slice.call(i),r=[];let o;return e&&e.length&&e.forEach(a=>{const l=document.createElement(t);for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c))if(c==="innerHTML")l.innerHTML=a.innerHTML;else if(c==="cssText")l.styleSheet?l.styleSheet.cssText=a.cssText:l.appendChild(document.createTextNode(a.cssText));else{const d=c,f=typeof a[d]>"u"?"":a[d];l.setAttribute(c,f)}l.setAttribute(qo,"true"),s.some((c,d)=>(o=d,l.isEqualNode(c)))?s.splice(o,1):r.push(l)}),s.forEach(a=>{var l;return(l=a.parentNode)==null?void 0:l.removeChild(a)}),r.forEach(a=>n.appendChild(a)),{oldTags:s,newTags:r}},g2=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const i=n.getAttribute(qo),s=i?i.split(","):[],r=[...s],o=Object.keys(e);for(const a of o){const l=e[a]||"";n.getAttribute(a)!==l&&n.setAttribute(a,l),s.indexOf(a)===-1&&s.push(a);const c=r.indexOf(a);c!==-1&&r.splice(c,1)}for(let a=r.length-1;a>=0;a-=1)n.removeAttribute(r[a]);s.length===r.length?n.removeAttribute(qo):n.getAttribute(qo)!==o.join(",")&&n.setAttribute(qo,o.join(","))},mJ=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=wG(t)),g2("title",e)},r3=(t,e)=>{const{baseTag:n,bodyAttributes:i,htmlAttributes:s,linkTags:r,metaTags:o,noscriptTags:a,onChangeClientState:l,scriptTags:c,styleTags:d,title:f,titleAttributes:p}=t;g2("body",i),g2("html",s),mJ(f,p);const m={baseTag:ff("base",n),linkTags:ff("link",r),metaTags:ff("meta",o),noscriptTags:ff("noscript",a),scriptTags:ff("script",c),styleTags:ff("style",d)},y={},C={};Object.keys(m).forEach(x=>{const{newTags:w,oldTags:M}=m[x];w.length&&(y[x]=w),M.length&&(C[x]=m[x].oldTags)}),e&&e(),l(t,y,C)},hg=null,gJ=t=>{hg&&cancelAnimationFrame(hg),t.defer?hg=requestAnimationFrame(()=>{r3(t,()=>{hg=null})}):(r3(t),hg=null)},vJ=gJ,o3=class extends E.Component{constructor(){super(...arguments);co(this,"rendered",!1)}shouldComponentUpdate(e){return!QZ(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:n}=this.props.context;let i=null;const s=oJ(e.get().map(r=>{const o={...r.props};return delete o.context,o}));TG.canUseDOM?vJ(s):p2&&(i=p2(s)),n(i)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},h2,RG=(h2=class extends E.Component{shouldComponentUpdate(t){return!KZ(s3(this.props,"helmetData"),s3(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,i){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,i)}]}}mapObjectTypeChildren(t,e,n,i){switch(t.type){case"title":return{...e,[t.type]:i,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(i=>{n={...n,[i]:t[i]}}),n}warnOnInvalidChildren(t,e){return t3(i3.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${i3.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),t3(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return ne.Children.forEach(t,i=>{if(!i||!i.props)return;const{children:s,...r}=i.props,o=Object.keys(r).reduce((l,c)=>(l[eJ[c]||c]=r[c],l),{});let{type:a}=i;switch(typeof a=="symbol"?a=a.toString():this.warnOnInvalidChildren(i,s),a){case"Symbol(react.fragment)":e=this.mapChildrenToProps(s,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(i,n,o,s);break;default:e=this.mapObjectTypeChildren(i,e,o,s);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:i}=e;if(t&&(n=this.mapChildrenToProps(t,n)),i&&!(i instanceof m2)){const s=i;i=new m2(s.context,!0),delete n.helmetData}return i?ne.createElement(o3,{...n,context:i.value}):ne.createElement(MG.Consumer,null,s=>ne.createElement(o3,{...n,context:s}))}},co(h2,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),h2),fg={},a3;function yJ(){if(a3)return fg;a3=1,Object.defineProperty(fg,"__esModule",{value:!0}),fg.parse=o,fg.serialize=c;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,r=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function o(p,m){const y=new r,C=p.length;if(C<2)return y;const x=(m==null?void 0:m.decode)||d;let w=0;do{const M=p.indexOf("=",w);if(M===-1)break;const S=p.indexOf(";",w),R=S===-1?C:S;if(M>R){w=p.lastIndexOf(";",M-1)+1;continue}const P=a(p,w,M),F=l(p,M,P),N=p.slice(P,F);if(y[N]===void 0){let I=a(p,M+1,R),_=l(p,R,I);const A=x(p.slice(I,_));y[N]=A}w=R+1}while(w<C);return y}function a(p,m,y){do{const C=p.charCodeAt(m);if(C!==32&&C!==9)return m}while(++m<y);return y}function l(p,m,y){for(;m>y;){const C=p.charCodeAt(--m);if(C!==32&&C!==9)return m+1}return y}function c(p,m,y){const C=(y==null?void 0:y.encode)||encodeURIComponent;if(!t.test(p))throw new TypeError(`argument name is invalid: ${p}`);const x=C(m);if(!e.test(x))throw new TypeError(`argument val is invalid: ${m}`);let w=p+"="+x;if(!y)return w;if(y.maxAge!==void 0){if(!Number.isInteger(y.maxAge))throw new TypeError(`option maxAge is invalid: ${y.maxAge}`);w+="; Max-Age="+y.maxAge}if(y.domain){if(!n.test(y.domain))throw new TypeError(`option domain is invalid: ${y.domain}`);w+="; Domain="+y.domain}if(y.path){if(!i.test(y.path))throw new TypeError(`option path is invalid: ${y.path}`);w+="; Path="+y.path}if(y.expires){if(!f(y.expires)||!Number.isFinite(y.expires.valueOf()))throw new TypeError(`option expires is invalid: ${y.expires}`);w+="; Expires="+y.expires.toUTCString()}if(y.httpOnly&&(w+="; HttpOnly"),y.secure&&(w+="; Secure"),y.partitioned&&(w+="; Partitioned"),y.priority)switch(typeof y.priority=="string"?y.priority.toLowerCase():void 0){case"low":w+="; Priority=Low";break;case"medium":w+="; Priority=Medium";break;case"high":w+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${y.priority}`)}if(y.sameSite)switch(typeof y.sameSite=="string"?y.sameSite.toLowerCase():y.sameSite){case!0:case"strict":w+="; SameSite=Strict";break;case"lax":w+="; SameSite=Lax";break;case"none":w+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${y.sameSite}`)}return w}function d(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function f(p){return s.call(p)==="[object Date]"}return fg}yJ();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var l3="popstate";function xJ(t={}){function e(i,s){let{pathname:r,search:o,hash:a}=i.location;return v2("",{pathname:r,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:Lv(s)}return wJ(e,n,null,t)}function Un(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CJ(){return Math.random().toString(36).substring(2,10)}function c3(t,e){return{usr:t.state,key:t.key,idx:e}}function v2(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?jp(e):e,state:n,key:e&&e.key||i||CJ()}}function Lv({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function jp(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function wJ(t,e,n,i={}){let{window:s=document.defaultView,v5Compat:r=!1}=i,o=s.history,a="POP",l=null,c=d();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function d(){return(o.state||{idx:null}).idx}function f(){a="POP";let x=d(),w=x==null?null:x-c;c=x,l&&l({action:a,location:C.location,delta:w})}function p(x,w){a="PUSH";let M=v2(C.location,x,w);c=d()+1;let S=c3(M,c),R=C.createHref(M);try{o.pushState(S,"",R)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(R)}r&&l&&l({action:a,location:C.location,delta:1})}function m(x,w){a="REPLACE";let M=v2(C.location,x,w);c=d();let S=c3(M,c),R=C.createHref(M);o.replaceState(S,"",R),r&&l&&l({action:a,location:C.location,delta:0})}function y(x){let w=s.location.origin!=="null"?s.location.origin:s.location.href,M=typeof x=="string"?x:Lv(x);return M=M.replace(/ $/,"%20"),Un(w,`No window.location.(origin|href) available to create URL for href: ${M}`),new URL(M,w)}let C={get action(){return a},get location(){return t(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(l3,f),l=x,()=>{s.removeEventListener(l3,f),l=null}},createHref(x){return e(s,x)},createURL:y,encodeLocation(x){let w=y(x);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:m,go(x){return o.go(x)}};return C}function AG(t,e,n="/"){return bJ(t,e,n,!1)}function bJ(t,e,n,i){let s=typeof e=="string"?jp(e):e,r=nu(s.pathname||"/",n);if(r==null)return null;let o=PG(t);SJ(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=IJ(r);a=FJ(o[l],c,i)}return a}function PG(t,e=[],n=[],i=""){let s=(r,o,a)=>{let l={relativePath:a===void 0?r.path||"":a,caseSensitive:r.caseSensitive===!0,childrenIndex:o,route:r};l.relativePath.startsWith("/")&&(Un(l.relativePath.startsWith(i),`Absolute route path "${l.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(i.length));let c=_l([i,l.relativePath]),d=n.concat(l);r.children&&r.children.length>0&&(Un(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),PG(r.children,e,d,c)),!(r.path==null&&!r.index)&&e.push({path:c,score:DJ(c,r.index),routesMeta:d})};return t.forEach((r,o)=>{var a;if(r.path===""||!((a=r.path)!=null&&a.includes("?")))s(r,o);else for(let l of DG(r.path))s(r,o,l)}),e}function DG(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),r=n.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let o=DG(i.join("/")),a=[];return a.push(...o.map(l=>l===""?r:[r,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function SJ(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_J(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var EJ=/^:[\w-]+$/,MJ=3,TJ=2,RJ=1,AJ=10,PJ=-2,u3=t=>t==="*";function DJ(t,e){let n=t.split("/"),i=n.length;return n.some(u3)&&(i+=PJ),e&&(i+=TJ),n.filter(s=>!u3(s)).reduce((s,r)=>s+(EJ.test(r)?MJ:r===""?RJ:AJ),i)}function _J(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function FJ(t,e,n=!1){let{routesMeta:i}=t,s={},r="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],c=a===i.length-1,d=r==="/"?e:e.slice(r.length)||"/",f=Ww({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!f&&c&&n&&!i[i.length-1].route.index&&(f=Ww({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:_l([r,f.pathname]),pathnameBase:BJ(_l([r,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(r=_l([r,f.pathnameBase]))}return o}function Ww(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=NJ(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let r=s[0],o=r.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:i.reduce((c,{paramName:d,isOptional:f},p)=>{if(d==="*"){let y=a[p]||"";o=r.slice(0,r.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[p];return f&&!m?c[d]=void 0:c[d]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:r,pathnameBase:o,pattern:t}}function NJ(t,e=!1,n=!0){Xo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function IJ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xo(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function nu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function OJ(t,e="/"){let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?jp(t):t;return{pathname:n?n.startsWith("/")?n:LJ(n,e):e,search:HJ(i),hash:VJ(s)}}function LJ(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function $T(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kJ(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function GD(t){let e=kJ(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function UD(t,e,n,i=!1){let s;typeof t=="string"?s=jp(t):(s={...t},Un(!s.pathname||!s.pathname.includes("?"),$T("?","pathname","search",s)),Un(!s.pathname||!s.pathname.includes("#"),$T("#","pathname","hash",s)),Un(!s.search||!s.search.includes("#"),$T("#","search","hash",s)));let r=t===""||s.pathname==="",o=r?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!i&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=OJ(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(r||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}var _l=t=>t.join("/").replace(/\/\/+/g,"/"),BJ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),HJ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,VJ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function zJ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var _G=["POST","PUT","PATCH","DELETE"];new Set(_G);var GJ=["GET",..._G];new Set(GJ);var Wp=E.createContext(null);Wp.displayName="DataRouter";var HS=E.createContext(null);HS.displayName="DataRouterState";var FG=E.createContext({isTransitioning:!1});FG.displayName="ViewTransition";var UJ=E.createContext(new Map);UJ.displayName="Fetchers";var jJ=E.createContext(null);jJ.displayName="Await";var sa=E.createContext(null);sa.displayName="Navigation";var Ny=E.createContext(null);Ny.displayName="Location";var Po=E.createContext({outlet:null,matches:[],isDataRoute:!1});Po.displayName="Route";var jD=E.createContext(null);jD.displayName="RouteError";function WJ(t,{relative:e}={}){Un($p(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=E.useContext(sa),{hash:s,pathname:r,search:o}=Oy(t,{relative:e}),a=r;return n!=="/"&&(a=r==="/"?n:_l([n,r])),i.createHref({pathname:a,search:o,hash:s})}function $p(){return E.useContext(Ny)!=null}function Hi(){return Un($p(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Ny).location}var NG="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function IG(t){E.useContext(sa).static||E.useLayoutEffect(t)}function fs(){let{isDataRoute:t}=E.useContext(Po);return t?oQ():$J()}function $J(){Un($p(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(Wp),{basename:e,navigator:n}=E.useContext(sa),{matches:i}=E.useContext(Po),{pathname:s}=Hi(),r=JSON.stringify(GD(i)),o=E.useRef(!1);return IG(()=>{o.current=!0}),E.useCallback((l,c={})=>{if(Xo(o.current,NG),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=UD(l,JSON.parse(r),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:_l([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,r,s,t])}var qJ=E.createContext(null);function KJ(t){let e=E.useContext(Po).outlet;return e&&E.createElement(qJ.Provider,{value:t},e)}function Iy(){let{matches:t}=E.useContext(Po),e=t[t.length-1];return e?e.params:{}}function Oy(t,{relative:e}={}){let{matches:n}=E.useContext(Po),{pathname:i}=Hi(),s=JSON.stringify(GD(n));return E.useMemo(()=>UD(t,JSON.parse(s),i,e==="path"),[t,s,i,e])}function YJ(t,e){return OG(t,e)}function OG(t,e,n,i){var M;Un($p(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:r}=E.useContext(sa),{matches:o}=E.useContext(Po),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",d=a?a.pathnameBase:"/",f=a&&a.route;{let S=f&&f.path||"";LG(c,!f||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let p=Hi(),m;if(e){let S=typeof e=="string"?jp(e):e;Un(d==="/"||((M=S.pathname)==null?void 0:M.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${S.pathname}" was given in the \`location\` prop.`),m=S}else m=p;let y=m.pathname||"/",C=y;if(d!=="/"){let S=d.replace(/^\//,"").split("/");C="/"+y.replace(/^\//,"").split("/").slice(S.length).join("/")}let x=!r&&n&&n.matches&&n.matches.length>0?n.matches:AG(t,{pathname:C});Xo(f||x!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Xo(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=eQ(x&&x.map(S=>Object.assign({},S,{params:Object.assign({},l,S.params),pathname:_l([d,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?d:_l([d,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),o,n,i);return e&&w?E.createElement(Ny.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},w):w}function XJ(){let t=rQ(),e=zJ(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},r={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=E.createElement(E.Fragment,null,E.createElement("p",null,"💿 Hey developer 👋"),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:r},"ErrorBoundary")," or"," ",E.createElement("code",{style:r},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:s},n):null,o)}var ZJ=E.createElement(XJ,null),JJ=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?E.createElement(Po.Provider,{value:this.props.routeContext},E.createElement(jD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function QJ({routeContext:t,match:e,children:n}){let i=E.useContext(Wp);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(Po.Provider,{value:t},n)}function eQ(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,r=n==null?void 0:n.errors;if(r!=null){let l=s.findIndex(c=>c.route.id&&(r==null?void 0:r[c.route.id])!==void 0);Un(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),s=s.slice(0,Math.min(s.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<s.length;l++){let c=s[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:d,errors:f}=n,p=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!f||f[c.route.id]===void 0);if(c.route.lazy||p){o=!0,a>=0?s=s.slice(0,a+1):s=[s[0]];break}}}return s.reduceRight((l,c,d)=>{let f,p=!1,m=null,y=null;n&&(f=r&&c.route.id?r[c.route.id]:void 0,m=c.route.errorElement||ZJ,o&&(a<0&&d===0?(LG("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,y=null):a===d&&(p=!0,y=c.route.hydrateFallbackElement||null)));let C=e.concat(s.slice(0,d+1)),x=()=>{let w;return f?w=m:p?w=y:c.route.Component?w=E.createElement(c.route.Component,null):c.route.element?w=c.route.element:w=l,E.createElement(QJ,{match:c,routeContext:{outlet:l,matches:C,isDataRoute:n!=null},children:w})};return n&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?E.createElement(JJ,{location:n.location,revalidation:n.revalidation,component:m,error:f,children:x(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):x()},null)}function WD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tQ(t){let e=E.useContext(Wp);return Un(e,WD(t)),e}function nQ(t){let e=E.useContext(HS);return Un(e,WD(t)),e}function iQ(t){let e=E.useContext(Po);return Un(e,WD(t)),e}function $D(t){let e=iQ(t),n=e.matches[e.matches.length-1];return Un(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function sQ(){return $D("useRouteId")}function rQ(){var i;let t=E.useContext(jD),e=nQ("useRouteError"),n=$D("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function oQ(){let{router:t}=tQ("useNavigate"),e=$D("useNavigate"),n=E.useRef(!1);return IG(()=>{n.current=!0}),E.useCallback(async(s,r={})=>{Xo(n.current,NG),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...r}))},[t,e])}var d3={};function LG(t,e,n){!e&&!d3[t]&&(d3[t]=!0,Xo(!1,n))}E.memo(aQ);function aQ({routes:t,future:e,state:n}){return OG(t,void 0,n,e)}function kG({to:t,replace:e,state:n,relative:i}){Un($p(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=E.useContext(sa);Xo(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:r}=E.useContext(Po),{pathname:o}=Hi(),a=fs(),l=UD(t,GD(r),o,i==="path"),c=JSON.stringify(l);return E.useEffect(()=>{a(JSON.parse(c),{replace:e,state:n,relative:i})},[a,c,i,e,n]),null}function Ly(t){return KJ(t.context)}function tn(t){Un(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lQ({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:s,static:r=!1}){Un(!$p(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=E.useMemo(()=>({basename:o,navigator:s,static:r,future:{}}),[o,s,r]);typeof n=="string"&&(n=jp(n));let{pathname:l="/",search:c="",hash:d="",state:f=null,key:p="default"}=n,m=E.useMemo(()=>{let y=nu(l,o);return y==null?null:{location:{pathname:y,search:c,hash:d,state:f,key:p},navigationType:i}},[o,l,c,d,f,p,i]);return Xo(m!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:E.createElement(sa.Provider,{value:a},E.createElement(Ny.Provider,{children:e,value:m}))}function BG({children:t,location:e}){return YJ(y2(t),e)}function y2(t,e=[]){let n=[];return E.Children.forEach(t,(i,s)=>{if(!E.isValidElement(i))return;let r=[...e,s];if(i.type===E.Fragment){n.push.apply(n,y2(i.props.children,r));return}Un(i.type===tn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Un(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=y2(i.props.children,r)),n.push(o)}),n}var rw="get",ow="application/x-www-form-urlencoded";function VS(t){return t!=null&&typeof t.tagName=="string"}function cQ(t){return VS(t)&&t.tagName.toLowerCase()==="button"}function uQ(t){return VS(t)&&t.tagName.toLowerCase()==="form"}function dQ(t){return VS(t)&&t.tagName.toLowerCase()==="input"}function hQ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function fQ(t,e){return t.button===0&&(!e||e==="_self")&&!hQ(t)}var kx=null;function pQ(){if(kx===null)try{new FormData(document.createElement("form"),0),kx=!1}catch{kx=!0}return kx}var mQ=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qT(t){return t!=null&&!mQ.has(t)?(Xo(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ow}"`),null):t}function gQ(t,e){let n,i,s,r,o;if(uQ(t)){let a=t.getAttribute("action");i=a?nu(a,e):null,n=t.getAttribute("method")||rw,s=qT(t.getAttribute("enctype"))||ow,r=new FormData(t)}else if(cQ(t)||dQ(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(i=l?nu(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||rw,s=qT(t.getAttribute("formenctype"))||qT(a.getAttribute("enctype"))||ow,r=new FormData(a,t),!pQ()){let{name:c,type:d,value:f}=t;if(d==="image"){let p=c?`${c}.`:"";r.append(`${p}x`,"0"),r.append(`${p}y`,"0")}else c&&r.append(c,f)}}else{if(VS(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=rw,i=null,s=ow,o=t}return r&&s==="text/plain"&&(o=r,r=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:r,body:o}}function qD(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function vQ(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yQ(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function xQ(t,e,n){let i=await Promise.all(t.map(async s=>{let r=e.routes[s.route.id];if(r){let o=await vQ(r,n);return o.links?o.links():[]}return[]}));return SQ(i.flat(1).filter(yQ).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function h3(t,e,n,i,s,r){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var d;return n[c].pathname!==l.pathname||((d=n[c].route.path)==null?void 0:d.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return r==="assets"?e.filter((l,c)=>o(l,c)||a(l,c)):r==="data"?e.filter((l,c)=>{var f;let d=i.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function CQ(t,e,{includeHydrateFallback:n}={}){return wQ(t.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let r=[s.module];return s.clientActionModule&&(r=r.concat(s.clientActionModule)),s.clientLoaderModule&&(r=r.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(r=r.concat(s.hydrateFallbackModule)),s.imports&&(r=r.concat(s.imports)),r}).flat(1))}function wQ(t){return[...new Set(t)]}function bQ(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function SQ(t,e){let n=new Set;return new Set(e),t.reduce((i,s)=>{let r=JSON.stringify(bQ(s));return n.has(r)||(n.add(r),i.push({key:r,link:s})),i},[])}function EQ(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function MQ(){let t=E.useContext(Wp);return qD(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function TQ(){let t=E.useContext(HS);return qD(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var KD=E.createContext(void 0);KD.displayName="FrameworkContext";function HG(){let t=E.useContext(KD);return qD(t,"You must render this element inside a <HydratedRouter> element"),t}function RQ(t,e){let n=E.useContext(KD),[i,s]=E.useState(!1),[r,o]=E.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:f}=e,p=E.useRef(null);E.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let C=w=>{w.forEach(M=>{o(M.isIntersecting)})},x=new IntersectionObserver(C,{threshold:.5});return p.current&&x.observe(p.current),()=>{x.disconnect()}}},[t]),E.useEffect(()=>{if(i){let C=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(C)}}},[i]);let m=()=>{s(!0)},y=()=>{s(!1),o(!1)};return n?t!=="intent"?[r,p,{}]:[r,p,{onFocus:pg(a,m),onBlur:pg(l,y),onMouseEnter:pg(c,m),onMouseLeave:pg(d,y),onTouchStart:pg(f,m)}]:[!1,p,{}]}function pg(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function AQ({page:t,...e}){let{router:n}=MQ(),i=E.useMemo(()=>AG(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?E.createElement(DQ,{page:t,matches:i,...e}):null}function PQ(t){let{manifest:e,routeModules:n}=HG(),[i,s]=E.useState([]);return E.useEffect(()=>{let r=!1;return xQ(t,e,n).then(o=>{r||s(o)}),()=>{r=!0}},[t,e,n]),i}function DQ({page:t,matches:e,...n}){let i=Hi(),{manifest:s,routeModules:r}=HG(),{loaderData:o,matches:a}=TQ(),l=E.useMemo(()=>h3(t,e,a,s,i,"data"),[t,e,a,s,i]),c=E.useMemo(()=>h3(t,e,a,s,i,"assets"),[t,e,a,s,i]),d=E.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let m=new Set,y=!1;if(e.forEach(x=>{var M;let w=s.routes[x.route.id];!w||!w.hasLoader||(!l.some(S=>S.route.id===x.route.id)&&x.route.id in o&&((M=r[x.route.id])!=null&&M.shouldRevalidate)||w.hasClientLoader?y=!0:m.add(x.route.id))}),m.size===0)return[];let C=EQ(t);return y&&m.size>0&&C.searchParams.set("_routes",e.filter(x=>m.has(x.route.id)).map(x=>x.route.id).join(",")),[C.pathname+C.search]},[o,i,s,l,e,t,r]),f=E.useMemo(()=>CQ(c,s),[c,s]),p=PQ(c);return E.createElement(E.Fragment,null,d.map(m=>E.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...n})),f.map(m=>E.createElement("link",{key:m,rel:"modulepreload",href:m,...n})),p.map(({key:m,link:y})=>E.createElement("link",{key:m,...y})))}function _Q(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var VG=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{VG&&(window.__reactRouterVersion="7.2.0")}catch{}function FQ({basename:t,children:e,window:n}){let i=E.useRef();i.current==null&&(i.current=xJ({window:n,v5Compat:!0}));let s=i.current,[r,o]=E.useState({action:s.action,location:s.location}),a=E.useCallback(l=>{E.startTransition(()=>o(l))},[o]);return E.useLayoutEffect(()=>s.listen(a),[s,a]),E.createElement(lQ,{basename:t,children:e,location:r.location,navigationType:r.action,navigator:s})}var zG=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qi=E.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:s,reloadDocument:r,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f,...p},m){let{basename:y}=E.useContext(sa),C=typeof c=="string"&&zG.test(c),x,w=!1;if(typeof c=="string"&&C&&(x=c,VG))try{let _=new URL(window.location.href),A=c.startsWith("//")?new URL(_.protocol+c):new URL(c),O=nu(A.pathname,y);A.origin===_.origin&&O!=null?c=O+A.search+A.hash:w=!0}catch{Xo(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=WJ(c,{relative:s}),[S,R,P]=RQ(i,p),F=OQ(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:f});function N(_){e&&e(_),_.defaultPrevented||F(_)}let I=E.createElement("a",{...p,...P,href:x||M,onClick:w||r?e:N,ref:_Q(m,R),target:l,"data-discover":!C&&n==="render"?"true":void 0});return S&&!C?E.createElement(E.Fragment,null,I,E.createElement(AQ,{page:M})):I});qi.displayName="Link";var fn=E.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:s=!1,style:r,to:o,viewTransition:a,children:l,...c},d){let f=Oy(o,{relative:c.relative}),p=Hi(),m=E.useContext(HS),{navigator:y,basename:C}=E.useContext(sa),x=m!=null&&VQ(f)&&a===!0,w=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,M=p.pathname,S=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(M=M.toLowerCase(),S=S?S.toLowerCase():null,w=w.toLowerCase()),S&&C&&(S=nu(S,C)||S);const R=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let P=M===w||!s&&M.startsWith(w)&&M.charAt(R)==="/",F=S!=null&&(S===w||!s&&S.startsWith(w)&&S.charAt(w.length)==="/"),N={isActive:P,isPending:F,isTransitioning:x},I=P?e:void 0,_;typeof i=="function"?_=i(N):_=[i,P?"active":null,F?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let A=typeof r=="function"?r(N):r;return E.createElement(qi,{...c,"aria-current":I,className:_,ref:d,style:A,to:o,viewTransition:a},typeof l=="function"?l(N):l)});fn.displayName="NavLink";var NQ=E.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:s,state:r,method:o=rw,action:a,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:f,...p},m)=>{let y=BQ(),C=HQ(a,{relative:c}),x=o.toLowerCase()==="get"?"get":"post",w=typeof a=="string"&&zG.test(a),M=S=>{if(l&&l(S),S.defaultPrevented)return;S.preventDefault();let R=S.nativeEvent.submitter,P=(R==null?void 0:R.getAttribute("formmethod"))||o;y(R||S.currentTarget,{fetcherKey:e,method:P,navigate:n,replace:s,state:r,relative:c,preventScrollReset:d,viewTransition:f})};return E.createElement("form",{ref:m,method:x,action:C,onSubmit:i?l:M,...p,"data-discover":!w&&t==="render"?"true":void 0})});NQ.displayName="Form";function IQ(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GG(t){let e=E.useContext(Wp);return Un(e,IQ(t)),e}function OQ(t,{target:e,replace:n,state:i,preventScrollReset:s,relative:r,viewTransition:o}={}){let a=fs(),l=Hi(),c=Oy(t,{relative:r});return E.useCallback(d=>{if(fQ(d,e)){d.preventDefault();let f=n!==void 0?n:Lv(l)===Lv(c);a(t,{replace:f,state:i,preventScrollReset:s,relative:r,viewTransition:o})}},[l,a,c,n,i,e,t,s,r,o])}var LQ=0,kQ=()=>`__${String(++LQ)}__`;function BQ(){let{router:t}=GG("useSubmit"),{basename:e}=E.useContext(sa),n=sQ();return E.useCallback(async(i,s={})=>{let{action:r,method:o,encType:a,formData:l,body:c}=gQ(i,e);if(s.navigate===!1){let d=s.fetcherKey||kQ();await t.fetch(d,n,s.action||r,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await t.navigate(s.action||r,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function HQ(t,{relative:e}={}){let{basename:n}=E.useContext(sa),i=E.useContext(Po);Un(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),r={...Oy(t||".",{relative:e})},o=Hi();if(t==null){r.search=o.search;let a=new URLSearchParams(r.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let d=a.toString();r.search=d?`?${d}`:""}}return(!t||t===".")&&s.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(r.pathname=r.pathname==="/"?n:_l([n,r.pathname])),Lv(r)}function VQ(t,e={}){let n=E.useContext(FG);Un(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=GG("useViewTransitionState"),s=Oy(t,{relative:e.relative});if(!n.isTransitioning)return!1;let r=nu(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=nu(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Ww(s.pathname,o)!=null||Ww(s.pathname,r)!=null}new TextEncoder;var ky=xG();const qf=du(ky),zQ="/assets/logo-fs-tagline-DlvnjOS_.svg",UG="/assets/banner-img-CVmj1Y4L.svg",GQ="/assets/image_01-Bw4Eq20w.svg",UQ="/assets/image_02-CUmk-20p.svg",jQ="/assets/windows-Cw7GFvmH.jpeg",jG="/assets/keyboard-startup-D-aMRpeq.svg",WG="/assets/video-template-Fd7sU5C6.mp4",$G=E.createContext({});function WQ(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const YD=E.createContext(null),qG=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function $Q(t=!0){const e=E.useContext(YD);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=e,r=E.useId();E.useEffect(()=>{if(t)return s(r)},[t]);const o=E.useCallback(()=>t&&i&&i(r),[r,i,t]);return!n&&i?[!1,o]:[!0]}const XD=typeof window<"u",qQ=XD?E.useLayoutEffect:E.useEffect,Vr=t=>t;let KG=Vr;function ZD(t){let e;return()=>(e===void 0&&(e=t()),e)}const Cp=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},Fl=t=>t*1e3,Nl=t=>t/1e3,KQ={useManualTiming:!1},Bx=["read","resolveKeyframes","update","preRender","render","postRender"],f3={value:null};function YQ(t,e){let n=new Set,i=new Set,s=!1,r=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(f){o.has(f)&&(d.schedule(f),t()),l++,f(a)}const d={schedule:(f,p=!1,m=!1)=>{const C=m&&s?n:i;return p&&o.add(f),C.has(f)||C.add(f),f},cancel:f=>{i.delete(f),o.delete(f)},process:f=>{if(a=f,s){r=!0;return}s=!0,[n,i]=[i,n],n.forEach(c),e&&f3.value&&f3.value.frameloop[e].push(l),l=0,n.clear(),s=!1,r&&(r=!1,d.process(f))}};return d}const XQ=40;function YG(t,e){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},r=()=>n=!0,o=Bx.reduce((w,M)=>(w[M]=YQ(r,e?M:void 0),w),{}),{read:a,resolveKeyframes:l,update:c,preRender:d,render:f,postRender:p}=o,m=()=>{const w=performance.now();n=!1,s.delta=i?1e3/60:Math.max(Math.min(w-s.timestamp,XQ),1),s.timestamp=w,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),d.process(s),f.process(s),p.process(s),s.isProcessing=!1,n&&e&&(i=!1,t(m))},y=()=>{n=!0,i=!0,s.isProcessing||t(m)};return{schedule:Bx.reduce((w,M)=>{const S=o[M];return w[M]=(R,P=!1,F=!1)=>(n||y(),S.schedule(R,P,F)),w},{}),cancel:w=>{for(let M=0;M<Bx.length;M++)o[Bx[M]].cancel(w)},state:s,steps:o}}const{schedule:Bn,cancel:iu,state:ss,steps:KT}=YG(typeof requestAnimationFrame<"u"?requestAnimationFrame:Vr,!0),XG=E.createContext({strict:!1}),p3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wp={};for(const t in p3)wp[t]={isEnabled:e=>p3[t].some(n=>!!e[n])};function ZQ(t){for(const e in t)wp[e]={...wp[e],...t[e]}}const JQ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $w(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||JQ.has(t)}let ZG=t=>!$w(t);function QQ(t){t&&(ZG=e=>e.startsWith("on")?!$w(e):t(e))}try{QQ(require("@emotion/is-prop-valid").default)}catch{}function eee(t,e,n){const i={};for(const s in t)s==="values"&&typeof t.values=="object"||(ZG(s)||n===!0&&$w(s)||!e&&!$w(s)||t.draggable&&s.startsWith("onDrag"))&&(i[s]=t[s]);return i}function tee(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const zS=E.createContext({});function GS(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function kv(t){return typeof t=="string"||Array.isArray(t)}const JD=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],QD=["initial",...JD];function US(t){return GS(t.animate)||QD.some(e=>kv(t[e]))}function JG(t){return!!(US(t)||t.variants)}function nee(t,e){if(US(t)){const{initial:n,animate:i}=t;return{initial:n===!1||kv(n)?n:void 0,animate:kv(i)?i:void 0}}return t.inherit!==!1?e:{}}function iee(t){const{initial:e,animate:n}=nee(t,E.useContext(zS));return E.useMemo(()=>({initial:e,animate:n}),[m3(e),m3(n)])}function m3(t){return Array.isArray(t)?t.join(" "):t}const see=Symbol.for("motionComponentSymbol");function Kf(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function ree(t,e,n){return E.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Kf(n)&&(n.current=i))},[e])}const e_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),oee="framerAppearId",QG="data-"+e_(oee),{schedule:t_}=YG(queueMicrotask,!1),eU=E.createContext({});function aee(t,e,n,i,s){var r,o;const{visualElement:a}=E.useContext(zS),l=E.useContext(XG),c=E.useContext(YD),d=E.useContext(qG).reducedMotion,f=E.useRef(null);i=i||l.renderer,!f.current&&i&&(f.current=i(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const p=f.current,m=E.useContext(eU);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&lee(f.current,n,s,m);const y=E.useRef(!1);E.useInsertionEffect(()=>{p&&y.current&&p.update(n,c)});const C=n[QG],x=E.useRef(!!C&&!(!((r=window.MotionHandoffIsComplete)===null||r===void 0)&&r.call(window,C))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,C)));return qQ(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),t_.render(p.render),x.current&&p.animationState&&p.animationState.animateChanges())}),E.useEffect(()=>{p&&(!x.current&&p.animationState&&p.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)===null||w===void 0||w.call(window,C)}),x.current=!1))}),p}function lee(t,e,n,i){const{layoutId:s,layout:r,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:tU(t.parent)),t.projection.setOptions({layoutId:s,layout:r,alwaysMeasureLayout:!!o||a&&Kf(a),visualElement:t,animationType:typeof r=="string"?r:"both",initialPromotionConfig:i,layoutScroll:l,layoutRoot:c})}function tU(t){if(t)return t.options.allowProjection!==!1?t.projection:tU(t.parent)}function cee({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:s}){var r,o;t&&ZQ(t);function a(c,d){let f;const p={...E.useContext(qG),...c,layoutId:uee(c)},{isStatic:m}=p,y=iee(c),C=i(c,m);if(!m&&XD){dee();const x=hee(p);f=x.MeasureLayout,y.visualElement=aee(s,C,p,e,x.ProjectionNode)}return v.jsxs(zS.Provider,{value:y,children:[f&&y.visualElement?v.jsx(f,{visualElement:y.visualElement,...p}):null,n(s,c,ree(C,y.visualElement,d),C,m,y.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${(o=(r=s.displayName)!==null&&r!==void 0?r:s.name)!==null&&o!==void 0?o:""})`}`;const l=E.forwardRef(a);return l[see]=s,l}function uee({layoutId:t}){const e=E.useContext($G).id;return e&&t!==void 0?e+"-"+t:t}function dee(t,e){E.useContext(XG).strict}function hee(t){const{drag:e,layout:n}=wp;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const nU=t=>e=>typeof e=="string"&&e.startsWith(t),n_=nU("--"),fee=nU("var(--"),i_=t=>fee(t)?pee.test(t.split("/*")[0].trim()):!1,pee=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Bv={};function mee(t){for(const e in t)Bv[e]=t[e],n_(e)&&(Bv[e].isCSSVariable=!0)}const qp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ch=new Set(qp);function iU(t,{layout:e,layoutId:n}){return Ch.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Bv[t]||t==="opacity")}const Ts=t=>!!(t&&t.getVelocity),sU=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Gl=(t,e,n)=>n>e?e:n<t?t:n,Kp={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Hv={...Kp,transform:t=>Gl(0,1,t)},Hx={...Kp,default:1},By=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Fc=By("deg"),Da=By("%"),Et=By("px"),gee=By("vh"),vee=By("vw"),g3={...Da,parse:t=>Da.parse(t)/100,transform:t=>Da.transform(t*100)},yee={borderWidth:Et,borderTopWidth:Et,borderRightWidth:Et,borderBottomWidth:Et,borderLeftWidth:Et,borderRadius:Et,radius:Et,borderTopLeftRadius:Et,borderTopRightRadius:Et,borderBottomRightRadius:Et,borderBottomLeftRadius:Et,width:Et,maxWidth:Et,height:Et,maxHeight:Et,top:Et,right:Et,bottom:Et,left:Et,padding:Et,paddingTop:Et,paddingRight:Et,paddingBottom:Et,paddingLeft:Et,margin:Et,marginTop:Et,marginRight:Et,marginBottom:Et,marginLeft:Et,backgroundPositionX:Et,backgroundPositionY:Et},xee={rotate:Fc,rotateX:Fc,rotateY:Fc,rotateZ:Fc,scale:Hx,scaleX:Hx,scaleY:Hx,scaleZ:Hx,skew:Fc,skewX:Fc,skewY:Fc,distance:Et,translateX:Et,translateY:Et,translateZ:Et,x:Et,y:Et,z:Et,perspective:Et,transformPerspective:Et,opacity:Hv,originX:g3,originY:g3,originZ:Et},v3={...Kp,transform:Math.round},s_={...yee,...xee,zIndex:v3,size:Et,fillOpacity:Hv,strokeOpacity:Hv,numOctaves:v3},Cee={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},wee=qp.length;function bee(t,e,n){let i="",s=!0;for(let r=0;r<wee;r++){const o=qp[r],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=sU(a,s_[o]);if(!l){s=!1;const d=Cee[o]||o;i+=`${d}(${c}) `}n&&(e[o]=c)}}return i=i.trim(),n?i=n(e,s?"":i):s&&(i="none"),i}function r_(t,e,n){const{style:i,vars:s,transformOrigin:r}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Ch.has(l)){o=!0;continue}else if(n_(l)){s[l]=c;continue}else{const d=sU(c,s_[l]);l.startsWith("origin")?(a=!0,r[l]=d):i[l]=d}}if(e.transform||(o||n?i.transform=bee(e,t.transform,n):i.transform&&(i.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=r;i.transformOrigin=`${l} ${c} ${d}`}}const o_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rU(t,e,n){for(const i in e)!Ts(e[i])&&!iU(i,n)&&(t[i]=e[i])}function See({transformTemplate:t},e){return E.useMemo(()=>{const n=o_();return r_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Eee(t,e){const n=t.style||{},i={};return rU(i,n,t),Object.assign(i,See(t,e)),i}function Mee(t,e){const n={},i=Eee(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const Tee=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function a_(t){return typeof t!="string"||t.includes("-")?!1:!!(Tee.indexOf(t)>-1||/[A-Z]/u.test(t))}const Ree={offset:"stroke-dashoffset",array:"stroke-dasharray"},Aee={offset:"strokeDashoffset",array:"strokeDasharray"};function Pee(t,e,n=1,i=0,s=!0){t.pathLength=1;const r=s?Ree:Aee;t[r.offset]=Et.transform(-i);const o=Et.transform(e),a=Et.transform(n);t[r.array]=`${o} ${a}`}function y3(t,e,n){return typeof t=="string"?t:Et.transform(e+n*t)}function Dee(t,e,n){const i=y3(e,t.x,t.width),s=y3(n,t.y,t.height);return`${i} ${s}`}function l_(t,{attrX:e,attrY:n,attrScale:i,originX:s,originY:r,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,f){if(r_(t,c,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:m,dimensions:y}=t;p.transform&&(y&&(m.transform=p.transform),delete p.transform),y&&(s!==void 0||r!==void 0||m.transform)&&(m.transformOrigin=Dee(y,s!==void 0?s:.5,r!==void 0?r:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),i!==void 0&&(p.scale=i),o!==void 0&&Pee(p,o,a,l,!1)}const oU=()=>({...o_(),attrs:{}}),c_=t=>typeof t=="string"&&t.toLowerCase()==="svg";function _ee(t,e,n,i){const s=E.useMemo(()=>{const r=oU();return l_(r,e,c_(i),t.transformTemplate),{...r.attrs,style:{...r.style}}},[e]);if(t.style){const r={};rU(r,t.style,t),s.style={...r,...s.style}}return s}function Fee(t=!1){return(n,i,s,{latestValues:r},o)=>{const l=(a_(n)?_ee:Mee)(i,r,o,n),c=eee(i,typeof n=="string",t),d=n!==E.Fragment?{...c,...l,ref:s}:{},{children:f}=i,p=E.useMemo(()=>Ts(f)?f.get():f,[f]);return E.createElement(n,{...d,children:p})}}function x3(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function u_(t,e,n,i){if(typeof e=="function"){const[s,r]=x3(i);e=e(n!==void 0?n:t.custom,s,r)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,r]=x3(i);e=e(n!==void 0?n:t.custom,s,r)}return e}const x2=t=>Array.isArray(t),Nee=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Iee=t=>x2(t)?t[t.length-1]||0:t;function aw(t){const e=Ts(t)?t.get():t;return Nee(e)?e.toValue():e}function Oee({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},i,s,r){const o={latestValues:Lee(i,s,r,t),renderState:e()};return n&&(o.onMount=a=>n({props:i,current:a,...o}),o.onUpdate=a=>n(a)),o}const aU=t=>(e,n)=>{const i=E.useContext(zS),s=E.useContext(YD),r=()=>Oee(t,e,i,s);return n?r():WQ(r)};function Lee(t,e,n,i){const s={},r=i(t,{});for(const p in r)s[p]=aw(r[p]);let{initial:o,animate:a}=t;const l=US(t),c=JG(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?a:o;if(f&&typeof f!="boolean"&&!GS(f)){const p=Array.isArray(f)?f:[f];for(let m=0;m<p.length;m++){const y=u_(t,p[m]);if(y){const{transitionEnd:C,transition:x,...w}=y;for(const M in w){let S=w[M];if(Array.isArray(S)){const R=d?S.length-1:0;S=S[R]}S!==null&&(s[M]=S)}for(const M in C)s[M]=C[M]}}}return s}function d_(t,e,n){var i;const{style:s}=t,r={};for(const o in s)(Ts(s[o])||e.style&&Ts(e.style[o])||iU(o,t)||((i=n==null?void 0:n.getValue(o))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(r[o]=s[o]);return r}const kee={useVisualState:aU({scrapeMotionValuesFromProps:d_,createRenderState:o_})};function lU(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function cU(t,{style:e,vars:n},i,s){Object.assign(t.style,e,s&&s.getProjectionStyles(i));for(const r in n)t.style.setProperty(r,n[r])}const uU=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function dU(t,e,n,i){cU(t,e,void 0,i);for(const s in e.attrs)t.setAttribute(uU.has(s)?s:e_(s),e.attrs[s])}function hU(t,e,n){const i=d_(t,e,n);for(const s in t)if(Ts(t[s])||Ts(e[s])){const r=qp.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[r]=t[s]}return i}const C3=["x","y","width","height","cx","cy","r"],Bee={useVisualState:aU({scrapeMotionValuesFromProps:hU,createRenderState:oU,onUpdate:({props:t,prevProps:e,current:n,renderState:i,latestValues:s})=>{if(!n)return;let r=!!t.drag;if(!r){for(const a in s)if(Ch.has(a)){r=!0;break}}if(!r)return;let o=!e;if(e)for(let a=0;a<C3.length;a++){const l=C3[a];t[l]!==e[l]&&(o=!0)}o&&Bn.read(()=>{lU(n,i),Bn.render(()=>{l_(i,s,c_(n.tagName),t.transformTemplate),dU(n,i)})})}})};function Hee(t,e){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...a_(i)?Bee:kee,preloadedFeatures:t,useRender:Fee(s),createVisualElement:e,Component:i};return cee(o)}}function Vv(t,e,n){const i=t.getProps();return u_(i,e,n!==void 0?n:i.custom,t)}const Vee=ZD(()=>window.ScrollTimeline!==void 0);class zee{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(s=>{if(Vee()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{i.forEach((s,r)=>{s&&s(),this.animations[r].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Gee extends zee{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function h_(t,e){return t?t[e]||t.default||t:void 0}const C2=2e4;function fU(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<C2;)e+=n,i=t.next(e);return e>=C2?1/0:e}function f_(t){return typeof t=="function"}function w3(t,e){t.timeline=e,t.onfinish=null}const p_=t=>Array.isArray(t)&&typeof t[0]=="number",Uee={linearEasing:void 0};function jee(t,e){const n=ZD(t);return()=>{var i;return(i=Uee[e])!==null&&i!==void 0?i:n()}}const qw=jee(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),pU=(t,e,n=10)=>{let i="";const s=Math.max(Math.round(e/n),2);for(let r=0;r<s;r++)i+=t(Cp(0,s-1,r))+", ";return`linear(${i.substring(0,i.length-2)})`};function mU(t){return!!(typeof t=="function"&&qw()||!t||typeof t=="string"&&(t in w2||qw())||p_(t)||Array.isArray(t)&&t.every(mU))}const jg=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,w2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:jg([0,.65,.55,1]),circOut:jg([.55,0,1,.45]),backIn:jg([.31,.01,.66,-.59]),backOut:jg([.33,1.53,.69,.99])};function gU(t,e){if(t)return typeof t=="function"&&qw()?pU(t,e):p_(t)?jg(t):Array.isArray(t)?t.map(n=>gU(n,e)||w2.easeOut):w2[t]}const zo={x:!1,y:!1};function vU(){return zo.x||zo.y}function Wee(t,e,n){var i;if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const r=(i=void 0)!==null&&i!==void 0?i:s.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}function yU(t,e){const n=Wee(t),i=new AbortController,s={passive:!0,...e,signal:i.signal};return[n,s,()=>i.abort()]}function b3(t){return!(t.pointerType==="touch"||vU())}function $ee(t,e,n={}){const[i,s,r]=yU(t,n),o=a=>{if(!b3(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const d=f=>{b3(f)&&(c(f),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,s)};return i.forEach(a=>{a.addEventListener("pointerenter",o,s)}),r}function sv(t,e){const n=`${e}PointerCapture`;if(t.target instanceof Element&&n in t.target&&t.pointerId!==void 0)try{t.target[n](t.pointerId)}catch{}}const xU=(t,e)=>e?t===e?!0:xU(t,e.parentElement):!1,m_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,qee=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Kee(t){return qee.has(t.tagName)||t.tabIndex!==-1}const Wg=new WeakSet;function S3(t){return e=>{e.key==="Enter"&&t(e)}}function YT(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Yee=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=S3(()=>{if(Wg.has(n))return;YT(n,"down");const s=S3(()=>{YT(n,"up")}),r=()=>YT(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",r,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function E3(t){return m_(t)&&!vU()}function Xee(t,e,n={}){const[i,s,r]=yU(t,n),o=a=>{const l=a.currentTarget;if(!l||!E3(a)||Wg.has(l))return;Wg.add(l),sv(a,"set");const c=e(l,a),d=(m,y)=>{l.removeEventListener("pointerup",f),l.removeEventListener("pointercancel",p),sv(m,"release"),!(!E3(m)||!Wg.has(l))&&(Wg.delete(l),typeof c=="function"&&c(m,{success:y}))},f=m=>{(m.isTrusted?Zee(m,l instanceof Element?l.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?d(m,!1):d(m,!(l instanceof Element)||xU(l,m.target))},p=m=>{d(m,!1)};l.addEventListener("pointerup",f,s),l.addEventListener("pointercancel",p,s),l.addEventListener("lostpointercapture",p,s)};return i.forEach(a=>{a=n.useGlobalTarget?window:a;let l=!1;a instanceof HTMLElement&&(l=!0,!Kee(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0)),a.addEventListener("pointerdown",o,s),l&&a.addEventListener("focus",c=>Yee(c,s),s)}),r}function Zee(t,e){return t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom}function Jee(t){return t==="x"||t==="y"?zo[t]?null:(zo[t]=!0,()=>{zo[t]=!1}):zo.x||zo.y?null:(zo.x=zo.y=!0,()=>{zo.x=zo.y=!1})}const CU=new Set(["width","height","top","left","right","bottom",...qp]);let lw;function Qee(){lw=void 0}const _a={now:()=>(lw===void 0&&_a.set(ss.isProcessing||KQ.useManualTiming?ss.timestamp:performance.now()),lw),set:t=>{lw=t,queueMicrotask(Qee)}};function g_(t,e){t.indexOf(e)===-1&&t.push(e)}function v_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class y_{constructor(){this.subscriptions=[]}add(e){return g_(this.subscriptions,e),()=>v_(this.subscriptions,e)}notify(e,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,i);else for(let r=0;r<s;r++){const o=this.subscriptions[r];o&&o(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function wU(t,e){return e?t*(1e3/e):0}const M3=30,ete=t=>!isNaN(parseFloat(t));class tte{constructor(e,n={}){this.version="12.4.11",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{const r=_a.now();this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=_a.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=ete(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new y_);const i=this.events[e].add(n);return e==="change"?()=>{i(),Bn.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=_a.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>M3)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,M3);return wU(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zv(t,e){return new tte(t,e)}function nte(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,zv(n))}function ite(t,e){const n=Vv(t,e);let{transitionEnd:i={},transition:s={},...r}=n||{};r={...r,...i};for(const o in r){const a=Iee(r[o]);nte(t,o,a)}}function ste(t){return!!(Ts(t)&&t.add)}function b2(t,e){const n=t.getValue("willChange");if(ste(n))return n.add(e)}function bU(t){return t.props[QG]}const SU=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,rte=1e-7,ote=12;function ate(t,e,n,i,s){let r,o,a=0;do o=e+(n-e)/2,r=SU(o,i,s)-t,r>0?n=o:e=o;while(Math.abs(r)>rte&&++a<ote);return o}function Hy(t,e,n,i){if(t===e&&n===i)return Vr;const s=r=>ate(r,0,1,t,n);return r=>r===0||r===1?r:SU(s(r),e,i)}const EU=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,MU=t=>e=>1-t(1-e),TU=Hy(.33,1.53,.69,.99),x_=MU(TU),RU=EU(x_),AU=t=>(t*=2)<1?.5*x_(t):.5*(2-Math.pow(2,-10*(t-1))),C_=t=>1-Math.sin(Math.acos(t)),PU=MU(C_),DU=EU(C_),_U=t=>/^0[^.\s]+$/u.test(t);function lte(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||_U(t):!0}const rv=t=>Math.round(t*1e5)/1e5,w_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function cte(t){return t==null}const ute=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,b_=(t,e)=>n=>!!(typeof n=="string"&&ute.test(n)&&n.startsWith(t)||e&&!cte(n)&&Object.prototype.hasOwnProperty.call(n,e)),FU=(t,e,n)=>i=>{if(typeof i!="string")return i;const[s,r,o,a]=i.match(w_);return{[t]:parseFloat(s),[e]:parseFloat(r),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},dte=t=>Gl(0,255,t),XT={...Kp,transform:t=>Math.round(dte(t))},Rd={test:b_("rgb","red"),parse:FU("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+XT.transform(t)+", "+XT.transform(e)+", "+XT.transform(n)+", "+rv(Hv.transform(i))+")"};function hte(t){let e="",n="",i="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const S2={test:b_("#"),parse:hte,transform:Rd.transform},Yf={test:b_("hsl","hue"),parse:FU("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Da.transform(rv(e))+", "+Da.transform(rv(n))+", "+rv(Hv.transform(i))+")"},bs={test:t=>Rd.test(t)||S2.test(t)||Yf.test(t),parse:t=>Rd.test(t)?Rd.parse(t):Yf.test(t)?Yf.parse(t):S2.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Rd.transform(t):Yf.transform(t)},fte=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function pte(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(w_))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(fte))===null||n===void 0?void 0:n.length)||0)>0}const NU="number",IU="color",mte="var",gte="var(",T3="${}",vte=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Gv(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},s=[];let r=0;const a=e.replace(vte,l=>(bs.test(l)?(i.color.push(r),s.push(IU),n.push(bs.parse(l))):l.startsWith(gte)?(i.var.push(r),s.push(mte),n.push(l)):(i.number.push(r),s.push(NU),n.push(parseFloat(l))),++r,T3)).split(T3);return{values:n,split:a,indexes:i,types:s}}function OU(t){return Gv(t).values}function LU(t){const{split:e,types:n}=Gv(t),i=e.length;return s=>{let r="";for(let o=0;o<i;o++)if(r+=e[o],s[o]!==void 0){const a=n[o];a===NU?r+=rv(s[o]):a===IU?r+=bs.transform(s[o]):r+=s[o]}return r}}const yte=t=>typeof t=="number"?0:t;function xte(t){const e=OU(t);return LU(t)(e.map(yte))}const su={test:pte,parse:OU,createTransformer:LU,getAnimatableNone:xte},Cte=new Set(["brightness","contrast","saturate","opacity"]);function wte(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(w_)||[];if(!i)return t;const s=n.replace(i,"");let r=Cte.has(e)?1:0;return i!==n&&(r*=100),e+"("+r+s+")"}const bte=/\b([a-z-]*)\(.*?\)/gu,E2={...su,getAnimatableNone:t=>{const e=t.match(bte);return e?e.map(wte).join(" "):t}},Ste={...s_,color:bs,backgroundColor:bs,outlineColor:bs,fill:bs,stroke:bs,borderColor:bs,borderTopColor:bs,borderRightColor:bs,borderBottomColor:bs,borderLeftColor:bs,filter:E2,WebkitFilter:E2},S_=t=>Ste[t];function kU(t,e){let n=S_(t);return n!==E2&&(n=su),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Ete=new Set(["auto","none","0"]);function Mte(t,e,n){let i=0,s;for(;i<t.length&&!s;){const r=t[i];typeof r=="string"&&!Ete.has(r)&&Gv(r).values.length&&(s=t[i]),i++}if(s&&n)for(const r of e)t[r]=kU(n,s)}const R3=t=>t===Kp||t===Et,A3=(t,e)=>parseFloat(t.split(", ")[e]),P3=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/u);if(s)return A3(s[1],e);{const r=i.match(/^matrix\((.+)\)$/u);return r?A3(r[1],t):0}},Tte=new Set(["x","y","z"]),Rte=qp.filter(t=>!Tte.has(t));function Ate(t){const e=[];return Rte.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const bp={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:P3(4,13),y:P3(5,14)};bp.translateX=bp.x;bp.translateY=bp.y;const Vd=new Set;let M2=!1,T2=!1;function BU(){if(T2){const t=Array.from(Vd).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const s=Ate(i);s.length&&(n.set(i,s),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([r,o])=>{var a;(a=i.getValue(r))===null||a===void 0||a.set(o)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}T2=!1,M2=!1,Vd.forEach(t=>t.complete()),Vd.clear()}function HU(){Vd.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(T2=!0)})}function Pte(){HU(),BU()}class E_{constructor(e,n,i,s,r,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=s,this.element=r,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Vd.add(this),M2||(M2=!0,Bn.read(HU),Bn.resolveKeyframes(BU))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:s}=this;for(let r=0;r<e.length;r++)if(e[r]===null)if(r===0){const o=s==null?void 0:s.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&n){const l=i.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&o===void 0&&s.set(e[0])}else e[r]=e[r-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Vd.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Vd.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const VU=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Dte=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function _te(t){const e=Dte.exec(t);if(!e)return[,];const[,n,i,s]=e;return[`--${n??i}`,s]}function zU(t,e,n=1){const[i,s]=_te(t);if(!i)return;const r=window.getComputedStyle(e).getPropertyValue(i);if(r){const o=r.trim();return VU(o)?parseFloat(o):o}return i_(s)?zU(s,e,n+1):s}const GU=t=>e=>e.test(t),Fte={test:t=>t==="auto",parse:t=>t},UU=[Kp,Et,Da,Fc,vee,gee,Fte],D3=t=>UU.find(GU(t));class jU extends E_{constructor(e,n,i,s,r){super(e,n,i,s,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),i_(c))){const d=zU(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!CU.has(i)||e.length!==2)return;const[s,r]=e,o=D3(s),a=D3(r);if(o!==a)if(R3(o)&&R3(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let s=0;s<e.length;s++)lte(e[s])&&i.push(s);i.length&&Mte(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=bp[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(i,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:i,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const r=n.getValue(i);r&&r.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=bp[i](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const _3=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(su.test(t)||t==="0")&&!t.startsWith("url("));function Nte(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Ite(t,e,n,i){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const r=t[t.length-1],o=_3(s,e),a=_3(r,e);return!o||!a?!1:Nte(t)||(n==="spring"||f_(n))&&i}const Ote=t=>t!==null;function jS(t,{repeat:e,repeatType:n="loop"},i){const s=t.filter(Ote),r=e&&n!=="loop"&&e%2===1?0:s.length-1;return!r||i===void 0?s[r]:i}const Lte=40;class WU{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=_a.now(),this.options={autoplay:e,delay:n,type:i,repeat:s,repeatDelay:r,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Lte?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Pte(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=_a.now(),this.hasAttemptedResolve=!0;const{name:i,type:s,velocity:r,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!Ite(e,i,s,r))if(o)this.options.duration=0;else{l&&l(jS(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Yn=(t,e,n)=>t+(e-t)*n;function ZT(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function kte({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let s=0,r=0,o=0;if(!e)s=r=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=ZT(l,a,t+1/3),r=ZT(l,a,t),o=ZT(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(r*255),blue:Math.round(o*255),alpha:i}}function Kw(t,e){return n=>n>0?e:t}const JT=(t,e,n)=>{const i=t*t,s=n*(e*e-i)+i;return s<0?0:Math.sqrt(s)},Bte=[S2,Rd,Yf],Hte=t=>Bte.find(e=>e.test(t));function F3(t){const e=Hte(t);if(!e)return!1;let n=e.parse(t);return e===Yf&&(n=kte(n)),n}const N3=(t,e)=>{const n=F3(t),i=F3(e);if(!n||!i)return Kw(t,e);const s={...n};return r=>(s.red=JT(n.red,i.red,r),s.green=JT(n.green,i.green,r),s.blue=JT(n.blue,i.blue,r),s.alpha=Yn(n.alpha,i.alpha,r),Rd.transform(s))},Vte=(t,e)=>n=>e(t(n)),Vy=(...t)=>t.reduce(Vte),R2=new Set(["none","hidden"]);function zte(t,e){return R2.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Gte(t,e){return n=>Yn(t,e,n)}function M_(t){return typeof t=="number"?Gte:typeof t=="string"?i_(t)?Kw:bs.test(t)?N3:Wte:Array.isArray(t)?$U:typeof t=="object"?bs.test(t)?N3:Ute:Kw}function $U(t,e){const n=[...t],i=n.length,s=t.map((r,o)=>M_(r)(r,e[o]));return r=>{for(let o=0;o<i;o++)n[o]=s[o](r);return n}}function Ute(t,e){const n={...t,...e},i={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(i[s]=M_(t[s])(t[s],e[s]));return s=>{for(const r in i)n[r]=i[r](s);return n}}function jte(t,e){var n;const i=[],s={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const o=e.types[r],a=t.indexes[o][s[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;i[r]=l,s[o]++}return i}const Wte=(t,e)=>{const n=su.createTransformer(e),i=Gv(t),s=Gv(e);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?R2.has(t)&&!s.values.length||R2.has(e)&&!i.values.length?zte(t,e):Vy($U(jte(i,s),s.values),n):Kw(t,e)};function qU(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Yn(t,e,n):M_(t)(t,e)}const $te=5;function KU(t,e,n){const i=Math.max(e-$te,0);return wU(n-t(i),e-i)}const ai={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},I3=.001;function qte({duration:t=ai.duration,bounce:e=ai.bounce,velocity:n=ai.velocity,mass:i=ai.mass}){let s,r,o=1-e;o=Gl(ai.minDamping,ai.maxDamping,o),t=Gl(ai.minDuration,ai.maxDuration,Nl(t)),o<1?(s=c=>{const d=c*o,f=d*t,p=d-n,m=A2(c,o),y=Math.exp(-f);return I3-p/m*y},r=c=>{const f=c*o*t,p=f*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,y=Math.exp(-f),C=A2(Math.pow(c,2),o);return(-s(c)+I3>0?-1:1)*((p-m)*y)/C}):(s=c=>{const d=Math.exp(-c*t),f=(c-n)*t+1;return-.001+d*f},r=c=>{const d=Math.exp(-c*t),f=(n-c)*(t*t);return d*f});const a=5/t,l=Yte(s,r,a);if(t=Fl(t),isNaN(l))return{stiffness:ai.stiffness,damping:ai.damping,duration:t};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:t}}}const Kte=12;function Yte(t,e,n){let i=n;for(let s=1;s<Kte;s++)i=i-t(i)/e(i);return i}function A2(t,e){return t*Math.sqrt(1-e*e)}const Xte=["duration","bounce"],Zte=["stiffness","damping","mass"];function O3(t,e){return e.some(n=>t[n]!==void 0)}function Jte(t){let e={velocity:ai.velocity,stiffness:ai.stiffness,damping:ai.damping,mass:ai.mass,isResolvedFromDuration:!1,...t};if(!O3(t,Zte)&&O3(t,Xte))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,r=2*Gl(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:ai.mass,stiffness:s,damping:r}}else{const n=qte(t);e={...e,...n,mass:ai.mass},e.isResolvedFromDuration=!0}return e}function YU(t=ai.visualDuration,e=ai.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:s}=n;const r=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:r},{stiffness:l,damping:c,mass:d,duration:f,velocity:p,isResolvedFromDuration:m}=Jte({...n,velocity:-Nl(n.velocity||0)}),y=p||0,C=c/(2*Math.sqrt(l*d)),x=o-r,w=Nl(Math.sqrt(l/d)),M=Math.abs(x)<5;i||(i=M?ai.restSpeed.granular:ai.restSpeed.default),s||(s=M?ai.restDelta.granular:ai.restDelta.default);let S;if(C<1){const P=A2(w,C);S=F=>{const N=Math.exp(-C*w*F);return o-N*((y+C*w*x)/P*Math.sin(P*F)+x*Math.cos(P*F))}}else if(C===1)S=P=>o-Math.exp(-w*P)*(x+(y+w*x)*P);else{const P=w*Math.sqrt(C*C-1);S=F=>{const N=Math.exp(-C*w*F),I=Math.min(P*F,300);return o-N*((y+C*w*x)*Math.sinh(I)+P*x*Math.cosh(I))/P}}const R={calculatedDuration:m&&f||null,next:P=>{const F=S(P);if(m)a.done=P>=f;else{let N=0;C<1&&(N=P===0?Fl(y):KU(S,P,F));const I=Math.abs(N)<=i,_=Math.abs(o-F)<=s;a.done=I&&_}return a.value=a.done?o:F,a},toString:()=>{const P=Math.min(fU(R),C2),F=pU(N=>R.next(P*N).value,P,30);return P+"ms "+F}};return R}function L3({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:r=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const f=t[0],p={done:!1,value:f},m=I=>a!==void 0&&I<a||l!==void 0&&I>l,y=I=>a===void 0?l:l===void 0||Math.abs(a-I)<Math.abs(l-I)?a:l;let C=n*e;const x=f+C,w=o===void 0?x:o(x);w!==x&&(C=w-f);const M=I=>-C*Math.exp(-I/i),S=I=>w+M(I),R=I=>{const _=M(I),A=S(I);p.done=Math.abs(_)<=c,p.value=p.done?w:A};let P,F;const N=I=>{m(p.value)&&(P=I,F=YU({keyframes:[p.value,y(p.value)],velocity:KU(S,I,p.value),damping:s,stiffness:r,restDelta:c,restSpeed:d}))};return N(0),{calculatedDuration:null,next:I=>{let _=!1;return!F&&P===void 0&&(_=!0,R(I),N(I)),P!==void 0&&I>=P?F.next(I-P):(!_&&R(I),p)}}}const Qte=Hy(.42,0,1,1),ene=Hy(0,0,.58,1),XU=Hy(.42,0,.58,1),tne=t=>Array.isArray(t)&&typeof t[0]!="number",nne={linear:Vr,easeIn:Qte,easeInOut:XU,easeOut:ene,circIn:C_,circInOut:DU,circOut:PU,backIn:x_,backInOut:RU,backOut:TU,anticipate:AU},k3=t=>{if(p_(t)){KG(t.length===4);const[e,n,i,s]=t;return Hy(e,n,i,s)}else if(typeof t=="string")return nne[t];return t};function ine(t,e,n){const i=[],s=n||qU,r=t.length-1;for(let o=0;o<r;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Vr:e;a=Vy(l,a)}i.push(a)}return i}function sne(t,e,{clamp:n=!0,ease:i,mixer:s}={}){const r=t.length;if(KG(r===e.length),r===1)return()=>e[0];if(r===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[r-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=ine(e,i,s),l=a.length,c=d=>{if(o&&d<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const p=Cp(t[f],t[f+1],d);return a[f](p)};return n?d=>c(Gl(t[0],t[r-1],d)):c}function rne(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const s=Cp(0,e,i);t.push(Yn(n,1,s))}}function one(t){const e=[0];return rne(e,t.length-1),e}function ane(t,e){return t.map(n=>n*e)}function lne(t,e){return t.map(()=>e||XU).splice(0,t.length-1)}function Yw({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const s=tne(i)?i.map(k3):k3(i),r={done:!1,value:e[0]},o=ane(n&&n.length===e.length?n:one(e),t),a=sne(o,e,{ease:Array.isArray(s)?s:lne(e,s)});return{calculatedDuration:t,next:l=>(r.value=a(l),r.done=l>=t,r)}}const cne=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Bn.update(e,!0),stop:()=>iu(e),now:()=>ss.isProcessing?ss.timestamp:_a.now()}},une={decay:L3,inertia:L3,tween:Yw,keyframes:Yw,spring:YU},dne=t=>t/100;class T_ extends WU{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:i,element:s,keyframes:r}=this.options,o=(s==null?void 0:s.KeyframeResolver)||E_,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(r,a,n,i,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:r,velocity:o=0}=this.options,a=f_(n)?n:une[n]||Yw;let l,c;a!==Yw&&typeof e[0]!="number"&&(l=Vy(dne,qU(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});r==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=fU(d));const{calculatedDuration:f}=d,p=f+s,m=p*(i+1)-s;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:p,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:s,generator:r,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:f}=i;if(this.startTime===null)return r.next(0);const{delay:p,repeat:m,repeatType:y,repeatDelay:C,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const w=this.currentTime-p*(this.speed>=0?1:-1),M=this.speed>=0?w<0:w>d;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let S=this.currentTime,R=r;if(m){const I=Math.min(this.currentTime,d)/f;let _=Math.floor(I),A=I%1;!A&&I>=1&&(A=1),A===1&&_--,_=Math.min(_,m+1),!!(_%2)&&(y==="reverse"?(A=1-A,C&&(A-=C/f)):y==="mirror"&&(R=o)),S=Gl(0,1,A)*f}const P=M?{done:!1,value:l[0]}:R.next(S);a&&(P.value=a(P.value));let{done:F}=P;!M&&c!==null&&(F=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return N&&s!==void 0&&(P.value=jS(l,this.options,s)),x&&x(P.value),N&&this.finish(),P}get duration(){const{resolved:e}=this;return e?Nl(e.calculatedDuration):0}get time(){return Nl(this.currentTime)}set time(e){e=Fl(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Nl(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=cne,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const hne=new Set(["opacity","clipPath","filter","transform"]);function fne(t,e,n,{delay:i=0,duration:s=300,repeat:r=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=gU(a,s);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:i,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:r+1,direction:o==="reverse"?"alternate":"normal"})}const pne=ZD(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Xw=10,mne=2e4;function gne(t){return f_(t.type)||t.type==="spring"||!mU(t.ease)}function vne(t,e){const n=new T_({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const s=[];let r=0;for(;!i.done&&r<mne;)i=n.sample(r),s.push(i.value),r+=Xw;return{times:void 0,keyframes:s,duration:r-Xw,ease:"linear"}}const ZU={anticipate:AU,backInOut:RU,circInOut:DU};function yne(t){return t in ZU}class B3 extends WU{constructor(e){super(e);const{name:n,motionValue:i,element:s,keyframes:r}=this.options;this.resolver=new jU(r,(o,a)=>this.onKeyframesResolved(o,a),n,i,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:i=300,times:s,ease:r,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof r=="string"&&qw()&&yne(r)&&(r=ZU[r]),gne(this.options)){const{onComplete:f,onUpdate:p,motionValue:m,element:y,...C}=this.options,x=vne(e,C);e=x.keyframes,e.length===1&&(e[1]=e[0]),i=x.duration,s=x.times,r=x.ease,o="keyframes"}const d=fne(a.owner.current,l,e,{...this.options,duration:i,times:s,ease:r});return d.startTime=c??this.calcStartTime(),this.pendingTimeline?(w3(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;a.set(jS(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:i,times:s,type:o,ease:r,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Nl(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Nl(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=Fl(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Vr;const{animation:i}=n;w3(i,e)}return Vr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:s,type:r,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:f,element:p,...m}=this.options,y=new T_({...m,keyframes:i,duration:s,type:r,ease:o,times:a,isGenerator:!0}),C=Fl(this.time);c.setWithVelocity(y.sample(C-Xw).value,y.sample(C).value,Xw)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:s,repeatType:r,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return pne()&&i&&hne.has(i)&&!l&&!c&&!s&&r!=="mirror"&&o!==0&&a!=="inertia"}}const xne={type:"spring",stiffness:500,damping:25,restSpeed:10},Cne=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),wne={type:"keyframes",duration:.8},bne={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Sne=(t,{keyframes:e})=>e.length>2?wne:Ch.has(t)?t.startsWith("scale")?Cne(e[1]):xne:bne;function Ene({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:r,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const R_=(t,e,n,i={},s,r)=>o=>{const a=h_(i,t)||{},l=a.delay||i.delay||0;let{elapsed:c=0}=i;c=c-Fl(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:r?void 0:s};Ene(a)||(d={...d,...Sne(t,d)}),d.duration&&(d.duration=Fl(d.duration)),d.repeatDelay&&(d.repeatDelay=Fl(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),d.allowFlatten=!a.type&&!a.ease,f&&!r&&e.get()!==void 0){const p=jS(d.keyframes,a);if(p!==void 0)return Bn.update(()=>{d.onUpdate(p),d.onComplete()}),new Gee([])}return!r&&B3.supports(d)?new B3(d):new T_(d)};function Mne({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function JU(t,e,{delay:n=0,transitionOverride:i,type:s}={}){var r;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;i&&(o=i);const c=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const f in l){const p=t.getValue(f,(r=t.latestValues[f])!==null&&r!==void 0?r:null),m=l[f];if(m===void 0||d&&Mne(d,f))continue;const y={delay:n,...h_(o||{},f)};let C=!1;if(window.MotionHandoffAnimation){const w=bU(t);if(w){const M=window.MotionHandoffAnimation(w,f,Bn);M!==null&&(y.startTime=M,C=!0)}}b2(t,f),p.start(R_(f,p,m,t.shouldReduceMotion&&CU.has(f)?{type:!1}:y,t,C));const x=p.animation;x&&c.push(x)}return a&&Promise.all(c).then(()=>{Bn.update(()=>{a&&ite(t,a)})}),c}function P2(t,e,n={}){var i;const s=Vv(t,e,n.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const o=s?()=>Promise.all(JU(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:p}=r;return Tne(t,e,d+c,f,p,n)}:()=>Promise.resolve(),{when:l}=r;if(l){const[c,d]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function Tne(t,e,n=0,i=0,s=1,r){const o=[],a=(t.variantChildren.size-1)*i,l=s===1?(c=0)=>c*i:(c=0)=>a-c*i;return Array.from(t.variantChildren).sort(Rne).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(P2(c,e,{...r,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function Rne(t,e){return t.sortNodePosition(e)}function Ane(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(r=>P2(t,r,n));i=Promise.all(s)}else if(typeof e=="string")i=P2(t,e,n);else{const s=typeof e=="function"?Vv(t,e,n.custom):e;i=Promise.all(JU(t,s,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function QU(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const Pne=QD.length;function ej(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?ej(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Pne;n++){const i=QD[n],s=t.props[i];(kv(s)||s===!1)&&(e[i]=s)}return e}const Dne=[...JD].reverse(),_ne=JD.length;function Fne(t){return e=>Promise.all(e.map(({animation:n,options:i})=>Ane(t,n,i)))}function Nne(t){let e=Fne(t),n=H3(),i=!0;const s=l=>(c,d)=>{var f;const p=Vv(t,d,l==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(p){const{transition:m,transitionEnd:y,...C}=p;c={...c,...C,...y}}return c};function r(l){e=l(t)}function o(l){const{props:c}=t,d=ej(t.parent)||{},f=[],p=new Set;let m={},y=1/0;for(let x=0;x<_ne;x++){const w=Dne[x],M=n[w],S=c[w]!==void 0?c[w]:d[w],R=kv(S),P=w===l?M.isActive:null;P===!1&&(y=x);let F=S===d[w]&&S!==c[w]&&R;if(F&&i&&t.manuallyAnimateOnMount&&(F=!1),M.protectedKeys={...m},!M.isActive&&P===null||!S&&!M.prevProp||GS(S)||typeof S=="boolean")continue;const N=Ine(M.prevProp,S);let I=N||w===l&&M.isActive&&!F&&R||x>y&&R,_=!1;const A=Array.isArray(S)?S:[S];let O=A.reduce(s(w),{});P===!1&&(O={});const{prevResolvedValues:k={}}=M,z={...k,...O},W=Q=>{I=!0,p.has(Q)&&(_=!0,p.delete(Q)),M.needsAnimating[Q]=!0;const q=t.getValue(Q);q&&(q.liveStyle=!1)};for(const Q in z){const q=O[Q],X=k[Q];if(m.hasOwnProperty(Q))continue;let H=!1;x2(q)&&x2(X)?H=!QU(q,X):H=q!==X,H?q!=null?W(Q):p.add(Q):q!==void 0&&p.has(Q)?W(Q):M.protectedKeys[Q]=!0}M.prevProp=S,M.prevResolvedValues=O,M.isActive&&(m={...m,...O}),i&&t.blockInitialAnimation&&(I=!1),I&&(!(F&&N)||_)&&f.push(...A.map(Q=>({animation:Q,options:{type:w}})))}if(p.size){const x={};if(typeof c.initial!="boolean"){const w=Vv(t,Array.isArray(c.initial)?c.initial[0]:c.initial);w&&w.transition&&(x.transition=w.transition)}p.forEach(w=>{const M=t.getBaseTarget(w),S=t.getValue(w);S&&(S.liveStyle=!0),x[w]=M??null}),f.push({animation:x})}let C=!!f.length;return i&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(C=!1),i=!1,C?e(f):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),n[l].isActive=c;const f=o(l);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:r,getState:()=>n,reset:()=>{n=H3(),i=!0}}}function Ine(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!QU(e,t):!1}function $u(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function H3(){return{animate:$u(!0),whileInView:$u(),whileHover:$u(),whileTap:$u(),whileDrag:$u(),whileFocus:$u(),exit:$u()}}class hu{constructor(e){this.isMounted=!1,this.node=e}update(){}}class One extends hu{constructor(e){super(e),e.animationState||(e.animationState=Nne(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();GS(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Lne=0;class kne extends hu{constructor(){super(...arguments),this.id=Lne++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Bne={animation:{Feature:One},exit:{Feature:kne}};function Uv(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function zy(t){return{point:{x:t.pageX,y:t.pageY}}}const Hne=t=>e=>m_(e)&&t(e,zy(e));function Xf(t,e,n,i){return Uv(t,e,Hne(n),i)}function tj({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function Vne({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function zne(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}const nj=1e-4,Gne=1-nj,Une=1+nj,ij=.01,jne=0-ij,Wne=0+ij;function Ks(t){return t.max-t.min}function $ne(t,e,n){return Math.abs(t-e)<=n}function V3(t,e,n,i=.5){t.origin=i,t.originPoint=Yn(e.min,e.max,t.origin),t.scale=Ks(n)/Ks(e),t.translate=Yn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Gne&&t.scale<=Une||isNaN(t.scale))&&(t.scale=1),(t.translate>=jne&&t.translate<=Wne||isNaN(t.translate))&&(t.translate=0)}function ov(t,e,n,i){V3(t.x,e.x,n.x,i?i.originX:void 0),V3(t.y,e.y,n.y,i?i.originY:void 0)}function z3(t,e,n){t.min=n.min+e.min,t.max=t.min+Ks(e)}function qne(t,e,n){z3(t.x,e.x,n.x),z3(t.y,e.y,n.y)}function G3(t,e,n){t.min=e.min-n.min,t.max=t.min+Ks(e)}function av(t,e,n){G3(t.x,e.x,n.x),G3(t.y,e.y,n.y)}const U3=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zf=()=>({x:U3(),y:U3()}),j3=()=>({min:0,max:0}),vi=()=>({x:j3(),y:j3()});function mo(t){return[t("x"),t("y")]}function QT(t){return t===void 0||t===1}function D2({scale:t,scaleX:e,scaleY:n}){return!QT(t)||!QT(e)||!QT(n)}function ad(t){return D2(t)||sj(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function sj(t){return W3(t.x)||W3(t.y)}function W3(t){return t&&t!=="0%"}function Zw(t,e,n){const i=t-n,s=e*i;return n+s}function $3(t,e,n,i,s){return s!==void 0&&(t=Zw(t,s,i)),Zw(t,n,i)+e}function _2(t,e=0,n=1,i,s){t.min=$3(t.min,e,n,i,s),t.max=$3(t.max,e,n,i,s)}function rj(t,{x:e,y:n}){_2(t.x,e.translate,e.scale,e.originPoint),_2(t.y,n.translate,n.scale,n.originPoint)}const q3=.999999999999,K3=1.0000000000001;function Kne(t,e,n,i=!1){const s=n.length;if(!s)return;e.x=e.y=1;let r,o;for(let a=0;a<s;a++){r=n[a],o=r.projectionDelta;const{visualElement:l}=r.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&Qf(t,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,rj(t,o)),i&&ad(r.latestValues)&&Qf(t,r.latestValues))}e.x<K3&&e.x>q3&&(e.x=1),e.y<K3&&e.y>q3&&(e.y=1)}function Jf(t,e){t.min=t.min+e,t.max=t.max+e}function Y3(t,e,n,i,s=.5){const r=Yn(t.min,t.max,s);_2(t,e,n,r,i)}function Qf(t,e){Y3(t.x,e.x,e.scaleX,e.scale,e.originX),Y3(t.y,e.y,e.scaleY,e.scale,e.originY)}function oj(t,e){return tj(zne(t.getBoundingClientRect(),e))}function Yne(t,e,n){const i=oj(t,n),{scroll:s}=e;return s&&(Jf(i.x,s.offset.x),Jf(i.y,s.offset.y)),i}const X3=(t,e)=>Math.abs(t-e);function Xne(t,e){const n=X3(t.x,e.x),i=X3(t.y,e.y);return Math.sqrt(n**2+i**2)}class aj{constructor(e,n,{transformPagePoint:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=tR(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=Xne(d.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:m}=d,{timestamp:y}=ss;this.history.push({...m,timestamp:y});const{onStart:C,onMove:x}=this.handlers;f||(C&&C(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{if(this.index=J3(d.currentTarget),d.target instanceof Element&&d.target.hasPointerCapture&&d.pointerId!==void 0)try{if(!d.target.hasPointerCapture(d.pointerId))return}catch{}this.lastMoveEvent=d,this.lastMoveEventInfo=eR(f,this.transformPagePoint),Bn.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{sv(d,"release"),this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=tR(d.type==="pointercancel"||d.type==="lostpointercapture"?this.lastMoveEventInfo:eR(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,C),m&&m(d,C)},!m_(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=i;const r=zy(e),o=eR(r,this.transformPagePoint),{point:a}=o,{timestamp:l}=ss;this.history=[{...a,timestamp:l}];const{onSessionStart:c}=n;c&&c(e,tR(o,this.history)),sv(e,"set"),this.removeListeners=Vy(Xf(e.currentTarget,"pointermove",this.handlePointerMove),Xf(e.currentTarget,"pointerup",this.handlePointerUp),Xf(e.currentTarget,"pointercancel",this.handlePointerUp),Xf(e.currentTarget,"lostpointercapture",(d,f)=>{J3(d.currentTarget)!==this.index?sv(d,"set"):this.handlePointerUp(d,f)}))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),iu(this.updatePoint)}}function eR(t,e){return e?{point:e(t.point)}:t}function Z3(t,e){return{x:t.x-e.x,y:t.y-e.y}}function tR({point:t},e){return{point:t,delta:Z3(t,lj(e)),offset:Z3(t,Zne(e)),velocity:Jne(e,.1)}}function Zne(t){return t[0]}function lj(t){return t[t.length-1]}function Jne(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const s=lj(t);for(;n>=0&&(i=t[n],!(s.timestamp-i.timestamp>Fl(e)));)n--;if(!i)return{x:0,y:0};const r=Nl(s.timestamp-i.timestamp);if(r===0)return{x:0,y:0};const o={x:(s.x-i.x)/r,y:(s.y-i.y)/r};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function J3(t){return t.parentNode?Array.from(t.parentNode.children).indexOf(t):-1}function Qne(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Yn(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Yn(n,t,i.max):Math.min(t,n)),t}function Q3(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function eie(t,{top:e,left:n,bottom:i,right:s}){return{x:Q3(t.x,n,s),y:Q3(t.y,e,i)}}function e5(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function tie(t,e){return{x:e5(t.x,e.x),y:e5(t.y,e.y)}}function nie(t,e){let n=.5;const i=Ks(t),s=Ks(e);return s>i?n=Cp(e.min,e.max-i,t.min):i>s&&(n=Cp(t.min,t.max-s,e.min)),Gl(0,1,n)}function iie(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const F2=.35;function sie(t=F2){return t===!1?t=0:t===!0&&(t=F2),{x:t5(t,"left","right"),y:t5(t,"top","bottom")}}function t5(t,e,n){return{min:n5(t,e),max:n5(t,n)}}function n5(t,e){return typeof t=="number"?t:t[e]||0}const rie=new WeakMap;class oie{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=vi(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(zy(d).point)},r=(d,f)=>{const{drag:p,dragPropagation:m,onDragStart:y}=this.getProps();if(p&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Jee(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),mo(x=>{let w=this.getAxisMotionValue(x).get()||0;if(Da.test(w)){const{projection:M}=this.visualElement;if(M&&M.layout){const S=M.layout.layoutBox[x];S&&(w=Ks(S)*(parseFloat(w)/100))}}this.originPoint[x]=w}),y&&Bn.postRender(()=>y(d,f)),b2(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:y,onDrag:C}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:x}=f;if(m&&this.currentDirection===null){this.currentDirection=aie(x),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),C&&C(d,f)},a=(d,f)=>this.stop(d,f),l=()=>mo(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new aj(e,{onSessionStart:s,onStart:r,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:r}=this.getProps();r&&Bn.postRender(()=>r(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:s}=this.getProps();if(!i||!Vx(e,s,this.currentDirection))return;const r=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=Qne(o,this.constraints[e],this.elastic[e])),r.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,r=this.constraints;n&&Kf(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=eie(s.layoutBox,n):this.constraints=!1,this.elastic=sie(i),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&mo(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=iie(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Kf(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const r=Yne(i,s.root,this.visualElement.getTransformPagePoint());let o=tie(s.layout.layoutBox,r);if(n){const a=n(Vne(o));this.hasMutatedConstraints=!!a,a&&(o=tj(a))}return o}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:r,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=mo(d=>{if(!Vx(d,n,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const p=s?200:1e6,m=s?40:1e7,y={type:"inertia",velocity:i?e[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...r,...f};return this.startAxisValueAnimation(d,y)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return b2(this.visualElement,e),i.start(R_(e,i,0,n,this.visualElement,!1))}stopAnimation(){mo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){mo(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){mo(n=>{const{drag:i}=this.getProps();if(!Vx(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,r=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];r.set(e[n]-Yn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Kf(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};mo(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=nie({min:l,max:l},this.constraints[o])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),mo(o=>{if(!Vx(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Yn(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;rie.set(this.visualElement,this);const e=this.visualElement.current,n=Xf(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();Kf(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,r=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Bn.read(i);const o=Uv(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(mo(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),r(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:r=!1,dragElastic:o=F2,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:r,dragElastic:o,dragMomentum:a}}}function Vx(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function aie(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class lie extends hu{constructor(e){super(e),this.removeGroupControls=Vr,this.removeListeners=Vr,this.controls=new oie(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vr}unmount(){this.removeGroupControls(),this.removeListeners()}}const i5=t=>(e,n)=>{t&&Bn.postRender(()=>t(e,n))};class cie extends hu{constructor(){super(...arguments),this.removePointerDownListener=Vr}onPointerDown(e){this.session=new aj(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:i5(e),onStart:i5(n),onMove:i,onEnd:(r,o)=>{delete this.session,s&&Bn.postRender(()=>s(r,o))}}}mount(){this.removePointerDownListener=Xf(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const cw={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function s5(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const mg={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Et.test(t))t=parseFloat(t);else return t;const n=s5(t,e.target.x),i=s5(t,e.target.y);return`${n}% ${i}%`}},uie={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,s=su.parse(t);if(s.length>5)return i;const r=su.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=Yn(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),r(s)}};class die extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:r}=e;mee(hie),r&&(n.group&&n.group.add(r),i&&i.register&&s&&i.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),cw.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:s,isPresent:r}=this.props,o=i.projection;return o&&(o.isPresent=r,s||e.layoutDependency!==n||n===void 0||e.isPresent!==r?o.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?o.promote():o.relegate()||Bn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),t_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function cj(t){const[e,n]=$Q(),i=E.useContext($G);return v.jsx(die,{...t,layoutGroup:i,switchLayoutGroup:E.useContext(eU),isPresent:e,safeToRemove:n})}const hie={borderRadius:{...mg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:mg,borderTopRightRadius:mg,borderBottomLeftRadius:mg,borderBottomRightRadius:mg,boxShadow:uie};function fie(t,e,n){const i=Ts(t)?t:zv(t);return i.start(R_("",i,e,n)),i.animation}function pie(t){return t instanceof SVGElement&&t.tagName!=="svg"}const mie=(t,e)=>t.depth-e.depth;class gie{constructor(){this.children=[],this.isDirty=!1}add(e){g_(this.children,e),this.isDirty=!0}remove(e){v_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(mie),this.isDirty=!1,this.children.forEach(e)}}function vie(t,e){const n=_a.now(),i=({timestamp:s})=>{const r=s-n;r>=e&&(iu(i),t(r-e))};return Bn.read(i,!0),()=>iu(i)}const uj=["TopLeft","TopRight","BottomLeft","BottomRight"],yie=uj.length,r5=t=>typeof t=="string"?parseFloat(t):t,o5=t=>typeof t=="number"||Et.test(t);function xie(t,e,n,i,s,r){s?(t.opacity=Yn(0,n.opacity!==void 0?n.opacity:1,Cie(i)),t.opacityExit=Yn(e.opacity!==void 0?e.opacity:1,0,wie(i))):r&&(t.opacity=Yn(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let o=0;o<yie;o++){const a=`border${uj[o]}Radius`;let l=a5(e,a),c=a5(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||o5(l)===o5(c)?(t[a]=Math.max(Yn(r5(l),r5(c),i),0),(Da.test(c)||Da.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Yn(e.rotate||0,n.rotate||0,i))}function a5(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Cie=dj(0,.5,PU),wie=dj(.5,.95,Vr);function dj(t,e,n){return i=>i<t?0:i>e?1:n(Cp(t,e,i))}function l5(t,e){t.min=e.min,t.max=e.max}function uo(t,e){l5(t.x,e.x),l5(t.y,e.y)}function c5(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function u5(t,e,n,i,s){return t-=e,t=Zw(t,1/n,i),s!==void 0&&(t=Zw(t,1/s,i)),t}function bie(t,e=0,n=1,i=.5,s,r=t,o=t){if(Da.test(e)&&(e=parseFloat(e),e=Yn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Yn(r.min,r.max,i);t===r&&(a-=e),t.min=u5(t.min,e,n,a,s),t.max=u5(t.max,e,n,a,s)}function d5(t,e,[n,i,s],r,o){bie(t,e[n],e[i],e[s],e.scale,r,o)}const Sie=["x","scaleX","originX"],Eie=["y","scaleY","originY"];function h5(t,e,n,i){d5(t.x,e,Sie,n?n.x:void 0,i?i.x:void 0),d5(t.y,e,Eie,n?n.y:void 0,i?i.y:void 0)}function f5(t){return t.translate===0&&t.scale===1}function hj(t){return f5(t.x)&&f5(t.y)}function p5(t,e){return t.min===e.min&&t.max===e.max}function Mie(t,e){return p5(t.x,e.x)&&p5(t.y,e.y)}function m5(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function fj(t,e){return m5(t.x,e.x)&&m5(t.y,e.y)}function g5(t){return Ks(t.x)/Ks(t.y)}function v5(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Tie{constructor(){this.members=[]}add(e){g_(this.members,e),e.scheduleRender()}remove(e){if(v_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const r=this.members[s];if(r.isPresent!==!1){i=r;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Rie(t,e,n){let i="";const s=t.x.translate/e.x,r=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||r||o)&&(i=`translate3d(${s}px, ${r}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:f,rotateY:p,skewX:m,skewY:y}=n;c&&(i=`perspective(${c}px) ${i}`),d&&(i+=`rotate(${d}deg) `),f&&(i+=`rotateX(${f}deg) `),p&&(i+=`rotateY(${p}deg) `),m&&(i+=`skewX(${m}deg) `),y&&(i+=`skewY(${y}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(i+=`scale(${a}, ${l})`),i||"none"}const nR=["","X","Y","Z"],Aie={visibility:"hidden"},y5=1e3;let Pie=0;function iR(t,e,n,i){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),i&&(i[t]=0))}function pj(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=bU(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:r}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Bn,!(s||r))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&pj(i)}function mj({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=Pie++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Fie),this.nodes.forEach(kie),this.nodes.forEach(Bie),this.nodes.forEach(Nie)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new gie)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new y_),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=pie(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let f;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=vie(p,250),cw.hasAnimatedSinceResize&&(cw.hasAnimatedSinceResize=!1,this.nodes.forEach(C5))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||d.getDefaultTransition()||Uie,{onLayoutAnimationStart:x,onLayoutAnimationComplete:w}=d.getProps(),M=!this.targetLayout||!fj(this.targetLayout,y),S=!p&&m;if(this.options.layoutRoot||this.resumeFrom||S||p&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,S);const R={...h_(C,"layout"),onPlay:x,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else p||C5(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,iu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Hie),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&pj(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(x5);return}this.isUpdating||this.nodes.forEach(Oie),this.isUpdating=!1,this.nodes.forEach(Lie),this.nodes.forEach(Die),this.nodes.forEach(_ie),this.clearAllSnapshots();const a=_a.now();ss.delta=Gl(0,1e3/60,a-ss.timestamp),ss.timestamp=a,ss.isProcessing=!0,KT.update.process(ss),KT.preRender.process(ss),KT.render.process(ss),ss.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,t_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Iie),this.sharedNodes.forEach(Vie)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Bn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Bn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ks(this.snapshot.measuredBox.x)&&!Ks(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=vi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!hj(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||ad(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),jie(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return vi();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(Wie))){const{scroll:d}=this.root;d&&(Jf(l.x,d.offset.x),Jf(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=vi();if(uo(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:f,options:p}=d;d!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&uo(l,o),Jf(l.x,f.offset.x),Jf(l.y,f.offset.y))}return l}applyTransform(o,a=!1){const l=vi();uo(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Qf(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ad(d.latestValues)&&Qf(l,d.latestValues)}return ad(this.latestValues)&&Qf(l,this.latestValues),l}removeTransform(o){const a=vi();uo(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!ad(c.latestValues))continue;D2(c.latestValues)&&c.updateSnapshot();const d=vi(),f=c.measurePageBox();uo(d,f),h5(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return ad(this.latestValues)&&h5(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ss.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=ss.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vi(),this.relativeTargetOrigin=vi(),av(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),uo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=vi(),this.targetWithTransforms=vi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),qne(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):uo(this.target,this.layout.layoutBox),rj(this.target,this.targetDelta)):uo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vi(),this.relativeTargetOrigin=vi(),av(this.relativeTargetOrigin,this.target,m.target),uo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||D2(this.parent.latestValues)||sj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ss.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;uo(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;Kne(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=vi());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(c5(this.prevProjectionDelta.x,this.projectionDelta.x),c5(this.prevProjectionDelta.y,this.projectionDelta.y)),ov(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==m||!v5(this.projectionDelta.x,this.prevProjectionDelta.x)||!v5(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Zf(),this.projectionDelta=Zf(),this.projectionDeltaWithTransform=Zf()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=Zf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=vi(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,C=m!==y,x=this.getStack(),w=!x||x.members.length<=1,M=!!(C&&!w&&this.options.crossfade===!0&&!this.path.some(Gie));this.animationProgress=0;let S;this.mixTargetDelta=R=>{const P=R/1e3;w5(f.x,o.x,P),w5(f.y,o.y,P),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(av(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),zie(this.relativeTarget,this.relativeTargetOrigin,p,P),S&&Mie(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=vi()),uo(S,this.relativeTarget)),C&&(this.animationValues=d,xie(d,c,this.latestValues,P,M,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(iu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Bn.update(()=>{cw.hasAnimatedSinceResize=!0,this.currentAnimation=fie(0,y5,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(y5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&gj(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||vi();const f=Ks(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const p=Ks(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}uo(a,l),Qf(a,d),ov(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Tie),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&iR("z",o,c,this.animationValues);for(let d=0;d<nR.length;d++)iR(`rotate${nR[d]}`,o,c,this.animationValues),iR(`skew${nR[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Aie;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=aw(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const C={};return this.options.layoutId&&(C.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,C.pointerEvents=aw(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ad(this.latestValues)&&(C.transform=d?d({},""):"none",this.hasProjected=!1),C}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=Rie(this.projectionDeltaWithTransform,this.treeScale,p),d&&(c.transform=d(p,c.transform));const{x:m,y}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const C in Bv){if(p[C]===void 0)continue;const{correct:x,applyTo:w,isCSSVariable:M}=Bv[C],S=c.transform==="none"?p[C]:x(p[C],f);if(w){const R=w.length;for(let P=0;P<R;P++)c[w[P]]=S}else M?this.options.visualElement.renderState.vars[C]=S:c[C]=S}return this.options.layoutId&&(c.pointerEvents=f===this?aw(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(x5),this.root.sharedNodes.clear()}}}function Die(t){t.updateLayout()}function _ie(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=t.layout,{animationType:r}=t.options,o=n.source!==t.layout.source;r==="size"?mo(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=Ks(p);p.min=i[f].min,p.max=p.min+m}):gj(r,n.layoutBox,i)&&mo(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=Ks(i[f]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const a=Zf();ov(a,i,n.layoutBox);const l=Zf();o?ov(l,t.applyTransform(s,!0),n.measuredBox):ov(l,i,n.layoutBox);const c=!hj(a);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const y=vi();av(y,n.layoutBox,p.layoutBox);const C=vi();av(C,i,m.layoutBox),fj(y,C)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=y,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function Fie(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Nie(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Iie(t){t.clearSnapshot()}function x5(t){t.clearMeasurements()}function Oie(t){t.isLayoutDirty=!1}function Lie(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function C5(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function kie(t){t.resolveTargetDelta()}function Bie(t){t.calcProjection()}function Hie(t){t.resetSkewAndRotation()}function Vie(t){t.removeLeadSnapshot()}function w5(t,e,n){t.translate=Yn(e.translate,0,n),t.scale=Yn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function b5(t,e,n,i){t.min=Yn(e.min,n.min,i),t.max=Yn(e.max,n.max,i)}function zie(t,e,n,i){b5(t.x,e.x,n.x,i),b5(t.y,e.y,n.y,i)}function Gie(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Uie={duration:.45,ease:[.4,0,.1,1]},S5=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),E5=S5("applewebkit/")&&!S5("chrome/")?Math.round:Vr;function M5(t){t.min=E5(t.min),t.max=E5(t.max)}function jie(t){M5(t.x),M5(t.y)}function gj(t,e,n){return t==="position"||t==="preserve-aspect"&&!$ne(g5(e),g5(n),.2)}function Wie(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const $ie=mj({attachResizeListener:(t,e)=>Uv(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),sR={current:void 0},vj=mj({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!sR.current){const t=new $ie({});t.mount(window),t.setOptions({layoutScroll:!0}),sR.current=t}return sR.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),qie={pan:{Feature:cie},drag:{Feature:lie,ProjectionNode:vj,MeasureLayout:cj}};function T5(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,r=i[s];r&&Bn.postRender(()=>r(e,zy(e)))}class Kie extends hu{mount(){const{current:e}=this.node;e&&(this.unmount=$ee(e,(n,i)=>(T5(this.node,i,"Start"),s=>T5(this.node,s,"End"))))}unmount(){}}class Yie extends hu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vy(Uv(this.node.current,"focus",()=>this.onFocus()),Uv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function R5(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),r=i[s];r&&Bn.postRender(()=>r(e,zy(e)))}class Xie extends hu{mount(){const{current:e}=this.node;e&&(this.unmount=Xee(e,(n,i)=>(R5(this.node,i,"Start"),(s,{success:r})=>R5(this.node,s,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const N2=new WeakMap,rR=new WeakMap,Zie=t=>{const e=N2.get(t.target);e&&e(t)},Jie=t=>{t.forEach(Zie)};function Qie({root:t,...e}){const n=t||document;rR.has(n)||rR.set(n,{});const i=rR.get(n),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(Jie,{root:t,...e})),i[s]}function ese(t,e,n){const i=Qie(e);return N2.set(t,n),i.observe(t),()=>{N2.delete(t),i.unobserve(t)}}const tse={some:0,all:1};class nse extends hu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:r}=e,o={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:tse[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,r&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=c?d:f;p&&p(l)};return ese(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(ise(e,n))&&this.startObserver()}unmount(){}}function ise({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const sse={inView:{Feature:nse},tap:{Feature:Xie},focus:{Feature:Yie},hover:{Feature:Kie}},rse={layout:{ProjectionNode:vj,MeasureLayout:cj}},I2={current:null},yj={current:!1};function ose(){if(yj.current=!0,!!XD)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>I2.current=t.matches;t.addListener(e),e()}else I2.current=!1}const ase=[...UU,bs,su],lse=t=>ase.find(GU(t)),cse=new WeakMap;function use(t,e,n){for(const i in e){const s=e[i],r=n[i];if(Ts(s))t.addValue(i,s);else if(Ts(r))t.addValue(i,zv(s,{owner:t}));else if(r!==s)if(t.hasValue(i)){const o=t.getValue(i);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(i);t.addValue(i,zv(o!==void 0?o:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const A5=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class dse{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:r,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=E_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=_a.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Bn.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:d}=o;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!r,this.isControllingVariants=US(n),this.isVariantNode=JG(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in p){const y=p[m];l[m]!==void 0&&Ts(y)&&y.set(l[m],!1)}}mount(e){this.current=e,cse.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),yj.current||ose(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:I2.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),iu(this.notifyUpdate),iu(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Ch.has(e);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Bn.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),r=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),r(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in wp){const n=wp[e];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):vi()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<A5.length;i++){const s=A5[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const r="on"+s,o=e[r];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=use(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=zv(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var i;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(VU(s)||_U(s))?s=parseFloat(s):!lse(s)&&su.test(n)&&(s=kU(e,n)),this.setBaseTarget(e,Ts(s)?s.get():s)),Ts(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props;let s;if(typeof i=="string"||typeof i=="object"){const o=u_(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[e])}if(i&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Ts(r)?r:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new y_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class xj extends dse{constructor(){super(...arguments),this.KeyframeResolver=jU}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ts(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function hse(t){return window.getComputedStyle(t)}class fse extends xj{constructor(){super(...arguments),this.type="html",this.renderInstance=cU}readValueFromInstance(e,n){if(Ch.has(n)){const i=S_(n);return i&&i.default||0}else{const i=hse(e),s=(n_(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return oj(e,n)}build(e,n,i){r_(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return d_(e,n,i)}}class pse extends xj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=vi,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&lU(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ch.has(n)){const i=S_(n);return i&&i.default||0}return n=uU.has(n)?n:e_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return hU(e,n,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&Bn.postRender(this.updateDimensions)}build(e,n,i){l_(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,s){dU(e,n,i,s)}mount(e){this.isSVGTag=c_(e.tagName),super.mount(e)}}const mse=(t,e)=>a_(t)?new pse(e):new fse(e,{allowProjection:t!==E.Fragment}),gse=Hee({...Bne,...sse,...qie,...rse},mse),qn=tee(gse),vse=()=>v.jsx("section",{className:"Hero lg:w-3/5",children:v.jsxs("div",{className:"grid grid-cols-12 grid-rows-12 md:grid-rows-10 lg:grid-cols-16 lg:grid-rows-16 lg:gap-4 gap-5 aspect-square ",children:[v.jsx(qn.div,{initial:{opacity:.5,scale:1},animate:{scale:1.05},transition:{duration:2,ease:"easeInOut",repeat:1/0,repeatType:"reverse"},className:"kb-startup col-start-4 col-end-6 z-10 opacity-50 lg:col-start-5 lg:col-end-8 lg:row-start-1 lg:row-end-3",children:v.jsx("img",{className:"rounded-b-4xl w-full h-full object-cover",src:jG,alt:"A keyboard with a startup key"})}),v.jsx(qn.div,{animate:{y:[0,-6,0]},transition:{repeat:1/0,duration:3.2,ease:"easeInOut",delay:.2},className:"blue-thingy bg-primary col-start-1 col-end-2 row-start-1 row-end-3 sm:rounded-r-[150px] md:rounded-r-[150px] lg:row-start-15 lg:row-end-17 lg:col-start-15 lg:col-end-17"}),v.jsx(qn.div,{animate:{scale:[1,1.05,1]},transition:{repeat:1/0,duration:4,ease:"easeInOut",delay:.3},className:"col-start-3 col-end-7 -z-10 row-start-1 row-end-5 lg:col-start-2 lg:col-end-8 lg:row-start-3 lg:row-end-7",children:v.jsx("img",{className:"opacity-50 rounded-4xl w-full h-full object-cover",src:GQ,alt:"A girl having a call"})}),v.jsx(qn.div,{animate:{scale:[1,1.04,1]},transition:{repeat:1/0,duration:4.8,ease:"easeInOut",delay:.5},className:"col-start-7 col-end-13 row-start-1 row-end-5 lg:row-end-7 lg:col-start-8 lg:col-end-17",children:v.jsx("img",{className:"rounded-l-4xl lg:rounded-l-none lg:rounded-bl-4xl w-full h-full object-cover",src:UQ,alt:"Three developers"})}),v.jsx(qn.div,{animate:{y:[0,-8,0]},transition:{repeat:1/0,duration:5.5,ease:"easeInOut",delay:.4},className:"col-start-2 col-end-12 row-start-5 row-end-13 md:row-end-11 lg:row-start-7 lg:row-end-14 lg:col-start-4 lg:col-end-13",children:v.jsx("video",{className:"w-full h-full rounded-4xl object-cover",autoPlay:!0,loop:!0,muted:!0,controls:!0,children:v.jsx("source",{src:WG,type:"video/mp4"})})}),v.jsx(qn.div,{animate:{scale:[1,1.06,1]},transition:{repeat:1/0,duration:4.3,ease:"easeInOut",delay:.6},className:"col-start-12 col-end-13 row-start-5 row-end-9 md:row-end-8 lg:col-start-13 lg:col-end-17 lg:row-start-7 lg:row-end-11",children:v.jsx("img",{className:"rounded-l-4xl w-full h-full object-cover object-left",src:jQ,alt:"A company building"})}),v.jsx(qn.div,{animate:{scale:[1,1.07,1]},transition:{repeat:1/0,duration:4.5,ease:"easeInOut",delay:2},className:"hero-image-05 row-start-11 row-end-15 col-start-13 col-end-17",children:v.jsx("img",{className:"opacity-80 -z-10 rounded-l-4xl object-cover h-full w-full",src:UG,alt:"Banner image"})}),v.jsx(qn.div,{animate:{y:[0,-6,0]},transition:{repeat:1/0,duration:3.8,ease:"easeInOut",delay:.3},className:"bg-secondary -z-10 opacity-80 col-start-12 col-end-13 row-start-9 row-end-13 rounded-l-4xl lg:rounded-r-4xl md:row-start-8 md:row-end-11 lg:row-start-14 lg:row-end-16 lg:col-start-8 lg:col-end-13"})]})}),Zo="/assets/logo-fs-full-BdRT9OrL.svg";function yse({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{d:"M11.47 1.72a.75.75 0 0 1 1.06 0l3 3a.75.75 0 0 1-1.06 1.06l-1.72-1.72V7.5h-1.5V4.06L9.53 5.78a.75.75 0 0 1-1.06-1.06l3-3ZM11.25 7.5V15a.75.75 0 0 0 1.5 0V7.5h3.75a3 3 0 0 1 3 3v9a3 3 0 0 1-3 3h-9a3 3 0 0 1-3-3v-9a3 3 0 0 1 3-3h3.75Z"}))}const xse=E.forwardRef(yse);function Cse({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{fillRule:"evenodd",d:"M3 9a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 9Zm0 6.75a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"}))}const Cj=E.forwardRef(Cse);function wse({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{fillRule:"evenodd",d:"M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875ZM12.75 12a.75.75 0 0 0-1.5 0v2.25H9a.75.75 0 0 0 0 1.5h2.25V18a.75.75 0 0 0 1.5 0v-2.25H15a.75.75 0 0 0 0-1.5h-2.25V12Z",clipRule:"evenodd"}),E.createElement("path",{d:"M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"}))}const P5=E.forwardRef(wse);function bse({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{fillRule:"evenodd",d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z",clipRule:"evenodd"}),E.createElement("path",{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"}))}const Sse=E.forwardRef(bse);function Ese({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const wj=E.forwardRef(Ese);function Yr(){const[t,e]=E.useState(!1),[n,i]=E.useState(!1),s=()=>{i(!0),setTimeout(()=>{e(!1),i(!1)},300)};return v.jsxs("div",{className:"relative h-16 text-center",children:[v.jsxs("div",{className:"bg-white z-50 fixed flex justify-between items-center h-16 w-full text-center",children:[v.jsx("div",{className:"w-32 ml-7",children:v.jsx("a",{href:"/",children:v.jsx("img",{className:"object-cover",src:Zo,alt:"Logo"})})}),t?v.jsx(wj,{className:"w-8 cursor-pointer mr-7",onClick:s}):v.jsx("div",{className:"mr-7",children:v.jsx(Cj,{className:"w-8 cursor-pointer",onClick:()=>e(!0)})})]}),t&&v.jsx("div",{onClick:s,className:"animate-slideIn z-40 fixed inset-0 flex justify-end ass",children:v.jsxs("div",{className:`w-full bg-gradient-to-t from-transparent to-white to-40% h-[100%] p-3 transition-transform duration-300 ${n?"animate-slideOut":"translate-y-14 opacity-100"}`,children:[v.jsx("div",{className:"flex justify-between"}),v.jsxs("nav",{className:"flex flex-col space-y-4 mt-5",children:[v.jsx("div",{children:v.jsx(fn,{to:"/",className:({isActive:r})=>`!no-underline text-black text-lg font-medium hover:text-[#007a8e] ${r?"active-class":""}`,onClick:s,children:"Home"})}),v.jsx("div",{children:v.jsx(fn,{to:"/about-us",className:({isActive:r})=>`!no-underline text-black text-lg font-medium hover:text-[#007a8e] ${r?"active-class":""}`,onClick:s,children:"About"})}),v.jsx("div",{children:v.jsx(fn,{to:"/careers",className:({isActive:r})=>`!no-underline text-black text-lg font-medium hover:text-[#007a8e] ${r?"active-class":""}`,onClick:s,children:"Careers"})}),v.jsx("div",{children:v.jsx(fn,{to:"/news",className:({isActive:r})=>`!no-underline text-black text-lg font-medium hover:text-[#007a8e] ${r?"active-class":""}`,onClick:s,children:"News"})}),v.jsx("div",{children:v.jsx(fn,{to:"/blogs",className:({isActive:r})=>`!no-underline text-black text-lg font-medium hover:text-[#007a8e] ${r?"active-class":""}`,onClick:s,children:"Blogs"})}),v.jsx("div",{children:v.jsx(fn,{to:"/contact",className:({isActive:r})=>`!no-underline text-black text-lg font-medium hover:text-[#007a8e] ${r?"active-class":""}`,onClick:s,children:"Contact"})}),v.jsx("div",{className:"mt-8"})]})]})})]})}function Xr(){const[t,e]=E.useState(!1),[n,i]=E.useState(!1),[s,r]=E.useState(!0),[o,a]=E.useState(0),l=()=>{i(!0),r(!0),setTimeout(()=>{e(!1),i(!1)},300)},c=()=>{const d=window.scrollY;!t&&d<o?r(!0):d>o&&r(!1),a(d)};return E.useEffect(()=>(window.addEventListener("scroll",c),()=>{window.removeEventListener("scroll",c)}),[o]),v.jsx(v.Fragment,{children:v.jsx("div",{className:"h-16 mb-2",children:v.jsxs("div",{className:"fixed z-50 transition-transform duration-300 bg-white w-full ",children:[v.jsxs("div",{className:`bg-white fixed top-0 left-0 right-0 z-20 transition-transform duration-300 ${s?"translate-y-0":"-translate-y-full"} flex justify-between items-center text-center h-16`,children:[v.jsx("div",{className:"w-32 ml-7",children:v.jsx("img",{className:"object-cover",src:Zo,alt:"Logo"})}),v.jsx("div",{className:"mr-7",children:v.jsx(Cj,{className:"w-8 cursor-pointer",onClick:()=>{e(!0),r(!1)}})})]}),t&&v.jsx("div",{onClick:l,className:"w-full h-full animate-slideInRight fixed inset-0 z-20 flex justify-end",children:v.jsxs("div",{className:`w-[40%] bg-white p-3 pt-8 shadow transition-transform duration-300 ${n?"animate-slideOutRight":"translate-y-0 opacity-100"}`,children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("div",{className:"w-32 ml-4",children:v.jsx("a",{href:"/",children:v.jsx("img",{className:"object-cover",src:Zo,alt:"Logo"})})}),v.jsx(wj,{className:`w-8 cursor-pointer mr-5 ${n?"animate-":"animate-spinCCW"}`,onClick:l})]}),v.jsx("div",{className:"max-h-[calc(100vh-4rem)] overflow-y-auto",children:v.jsxs("nav",{className:"flex items-center flex-col space-y-4 py-10",children:[v.jsx("div",{children:v.jsx(fn,{to:"/",className:({isActive:d})=>`!no-underline text-black text-lg font-medium hover:text-[#007a8e] ${d?"active-class":""}`,onClick:l,children:"Home"})}),v.jsx("div",{children:v.jsx(fn,{to:"/about-us",className:({isActive:d})=>`!no-underline text-black text-lg font-medium hover:text-[#007a8e] ${d?"active-class":""}`,onClick:l,children:"About"})}),v.jsx("div",{children:v.jsx(fn,{to:"/careers",className:({isActive:d})=>`!no-underline text-black text-lg font-medium hover:text-[#007a8e] ${d?"active-class":""}`,onClick:l,children:"Careers"})}),v.jsx("div",{children:v.jsx(fn,{to:"/news",className:({isActive:d})=>`!no-underline text-black text-lg font-medium hover:text-[#007a8e] ${d?"active-class":""}`,onClick:l,children:"News"})}),v.jsx("div",{children:v.jsx(fn,{to:"/blogs",className:({isActive:d})=>`!no-underline text-black text-lg font-medium hover:text-[#007a8e] ${d?"active-class":""}`,onClick:l,children:"Blogs"})}),v.jsx("div",{children:v.jsx(fn,{to:"/contact",className:({isActive:d})=>`!no-underline text-black text-lg font-medium hover:text-[#007a8e] ${d?"active-class":""}`,onClick:l,children:"Contact"})}),v.jsx("div",{className:"mt-8"})]})})]})})]})})})}function Zr(){const[t,e]=E.useState(!1),[n,i]=E.useState(0),s=Math.min(n/70,1),r=()=>{const o=window.scrollY;o>70?e(!0):e(!1),i(o)};return E.useEffect(()=>(window.addEventListener("scroll",r),r(),()=>{window.removeEventListener("scroll",r)}),[n]),v.jsx(v.Fragment,{children:v.jsxs("div",{style:{backgroundColor:`rgba(255, 255, 255, ${s})`},className:`fixed z-50 top-0 left-0 right-0 ${t?"shadow":""} flex justify-between items-center h-16 px-7 z-50 `,children:[v.jsxs("nav",{className:"flex justify-center items-end relative",children:[v.jsx("div",{className:"w-32 lg:ml-0 lg:mr-7 xl:ml-9 xl:mr-16 ",children:v.jsx("a",{href:"/",children:v.jsx("img",{className:"object-cover",src:Zo,alt:"Logo"})})}),v.jsxs("div",{className:"flex gap-9 xl:gap-14",children:[v.jsx("div",{className:"",children:v.jsx(fn,{to:"/",className:({isActive:o})=>`relative !no-underline text-dark text-md hover:text-[#007a8e] ${o?"active-class text-[#007a8e]":""}transition-all duration-300 ease-in-out 
      
                before:absolute before:content-[''] before:w-1 before:h-1 
                before:rounded-full before:bg-[#007a8e] before:left-1/2 before:-translate-x-1/2 
                before:bottom-[-6px] before:opacity-0 before:transition-all before:duration-300
                
                hover:before:opacity-100 hover:before:translate-y-1 
                ${o?"before:opacity-100 before:translate-y-1":""}
      `,children:v.jsx(v.Fragment,{children:"Home"})})}),v.jsx("div",{children:v.jsx(fn,{to:"/about-us",className:({isActive:o})=>`relative !no-underline text-dark text-md hover:text-[#007a8e] ${o?"active-class text-[#007a8e]":""} transition-all duration-300 ease-in-out 
      
                before:absolute before:content-[''] before:w-1 before:h-1 
                before:rounded-full before:bg-[#007a8e] before:left-1/2 before:-translate-x-1/2 
                before:bottom-[-6px] before:opacity-0 before:transition-all before:duration-300
                
                hover:before:opacity-100 hover:before:translate-y-1 
                ${o?"before:opacity-100 before:translate-y-1":""}
      `,children:"About"})}),v.jsx("div",{children:v.jsx(fn,{to:"/careers",className:({isActive:o})=>`relative !no-underline text-dark text-md hover:text-[#007a8e] ${o?"active-class text-[#007a8e]":""}transition-all duration-300 ease-in-out 
      
                before:absolute before:content-[''] before:w-1 before:h-1 
                before:rounded-full before:bg-[#007a8e] before:left-1/2 before:-translate-x-1/2 
                before:bottom-[-6px] before:opacity-0 before:transition-all before:duration-300
                
                hover:before:opacity-100 hover:before:translate-y-1 
                ${o?"before:opacity-100 before:translate-y-1":""}
      `,children:"Careers"})}),v.jsx("div",{children:v.jsx(fn,{to:"/news",className:({isActive:o})=>`relative !no-underline text-dark text-md hover:text-[#007a8e] ${o?"active-class text-[#007a8e]":""}transition-all duration-300 ease-in-out 
      
                before:absolute before:content-[''] before:w-1 before:h-1 
                before:rounded-full before:bg-[#007a8e] before:left-1/2 before:-translate-x-1/2 
                before:bottom-[-6px] before:opacity-0 before:transition-all before:duration-300
                
                hover:before:opacity-100 hover:before:translate-y-1 
                ${o?"before:opacity-100 before:translate-y-1":""}
      `,children:"News"})}),v.jsx("div",{children:v.jsx(fn,{to:"/blogs",className:({isActive:o})=>`relative !no-underline text-dark text-md hover:text-[#007a8e] ${o?"active-class text-[#007a8e]":""}transition-all duration-300 ease-in-out 
      
                before:absolute before:content-[''] before:w-1 before:h-1 
                before:rounded-full before:bg-[#007a8e] before:left-1/2 before:-translate-x-1/2 
                before:bottom-[-6px] before:opacity-0 before:transition-all before:duration-300
                
                hover:before:opacity-100 hover:before:translate-y-1 
                ${o?"before:opacity-100 before:translate-y-1":""}
      `,children:"Blogs"})}),v.jsx("div",{children:v.jsx(fn,{to:"/contact",className:({isActive:o})=>`relative !no-underline text-dark text-md hover:text-[#007a8e] ${o?"active-class text-[#007a8e]":""}transition-all duration-300 ease-in-out 
      
                before:absolute before:content-[''] before:w-1 before:h-1 
                before:rounded-full before:bg-[#007a8e] before:left-1/2 before:-translate-x-1/2 
                before:bottom-[-6px] before:opacity-0 before:transition-all before:duration-300
                
                hover:before:opacity-100 hover:before:translate-y-1 
                ${o?"before:opacity-100 before:translate-y-1":""}
      `,children:"Contact"})})]})]}),v.jsx("div",{})]})})}const Mse="/assets/bg-mobile-cutout-home-DwBjLYBB.png",Tse="/assets/bg-desktop-cutout-home-DOpPKw0Y.png",Rse="/assets/bg-desktop-cutout-home3-BdWgKnk5.png",li=({children:t,className:e})=>v.jsx(qn.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,ease:"easeOut"},className:e,children:t}),Ase=()=>v.jsxs("section",{className:"relative mb-[5%] flex flex-col",children:[v.jsx("div",{className:"block",children:v.jsxs(li,{className:"cutout-maggie mb-6",children:[v.jsx("img",{src:Mse,alt:"cutout background",className:"block -z-10 w-[100%] sm:hidden"}),v.jsx("img",{src:Tse,alt:"cutout background",className:"-z-10 w-[100%] hidden md:block xl:hidden"}),v.jsx("img",{src:Rse,alt:"cutout background",className:"-z-10 w-[100%] hidden xl:block"})]})}),v.jsx(li,{className:"text-goal-container absolute pt-[30%] md:pt-[5%] lg:pt-[10%] sm:pt-[14%] pl-[40%] sm:pl-[41%] pr-[5%] w-full z-10",children:v.jsxs("section",{className:"text-goal min-h-[230px] text-end",children:[v.jsxs("article",{className:"text-white text-body md:text-lg lg:text-xl xl:text-3xl xl:leading-15",children:[v.jsxs("p",{className:"indent-8",children:["We are a ",v.jsx("b",{children:"dynamic"})," and ",v.jsx("b",{children:"inclusive"})," organization that serves as a ",v.jsx("b",{className:"text-secondary font-avenir-black",children:"launchpad"})," for individuals to climb the corporate ladder and achieve their full potential professionally. We provide ",v.jsx("b",{children:"training"}),","," ",v.jsx("b",{children:"career exposure"}),", and ",v.jsx("b",{children:"experience"}),", especially for fresh grads and those new to the work industry."]})," ",v.jsx("br",{}),v.jsxs("p",{className:"text-small xl:text-2xl",children:["Join our community of achievers.",v.jsx("br",{})," Contact us to learn how we can help you shine."]})," ",v.jsx("br",{})]}),v.jsx("a",{href:"contact",className:"no-underline",children:v.jsx("button",{className:" z-10 btn-light text-sm xl:text-lg",children:"Get in Touch"})})]})})]}),ld=[{id:0,title:"FullSuite Expands Services to Support Startup Growth",author:"Matt",readTime:"6min read",article:`FullSuite has announced the expansion of its finance and operational solutions to better support early-stage and growth startups. As venture-backed startups in the US continue to scale, FullSuite aims to provide tailored solutions that help businesses manage their financial and operational needs efficiently.

With an increasing number of startups struggling to streamline their back-office operations, FullSuite's expanded services now include enhanced financial forecasting, compliance support, and strategic operational guidance. These offerings are designed to help startups transition smoothly from the pre-revenue stage to rapid scaling.

'Our mission is to be the remote operations concierge of choice for startups, ensuring they have the financial and operational foundation to grow sustainably,' said a FullSuite spokesperson. 'We’re excited to support more businesses on their journey to success.'`,created_at:"2025-03-04 12:32:04",imagesWithCaption:[{image:"https://about.fb.com/wp-content/uploads/2023/09/GettyImages-686732223.jpg"},{image:"https://images.unsplash.com/photo-1579567761406-4684ee0c75b6?fm=jpg&q=60&w=3000&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTF8fHRlY2h8ZW58MHx8MHx8fDA%3D"},{image:"https://images.unsplash.com/photo-1541746972996-4e0b0f43e02a?fm=jpg&q=60&w=3000&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Nnx8c3RhcnR1cHxlbnwwfHwwfHx8MA%3D%3D"}]},{id:1,title:"How FullSuite is Revolutionizing Startup Finance",author:"Matt",readTime:"5min read",article:`For startups, financial management can be one of the biggest challenges in achieving sustainable growth. FullSuite is changing the game by offering customized financial solutions that empower startups to make data-driven decisions and streamline operations.

Through a combination of cutting-edge technology and expert guidance, FullSuite helps startups maintain financial clarity and compliance. Whether it's managing cash flow, budgeting for expansion, or handling financial audits, the company’s solutions provide unparalleled support.

'We understand the unique challenges startups face, and our goal is to provide them with the financial tools and expertise they need to scale effectively,' said a FullSuite representative. 'Our clients benefit from a hands-on approach that ensures they’re always prepared for the next stage of growth.'`,created_at:"2025-03-05 08:45:22",imagesWithCaption:[{image:"https://www.jeffbullas.com/wp-content/uploads/2020/06/Startup-Funding-%E2%80%93-A-Comprehensive-Guide-for-Entrepreneurs.jpg"},{image:"https://media.licdn.com/dms/image/v2/D5612AQEubj8AkC71DA/article-cover_image-shrink_720_1280/article-cover_image-shrink_720_1280/0/1714050908982?e=2147483647&v=beta&t=fTC9fr9fl9Ho5ZppHR76pTkWXNA4FDn69jc9v-Gdh4g"},{image:"https://wallpaperaccess.com/full/1104816.jpg"}]},{id:2,title:"FullSuite’s Impact: How Startups are Scaling Smarter",author:"FullSuite Team",readTime:"7min read",article:`Startups today require more than just funding; they need strong financial and operational foundations to scale effectively. FullSuite is stepping up to meet this need by providing comprehensive solutions tailored to the unique challenges of venture-backed startups.

With a focus on efficiency and scalability, FullSuite’s services allow startup founders to focus on innovation while leaving the complexities of finance and operations to a trusted partner. From payroll management to financial reporting, the company ensures that businesses have the right infrastructure to support their growth.

'FullSuite has been instrumental in helping us scale our operations without losing sight of our financial health,' said a satisfied client. 'Their expertise has given us the confidence to grow faster and smarter.' With a growing client base, FullSuite continues to solidify its position as the premier operations concierge for startups in the US.`,created_at:"2025-03-05 15:20:10",imagesWithCaption:[{image:"https://www.ceo-review.com/wp-content/uploads/2022/11/Tech-Entrepreneur.jpg "},{image:"https://www.clicdata.com/wp-content/uploads/2020/01/blog-inside-story-tech-startup.png"},{image:"https://media.licdn.com/dms/image/v2/D5612AQEubj8AkC71DA/article-cover_image-shrink_720_1280/article-cover_image-shrink_720_1280/0/1714050908982?e=2147483647&v=beta&t=fTC9fr9fl9Ho5ZppHR76pTkWXNA4FDn69jc9v-Gdh4g"}]},{id:3,title:"Why Startups Are Choosing FullSuite for Operations",author:"Jane Doe",readTime:"6min read",article:"With the growing complexity of startup operations, FullSuite is emerging as the go-to solution...",created_at:"2025-03-06 10:15:30",imagesWithCaption:[{image:"https://images.unsplash.com/photo-1579567761406-4684ee0c75b6?fm=jpg&q=60&w=3000&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTF8fHRlY2h8ZW58MHx8MHx8fDA%3D",caption:"FullSuite simplifying startup operations"},{image:"",caption:"Seamless financial and operational integration"},{image:"",caption:"Startups leveraging FullSuite’s automation tools"}]},{id:4,title:"How FullSuite is Helping Startups Scale Globally",author:"John Smith",readTime:"5min read",article:"Expanding into new markets requires strong operational support, and FullSuite is providing just that...",created_at:"2025-03-07 14:50:12",imagesWithCaption:[{image:"https://www.clicdata.com/wp-content/uploads/2020/01/blog-inside-story-tech-startup.png"},{image:"",caption:"Managing international finances with FullSuite"},{image:"",caption:"How FullSuite aids startups in compliance"}]},{id:5,title:"The Role of FullSuite in Startup Success Stories",author:"Emily Clark",readTime:"7min read",article:"FullSuite has been a key partner in many startup success stories, helping them navigate financial and operational challenges...",created_at:"2025-03-08 09:30:45",imagesWithCaption:[{image:"https://c0.wallpaperflare.com/preview/330/490/484/business-office-computer-flatlay.jpg",caption:"FullSuite’s success stories in the startup world"},{image:"",caption:"Innovative startups powered by FullSuite"},{image:"",caption:"How FullSuite boosts startup efficiency"}]},{id:6,title:"How FullSuite is Changing the Way Startups Handle Finance",author:"David Brown",readTime:"4min read",article:"With real-time financial insights and automation, FullSuite is transforming startup finance...",created_at:"2025-03-09 16:20:00",imagesWithCaption:[{image:"https://watermark.lovepik.com/photo/40169/8241.jpg_wh1200.jpg",caption:"FullSuite automating startup finance"}]},{id:7,title:"FullSuite: The Ultimate Back-Office Solution for Startups",author:"Sarah Green",readTime:"5min read",article:"From payroll management to financial forecasting, FullSuite is offering a complete solution...",created_at:"2025-03-10 11:10:30",imagesWithCaption:[{image:"https://media.licdn.com/dms/image/v2/D5612AQEubj8AkC71DA/article-cover_image-shrink_720_1280/article-cover_image-shrink_720_1280/0/1714050908982?e=2147483647&v=beta&t=fTC9fr9fl9Ho5ZppHR76pTkWXNA4FDn69jc9v-Gdh4g",caption:"FullSuite’s all-in-one back-office solutions"},{image:"",caption:"How startups manage payroll with FullSuite"},{image:"",caption:"Efficient financial planning using FullSuite"}]},{id:8,title:"Startups Thriving with FullSuite’s Scalable Solutions",author:"Mike Johnson",readTime:"6min read",article:"FullSuite’s scalable solutions allow startups to focus on growth without operational bottlenecks...",created_at:"2025-03-11 13:55:15",imagesWithCaption:[{image:"https://images.unsplash.com/photo-1541746972996-4e0b0f43e02a?fm=jpg&q=60&w=3000&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Nnx8c3RhcnR1cHxlbnwwfHwwfHx8MA%3D%3D",caption:"FullSuite supporting high-growth startups"},{image:"",caption:"Scaling operations made easy with FullSuite"},{image:"",caption:"FullSuite’s impact on startup productivity"}]},{id:9,title:"What Makes FullSuite the Best Choice for Startups?",author:"Jessica Lee",readTime:"5min read",article:"With its tailored approach and expert insights, FullSuite continues to be the leading choice for startups...",created_at:"2025-03-12 17:40:22",imagesWithCaption:[{image:"https://w0.peakpx.com/wallpaper/8/305/HD-wallpaper-finance-concepts-charts-background-with-graphs-stock-exchanges-money-business-concepts-finance.jpg",caption:"Why startups trust FullSuite"},{image:"",caption:"FullSuite’s personalized approach to startup growth"},{image:"",caption:"Tech-driven financial solutions by FullSuite"}]}];function $r(t){return t.toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}function Pse(t){return t.replace(/-/g," ").replace(/\b\w/g,e=>e.toUpperCase())}const Dse=ne.createContext({}),bj=!0;function _se({baseColor:t,highlightColor:e,width:n,height:i,borderRadius:s,circle:r,direction:o,duration:a,enableAnimation:l=bj,customHighlightBackground:c}){const d={};return o==="rtl"&&(d["--animation-direction"]="reverse"),typeof a=="number"&&(d["--animation-duration"]=`${a}s`),l||(d["--pseudo-element-display"]="none"),(typeof n=="string"||typeof n=="number")&&(d.width=n),(typeof i=="string"||typeof i=="number")&&(d.height=i),(typeof s=="string"||typeof s=="number")&&(d.borderRadius=s),r&&(d.borderRadius="50%"),typeof t<"u"&&(d["--base-color"]=t),typeof e<"u"&&(d["--highlight-color"]=e),typeof c=="string"&&(d["--custom-highlight-background"]=c),d}function rs({count:t=1,wrapper:e,className:n,containerClassName:i,containerTestId:s,circle:r=!1,style:o,...a}){var l,c,d;const f=ne.useContext(Dse),p={...a};for(const[S,R]of Object.entries(a))typeof R>"u"&&delete p[S];const m={...f,...p,circle:r},y={...o,..._se(m)};let C="react-loading-skeleton";n&&(C+=` ${n}`);const x=(l=m.inline)!==null&&l!==void 0?l:!1,w=[],M=Math.ceil(t);for(let S=0;S<M;S++){let R=y;if(M>t&&S===M-1){const F=(c=R.width)!==null&&c!==void 0?c:"100%",N=t%1,I=typeof F=="number"?F*N:`calc(${F} * ${N})`;R={...R,width:I}}const P=ne.createElement("span",{className:C,style:R,key:S},"‌");x?w.push(P):w.push(ne.createElement(ne.Fragment,{key:S},P,ne.createElement("br",null)))}return ne.createElement("span",{className:i,"data-testid":s,"aria-live":"polite","aria-busy":(d=m.enableAnimation)!==null&&d!==void 0?d:bj},e?w.map((S,R)=>ne.createElement(e,{key:R},S)):w)}/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fse=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Sj=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Nse={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ise=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:r,iconNode:o,...a},l)=>E.createElement("svg",{ref:l,...Nse,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:Sj("lucide",s),...a},[...o.map(([c,d])=>E.createElement(c,d)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=(t,e)=>{const n=E.forwardRef(({className:i,...s},r)=>E.createElement(Ise,{ref:r,iconNode:e,className:Sj(`lucide-${Fse(t)}`,i),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ose=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],A_=Gy("ArrowLeft",Ose);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lse=[["path",{d:"M5 3h14",key:"7usisc"}],["path",{d:"m18 13-6-6-6 6",key:"1kf1n9"}],["path",{d:"M12 7v14",key:"1akyts"}]],kse=Gy("ArrowUpToLine",Lse);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bse=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Hse=Gy("ChevronDown",Bse);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vse=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],zse=Gy("ChevronRight",Vse);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gse=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Use=Gy("ChevronUp",Gse),Ej=({text:t="View all",href:e="#",className:n="",iconSize:i=4})=>v.jsxs("a",{className:`text-[12px] z-10 md:mt-2 pr-2 lg:mt-2 sm:text-[14px] no-underline text-primary font-avenir-black flex items-center justify-end gap-1 ${n}`,href:e,children:[v.jsx("span",{className:"flex items-end text-small",children:t}),v.jsx(zse,{className:`size-${i} sm:size-${i+1} mb-1`})]}),jse=()=>{var a,l,c;if(!ld||ld.length===0)return v.jsxs("section",{className:"px-7 xl:px-17 text-center",children:[v.jsxs(li,{className:"font-avenir-black text-2xl lg:mb-15 sm:text-4xl md:text-4xl lg:text-5xl xl:text-7xl",children:[v.jsx("span",{className:"text-primary",children:"Latest"})," Company News"]}),v.jsx("div",{className:"py-10 text-gray-500",children:"No news articles available."})]});const t=ld==null?void 0:ld[0],e=(c=(l=(a=t==null?void 0:t.imagesWithCaption)==null?void 0:a[0])==null?void 0:l.image)==null?void 0:c.trim(),n=t==null?void 0:t.title,i=t==null?void 0:t.author,s=t==null?void 0:t.readTime,r=t==null?void 0:t.article,o=n?`/news/${t.id}/${$r(n)}`:"";return v.jsxs("section",{className:"px-7 xl:px-17",children:[v.jsx("div",{className:"mb-5 relative",children:v.jsxs(li,{className:"mb-10 md:mb-5",children:[v.jsxs("div",{className:"font-avenir-black text-h4 ",children:[v.jsx("span",{className:"text-primary",children:"Latest"})," Company News"]}),v.jsx("p",{className:"text-small text-gray-500",children:"Stay updated with our latest achievements, events, and announcements!"})]})}),v.jsxs("section",{className:"flex flex-col lg:flex-row gap-0 lg:gap-10",children:[v.jsx(li,{className:"lg:w-1/2 flex px-2 flex-col items-center justify-center",children:t&&v.jsx(qi,{to:o,className:"no-underline rounded-2xl cursor-pointer group hover:bg-white w-full",children:v.jsxs("div",{className:"group-hover:!text-primary",children:[v.jsx(li,{className:"mb-5",children:e?v.jsx("img",{className:"aspect-video object-cover rounded-2xl lg:w-full xl:h-[400px]!",src:e,alt:"Main content news image"}):v.jsx(rs,{className:"aspect-video object-cover rounded-2xl lg:w-full xl:h-[400px]!"})}),v.jsx(li,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},className:"title hover:text-primary!",children:n?v.jsx("p",{className:"font-avenir-black text-body line-clamp-2",children:n}):v.jsx(rs,{width:"70%"})}),v.jsx(li,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut",delay:.1},className:"news-info py-1 md:py-2 mb-2 no-underline!",children:i&&s?v.jsxs("p",{className:"text-small",children:[v.jsx("span",{className:"text-primary",children:i}),v.jsx("span",{className:"text-primary",children:"  |"}),v.jsxs("span",{className:"text-gray-400",children:["  ",s]})]}):v.jsx(rs,{width:"25%"})}),v.jsx("div",{className:"news-desc pr-2 mb-2",children:r?v.jsx("p",{className:"font-avenir line-clamp-3 md:line-clamp-5! xl:line-clamp-3! text-body text-gray-500",children:r}):v.jsx(rs,{count:3})})]})})}),v.jsxs("div",{className:"lg:w-1/2 flex flex-col max-h-full overflow-y-auto gap-2 pb-2",children:[v.jsx(Ej,{text:"See More News",href:"/news",className:"custom-class",iconSize:5}),ld.slice(1,4).map(d=>{var w,M,S;const f=(S=(M=(w=d==null?void 0:d.imagesWithCaption)==null?void 0:w[0])==null?void 0:M.image)==null?void 0:S.trim(),p=d==null?void 0:d.title,m=d==null?void 0:d.article,y=d==null?void 0:d.author,C=d==null?void 0:d.readTime,x=p?`/news/${d.id}/${$r(p)}`:"";return v.jsx(qi,{to:x,className:"group no-underline rounded-2xl cursor-pointer px-2 py-3 lg:px-4 transition-all duration-300 hover:shadow-sm hover:bg-white",children:v.jsx(li,{children:v.jsxs("div",{className:"other-news flex justify-center items-center gap-2",children:[v.jsxs("div",{className:"w-[50%] sm:w-[60%] flex flex-col",children:[v.jsx("div",{className:"group-hover:!text-primary",children:v.jsx("p",{title:p,className:"font-avenir-black text-body pr-2 font-avenir-black",children:p||v.jsx(rs,{width:"70%"})})}),v.jsxs("div",{className:"hidden md:block news-desc pr-2 mb-2",children:[v.jsx("p",{className:"font-avenir line-clamp-2 text-body sm:line-clamp-3   text-gray-500",children:m||v.jsx(rs,{count:2})}),v.jsx("p",{className:"text-small",children:y&&C?v.jsxs(v.Fragment,{children:[v.jsxs("span",{className:"text-primary",children:[y,"   |"]})," ",v.jsx("span",{className:"text-gray-400",children:C})]}):v.jsx(rs,{width:"30%"})})]})]}),v.jsx("div",{className:"w-[50%] sm:w-[40%] h-full flex items-center",children:f?v.jsx("img",{className:"aspect-video h-full object-cover rounded-md sm:rounded-xl",src:f,alt:"News image"}):v.jsx("div",{className:"w-full aspect-video h-full object-cover rounded-md sm:rounded-xl",children:v.jsx(rs,{className:"h-full w-full"})})})]})})},d.id)})]})]})]})},Wse=({videoId:t})=>v.jsx("iframe",{className:"w-full aspect-video rounded-2xl",src:`https://www.youtube.com/embed/${t}`,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),O2=({color:t,height:e,width:n})=>v.jsx("svg",{width:n,height:e,viewBox:"0 0 512 510",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{d:"M512 256.557C512 384.323 418.261 490.243 295.893 509.464V331.053H355.392L366.72 257.24H295.893V209.347C295.893 189.144 305.792 169.475 337.493 169.475H369.685V106.627C369.685 106.627 340.459 101.635 312.533 101.635C254.208 101.635 216.107 136.984 216.107 200.963V257.219H151.275V331.032H216.107V509.443C93.76 490.2 0 384.301 0 256.557C0 115.181 114.624 0.557373 256 0.557373C397.376 0.557373 512 115.16 512 256.557Z",fill:t,className:t})}),L2=({color:t,height:e,width:n})=>v.jsx("svg",{width:n,height:e,viewBox:"0 0 2483 2438",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 731C0 327.28 327.28 0 731 0H1752C2155.72 0 2483 327.28 2483 731V1706.67C2483 2110.39 2155.72 2437.67 1752 2437.67H731C327.28 2437.67 0 2110.39 0 1706.67V731ZM1878.62 513.221C1878.62 448.967 1930.71 396.878 1994.96 396.878C2059.22 396.878 2111.3 448.967 2111.3 513.221C2111.3 577.476 2059.22 629.565 1994.96 629.565C1930.71 629.565 1878.62 577.476 1878.62 513.221ZM1221.38 838.266H1261.62C1464.31 838.266 1628.62 1002.58 1628.62 1205.27V1245.5C1628.62 1448.19 1464.31 1612.5 1261.62 1612.5H1221.38C1018.69 1612.5 854.381 1448.19 854.381 1245.5V1205.27C854.381 1002.58 1018.69 838.266 1221.38 838.266ZM604.381 1205.27C604.381 864.505 880.621 588.266 1221.38 588.266H1261.62C1602.38 588.266 1878.62 864.506 1878.62 1205.27V1245.5C1878.62 1586.26 1602.38 1862.5 1261.62 1862.5H1221.38C880.621 1862.5 604.381 1586.26 604.381 1245.5V1205.27Z",fill:t,className:t})}),D5=({color:t,height:e,width:n})=>v.jsx("svg",{width:n,height:e,viewBox:"0 0 2435 2435",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2165.72 400.209C2270.75 429.082 2352.8 512.433 2381.22 619.135C2461.65 947.999 2443.06 1467.39 2382.78 1808.95C2354.36 1915.65 2272.31 1999 2167.28 2027.87C1978.32 2080.22 1217.81 2080.22 1217.81 2080.22C1217.81 2080.22 457.296 2080.22 268.339 2027.87C163.304 1999 81.2559 1915.65 52.8339 1808.95C-28.0585 1481.51 -5.88332 961.801 51.2723 620.721C79.6943 514.02 161.743 430.669 266.777 401.796C455.734 349.444 1216.25 347.857 1216.25 347.857C1216.25 347.857 1976.76 347.857 2165.72 400.209ZM1605.09 1214.04L974.195 1585.26V842.82L1605.09 1214.04Z",fill:t,className:t})}),_5=({color:t,height:e,width:n})=>v.jsx("svg",{width:n,height:e,viewBox:"0 0 2435 2435",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{d:"M1217.49 0C545.104 0 0 545.103 0 1217.51C0 1889.94 545.104 2435 1217.49 2435C1889.95 2435 2435 1889.94 2435 1217.51C2435 545.146 1889.95 0.0581552 1217.48 0.0581552L1217.49 0ZM1775.83 1755.99C1754.02 1791.76 1707.21 1803.1 1671.44 1781.15C1385.59 1606.54 1025.73 1566.99 601.935 1663.82C561.097 1673.12 520.389 1647.54 511.084 1606.68C501.736 1565.83 527.222 1525.12 568.162 1515.81C1031.94 1409.86 1429.75 1455.48 1750.68 1651.61C1786.44 1673.56 1797.78 1720.23 1775.83 1755.99ZM1924.85 1424.48C1897.37 1469.14 1838.92 1483.25 1794.29 1455.77C1467.03 1254.61 968.173 1196.35 581.087 1313.86C530.886 1329.02 477.864 1300.73 462.628 1250.61C447.508 1200.41 475.814 1147.49 525.928 1132.22C968.086 998.059 1517.77 1063.05 1893.59 1294C1938.22 1321.47 1952.32 1379.92 1924.85 1424.5V1424.48ZM1937.64 1079.27C1545.25 846.201 897.851 824.771 523.209 938.479C463.049 956.725 399.429 922.762 381.198 862.601C362.967 802.41 396.899 738.832 457.103 720.542C887.165 589.984 1602.09 615.209 2053.86 883.406C2108.09 915.522 2125.83 985.41 2093.7 1039.45C2061.71 1093.56 1991.64 1111.4 1937.7 1079.27H1937.64Z",fill:t,className:t})});function F5(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function P_(t,e){t===void 0&&(t={}),e===void 0&&(e={});const n=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof t[i]>"u"?t[i]=e[i]:F5(e[i])&&F5(t[i])&&Object.keys(e[i]).length>0&&P_(t[i],e[i])})}const Mj={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Fa(){const t=typeof document<"u"?document:{};return P_(t,Mj),t}const $se={document:Mj,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function sr(){const t=typeof window<"u"?window:{};return P_(t,$se),t}function qse(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function Kse(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function k2(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function Jw(){return Date.now()}function Yse(t){const e=sr();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function Xse(t,e){e===void 0&&(e="x");const n=sr();let i,s,r;const o=Yse(t);return n.WebKitCSSMatrix?(s=o.transform||o.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(a=>a.replace(",",".")).join(", ")),r=new n.WebKitCSSMatrix(s==="none"?"":s)):(r=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=r.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?s=r.m41:i.length===16?s=parseFloat(i[12]):s=parseFloat(i[4])),e==="y"&&(n.WebKitCSSMatrix?s=r.m42:i.length===16?s=parseFloat(i[13]):s=parseFloat(i[5])),s||0}function zx(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function Zse(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Lr(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const i=n<0||arguments.length<=n?void 0:arguments[n];if(i!=null&&!Zse(i)){const s=Object.keys(Object(i)).filter(r=>e.indexOf(r)<0);for(let r=0,o=s.length;r<o;r+=1){const a=s[r],l=Object.getOwnPropertyDescriptor(i,a);l!==void 0&&l.enumerable&&(zx(t[a])&&zx(i[a])?i[a].__swiper__?t[a]=i[a]:Lr(t[a],i[a]):!zx(t[a])&&zx(i[a])?(t[a]={},i[a].__swiper__?t[a]=i[a]:Lr(t[a],i[a])):t[a]=i[a])}}}return t}function Gx(t,e,n){t.style.setProperty(e,n)}function Tj(t){let{swiper:e,targetPosition:n,side:i}=t;const s=sr(),r=-e.translate;let o=null,a;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(e.cssModeFrameID);const c=n>r?"next":"prev",d=(p,m)=>c==="next"&&p>=m||c==="prev"&&p<=m,f=()=>{a=new Date().getTime(),o===null&&(o=a);const p=Math.max(Math.min((a-o)/l,1),0),m=.5-Math.cos(p*Math.PI)/2;let y=r+m*(n-r);if(d(y,n)&&(y=n),e.wrapperEl.scrollTo({[i]:y}),d(y,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:y})}),s.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=s.requestAnimationFrame(f)};f()}function Ra(t,e){e===void 0&&(e="");const n=sr(),i=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&i.push(...t.assignedElements()),e?i.filter(s=>s.matches(e)):i}function Jse(t,e){const n=[e];for(;n.length>0;){const i=n.shift();if(t===i)return!0;n.push(...i.children,...i.shadowRoot?i.shadowRoot.children:[],...i.assignedElements?i.assignedElements():[])}}function Qse(t,e){const n=sr();let i=e.contains(t);return!i&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(i=[...e.assignedElements()].includes(t),i||(i=Jse(t,e))),i}function Qw(t){try{console.warn(t);return}catch{}}function eb(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:qse(e)),n}function ere(t,e){const n=[];for(;t.previousElementSibling;){const i=t.previousElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function tre(t,e){const n=[];for(;t.nextElementSibling;){const i=t.nextElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function Uc(t,e){return sr().getComputedStyle(t,null).getPropertyValue(e)}function tb(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function Rj(t,e){const n=[];let i=t.parentElement;for(;i;)e?i.matches(e)&&n.push(i):n.push(i),i=i.parentElement;return n}function B2(t,e,n){const i=sr();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function $i(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}let oR;function nre(){const t=sr(),e=Fa();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function Aj(){return oR||(oR=nre()),oR}let aR;function ire(t){let{userAgent:e}=t===void 0?{}:t;const n=Aj(),i=sr(),s=i.navigator.platform,r=e||i.navigator.userAgent,o={ios:!1,android:!1},a=i.screen.width,l=i.screen.height,c=r.match(/(Android);?[\s\/]+([\d.]+)?/);let d=r.match(/(iPad).*OS\s([\d_]+)/);const f=r.match(/(iPod)(.*OS\s([\d_]+))?/),p=!d&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),m=s==="Win32";let y=s==="MacIntel";const C=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&y&&n.touch&&C.indexOf(`${a}x${l}`)>=0&&(d=r.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),y=!1),c&&!m&&(o.os="android",o.android=!0),(d||p||f)&&(o.os="ios",o.ios=!0),o}function Pj(t){return t===void 0&&(t={}),aR||(aR=ire(t)),aR}let lR;function sre(){const t=sr(),e=Pj();let n=!1;function i(){const a=t.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(i()){const a=String(t.navigator.userAgent);if(a.includes("Version/")){const[l,c]=a.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));n=l<16||l===16&&c<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),r=i(),o=r||s&&e.ios;return{isSafari:n||r,needPerspectiveFix:n,need3dFix:o,isWebView:s}}function Dj(){return lR||(lR=sre()),lR}function rre(t){let{swiper:e,on:n,emit:i}=t;const s=sr();let r=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(r=new ResizeObserver(f=>{o=s.requestAnimationFrame(()=>{const{width:p,height:m}=e;let y=p,C=m;f.forEach(x=>{let{contentBoxSize:w,contentRect:M,target:S}=x;S&&S!==e.el||(y=M?M.width:(w[0]||w).inlineSize,C=M?M.height:(w[0]||w).blockSize)}),(y!==p||C!==m)&&a()})}),r.observe(e.el))},c=()=>{o&&s.cancelAnimationFrame(o),r&&r.unobserve&&e.el&&(r.unobserve(e.el),r=null)},d=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof s.ResizeObserver<"u"){l();return}s.addEventListener("resize",a),s.addEventListener("orientationchange",d)}),n("destroy",()=>{c(),s.removeEventListener("resize",a),s.removeEventListener("orientationchange",d)})}function ore(t){let{swiper:e,extendParams:n,on:i,emit:s}=t;const r=[],o=sr(),a=function(d,f){f===void 0&&(f={});const p=o.MutationObserver||o.WebkitMutationObserver,m=new p(y=>{if(e.__preventObserver__)return;if(y.length===1){s("observerUpdate",y[0]);return}const C=function(){s("observerUpdate",y[0])};o.requestAnimationFrame?o.requestAnimationFrame(C):o.setTimeout(C,0)});m.observe(d,{attributes:typeof f.attributes>"u"?!0:f.attributes,childList:e.isElement||(typeof f.childList>"u"?!0:f).childList,characterData:typeof f.characterData>"u"?!0:f.characterData}),r.push(m)},l=()=>{if(e.params.observer){if(e.params.observeParents){const d=Rj(e.hostEl);for(let f=0;f<d.length;f+=1)a(d[f])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},c=()=>{r.forEach(d=>{d.disconnect()}),r.splice(0,r.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",l),i("destroy",c)}var are={on(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const s=n?"unshift":"push";return t.split(" ").forEach(r=>{i.eventsListeners[r]||(i.eventsListeners[r]=[]),i.eventsListeners[r][s](e)}),i},once(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function s(){i.off(t,s),s.__emitterProxy&&delete s.__emitterProxy;for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];e.apply(i,o)}return s.__emitterProxy=e,i.on(t,s,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const i=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[i](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(i=>{typeof e>"u"?n.eventsListeners[i]=[]:n.eventsListeners[i]&&n.eventsListeners[i].forEach((s,r)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&n.eventsListeners[i].splice(r,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,i;for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return typeof r[0]=="string"||Array.isArray(r[0])?(e=r[0],n=r.slice(1,r.length),i=t):(e=r[0].events,n=r[0].data,i=r[0].context||t),n.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(c=>{c.apply(i,[l,...n])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(c=>{c.apply(i,n)})}),t}};function lre(){const t=this;let e,n;const i=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=i.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=i.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Uc(i,"padding-left")||0,10)-parseInt(Uc(i,"padding-right")||0,10),n=n-parseInt(Uc(i,"padding-top")||0,10)-parseInt(Uc(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function cre(){const t=this;function e(A,O){return parseFloat(A.getPropertyValue(t.getDirectionLabel(O))||0)}const n=t.params,{wrapperEl:i,slidesEl:s,size:r,rtlTranslate:o,wrongRTL:a}=t,l=t.virtual&&n.virtual.enabled,c=l?t.virtual.slides.length:t.slides.length,d=Ra(s,`.${t.params.slideClass}, swiper-slide`),f=l?t.virtual.slides.length:d.length;let p=[];const m=[],y=[];let C=n.slidesOffsetBefore;typeof C=="function"&&(C=n.slidesOffsetBefore.call(t));let x=n.slidesOffsetAfter;typeof x=="function"&&(x=n.slidesOffsetAfter.call(t));const w=t.snapGrid.length,M=t.slidesGrid.length;let S=n.spaceBetween,R=-C,P=0,F=0;if(typeof r>"u")return;typeof S=="string"&&S.indexOf("%")>=0?S=parseFloat(S.replace("%",""))/100*r:typeof S=="string"&&(S=parseFloat(S)),t.virtualSize=-S,d.forEach(A=>{o?A.style.marginLeft="":A.style.marginRight="",A.style.marginBottom="",A.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Gx(i,"--swiper-centered-offset-before",""),Gx(i,"--swiper-centered-offset-after",""));const N=n.grid&&n.grid.rows>1&&t.grid;N?t.grid.initSlides(d):t.grid&&t.grid.unsetSlides();let I;const _=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(A=>typeof n.breakpoints[A].slidesPerView<"u").length>0;for(let A=0;A<f;A+=1){I=0;let O;if(d[A]&&(O=d[A]),N&&t.grid.updateSlide(A,O,d),!(d[A]&&Uc(O,"display")==="none")){if(n.slidesPerView==="auto"){_&&(d[A].style[t.getDirectionLabel("width")]="");const k=getComputedStyle(O),z=O.style.transform,W=O.style.webkitTransform;if(z&&(O.style.transform="none"),W&&(O.style.webkitTransform="none"),n.roundLengths)I=t.isHorizontal()?B2(O,"width"):B2(O,"height");else{const K=e(k,"width"),V=e(k,"padding-left"),Q=e(k,"padding-right"),q=e(k,"margin-left"),X=e(k,"margin-right"),H=k.getPropertyValue("box-sizing");if(H&&H==="border-box")I=K+q+X;else{const{clientWidth:ee,offsetWidth:ge}=O;I=K+V+Q+q+X+(ge-ee)}}z&&(O.style.transform=z),W&&(O.style.webkitTransform=W),n.roundLengths&&(I=Math.floor(I))}else I=(r-(n.slidesPerView-1)*S)/n.slidesPerView,n.roundLengths&&(I=Math.floor(I)),d[A]&&(d[A].style[t.getDirectionLabel("width")]=`${I}px`);d[A]&&(d[A].swiperSlideSize=I),y.push(I),n.centeredSlides?(R=R+I/2+P/2+S,P===0&&A!==0&&(R=R-r/2-S),A===0&&(R=R-r/2-S),Math.abs(R)<1/1e3&&(R=0),n.roundLengths&&(R=Math.floor(R)),F%n.slidesPerGroup===0&&p.push(R),m.push(R)):(n.roundLengths&&(R=Math.floor(R)),(F-Math.min(t.params.slidesPerGroupSkip,F))%t.params.slidesPerGroup===0&&p.push(R),m.push(R),R=R+I+S),t.virtualSize+=I+S,P=I,F+=1}}if(t.virtualSize=Math.max(t.virtualSize,r)+x,o&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(i.style.width=`${t.virtualSize+S}px`),n.setWrapperSize&&(i.style[t.getDirectionLabel("width")]=`${t.virtualSize+S}px`),N&&t.grid.updateWrapperSize(I,p),!n.centeredSlides){const A=[];for(let O=0;O<p.length;O+=1){let k=p[O];n.roundLengths&&(k=Math.floor(k)),p[O]<=t.virtualSize-r&&A.push(k)}p=A,Math.floor(t.virtualSize-r)-Math.floor(p[p.length-1])>1&&p.push(t.virtualSize-r)}if(l&&n.loop){const A=y[0]+S;if(n.slidesPerGroup>1){const O=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),k=A*n.slidesPerGroup;for(let z=0;z<O;z+=1)p.push(p[p.length-1]+k)}for(let O=0;O<t.virtual.slidesBefore+t.virtual.slidesAfter;O+=1)n.slidesPerGroup===1&&p.push(p[p.length-1]+A),m.push(m[m.length-1]+A),t.virtualSize+=A}if(p.length===0&&(p=[0]),S!==0){const A=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");d.filter((O,k)=>!n.cssMode||n.loop?!0:k!==d.length-1).forEach(O=>{O.style[A]=`${S}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let A=0;y.forEach(k=>{A+=k+(S||0)}),A-=S;const O=A>r?A-r:0;p=p.map(k=>k<=0?-C:k>O?O+x:k)}if(n.centerInsufficientSlides){let A=0;y.forEach(k=>{A+=k+(S||0)}),A-=S;const O=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(A+O<r){const k=(r-A-O)/2;p.forEach((z,W)=>{p[W]=z-k}),m.forEach((z,W)=>{m[W]=z+k})}}if(Object.assign(t,{slides:d,snapGrid:p,slidesGrid:m,slidesSizesGrid:y}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Gx(i,"--swiper-centered-offset-before",`${-p[0]}px`),Gx(i,"--swiper-centered-offset-after",`${t.size/2-y[y.length-1]/2}px`);const A=-t.snapGrid[0],O=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(k=>k+A),t.slidesGrid=t.slidesGrid.map(k=>k+O)}if(f!==c&&t.emit("slidesLengthChange"),p.length!==w&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),m.length!==M&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const A=`${n.containerModifierClass}backface-hidden`,O=t.el.classList.contains(A);f<=n.maxBackfaceHiddenSlides?O||t.el.classList.add(A):O&&t.el.classList.remove(A)}}function ure(t){const e=this,n=[],i=e.virtual&&e.params.virtual.enabled;let s=0,r;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>i?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(r=0;r<Math.ceil(e.params.slidesPerView);r+=1){const a=e.activeIndex+r;if(a>e.slides.length&&!i)break;n.push(o(a))}else n.push(o(e.activeIndex));for(r=0;r<n.length;r+=1)if(typeof n[r]<"u"){const a=n[r].offsetHeight;s=a>s?a:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function dre(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(t.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-n-t.cssOverflowAdjustment()}const N5=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function hre(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:i,rtlTranslate:s,snapGrid:r}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;s&&(o=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<i.length;l+=1){const c=i[l];let d=c.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(d-=i[0].swiperSlideOffset);const f=(o+(n.centeredSlides?e.minTranslate():0)-d)/(c.swiperSlideSize+a),p=(o-r[0]+(n.centeredSlides?e.minTranslate():0)-d)/(c.swiperSlideSize+a),m=-(o-d),y=m+e.slidesSizesGrid[l],C=m>=0&&m<=e.size-e.slidesSizesGrid[l],x=m>=0&&m<e.size-1||y>1&&y<=e.size||m<=0&&y>=e.size;x&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l)),N5(c,x,n.slideVisibleClass),N5(c,C,n.slideFullyVisibleClass),c.progress=s?-f:f,c.originalProgress=s?-p:p}}function fre(t){const e=this;if(typeof t>"u"){const d=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*d||0}const n=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:r,isEnd:o,progressLoop:a}=e;const l=r,c=o;if(i===0)s=0,r=!0,o=!0;else{s=(t-e.minTranslate())/i;const d=Math.abs(t-e.minTranslate())<1,f=Math.abs(t-e.maxTranslate())<1;r=d||s<=0,o=f||s>=1,d&&(s=0),f&&(s=1)}if(n.loop){const d=e.getSlideIndexByData(0),f=e.getSlideIndexByData(e.slides.length-1),p=e.slidesGrid[d],m=e.slidesGrid[f],y=e.slidesGrid[e.slidesGrid.length-1],C=Math.abs(t);C>=p?a=(C-p)/y:a=(C+y-m)/y,a>1&&(a-=1)}Object.assign(e,{progress:s,progressLoop:a,isBeginning:r,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),r&&!l&&e.emit("reachBeginning toEdge"),o&&!c&&e.emit("reachEnd toEdge"),(l&&!r||c&&!o)&&e.emit("fromEdge"),e.emit("progress",s)}const cR=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function pre(){const t=this,{slides:e,params:n,slidesEl:i,activeIndex:s}=t,r=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,a=f=>Ra(i,`.${n.slideClass}${f}, swiper-slide${f}`)[0];let l,c,d;if(r)if(n.loop){let f=s-t.virtual.slidesBefore;f<0&&(f=t.virtual.slides.length+f),f>=t.virtual.slides.length&&(f-=t.virtual.slides.length),l=a(`[data-swiper-slide-index="${f}"]`)}else l=a(`[data-swiper-slide-index="${s}"]`);else o?(l=e.find(f=>f.column===s),d=e.find(f=>f.column===s+1),c=e.find(f=>f.column===s-1)):l=e[s];l&&(o||(d=tre(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d&&(d=e[0]),c=ere(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!c===0&&(c=e[e.length-1]))),e.forEach(f=>{cR(f,f===l,n.slideActiveClass),cR(f,f===d,n.slideNextClass),cR(f,f===c,n.slidePrevClass)}),t.emitSlidesClasses()}const uw=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,i=e.closest(n());if(i){let s=i.querySelector(`.${t.params.lazyPreloaderClass}`);!s&&t.isElement&&(i.shadowRoot?s=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(s=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},uR=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},H2=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const i=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),s=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=s,a=[o-e];a.push(...Array.from({length:e}).map((l,c)=>o+i+c)),t.slides.forEach((l,c)=>{a.includes(l.column)&&uR(t,c)});return}const r=s+i-1;if(t.params.rewind||t.params.loop)for(let o=s-e;o<=r+e;o+=1){const a=(o%n+n)%n;(a<s||a>r)&&uR(t,a)}else for(let o=Math.max(s-e,0);o<=Math.min(r+e,n-1);o+=1)o!==s&&(o>r||o<s)&&uR(t,o)};function mre(t){const{slidesGrid:e,params:n}=t,i=t.rtlTranslate?t.translate:-t.translate;let s;for(let r=0;r<e.length;r+=1)typeof e[r+1]<"u"?i>=e[r]&&i<e[r+1]-(e[r+1]-e[r])/2?s=r:i>=e[r]&&i<e[r+1]&&(s=r+1):i>=e[r]&&(s=r);return n.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function gre(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:s,activeIndex:r,realIndex:o,snapIndex:a}=e;let l=t,c;const d=m=>{let y=m-e.virtual.slidesBefore;return y<0&&(y=e.virtual.slides.length+y),y>=e.virtual.slides.length&&(y-=e.virtual.slides.length),y};if(typeof l>"u"&&(l=mre(e)),i.indexOf(n)>=0)c=i.indexOf(n);else{const m=Math.min(s.slidesPerGroupSkip,l);c=m+Math.floor((l-m)/s.slidesPerGroup)}if(c>=i.length&&(c=i.length-1),l===r&&!e.params.loop){c!==a&&(e.snapIndex=c,e.emit("snapIndexChange"));return}if(l===r&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=d(l);return}const f=e.grid&&s.grid&&s.grid.rows>1;let p;if(e.virtual&&s.virtual.enabled&&s.loop)p=d(l);else if(f){const m=e.slides.find(C=>C.column===l);let y=parseInt(m.getAttribute("data-swiper-slide-index"),10);Number.isNaN(y)&&(y=Math.max(e.slides.indexOf(m),0)),p=Math.floor(y/s.grid.rows)}else if(e.slides[l]){const m=e.slides[l].getAttribute("data-swiper-slide-index");m?p=parseInt(m,10):p=l}else p=l;Object.assign(e,{previousSnapIndex:a,snapIndex:c,previousRealIndex:o,realIndex:p,previousIndex:r,activeIndex:l}),e.initialized&&H2(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==p&&e.emit("realIndexChange"),e.emit("slideChange"))}function vre(t,e){const n=this,i=n.params;let s=t.closest(`.${i.slideClass}, swiper-slide`);!s&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!s&&a.matches&&a.matches(`.${i.slideClass}, swiper-slide`)&&(s=a)});let r=!1,o;if(s){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===s){r=!0,o=a;break}}if(s&&r)n.clickedSlide=s,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}i.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var yre={updateSize:lre,updateSlides:cre,updateAutoHeight:ure,updateSlidesOffset:dre,updateSlidesProgress:hre,updateProgress:fre,updateSlidesClasses:pre,updateActiveIndex:gre,updateClickedSlide:vre};function xre(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:i,translate:s,wrapperEl:r}=e;if(n.virtualTranslate)return i?-s:s;if(n.cssMode)return s;let o=Xse(r,t);return o+=e.cssOverflowAdjustment(),i&&(o=-o),o||0}function Cre(t,e){const n=this,{rtlTranslate:i,params:s,wrapperEl:r,progress:o}=n;let a=0,l=0;const c=0;n.isHorizontal()?a=i?-t:t:l=t,s.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:l,s.cssMode?r[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-l:s.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),r.style.transform=`translate3d(${a}px, ${l}px, ${c}px)`);let d;const f=n.maxTranslate()-n.minTranslate();f===0?d=0:d=(t-n.minTranslate())/f,d!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function wre(){return-this.snapGrid[0]}function bre(){return-this.snapGrid[this.snapGrid.length-1]}function Sre(t,e,n,i,s){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),i===void 0&&(i=!0);const r=this,{params:o,wrapperEl:a}=r;if(r.animating&&o.preventInteractionOnTransition)return!1;const l=r.minTranslate(),c=r.maxTranslate();let d;if(i&&t>l?d=l:i&&t<c?d=c:d=t,r.updateProgress(d),o.cssMode){const f=r.isHorizontal();if(e===0)a[f?"scrollLeft":"scrollTop"]=-d;else{if(!r.support.smoothScroll)return Tj({swiper:r,targetPosition:-d,side:f?"left":"top"}),!0;a.scrollTo({[f?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(r.setTransition(0),r.setTranslate(d),n&&(r.emit("beforeTransitionStart",e,s),r.emit("transitionEnd"))):(r.setTransition(e),r.setTranslate(d),n&&(r.emit("beforeTransitionStart",e,s),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(p){!r||r.destroyed||p.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,r.animating=!1,n&&r.emit("transitionEnd"))}),r.wrapperEl.addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd))),!0}var Ere={getTranslate:xre,setTranslate:Cre,minTranslate:wre,maxTranslate:bre,translateTo:Sre};function Mre(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function _j(t){let{swiper:e,runCallbacks:n,direction:i,step:s}=t;const{activeIndex:r,previousIndex:o}=e;let a=i;if(a||(r>o?a="next":r<o?a="prev":a="reset"),e.emit(`transition${s}`),n&&r!==o){if(a==="reset"){e.emit(`slideResetTransition${s}`);return}e.emit(`slideChangeTransition${s}`),a==="next"?e.emit(`slideNextTransition${s}`):e.emit(`slidePrevTransition${s}`)}}function Tre(t,e){t===void 0&&(t=!0);const n=this,{params:i}=n;i.cssMode||(i.autoHeight&&n.updateAutoHeight(),_j({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function Rre(t,e){t===void 0&&(t=!0);const n=this,{params:i}=n;n.animating=!1,!i.cssMode&&(n.setTransition(0),_j({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var Are={setTransition:Mre,transitionStart:Tre,transitionEnd:Rre};function Pre(t,e,n,i,s){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const r=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:d,activeIndex:f,rtlTranslate:p,wrapperEl:m,enabled:y}=r;if(!y&&!i&&!s||r.destroyed||r.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=r.params.speed);const C=Math.min(r.params.slidesPerGroupSkip,o);let x=C+Math.floor((o-C)/r.params.slidesPerGroup);x>=l.length&&(x=l.length-1);const w=-l[x];if(a.normalizeSlideIndex)for(let N=0;N<c.length;N+=1){const I=-Math.floor(w*100),_=Math.floor(c[N]*100),A=Math.floor(c[N+1]*100);typeof c[N+1]<"u"?I>=_&&I<A-(A-_)/2?o=N:I>=_&&I<A&&(o=N+1):I>=_&&(o=N)}if(r.initialized&&o!==f&&(!r.allowSlideNext&&(p?w>r.translate&&w>r.minTranslate():w<r.translate&&w<r.minTranslate())||!r.allowSlidePrev&&w>r.translate&&w>r.maxTranslate()&&(f||0)!==o))return!1;o!==(d||0)&&n&&r.emit("beforeSlideChangeStart"),r.updateProgress(w);let M;o>f?M="next":o<f?M="prev":M="reset";const S=r.virtual&&r.params.virtual.enabled;if(!(S&&s)&&(p&&-w===r.translate||!p&&w===r.translate))return r.updateActiveIndex(o),a.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),a.effect!=="slide"&&r.setTranslate(w),M!=="reset"&&(r.transitionStart(n,M),r.transitionEnd(n,M)),!1;if(a.cssMode){const N=r.isHorizontal(),I=p?w:-w;if(e===0)S&&(r.wrapperEl.style.scrollSnapType="none",r._immediateVirtual=!0),S&&!r._cssModeVirtualInitialSet&&r.params.initialSlide>0?(r._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{m[N?"scrollLeft":"scrollTop"]=I})):m[N?"scrollLeft":"scrollTop"]=I,S&&requestAnimationFrame(()=>{r.wrapperEl.style.scrollSnapType="",r._immediateVirtual=!1});else{if(!r.support.smoothScroll)return Tj({swiper:r,targetPosition:I,side:N?"left":"top"}),!0;m.scrollTo({[N?"left":"top"]:I,behavior:"smooth"})}return!0}const F=Dj().isSafari;return S&&!s&&F&&r.isElement&&r.virtual.update(!1,!1,o),r.setTransition(e),r.setTranslate(w),r.updateActiveIndex(o),r.updateSlidesClasses(),r.emit("beforeTransitionStart",e,i),r.transitionStart(n,M),e===0?r.transitionEnd(n,M):r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(I){!r||r.destroyed||I.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(n,M))}),r.wrapperEl.addEventListener("transitionend",r.onSlideToWrapperTransitionEnd)),!0}function Dre(t,e,n,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);const r=s.grid&&s.params.grid&&s.params.grid.rows>1;let o=t;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)o=o+s.virtual.slidesBefore;else{let a;if(r){const p=o*s.params.grid.rows;a=s.slides.find(m=>m.getAttribute("data-swiper-slide-index")*1===p).column}else a=s.getSlideIndexByData(o);const l=r?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:c}=s.params;let d=s.params.slidesPerView;d==="auto"?d=s.slidesPerViewDynamic():(d=Math.ceil(parseFloat(s.params.slidesPerView,10)),c&&d%2===0&&(d=d+1));let f=l-a<d;if(c&&(f=f||a<Math.ceil(d/2)),i&&c&&s.params.slidesPerView!=="auto"&&!r&&(f=!1),f){const p=c?a<s.activeIndex?"prev":"next":a-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:p,slideTo:!0,activeSlideIndex:p==="next"?a+1:a-l+1,slideRealIndex:p==="next"?s.realIndex:void 0})}if(r){const p=o*s.params.grid.rows;o=s.slides.find(m=>m.getAttribute("data-swiper-slide-index")*1===p).column}else o=s.getSlideIndexByData(o)}return requestAnimationFrame(()=>{s.slideTo(o,e,n,i)}),s}function _re(t,e,n){e===void 0&&(e=!0);const i=this,{enabled:s,params:r,animating:o}=i;if(!s||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);let a=r.slidesPerGroup;r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(a=Math.max(i.slidesPerViewDynamic("current",!0),1));const l=i.activeIndex<r.slidesPerGroupSkip?1:a,c=i.virtual&&r.virtual.enabled;if(r.loop){if(o&&!c&&r.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&r.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+l,t,e,n)}),!0}return r.rewind&&i.isEnd?i.slideTo(0,t,e,n):i.slideTo(i.activeIndex+l,t,e,n)}function Fre(t,e,n){e===void 0&&(e=!0);const i=this,{params:s,snapGrid:r,slidesGrid:o,rtlTranslate:a,enabled:l,animating:c}=i;if(!l||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);const d=i.virtual&&s.virtual.enabled;if(s.loop){if(c&&!d&&s.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const f=a?i.translate:-i.translate;function p(M){return M<0?-Math.floor(Math.abs(M)):Math.floor(M)}const m=p(f),y=r.map(M=>p(M)),C=s.freeMode&&s.freeMode.enabled;let x=r[y.indexOf(m)-1];if(typeof x>"u"&&(s.cssMode||C)){let M;r.forEach((S,R)=>{m>=S&&(M=R)}),typeof M<"u"&&(x=C?r[M]:r[M>0?M-1:M])}let w=0;if(typeof x<"u"&&(w=o.indexOf(x),w<0&&(w=i.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(w=w-i.slidesPerViewDynamic("previous",!0)+1,w=Math.max(w,0))),s.rewind&&i.isBeginning){const M=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(M,t,e,n)}else if(s.loop&&i.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{i.slideTo(w,t,e,n)}),!0;return i.slideTo(w,t,e,n)}function Nre(t,e,n){e===void 0&&(e=!0);const i=this;if(!i.destroyed)return typeof t>"u"&&(t=i.params.speed),i.slideTo(i.activeIndex,t,e,n)}function Ire(t,e,n,i){e===void 0&&(e=!0),i===void 0&&(i=.5);const s=this;if(s.destroyed)return;typeof t>"u"&&(t=s.params.speed);let r=s.activeIndex;const o=Math.min(s.params.slidesPerGroupSkip,r),a=o+Math.floor((r-o)/s.params.slidesPerGroup),l=s.rtlTranslate?s.translate:-s.translate;if(l>=s.snapGrid[a]){const c=s.snapGrid[a],d=s.snapGrid[a+1];l-c>(d-c)*i&&(r+=s.params.slidesPerGroup)}else{const c=s.snapGrid[a-1],d=s.snapGrid[a];l-c<=(d-c)*i&&(r-=s.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,s.slidesGrid.length-1),s.slideTo(r,t,e,n)}function Ore(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,i=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let s=t.clickedIndex,r;const o=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;r=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?s<t.loopedSlides-i/2||s>t.slides.length-t.loopedSlides+i/2?(t.loopFix(),s=t.getSlideIndex(Ra(n,`${o}[data-swiper-slide-index="${r}"]`)[0]),k2(()=>{t.slideTo(s)})):t.slideTo(s):s>t.slides.length-i?(t.loopFix(),s=t.getSlideIndex(Ra(n,`${o}[data-swiper-slide-index="${r}"]`)[0]),k2(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}var Lre={slideTo:Pre,slideToLoop:Dre,slideNext:_re,slidePrev:Fre,slideReset:Nre,slideToClosest:Ire,slideToClickedSlide:Ore};function kre(t){const e=this,{params:n,slidesEl:i}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;const s=()=>{Ra(i,`.${n.slideClass}, swiper-slide`).forEach((f,p)=>{f.setAttribute("data-swiper-slide-index",p)})},r=e.grid&&n.grid&&n.grid.rows>1,o=n.slidesPerGroup*(r?n.grid.rows:1),a=e.slides.length%o!==0,l=r&&e.slides.length%n.grid.rows!==0,c=d=>{for(let f=0;f<d;f+=1){const p=e.isElement?eb("swiper-slide",[n.slideBlankClass]):eb("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(p)}};if(a){if(n.loopAddBlankSlides){const d=o-e.slides.length%o;c(d),e.recalcSlides(),e.updateSlides()}else Qw("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(l){if(n.loopAddBlankSlides){const d=n.grid.rows-e.slides.length%n.grid.rows;c(d),e.recalcSlides(),e.updateSlides()}else Qw("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function Bre(t){let{slideRealIndex:e,slideTo:n=!0,direction:i,setTranslate:s,activeSlideIndex:r,byController:o,byMousewheel:a}=t===void 0?{}:t;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:d,allowSlideNext:f,slidesEl:p,params:m}=l,{centeredSlides:y}=m;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&m.virtual.enabled){n&&(!m.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):m.centeredSlides&&l.snapIndex<m.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=d,l.allowSlideNext=f,l.emit("loopFix");return}let C=m.slidesPerView;C==="auto"?C=l.slidesPerViewDynamic():(C=Math.ceil(parseFloat(m.slidesPerView,10)),y&&C%2===0&&(C=C+1));const x=m.slidesPerGroupAuto?C:m.slidesPerGroup;let w=x;w%x!==0&&(w+=x-w%x),w+=m.loopAdditionalSlides,l.loopedSlides=w;const M=l.grid&&m.grid&&m.grid.rows>1;c.length<C+w?Qw("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):M&&m.grid.fill==="row"&&Qw("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const S=[],R=[];let P=l.activeIndex;typeof r>"u"?r=l.getSlideIndex(c.find(z=>z.classList.contains(m.slideActiveClass))):P=r;const F=i==="next"||!i,N=i==="prev"||!i;let I=0,_=0;const A=M?Math.ceil(c.length/m.grid.rows):c.length,k=(M?c[r].column:r)+(y&&typeof s>"u"?-C/2+.5:0);if(k<w){I=Math.max(w-k,x);for(let z=0;z<w-k;z+=1){const W=z-Math.floor(z/A)*A;if(M){const K=A-W-1;for(let V=c.length-1;V>=0;V-=1)c[V].column===K&&S.push(V)}else S.push(A-W-1)}}else if(k+C>A-w){_=Math.max(k-(A-w*2),x);for(let z=0;z<_;z+=1){const W=z-Math.floor(z/A)*A;M?c.forEach((K,V)=>{K.column===W&&R.push(V)}):R.push(W)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),N&&S.forEach(z=>{c[z].swiperLoopMoveDOM=!0,p.prepend(c[z]),c[z].swiperLoopMoveDOM=!1}),F&&R.forEach(z=>{c[z].swiperLoopMoveDOM=!0,p.append(c[z]),c[z].swiperLoopMoveDOM=!1}),l.recalcSlides(),m.slidesPerView==="auto"?l.updateSlides():M&&(S.length>0&&N||R.length>0&&F)&&l.slides.forEach((z,W)=>{l.grid.updateSlide(W,z,l.slides)}),m.watchSlidesProgress&&l.updateSlidesOffset(),n){if(S.length>0&&N){if(typeof e>"u"){const z=l.slidesGrid[P],K=l.slidesGrid[P+I]-z;a?l.setTranslate(l.translate-K):(l.slideTo(P+Math.ceil(I),0,!1,!0),s&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-K,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-K))}else if(s){const z=M?S.length/m.grid.rows:S.length;l.slideTo(l.activeIndex+z,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(R.length>0&&F)if(typeof e>"u"){const z=l.slidesGrid[P],K=l.slidesGrid[P-_]-z;a?l.setTranslate(l.translate-K):(l.slideTo(P-_,0,!1,!0),s&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-K,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-K))}else{const z=M?R.length/m.grid.rows:R.length;l.slideTo(l.activeIndex-z,0,!1,!0)}}if(l.allowSlidePrev=d,l.allowSlideNext=f,l.controller&&l.controller.control&&!o){const z={slideRealIndex:e,direction:i,setTranslate:s,activeSlideIndex:r,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(W=>{!W.destroyed&&W.params.loop&&W.loopFix({...z,slideTo:W.params.slidesPerView===m.slidesPerView?n:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...z,slideTo:l.controller.control.params.slidesPerView===m.slidesPerView?n:!1})}l.emit("loopFix")}function Hre(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const i=[];t.slides.forEach(s=>{const r=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;i[r]=s}),t.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),i.forEach(s=>{n.append(s)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var Vre={loopCreate:kre,loopFix:Bre,loopDestroy:Hre};function zre(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function Gre(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var Ure={setGrabCursor:zre,unsetGrabCursor:Gre};function jre(t,e){e===void 0&&(e=this);function n(i){if(!i||i===Fa()||i===sr())return null;i.assignedSlot&&(i=i.assignedSlot);const s=i.closest(t);return!s&&!i.getRootNode?null:s||n(i.getRootNode().host)}return n(e)}function I5(t,e,n){const i=sr(),{params:s}=t,r=s.edgeSwipeDetection,o=s.edgeSwipeThreshold;return r&&(n<=o||n>=i.innerWidth-o)?r==="prevent"?(e.preventDefault(),!0):!1:!0}function Wre(t){const e=this,n=Fa();let i=t;i.originalEvent&&(i=i.originalEvent);const s=e.touchEventsData;if(i.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==i.pointerId)return;s.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(s.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){I5(e,i,i.targetTouches[0].pageX);return}const{params:r,touches:o,enabled:a}=e;if(!a||!r.simulateTouch&&i.pointerType==="mouse"||e.animating&&r.preventInteractionOnTransition)return;!e.animating&&r.cssMode&&r.loop&&e.loopFix();let l=i.target;if(r.touchEventsTarget==="wrapper"&&!Qse(l,e.wrapperEl)||"which"in i&&i.which===3||"button"in i&&i.button>0||s.isTouched&&s.isMoved)return;const c=!!r.noSwipingClass&&r.noSwipingClass!=="",d=i.composedPath?i.composedPath():i.path;c&&i.target&&i.target.shadowRoot&&d&&(l=d[0]);const f=r.noSwipingSelector?r.noSwipingSelector:`.${r.noSwipingClass}`,p=!!(i.target&&i.target.shadowRoot);if(r.noSwiping&&(p?jre(f,l):l.closest(f))){e.allowClick=!0;return}if(r.swipeHandler&&!l.closest(r.swipeHandler))return;o.currentX=i.pageX,o.currentY=i.pageY;const m=o.currentX,y=o.currentY;if(!I5(e,i,m))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=m,o.startY=y,s.touchStartTime=Jw(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,r.threshold>0&&(s.allowThresholdMove=!1);let C=!0;l.matches(s.focusableElements)&&(C=!1,l.nodeName==="SELECT"&&(s.isTouched=!1)),n.activeElement&&n.activeElement.matches(s.focusableElements)&&n.activeElement!==l&&(i.pointerType==="mouse"||i.pointerType!=="mouse"&&!l.matches(s.focusableElements))&&n.activeElement.blur();const x=C&&e.allowTouchMove&&r.touchStartPreventDefault;(r.touchStartForcePreventDefault||x)&&!l.isContentEditable&&i.preventDefault(),r.freeMode&&r.freeMode.enabled&&e.freeMode&&e.animating&&!r.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",i)}function $re(t){const e=Fa(),n=this,i=n.touchEventsData,{params:s,touches:r,rtlTranslate:o,enabled:a}=n;if(!a||!s.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(i.touchId!==null||l.pointerId!==i.pointerId))return;let c;if(l.type==="touchmove"){if(c=[...l.changedTouches].find(P=>P.identifier===i.touchId),!c||c.identifier!==i.touchId)return}else c=l;if(!i.isTouched){i.startMoving&&i.isScrolling&&n.emit("touchMoveOpposite",l);return}const d=c.pageX,f=c.pageY;if(l.preventedByNestedSwiper){r.startX=d,r.startY=f;return}if(!n.allowTouchMove){l.target.matches(i.focusableElements)||(n.allowClick=!1),i.isTouched&&(Object.assign(r,{startX:d,startY:f,currentX:d,currentY:f}),i.touchStartTime=Jw());return}if(s.touchReleaseOnEdges&&!s.loop){if(n.isVertical()){if(f<r.startY&&n.translate<=n.maxTranslate()||f>r.startY&&n.translate>=n.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else if(d<r.startX&&n.translate<=n.maxTranslate()||d>r.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&e.activeElement.matches(i.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(i.focusableElements)){i.isMoved=!0,n.allowClick=!1;return}i.allowTouchCallbacks&&n.emit("touchMove",l),r.previousX=r.currentX,r.previousY=r.currentY,r.currentX=d,r.currentY=f;const p=r.currentX-r.startX,m=r.currentY-r.startY;if(n.params.threshold&&Math.sqrt(p**2+m**2)<n.params.threshold)return;if(typeof i.isScrolling>"u"){let P;n.isHorizontal()&&r.currentY===r.startY||n.isVertical()&&r.currentX===r.startX?i.isScrolling=!1:p*p+m*m>=25&&(P=Math.atan2(Math.abs(m),Math.abs(p))*180/Math.PI,i.isScrolling=n.isHorizontal()?P>s.touchAngle:90-P>s.touchAngle)}if(i.isScrolling&&n.emit("touchMoveOpposite",l),typeof i.startMoving>"u"&&(r.currentX!==r.startX||r.currentY!==r.startY)&&(i.startMoving=!0),i.isScrolling||l.type==="touchmove"&&i.preventTouchMoveFromPointerMove){i.isTouched=!1;return}if(!i.startMoving)return;n.allowClick=!1,!s.cssMode&&l.cancelable&&l.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&l.stopPropagation();let y=n.isHorizontal()?p:m,C=n.isHorizontal()?r.currentX-r.previousX:r.currentY-r.previousY;s.oneWayMovement&&(y=Math.abs(y)*(o?1:-1),C=Math.abs(C)*(o?1:-1)),r.diff=y,y*=s.touchRatio,o&&(y=-y,C=-C);const x=n.touchesDirection;n.swipeDirection=y>0?"prev":"next",n.touchesDirection=C>0?"prev":"next";const w=n.params.loop&&!s.cssMode,M=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!i.isMoved){if(w&&M&&n.loopFix({direction:n.swipeDirection}),i.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const P=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(P)}i.allowMomentumBounce=!1,s.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}if(new Date().getTime(),s._loopSwapReset!==!1&&i.isMoved&&i.allowThresholdMove&&x!==n.touchesDirection&&w&&M&&Math.abs(y)>=1){Object.assign(r,{startX:d,startY:f,currentX:d,currentY:f,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}n.emit("sliderMove",l),i.isMoved=!0,i.currentTranslate=y+i.startTranslate;let S=!0,R=s.resistanceRatio;if(s.touchReleaseOnEdges&&(R=0),y>0?(w&&M&&i.allowThresholdMove&&i.currentTranslate>(s.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(s.slidesPerView!=="auto"&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>n.minTranslate()&&(S=!1,s.resistance&&(i.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+i.startTranslate+y)**R))):y<0&&(w&&M&&i.allowThresholdMove&&i.currentTranslate<(s.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(s.slidesPerView!=="auto"&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(s.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),i.currentTranslate<n.maxTranslate()&&(S=!1,s.resistance&&(i.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-i.startTranslate-y)**R))),S&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(i.currentTranslate=i.startTranslate),s.threshold>0)if(Math.abs(y)>s.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,i.currentTranslate=i.startTranslate,r.diff=n.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY;return}}else{i.currentTranslate=i.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&n.freeMode||s.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(i.currentTranslate),n.setTranslate(i.currentTranslate))}function qre(t){const e=this,n=e.touchEventsData;let i=t;i.originalEvent&&(i=i.originalEvent);let s;if(i.type==="touchend"||i.type==="touchcancel"){if(s=[...i.changedTouches].find(P=>P.identifier===n.touchId),!s||s.identifier!==n.touchId)return}else{if(n.touchId!==null||i.pointerId!==n.pointerId)return;s=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:a,rtlTranslate:l,slidesGrid:c,enabled:d}=e;if(!d||!o.simulateTouch&&i.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",i),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const f=Jw(),p=f-n.touchStartTime;if(e.allowClick){const P=i.path||i.composedPath&&i.composedPath();e.updateClickedSlide(P&&P[0]||i.target,P),e.emit("tap click",i),p<300&&f-n.lastClickTime<300&&e.emit("doubleTap doubleClick",i)}if(n.lastClickTime=Jw(),k2(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let m;if(o.followFinger?m=l?e.translate:-e.translate:m=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:m});return}const y=m>=-e.maxTranslate()&&!e.params.loop;let C=0,x=e.slidesSizesGrid[0];for(let P=0;P<c.length;P+=P<o.slidesPerGroupSkip?1:o.slidesPerGroup){const F=P<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof c[P+F]<"u"?(y||m>=c[P]&&m<c[P+F])&&(C=P,x=c[P+F]-c[P]):(y||m>=c[P])&&(C=P,x=c[c.length-1]-c[c.length-2])}let w=null,M=null;o.rewind&&(e.isBeginning?M=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(w=0));const S=(m-c[C])/x,R=C<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(p>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(S>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?w:C+R):e.slideTo(C)),e.swipeDirection==="prev"&&(S>1-o.longSwipesRatio?e.slideTo(C+R):M!==null&&S<0&&Math.abs(S)>o.longSwipesRatio?e.slideTo(M):e.slideTo(C))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(i.target===e.navigation.nextEl||i.target===e.navigation.prevEl)?i.target===e.navigation.nextEl?e.slideTo(C+R):e.slideTo(C):(e.swipeDirection==="next"&&e.slideTo(w!==null?w:C+R),e.swipeDirection==="prev"&&e.slideTo(M!==null?M:C))}}function O5(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:s,snapGrid:r}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=s,t.allowSlideNext=i,t.params.watchOverflow&&r!==t.snapGrid&&t.checkOverflow()}function Kre(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function Yre(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:i}=t;if(!i)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let s;const r=t.maxTranslate()-t.minTranslate();r===0?s=0:s=(t.translate-t.minTranslate())/r,s!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function Xre(t){const e=this;uw(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function Zre(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const Fj=(t,e)=>{const n=Fa(),{params:i,el:s,wrapperEl:r,device:o}=t,a=!!i.nested,l=e==="on"?"addEventListener":"removeEventListener",c=e;!s||typeof s=="string"||(n[l]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),s[l]("touchstart",t.onTouchStart,{passive:!1}),s[l]("pointerdown",t.onTouchStart,{passive:!1}),n[l]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[l]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[l]("touchend",t.onTouchEnd,{passive:!0}),n[l]("pointerup",t.onTouchEnd,{passive:!0}),n[l]("pointercancel",t.onTouchEnd,{passive:!0}),n[l]("touchcancel",t.onTouchEnd,{passive:!0}),n[l]("pointerout",t.onTouchEnd,{passive:!0}),n[l]("pointerleave",t.onTouchEnd,{passive:!0}),n[l]("contextmenu",t.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&s[l]("click",t.onClick,!0),i.cssMode&&r[l]("scroll",t.onScroll),i.updateOnWindowResize?t[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",O5,!0):t[c]("observerUpdate",O5,!0),s[l]("load",t.onLoad,{capture:!0}))};function Jre(){const t=this,{params:e}=t;t.onTouchStart=Wre.bind(t),t.onTouchMove=$re.bind(t),t.onTouchEnd=qre.bind(t),t.onDocumentTouchStart=Zre.bind(t),e.cssMode&&(t.onScroll=Yre.bind(t)),t.onClick=Kre.bind(t),t.onLoad=Xre.bind(t),Fj(t,"on")}function Qre(){Fj(this,"off")}var eoe={attachEvents:Jre,detachEvents:Qre};const L5=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function toe(){const t=this,{realIndex:e,initialized:n,params:i,el:s}=t,r=i.breakpoints;if(!r||r&&Object.keys(r).length===0)return;const o=Fa(),a=i.breakpointsBase==="window"||!i.breakpointsBase?i.breakpointsBase:"container",l=["window","container"].includes(i.breakpointsBase)||!i.breakpointsBase?t.el:o.querySelector(i.breakpointsBase),c=t.getBreakpoint(r,a,l);if(!c||t.currentBreakpoint===c)return;const f=(c in r?r[c]:void 0)||t.originalParams,p=L5(t,i),m=L5(t,f),y=t.params.grabCursor,C=f.grabCursor,x=i.enabled;p&&!m?(s.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),t.emitContainerClasses()):!p&&m&&(s.classList.add(`${i.containerModifierClass}grid`),(f.grid.fill&&f.grid.fill==="column"||!f.grid.fill&&i.grid.fill==="column")&&s.classList.add(`${i.containerModifierClass}grid-column`),t.emitContainerClasses()),y&&!C?t.unsetGrabCursor():!y&&C&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(F=>{if(typeof f[F]>"u")return;const N=i[F]&&i[F].enabled,I=f[F]&&f[F].enabled;N&&!I&&t[F].disable(),!N&&I&&t[F].enable()});const w=f.direction&&f.direction!==i.direction,M=i.loop&&(f.slidesPerView!==i.slidesPerView||w),S=i.loop;w&&n&&t.changeDirection(),Lr(t.params,f);const R=t.params.enabled,P=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),x&&!R?t.disable():!x&&R&&t.enable(),t.currentBreakpoint=c,t.emit("_beforeBreakpoint",f),n&&(M?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!S&&P?(t.loopCreate(e),t.updateSlides()):S&&!P&&t.loopDestroy()),t.emit("breakpoint",f)}function noe(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let i=!1;const s=sr(),r=e==="window"?s.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:r*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:c}=o[a];e==="window"?s.matchMedia(`(min-width: ${c}px)`).matches&&(i=l):c<=n.clientWidth&&(i=l)}return i||"max"}var ioe={setBreakpoint:toe,getBreakpoint:noe};function soe(t,e){const n=[];return t.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(s=>{i[s]&&n.push(e+s)}):typeof i=="string"&&n.push(e+i)}),n}function roe(){const t=this,{classNames:e,params:n,rtl:i,el:s,device:r}=t,o=soe(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:i},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:r.android},{ios:r.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),s.classList.add(...e),t.emitContainerClasses()}function ooe(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var aoe={addClasses:roe,removeClasses:ooe};function loe(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:i}=n;if(i){const s=t.slides.length-1,r=t.slidesGrid[s]+t.slidesSizesGrid[s]+i*2;t.isLocked=t.size>r}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var coe={checkOverflow:loe},V2={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function uoe(t,e){return function(i){i===void 0&&(i={});const s=Object.keys(i)[0],r=i[s];if(typeof r!="object"||r===null){Lr(e,i);return}if(t[s]===!0&&(t[s]={enabled:!0}),s==="navigation"&&t[s]&&t[s].enabled&&!t[s].prevEl&&!t[s].nextEl&&(t[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&t[s]&&t[s].enabled&&!t[s].el&&(t[s].auto=!0),!(s in t&&"enabled"in r)){Lr(e,i);return}typeof t[s]=="object"&&!("enabled"in t[s])&&(t[s].enabled=!0),t[s]||(t[s]={enabled:!1}),Lr(e,i)}}const dR={eventsEmitter:are,update:yre,translate:Ere,transition:Are,slide:Lre,loop:Vre,grabCursor:Ure,events:eoe,breakpoints:ioe,checkOverflow:coe,classes:aoe},hR={};let D_=class bl{constructor(){let e,n;for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?n=s[0]:[e,n]=s,n||(n={}),n=Lr({},n),e&&!n.el&&(n.el=e);const o=Fa();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const d=[];return o.querySelectorAll(n.el).forEach(f=>{const p=Lr({},n,{el:f});d.push(new bl(p))}),d}const a=this;a.__swiper__=!0,a.support=Aj(),a.device=Pj({userAgent:n.userAgent}),a.browser=Dj(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const l={};a.modules.forEach(d=>{d({params:n,swiper:a,extendParams:uoe(n,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const c=Lr({},V2,l);return a.params=Lr({},c,hR,n),a.originalParams=Lr({},a.params),a.passedParams=Lr({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(d=>{a.on(d,a.params.on[d])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:i}=this,s=Ra(n,`.${i.slideClass}, swiper-slide`),r=tb(s[0]);return tb(e)-r}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:n,params:i}=e;e.slides=Ra(n,`.${i.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const i=this;e=Math.min(Math.max(e,0),1);const s=i.minTranslate(),o=(i.maxTranslate()-s)*e+s;i.translateTo(o,typeof n>"u"?0:n),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(i=>{const s=e.getSlideClasses(i);n.push({slideEl:i,classNames:s}),e.emit("_slideClass",i,s)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const i=this,{params:s,slides:r,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=i;let d=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let f=r[c]?Math.ceil(r[c].swiperSlideSize):0,p;for(let m=c+1;m<r.length;m+=1)r[m]&&!p&&(f+=Math.ceil(r[m].swiperSlideSize),d+=1,f>l&&(p=!0));for(let m=c-1;m>=0;m-=1)r[m]&&!p&&(f+=r[m].swiperSlideSize,d+=1,f>l&&(p=!0))}else if(e==="current")for(let f=c+1;f<r.length;f+=1)(n?o[f]+a[f]-o[c]<l:o[f]-o[c]<l)&&(d+=1);else for(let f=c-1;f>=0;f-=1)o[c]-o[f]<l&&(d+=1);return d}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&uw(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let r;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)s(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const o=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;r=e.slideTo(o.length-1,0,!1,!0)}else r=e.slideTo(e.activeIndex,0,!1,!0);r||s()}i.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const i=this,s=i.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${s}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(r=>{e==="vertical"?r.style.width="":r.style.height=""}),i.emit("changeDirection"),n&&i.update()),i}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let i=e||n.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=n,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const s=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(s()):Ra(i,s())[0];return!o&&n.params.createElements&&(o=eb("div",n.params.wrapperClass),i.append(o),Ra(i,`.${n.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(n,{el:i,wrapperEl:o,slidesEl:n.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:o,hostEl:n.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||Uc(i,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||Uc(i,"direction")==="rtl"),wrongRTL:Uc(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const s=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&s.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(r=>{r.complete?uw(n,r):r.addEventListener("load",o=>{uw(n,o.target)})}),H2(n),n.initialized=!0,H2(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const i=this,{params:s,el:r,wrapperEl:o,slides:a}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),s.loop&&i.loopDestroy(),n&&(i.removeClasses(),r&&typeof r!="string"&&r.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(l=>{i.off(l)}),e!==!1&&(i.el&&typeof i.el!="string"&&(i.el.swiper=null),Kse(i)),i.destroyed=!0),null}static extendDefaults(e){Lr(hR,e)}static get extendedDefaults(){return hR}static get defaults(){return V2}static installModule(e){bl.prototype.__modules__||(bl.prototype.__modules__=[]);const n=bl.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>bl.installModule(n)),bl):(bl.installModule(e),bl)}};Object.keys(dR).forEach(t=>{Object.keys(dR[t]).forEach(e=>{D_.prototype[e]=dR[t][e]})});D_.use([rre,ore]);const Nj=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function ih(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function up(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof t[i]>"u"?t[i]=e[i]:ih(e[i])&&ih(t[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?t[i]=e[i]:up(t[i],e[i]):t[i]=e[i]})}function Ij(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function Oj(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function Lj(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function kj(t){t===void 0&&(t="");const e=t.split(" ").map(i=>i.trim()).filter(i=>!!i),n=[];return e.forEach(i=>{n.indexOf(i)<0&&n.push(i)}),n.join(" ")}function doe(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function hoe(t){let{swiper:e,slides:n,passedParams:i,changedParams:s,nextEl:r,prevEl:o,scrollbarEl:a,paginationEl:l}=t;const c=s.filter(_=>_!=="children"&&_!=="direction"&&_!=="wrapperClass"),{params:d,pagination:f,navigation:p,scrollbar:m,virtual:y,thumbs:C}=e;let x,w,M,S,R,P,F,N;s.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&!i.thumbs.swiper.destroyed&&d.thumbs&&(!d.thumbs.swiper||d.thumbs.swiper.destroyed)&&(x=!0),s.includes("controller")&&i.controller&&i.controller.control&&d.controller&&!d.controller.control&&(w=!0),s.includes("pagination")&&i.pagination&&(i.pagination.el||l)&&(d.pagination||d.pagination===!1)&&f&&!f.el&&(M=!0),s.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||a)&&(d.scrollbar||d.scrollbar===!1)&&m&&!m.el&&(S=!0),s.includes("navigation")&&i.navigation&&(i.navigation.prevEl||o)&&(i.navigation.nextEl||r)&&(d.navigation||d.navigation===!1)&&p&&!p.prevEl&&!p.nextEl&&(R=!0);const I=_=>{e[_]&&(e[_].destroy(),_==="navigation"?(e.isElement&&(e[_].prevEl.remove(),e[_].nextEl.remove()),d[_].prevEl=void 0,d[_].nextEl=void 0,e[_].prevEl=void 0,e[_].nextEl=void 0):(e.isElement&&e[_].el.remove(),d[_].el=void 0,e[_].el=void 0))};s.includes("loop")&&e.isElement&&(d.loop&&!i.loop?P=!0:!d.loop&&i.loop?F=!0:N=!0),c.forEach(_=>{if(ih(d[_])&&ih(i[_]))Object.assign(d[_],i[_]),(_==="navigation"||_==="pagination"||_==="scrollbar")&&"enabled"in i[_]&&!i[_].enabled&&I(_);else{const A=i[_];(A===!0||A===!1)&&(_==="navigation"||_==="pagination"||_==="scrollbar")?A===!1&&I(_):d[_]=i[_]}}),c.includes("controller")&&!w&&e.controller&&e.controller.control&&d.controller&&d.controller.control&&(e.controller.control=d.controller.control),s.includes("children")&&n&&y&&d.virtual.enabled?(y.slides=n,y.update(!0)):s.includes("virtual")&&y&&d.virtual.enabled&&(n&&(y.slides=n),y.update(!0)),s.includes("children")&&n&&d.loop&&(N=!0),x&&C.init()&&C.update(!0),w&&(e.controller.control=d.controller.control),M&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(d.pagination.el=l),f.init(),f.render(),f.update()),S&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(d.scrollbar.el=a),m.init(),m.updateSize(),m.setTranslate()),R&&(e.isElement&&((!r||typeof r=="string")&&(r=document.createElement("div"),r.classList.add("swiper-button-next"),r.innerHTML=e.hostEl.constructor.nextButtonSvg,r.part.add("button-next"),e.el.appendChild(r)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),r&&(d.navigation.nextEl=r),o&&(d.navigation.prevEl=o),p.init(),p.update()),s.includes("allowSlideNext")&&(e.allowSlideNext=i.allowSlideNext),s.includes("allowSlidePrev")&&(e.allowSlidePrev=i.allowSlidePrev),s.includes("direction")&&e.changeDirection(i.direction,!1),(P||N)&&e.loopDestroy(),(F||N)&&e.loopCreate(),e.update()}function foe(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},i={},s={};up(n,V2),n._emitClasses=!0,n.init=!1;const r={},o=Nj.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(o.indexOf(l)>=0?ih(t[l])?(n[l]={},s[l]={},up(n[l],t[l]),up(s[l],t[l])):(n[l]=t[l],s[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?e?i[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:r[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:s,rest:r,events:i}}function poe(t,e){let{el:n,nextEl:i,prevEl:s,paginationEl:r,scrollbarEl:o,swiper:a}=t;Ij(e)&&i&&s&&(a.params.navigation.nextEl=i,a.originalParams.navigation.nextEl=i,a.params.navigation.prevEl=s,a.originalParams.navigation.prevEl=s),Oj(e)&&r&&(a.params.pagination.el=r,a.originalParams.pagination.el=r),Lj(e)&&o&&(a.params.scrollbar.el=o,a.originalParams.scrollbar.el=o),a.init(n)}function moe(t,e,n,i,s){const r=[];if(!e)return r;const o=l=>{r.indexOf(l)<0&&r.push(l)};if(n&&i){const l=i.map(s),c=n.map(s);l.join("")!==c.join("")&&o("children"),i.length!==n.length&&o("children")}return Nj.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(ih(t[l])&&ih(e[l])){const c=Object.keys(t[l]),d=Object.keys(e[l]);c.length!==d.length?o(l):(c.forEach(f=>{t[l][f]!==e[l][f]&&o(l)}),d.forEach(f=>{t[l][f]!==e[l][f]&&o(l)}))}else t[l]!==e[l]&&o(l)}),r}const goe=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function nb(){return nb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},nb.apply(this,arguments)}function Bj(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function Hj(t){const e=[];return ne.Children.toArray(t).forEach(n=>{Bj(n)?e.push(n):n.props&&n.props.children&&Hj(n.props.children).forEach(i=>e.push(i))}),e}function voe(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return ne.Children.toArray(t).forEach(i=>{if(Bj(i))e.push(i);else if(i.props&&i.props.slot&&n[i.props.slot])n[i.props.slot].push(i);else if(i.props&&i.props.children){const s=Hj(i.props.children);s.length>0?s.forEach(r=>e.push(r)):n["container-end"].push(i)}else n["container-end"].push(i)}),{slides:e,slots:n}}function yoe(t,e,n){if(!n)return null;const i=d=>{let f=d;return d<0?f=e.length+d:f>=e.length&&(f=f-e.length),f},s=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:r,to:o}=n,a=t.params.loop?-e.length:0,l=t.params.loop?e.length*2:e.length,c=[];for(let d=a;d<l;d+=1)d>=r&&d<=o&&c.push(e[i(d)]);return c.map((d,f)=>ne.cloneElement(d,{swiper:t,style:s,key:d.props.virtualIndex||d.key||`slide-${f}`}))}function lv(t,e){return typeof window>"u"?E.useEffect(t,e):E.useLayoutEffect(t,e)}const k5=E.createContext(null),xoe=E.createContext(null),Uy=E.forwardRef(function(t,e){let{className:n,tag:i="div",wrapperTag:s="div",children:r,onSwiper:o,...a}=t===void 0?{}:t,l=!1;const[c,d]=E.useState("swiper"),[f,p]=E.useState(null),[m,y]=E.useState(!1),C=E.useRef(!1),x=E.useRef(null),w=E.useRef(null),M=E.useRef(null),S=E.useRef(null),R=E.useRef(null),P=E.useRef(null),F=E.useRef(null),N=E.useRef(null),{params:I,passedParams:_,rest:A,events:O}=foe(a),{slides:k,slots:z}=voe(r),W=()=>{y(!m)};Object.assign(I.on,{_containerClasses(X,H){d(H)}});const K=()=>{Object.assign(I.on,O),l=!0;const X={...I};if(delete X.wrapperClass,w.current=new D_(X),w.current.virtual&&w.current.params.virtual.enabled){w.current.virtual.slides=k;const H={cache:!1,slides:k,renderExternal:p,renderExternalUpdate:!1};up(w.current.params.virtual,H),up(w.current.originalParams.virtual,H)}};x.current||K(),w.current&&w.current.on("_beforeBreakpoint",W);const V=()=>{l||!O||!w.current||Object.keys(O).forEach(X=>{w.current.on(X,O[X])})},Q=()=>{!O||!w.current||Object.keys(O).forEach(X=>{w.current.off(X,O[X])})};E.useEffect(()=>()=>{w.current&&w.current.off("_beforeBreakpoint",W)}),E.useEffect(()=>{!C.current&&w.current&&(w.current.emitSlidesClasses(),C.current=!0)}),lv(()=>{if(e&&(e.current=x.current),!!x.current)return w.current.destroyed&&K(),poe({el:x.current,nextEl:R.current,prevEl:P.current,paginationEl:F.current,scrollbarEl:N.current,swiper:w.current},I),o&&!w.current.destroyed&&o(w.current),()=>{w.current&&!w.current.destroyed&&w.current.destroy(!0,!1)}},[]),lv(()=>{V();const X=moe(_,M.current,k,S.current,H=>H.key);return M.current=_,S.current=k,X.length&&w.current&&!w.current.destroyed&&hoe({swiper:w.current,slides:k,passedParams:_,changedParams:X,nextEl:R.current,prevEl:P.current,scrollbarEl:N.current,paginationEl:F.current}),()=>{Q()}}),lv(()=>{goe(w.current)},[f]);function q(){return I.virtual?yoe(w.current,k,f):k.map((X,H)=>ne.cloneElement(X,{swiper:w.current,swiperSlideIndex:H}))}return ne.createElement(i,nb({ref:x,className:kj(`${c}${n?` ${n}`:""}`)},A),ne.createElement(xoe.Provider,{value:w.current},z["container-start"],ne.createElement(s,{className:doe(I.wrapperClass)},z["wrapper-start"],q(),z["wrapper-end"]),Ij(I)&&ne.createElement(ne.Fragment,null,ne.createElement("div",{ref:P,className:"swiper-button-prev"}),ne.createElement("div",{ref:R,className:"swiper-button-next"})),Lj(I)&&ne.createElement("div",{ref:N,className:"swiper-scrollbar"}),Oj(I)&&ne.createElement("div",{ref:F,className:"swiper-pagination"}),z["container-end"]))});Uy.displayName="Swiper";const sh=E.forwardRef(function(t,e){let{tag:n="div",children:i,className:s="",swiper:r,zoom:o,lazy:a,virtualIndex:l,swiperSlideIndex:c,...d}=t===void 0?{}:t;const f=E.useRef(null),[p,m]=E.useState("swiper-slide"),[y,C]=E.useState(!1);function x(R,P,F){P===f.current&&m(F)}lv(()=>{if(typeof c<"u"&&(f.current.swiperSlideIndex=c),e&&(e.current=f.current),!(!f.current||!r)){if(r.destroyed){p!=="swiper-slide"&&m("swiper-slide");return}return r.on("_slideClass",x),()=>{r&&r.off("_slideClass",x)}}}),lv(()=>{r&&f.current&&!r.destroyed&&m(r.getSlideClasses(f.current))},[r]);const w={isActive:p.indexOf("swiper-slide-active")>=0,isVisible:p.indexOf("swiper-slide-visible")>=0,isPrev:p.indexOf("swiper-slide-prev")>=0,isNext:p.indexOf("swiper-slide-next")>=0},M=()=>typeof i=="function"?i(w):i,S=()=>{C(!0)};return ne.createElement(n,nb({ref:f,className:kj(`${p}${s?` ${s}`:""}`),"data-swiper-slide-index":l,onLoad:S},d),o&&ne.createElement(k5.Provider,{value:w},ne.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},M(),a&&!y&&ne.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&ne.createElement(k5.Provider,{value:w},M(),a&&!y&&ne.createElement("div",{className:"swiper-lazy-preloader"})))});sh.displayName="SwiperSlide";function Vj(t,e,n,i){return t.params.createElements&&Object.keys(i).forEach(s=>{if(!n[s]&&n.auto===!0){let r=Ra(t.el,`.${i[s]}`)[0];r||(r=eb("div",i[s]),r.className=i[s],t.el.append(r)),n[s]=r,e[s]=r}}),n}function WS(t){let{swiper:e,extendParams:n,on:i,emit:s}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function r(y){let C;return y&&typeof y=="string"&&e.isElement&&(C=e.el.querySelector(y)||e.hostEl.querySelector(y),C)?C:(y&&(typeof y=="string"&&(C=[...document.querySelectorAll(y)]),e.params.uniqueNavElements&&typeof y=="string"&&C&&C.length>1&&e.el.querySelectorAll(y).length===1?C=e.el.querySelector(y):C&&C.length===1&&(C=C[0])),y&&!C?y:C)}function o(y,C){const x=e.params.navigation;y=$i(y),y.forEach(w=>{w&&(w.classList[C?"add":"remove"](...x.disabledClass.split(" ")),w.tagName==="BUTTON"&&(w.disabled=C),e.params.watchOverflow&&e.enabled&&w.classList[e.isLocked?"add":"remove"](x.lockClass))})}function a(){const{nextEl:y,prevEl:C}=e.navigation;if(e.params.loop){o(C,!1),o(y,!1);return}o(C,e.isBeginning&&!e.params.rewind),o(y,e.isEnd&&!e.params.rewind)}function l(y){y.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),s("navigationPrev"))}function c(y){y.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),s("navigationNext"))}function d(){const y=e.params.navigation;if(e.params.navigation=Vj(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(y.nextEl||y.prevEl))return;let C=r(y.nextEl),x=r(y.prevEl);Object.assign(e.navigation,{nextEl:C,prevEl:x}),C=$i(C),x=$i(x);const w=(M,S)=>{M&&M.addEventListener("click",S==="next"?c:l),!e.enabled&&M&&M.classList.add(...y.lockClass.split(" "))};C.forEach(M=>w(M,"next")),x.forEach(M=>w(M,"prev"))}function f(){let{nextEl:y,prevEl:C}=e.navigation;y=$i(y),C=$i(C);const x=(w,M)=>{w.removeEventListener("click",M==="next"?c:l),w.classList.remove(...e.params.navigation.disabledClass.split(" "))};y.forEach(w=>x(w,"next")),C.forEach(w=>x(w,"prev"))}i("init",()=>{e.params.navigation.enabled===!1?m():(d(),a())}),i("toEdge fromEdge lock unlock",()=>{a()}),i("destroy",()=>{f()}),i("enable disable",()=>{let{nextEl:y,prevEl:C}=e.navigation;if(y=$i(y),C=$i(C),e.enabled){a();return}[...y,...C].filter(x=>!!x).forEach(x=>x.classList.add(e.params.navigation.lockClass))}),i("click",(y,C)=>{let{nextEl:x,prevEl:w}=e.navigation;x=$i(x),w=$i(w);const M=C.target;let S=w.includes(M)||x.includes(M);if(e.isElement&&!S){const R=C.path||C.composedPath&&C.composedPath();R&&(S=R.find(P=>x.includes(P)||w.includes(P)))}if(e.params.navigation.hideOnClick&&!S){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===M||e.pagination.el.contains(M)))return;let R;x.length?R=x[0].classList.contains(e.params.navigation.hiddenClass):w.length&&(R=w[0].classList.contains(e.params.navigation.hiddenClass)),s(R===!0?"navigationShow":"navigationHide"),[...x,...w].filter(P=>!!P).forEach(P=>P.classList.toggle(e.params.navigation.hiddenClass))}});const p=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),d(),a()},m=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(e.navigation,{enable:p,disable:m,update:a,init:d,destroy:f})}function gg(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function $S(t){let{swiper:e,extendParams:n,on:i,emit:s}=t;const r="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:M=>M,formatFractionTotal:M=>M,bulletClass:`${r}-bullet`,bulletActiveClass:`${r}-bullet-active`,modifierClass:`${r}-`,currentClass:`${r}-current`,totalClass:`${r}-total`,hiddenClass:`${r}-hidden`,progressbarFillClass:`${r}-progressbar-fill`,progressbarOppositeClass:`${r}-progressbar-opposite`,clickableClass:`${r}-clickable`,lockClass:`${r}-lock`,horizontalClass:`${r}-horizontal`,verticalClass:`${r}-vertical`,paginationDisabledClass:`${r}-disabled`}}),e.pagination={el:null,bullets:[]};let o,a=0;function l(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function c(M,S){const{bulletActiveClass:R}=e.params.pagination;M&&(M=M[`${S==="prev"?"previous":"next"}ElementSibling`],M&&(M.classList.add(`${R}-${S}`),M=M[`${S==="prev"?"previous":"next"}ElementSibling`],M&&M.classList.add(`${R}-${S}-${S}`)))}function d(M,S,R){if(M=M%R,S=S%R,S===M+1)return"next";if(S===M-1)return"previous"}function f(M){const S=M.target.closest(gg(e.params.pagination.bulletClass));if(!S)return;M.preventDefault();const R=tb(S)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===R)return;const P=d(e.realIndex,R,e.slides.length);P==="next"?e.slideNext():P==="previous"?e.slidePrev():e.slideToLoop(R)}else e.slideTo(R)}function p(){const M=e.rtl,S=e.params.pagination;if(l())return;let R=e.pagination.el;R=$i(R);let P,F;const N=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,I=e.params.loop?Math.ceil(N/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(F=e.previousRealIndex||0,P=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(P=e.snapIndex,F=e.previousSnapIndex):(F=e.previousIndex||0,P=e.activeIndex||0),S.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const _=e.pagination.bullets;let A,O,k;if(S.dynamicBullets&&(o=B2(_[0],e.isHorizontal()?"width":"height"),R.forEach(z=>{z.style[e.isHorizontal()?"width":"height"]=`${o*(S.dynamicMainBullets+4)}px`}),S.dynamicMainBullets>1&&F!==void 0&&(a+=P-(F||0),a>S.dynamicMainBullets-1?a=S.dynamicMainBullets-1:a<0&&(a=0)),A=Math.max(P-a,0),O=A+(Math.min(_.length,S.dynamicMainBullets)-1),k=(O+A)/2),_.forEach(z=>{const W=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(K=>`${S.bulletActiveClass}${K}`)].map(K=>typeof K=="string"&&K.includes(" ")?K.split(" "):K).flat();z.classList.remove(...W)}),R.length>1)_.forEach(z=>{const W=tb(z);W===P?z.classList.add(...S.bulletActiveClass.split(" ")):e.isElement&&z.setAttribute("part","bullet"),S.dynamicBullets&&(W>=A&&W<=O&&z.classList.add(...`${S.bulletActiveClass}-main`.split(" ")),W===A&&c(z,"prev"),W===O&&c(z,"next"))});else{const z=_[P];if(z&&z.classList.add(...S.bulletActiveClass.split(" ")),e.isElement&&_.forEach((W,K)=>{W.setAttribute("part",K===P?"bullet-active":"bullet")}),S.dynamicBullets){const W=_[A],K=_[O];for(let V=A;V<=O;V+=1)_[V]&&_[V].classList.add(...`${S.bulletActiveClass}-main`.split(" "));c(W,"prev"),c(K,"next")}}if(S.dynamicBullets){const z=Math.min(_.length,S.dynamicMainBullets+4),W=(o*z-o)/2-k*o,K=M?"right":"left";_.forEach(V=>{V.style[e.isHorizontal()?K:"top"]=`${W}px`})}}R.forEach((_,A)=>{if(S.type==="fraction"&&(_.querySelectorAll(gg(S.currentClass)).forEach(O=>{O.textContent=S.formatFractionCurrent(P+1)}),_.querySelectorAll(gg(S.totalClass)).forEach(O=>{O.textContent=S.formatFractionTotal(I)})),S.type==="progressbar"){let O;S.progressbarOpposite?O=e.isHorizontal()?"vertical":"horizontal":O=e.isHorizontal()?"horizontal":"vertical";const k=(P+1)/I;let z=1,W=1;O==="horizontal"?z=k:W=k,_.querySelectorAll(gg(S.progressbarFillClass)).forEach(K=>{K.style.transform=`translate3d(0,0,0) scaleX(${z}) scaleY(${W})`,K.style.transitionDuration=`${e.params.speed}ms`})}S.type==="custom"&&S.renderCustom?(_.innerHTML=S.renderCustom(e,P+1,I),A===0&&s("paginationRender",_)):(A===0&&s("paginationRender",_),s("paginationUpdate",_)),e.params.watchOverflow&&e.enabled&&_.classList[e.isLocked?"add":"remove"](S.lockClass)})}function m(){const M=e.params.pagination;if(l())return;const S=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let R=e.pagination.el;R=$i(R);let P="";if(M.type==="bullets"){let F=e.params.loop?Math.ceil(S/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&F>S&&(F=S);for(let N=0;N<F;N+=1)M.renderBullet?P+=M.renderBullet.call(e,N,M.bulletClass):P+=`<${M.bulletElement} ${e.isElement?'part="bullet"':""} class="${M.bulletClass}"></${M.bulletElement}>`}M.type==="fraction"&&(M.renderFraction?P=M.renderFraction.call(e,M.currentClass,M.totalClass):P=`<span class="${M.currentClass}"></span> / <span class="${M.totalClass}"></span>`),M.type==="progressbar"&&(M.renderProgressbar?P=M.renderProgressbar.call(e,M.progressbarFillClass):P=`<span class="${M.progressbarFillClass}"></span>`),e.pagination.bullets=[],R.forEach(F=>{M.type!=="custom"&&(F.innerHTML=P||""),M.type==="bullets"&&e.pagination.bullets.push(...F.querySelectorAll(gg(M.bulletClass)))}),M.type!=="custom"&&s("paginationRender",R[0])}function y(){e.params.pagination=Vj(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const M=e.params.pagination;if(!M.el)return;let S;typeof M.el=="string"&&e.isElement&&(S=e.el.querySelector(M.el)),!S&&typeof M.el=="string"&&(S=[...document.querySelectorAll(M.el)]),S||(S=M.el),!(!S||S.length===0)&&(e.params.uniqueNavElements&&typeof M.el=="string"&&Array.isArray(S)&&S.length>1&&(S=[...e.el.querySelectorAll(M.el)],S.length>1&&(S=S.find(R=>Rj(R,".swiper")[0]===e.el))),Array.isArray(S)&&S.length===1&&(S=S[0]),Object.assign(e.pagination,{el:S}),S=$i(S),S.forEach(R=>{M.type==="bullets"&&M.clickable&&R.classList.add(...(M.clickableClass||"").split(" ")),R.classList.add(M.modifierClass+M.type),R.classList.add(e.isHorizontal()?M.horizontalClass:M.verticalClass),M.type==="bullets"&&M.dynamicBullets&&(R.classList.add(`${M.modifierClass}${M.type}-dynamic`),a=0,M.dynamicMainBullets<1&&(M.dynamicMainBullets=1)),M.type==="progressbar"&&M.progressbarOpposite&&R.classList.add(M.progressbarOppositeClass),M.clickable&&R.addEventListener("click",f),e.enabled||R.classList.add(M.lockClass)}))}function C(){const M=e.params.pagination;if(l())return;let S=e.pagination.el;S&&(S=$i(S),S.forEach(R=>{R.classList.remove(M.hiddenClass),R.classList.remove(M.modifierClass+M.type),R.classList.remove(e.isHorizontal()?M.horizontalClass:M.verticalClass),M.clickable&&(R.classList.remove(...(M.clickableClass||"").split(" ")),R.removeEventListener("click",f))})),e.pagination.bullets&&e.pagination.bullets.forEach(R=>R.classList.remove(...M.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const M=e.params.pagination;let{el:S}=e.pagination;S=$i(S),S.forEach(R=>{R.classList.remove(M.horizontalClass,M.verticalClass),R.classList.add(e.isHorizontal()?M.horizontalClass:M.verticalClass)})}),i("init",()=>{e.params.pagination.enabled===!1?w():(y(),m(),p())}),i("activeIndexChange",()=>{typeof e.snapIndex>"u"&&p()}),i("snapIndexChange",()=>{p()}),i("snapGridLengthChange",()=>{m(),p()}),i("destroy",()=>{C()}),i("enable disable",()=>{let{el:M}=e.pagination;M&&(M=$i(M),M.forEach(S=>S.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),i("lock unlock",()=>{p()}),i("click",(M,S)=>{const R=S.target,P=$i(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&P&&P.length>0&&!R.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&R===e.navigation.nextEl||e.navigation.prevEl&&R===e.navigation.prevEl))return;const F=P[0].classList.contains(e.params.pagination.hiddenClass);s(F===!0?"paginationShow":"paginationHide"),P.forEach(N=>N.classList.toggle(e.params.pagination.hiddenClass))}});const x=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:M}=e.pagination;M&&(M=$i(M),M.forEach(S=>S.classList.remove(e.params.pagination.paginationDisabledClass))),y(),m(),p()},w=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:M}=e.pagination;M&&(M=$i(M),M.forEach(S=>S.classList.add(e.params.pagination.paginationDisabledClass))),C()};Object.assign(e.pagination,{enable:x,disable:w,render:m,update:p,init:y,destroy:C})}function qS(t){let{swiper:e,extendParams:n,on:i,emit:s,params:r}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,a,l=r&&r.autoplay?r.autoplay.delay:3e3,c=r&&r.autoplay?r.autoplay.delay:3e3,d,f=new Date().getTime(),p,m,y,C,x,w,M;function S(q){!e||e.destroyed||!e.wrapperEl||q.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",S),!(M||q.detail&&q.detail.bySwiperTouchMove)&&A())}const R=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?p=!0:p&&(c=d,p=!1);const q=e.autoplay.paused?d:f+c-new Date().getTime();e.autoplay.timeLeft=q,s("autoplayTimeLeft",q,q/l),a=requestAnimationFrame(()=>{R()})},P=()=>{let q;return e.virtual&&e.params.virtual.enabled?q=e.slides.find(H=>H.classList.contains("swiper-slide-active")):q=e.slides[e.activeIndex],q?parseInt(q.getAttribute("data-swiper-autoplay"),10):void 0},F=q=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(a),R();let X=typeof q>"u"?e.params.autoplay.delay:q;l=e.params.autoplay.delay,c=e.params.autoplay.delay;const H=P();!Number.isNaN(H)&&H>0&&typeof q>"u"&&(X=H,l=H,c=H),d=X;const ee=e.params.speed,ge=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(ee,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,ee,!0,!0),s("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(ee,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,ee,!0,!0),s("autoplay")),e.params.cssMode&&(f=new Date().getTime(),requestAnimationFrame(()=>{F()})))};return X>0?(clearTimeout(o),o=setTimeout(()=>{ge()},X)):requestAnimationFrame(()=>{ge()}),X},N=()=>{f=new Date().getTime(),e.autoplay.running=!0,F(),s("autoplayStart")},I=()=>{e.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(a),s("autoplayStop")},_=(q,X)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(o),q||(w=!0);const H=()=>{s("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",S):A()};if(e.autoplay.paused=!0,X){x&&(d=e.params.autoplay.delay),x=!1,H();return}d=(d||e.params.autoplay.delay)-(new Date().getTime()-f),!(e.isEnd&&d<0&&!e.params.loop)&&(d<0&&(d=0),H())},A=()=>{e.isEnd&&d<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(f=new Date().getTime(),w?(w=!1,F(d)):F(),e.autoplay.paused=!1,s("autoplayResume"))},O=()=>{if(e.destroyed||!e.autoplay.running)return;const q=Fa();q.visibilityState==="hidden"&&(w=!0,_(!0)),q.visibilityState==="visible"&&A()},k=q=>{q.pointerType==="mouse"&&(w=!0,M=!0,!(e.animating||e.autoplay.paused)&&_(!0))},z=q=>{q.pointerType==="mouse"&&(M=!1,e.autoplay.paused&&A())},W=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",k),e.el.addEventListener("pointerleave",z))},K=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",k),e.el.removeEventListener("pointerleave",z))},V=()=>{Fa().addEventListener("visibilitychange",O)},Q=()=>{Fa().removeEventListener("visibilitychange",O)};i("init",()=>{e.params.autoplay.enabled&&(W(),V(),N())}),i("destroy",()=>{K(),Q(),e.autoplay.running&&I()}),i("_freeModeStaticRelease",()=>{(y||w)&&A()}),i("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?I():_(!0,!0)}),i("beforeTransitionStart",(q,X,H)=>{e.destroyed||!e.autoplay.running||(H||!e.params.autoplay.disableOnInteraction?_(!0,!0):I())}),i("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){I();return}m=!0,y=!1,w=!1,C=setTimeout(()=>{w=!0,y=!0,_(!0)},200)}}),i("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!m)){if(clearTimeout(C),clearTimeout(o),e.params.autoplay.disableOnInteraction){y=!1,m=!1;return}y&&e.params.cssMode&&A(),y=!1,m=!1}}),i("slideChange",()=>{e.destroyed||!e.autoplay.running||(x=!0)}),Object.assign(e.autoplay,{start:N,stop:I,pause:_,resume:A})}const fu=t=>{const e=new Date(t),n=e.toLocaleDateString("en-US",{weekday:"long"}),i=e.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),s=e.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return{day:n,fullDate:i,time:s}},Coe={less:"less than a minute read",default:"min read"},woe={less:"moins d'une minute de lecture",default:"min de lecture"},boe={less:"menos de un minuto leyendo",default:"min de lectura"},Soe={less:"小于一分钟",default:"分钟"},Eoe={less:"1分未満の読み取り",default:"最小読み取り"},Moe={less:"weniger als eine Minute Lesezeit",default:"Min. Lesezeit"},Toe={less:"menos de um minuto de leitura",default:"minutos de leitura"},Roe={less:"bir dakikadan az okuma süresi",default:"dakika okuma süresi"},Aoe={less:"timp de citire mai puțin de un minut",default:"min. timp de lectură"},Poe={less:"এক মিনিটের কম সময়ে পড়ুন",default:"সর্বনিম্ন সময়ে পড়ুন"},Doe={less:"menej ako minúta čítania",default:"min čítania"},_oe={less:"méně než minuta čtení",default:"min čtení"},Foe={en:Coe,fr:woe,es:boe,cn:Soe,ja:Eoe,de:Moe,"pt-br":Toe,tr:Roe,ro:Aoe,bn:Poe,sk:Doe,cs:_oe},Noe=t=>(t.match(/[\w|\d|\s|,|.|\u00C0-\u024F|\u4E00-\u9FA5|\u3041-\u309F]+/giu)??[]).flatMap(e=>e.match(/[\u4E00-\u9FA5]/gu)??e),Ioe=t=>Noe(t).reduce((e,n)=>e+(n.trim().length?n.trim().split(/\s+/u).length:0),0),Ooe=t=>t<1+Number.EPSILON,Loe=(t,e="en")=>Foe[e][t?"less":"default"],jy=(t,e=300,n="en")=>{const i=Ioe(t),s=Math.round(i/e),r=Ooe(s);return{minutes:s,words:i,text:`${r?"":`${s} `}${Loe(r,n)}`}},jv=t=>t==null?void 0:t.replace(/<[^>]*>/g,""),__=({id:t,title:e,createdBy:n,description:i,article:s,created_at:r,imageUrl:o})=>{const{fullDate:a}=fu(r);return v.jsx("section",{className:`relative md:max-w-[320px] w-full h-80 lg:h-90 rounded-xl overflow-hidden 
  transform transition-all duration-300 ease-in-out group-hover:scale-105 
  group-hover:shadow-xl group-hover:shadow-secondary/50 active:scale-105 
  active:shadow-xl active:shadow-secondary/50`,children:v.jsxs(fn,{to:{pathname:`/blogs/${$r(e)}`},state:{cblog_id:t},className:"no-underline cursor-pointer group flex flex-col lg:flex-row-reverse lg:gap-10",children:[v.jsxs("div",{className:"relative",children:[v.jsx("img",{className:"w-full h-80 lg:h-90 object-cover rounded-xl",src:o,alt:"Blog Cover"}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/50 to-black/80"})]}),v.jsxs("div",{className:"absolute left-0 bottom-0 p-4 text-white",children:[v.jsx("p",{className:"font-avenir-black text-body group-hover:text-secondary transition duration-300 ease-in-out",children:e}),v.jsxs("p",{className:"text-small line-clamp-1 mt-1",children:[v.jsxs("span",{className:"text-secondary font-avenir-black",children:[" ",n]})," ","|"," ",jy(jv(i??"Description"),238).text]}),v.jsx("p",{className:"mt-2 !text-[12px] sm:!text-[14px] text-gray-300 line-clamp-3",children:i}),v.jsx("p",{className:"text-small text-gray-400 mt-2",children:a})]})]})})};function zj(t,e){return function(){return t.apply(e,arguments)}}const{toString:koe}=Object.prototype,{getPrototypeOf:F_}=Object,KS=(t=>e=>{const n=koe.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ra=t=>(t=t.toLowerCase(),e=>KS(e)===t),YS=t=>e=>typeof e===t,{isArray:Yp}=Array,Wv=YS("undefined");function Boe(t){return t!==null&&!Wv(t)&&t.constructor!==null&&!Wv(t.constructor)&&zr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Gj=ra("ArrayBuffer");function Hoe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Gj(t.buffer),e}const Voe=YS("string"),zr=YS("function"),Uj=YS("number"),XS=t=>t!==null&&typeof t=="object",zoe=t=>t===!0||t===!1,dw=t=>{if(KS(t)!=="object")return!1;const e=F_(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Goe=ra("Date"),Uoe=ra("File"),joe=ra("Blob"),Woe=ra("FileList"),$oe=t=>XS(t)&&zr(t.pipe),qoe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||zr(t.append)&&((e=KS(t))==="formdata"||e==="object"&&zr(t.toString)&&t.toString()==="[object FormData]"))},Koe=ra("URLSearchParams"),[Yoe,Xoe,Zoe,Joe]=["ReadableStream","Request","Response","Headers"].map(ra),Qoe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Wy(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,s;if(typeof t!="object"&&(t=[t]),Yp(t))for(i=0,s=t.length;i<s;i++)e.call(null,t[i],i,t);else{const r=n?Object.getOwnPropertyNames(t):Object.keys(t),o=r.length;let a;for(i=0;i<o;i++)a=r[i],e.call(null,t[a],a,t)}}function jj(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,s;for(;i-- >0;)if(s=n[i],e===s.toLowerCase())return s;return null}const Ad=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Wj=t=>!Wv(t)&&t!==Ad;function z2(){const{caseless:t}=Wj(this)&&this||{},e={},n=(i,s)=>{const r=t&&jj(e,s)||s;dw(e[r])&&dw(i)?e[r]=z2(e[r],i):dw(i)?e[r]=z2({},i):Yp(i)?e[r]=i.slice():e[r]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Wy(arguments[i],n);return e}const eae=(t,e,n,{allOwnKeys:i}={})=>(Wy(e,(s,r)=>{n&&zr(s)?t[r]=zj(s,n):t[r]=s},{allOwnKeys:i}),t),tae=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),nae=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},iae=(t,e,n,i)=>{let s,r,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),r=s.length;r-- >0;)o=s[r],(!i||i(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&F_(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},sae=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},rae=t=>{if(!t)return null;if(Yp(t))return t;let e=t.length;if(!Uj(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},oae=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&F_(Uint8Array)),aae=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=i.next())&&!s.done;){const r=s.value;e.call(t,r[0],r[1])}},lae=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},cae=ra("HTMLFormElement"),uae=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,s){return i.toUpperCase()+s}),B5=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),dae=ra("RegExp"),$j=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};Wy(n,(s,r)=>{let o;(o=e(s,r,t))!==!1&&(i[r]=o||s)}),Object.defineProperties(t,i)},hae=t=>{$j(t,(e,n)=>{if(zr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(zr(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},fae=(t,e)=>{const n={},i=s=>{s.forEach(r=>{n[r]=!0})};return Yp(t)?i(t):i(String(t).split(e)),n},pae=()=>{},mae=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function gae(t){return!!(t&&zr(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const vae=t=>{const e=new Array(10),n=(i,s)=>{if(XS(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[s]=i;const r=Yp(i)?[]:{};return Wy(i,(o,a)=>{const l=n(o,s+1);!Wv(l)&&(r[a]=l)}),e[s]=void 0,r}}return i};return n(t,0)},yae=ra("AsyncFunction"),xae=t=>t&&(XS(t)||zr(t))&&zr(t.then)&&zr(t.catch),qj=((t,e)=>t?setImmediate:e?((n,i)=>(Ad.addEventListener("message",({source:s,data:r})=>{s===Ad&&r===n&&i.length&&i.shift()()},!1),s=>{i.push(s),Ad.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",zr(Ad.postMessage)),Cae=typeof queueMicrotask<"u"?queueMicrotask.bind(Ad):typeof process<"u"&&process.nextTick||qj,Te={isArray:Yp,isArrayBuffer:Gj,isBuffer:Boe,isFormData:qoe,isArrayBufferView:Hoe,isString:Voe,isNumber:Uj,isBoolean:zoe,isObject:XS,isPlainObject:dw,isReadableStream:Yoe,isRequest:Xoe,isResponse:Zoe,isHeaders:Joe,isUndefined:Wv,isDate:Goe,isFile:Uoe,isBlob:joe,isRegExp:dae,isFunction:zr,isStream:$oe,isURLSearchParams:Koe,isTypedArray:oae,isFileList:Woe,forEach:Wy,merge:z2,extend:eae,trim:Qoe,stripBOM:tae,inherits:nae,toFlatObject:iae,kindOf:KS,kindOfTest:ra,endsWith:sae,toArray:rae,forEachEntry:aae,matchAll:lae,isHTMLForm:cae,hasOwnProperty:B5,hasOwnProp:B5,reduceDescriptors:$j,freezeMethods:hae,toObjectSet:fae,toCamelCase:uae,noop:pae,toFiniteNumber:mae,findKey:jj,global:Ad,isContextDefined:Wj,isSpecCompliantForm:gae,toJSONObject:vae,isAsyncFn:yae,isThenable:xae,setImmediate:qj,asap:Cae};function kt(t,e,n,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),s&&(this.response=s,this.status=s.status?s.status:null)}Te.inherits(kt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Te.toJSONObject(this.config),code:this.code,status:this.status}}});const Kj=kt.prototype,Yj={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Yj[t]={value:t}});Object.defineProperties(kt,Yj);Object.defineProperty(Kj,"isAxiosError",{value:!0});kt.from=(t,e,n,i,s,r)=>{const o=Object.create(Kj);return Te.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),kt.call(o,t.message,e,n,i,s),o.cause=t,o.name=t.name,r&&Object.assign(o,r),o};const wae=null;function G2(t){return Te.isPlainObject(t)||Te.isArray(t)}function Xj(t){return Te.endsWith(t,"[]")?t.slice(0,-2):t}function H5(t,e,n){return t?t.concat(e).map(function(s,r){return s=Xj(s),!n&&r?"["+s+"]":s}).join(n?".":""):e}function bae(t){return Te.isArray(t)&&!t.some(G2)}const Sae=Te.toFlatObject(Te,{},null,function(e){return/^is[A-Z]/.test(e)});function ZS(t,e,n){if(!Te.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Te.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,x){return!Te.isUndefined(x[C])});const i=n.metaTokens,s=n.visitor||d,r=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Te.isSpecCompliantForm(e);if(!Te.isFunction(s))throw new TypeError("visitor must be a function");function c(y){if(y===null)return"";if(Te.isDate(y))return y.toISOString();if(!l&&Te.isBlob(y))throw new kt("Blob is not supported. Use a Buffer instead.");return Te.isArrayBuffer(y)||Te.isTypedArray(y)?l&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,C,x){let w=y;if(y&&!x&&typeof y=="object"){if(Te.endsWith(C,"{}"))C=i?C:C.slice(0,-2),y=JSON.stringify(y);else if(Te.isArray(y)&&bae(y)||(Te.isFileList(y)||Te.endsWith(C,"[]"))&&(w=Te.toArray(y)))return C=Xj(C),w.forEach(function(S,R){!(Te.isUndefined(S)||S===null)&&e.append(o===!0?H5([C],R,r):o===null?C:C+"[]",c(S))}),!1}return G2(y)?!0:(e.append(H5(x,C,r),c(y)),!1)}const f=[],p=Object.assign(Sae,{defaultVisitor:d,convertValue:c,isVisitable:G2});function m(y,C){if(!Te.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+C.join("."));f.push(y),Te.forEach(y,function(w,M){(!(Te.isUndefined(w)||w===null)&&s.call(e,w,Te.isString(M)?M.trim():M,C,p))===!0&&m(w,C?C.concat(M):[M])}),f.pop()}}if(!Te.isObject(t))throw new TypeError("data must be an object");return m(t),e}function V5(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function N_(t,e){this._pairs=[],t&&ZS(t,this,e)}const Zj=N_.prototype;Zj.append=function(e,n){this._pairs.push([e,n])};Zj.toString=function(e){const n=e?function(i){return e.call(this,i,V5)}:V5;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function Eae(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Jj(t,e,n){if(!e)return t;const i=n&&n.encode||Eae;Te.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let r;if(s?r=s(e,n):r=Te.isURLSearchParams(e)?e.toString():new N_(e,n).toString(i),r){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t}class z5{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Te.forEach(this.handlers,function(i){i!==null&&e(i)})}}const Qj={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Mae=typeof URLSearchParams<"u"?URLSearchParams:N_,Tae=typeof FormData<"u"?FormData:null,Rae=typeof Blob<"u"?Blob:null,Aae={isBrowser:!0,classes:{URLSearchParams:Mae,FormData:Tae,Blob:Rae},protocols:["http","https","file","blob","url","data"]},I_=typeof window<"u"&&typeof document<"u",U2=typeof navigator=="object"&&navigator||void 0,Pae=I_&&(!U2||["ReactNative","NativeScript","NS"].indexOf(U2.product)<0),Dae=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",_ae=I_&&window.location.href||"http://localhost",Fae=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:I_,hasStandardBrowserEnv:Pae,hasStandardBrowserWebWorkerEnv:Dae,navigator:U2,origin:_ae},Symbol.toStringTag,{value:"Module"})),Ms={...Fae,...Aae};function Nae(t,e){return ZS(t,new Ms.classes.URLSearchParams,Object.assign({visitor:function(n,i,s,r){return Ms.isNode&&Te.isBuffer(n)?(this.append(i,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}function Iae(t){return Te.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Oae(t){const e={},n=Object.keys(t);let i;const s=n.length;let r;for(i=0;i<s;i++)r=n[i],e[r]=t[r];return e}function e6(t){function e(n,i,s,r){let o=n[r++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=r>=n.length;return o=!o&&Te.isArray(s)?s.length:o,l?(Te.hasOwnProp(s,o)?s[o]=[s[o],i]:s[o]=i,!a):((!s[o]||!Te.isObject(s[o]))&&(s[o]=[]),e(n,i,s[o],r)&&Te.isArray(s[o])&&(s[o]=Oae(s[o])),!a)}if(Te.isFormData(t)&&Te.isFunction(t.entries)){const n={};return Te.forEachEntry(t,(i,s)=>{e(Iae(i),s,n,0)}),n}return null}function Lae(t,e,n){if(Te.isString(t))try{return(e||JSON.parse)(t),Te.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const $y={transitional:Qj,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",s=i.indexOf("application/json")>-1,r=Te.isObject(e);if(r&&Te.isHTMLForm(e)&&(e=new FormData(e)),Te.isFormData(e))return s?JSON.stringify(e6(e)):e;if(Te.isArrayBuffer(e)||Te.isBuffer(e)||Te.isStream(e)||Te.isFile(e)||Te.isBlob(e)||Te.isReadableStream(e))return e;if(Te.isArrayBufferView(e))return e.buffer;if(Te.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Nae(e,this.formSerializer).toString();if((a=Te.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return ZS(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return r||s?(n.setContentType("application/json",!1),Lae(e)):e}],transformResponse:[function(e){const n=this.transitional||$y.transitional,i=n&&n.forcedJSONParsing,s=this.responseType==="json";if(Te.isResponse(e)||Te.isReadableStream(e))return e;if(e&&Te.isString(e)&&(i&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?kt.from(a,kt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ms.classes.FormData,Blob:Ms.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Te.forEach(["delete","get","head","post","put","patch"],t=>{$y.headers[t]={}});const kae=Te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Bae=t=>{const e={};let n,i,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),i=o.substring(s+1).trim(),!(!n||e[n]&&kae[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},G5=Symbol("internals");function vg(t){return t&&String(t).trim().toLowerCase()}function hw(t){return t===!1||t==null?t:Te.isArray(t)?t.map(hw):String(t)}function Hae(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const Vae=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function fR(t,e,n,i,s){if(Te.isFunction(i))return i.call(this,e,n);if(s&&(e=n),!!Te.isString(e)){if(Te.isString(i))return e.indexOf(i)!==-1;if(Te.isRegExp(i))return i.test(e)}}function zae(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function Gae(t,e){const n=Te.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(s,r,o){return this[i].call(this,e,s,r,o)},configurable:!0})})}let wr=class{constructor(e){e&&this.set(e)}set(e,n,i){const s=this;function r(a,l,c){const d=vg(l);if(!d)throw new Error("header name must be a non-empty string");const f=Te.findKey(s,d);(!f||s[f]===void 0||c===!0||c===void 0&&s[f]!==!1)&&(s[f||l]=hw(a))}const o=(a,l)=>Te.forEach(a,(c,d)=>r(c,d,l));if(Te.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(Te.isString(e)&&(e=e.trim())&&!Vae(e))o(Bae(e),n);else if(Te.isHeaders(e))for(const[a,l]of e.entries())r(l,a,i);else e!=null&&r(n,e,i);return this}get(e,n){if(e=vg(e),e){const i=Te.findKey(this,e);if(i){const s=this[i];if(!n)return s;if(n===!0)return Hae(s);if(Te.isFunction(n))return n.call(this,s,i);if(Te.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=vg(e),e){const i=Te.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||fR(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let s=!1;function r(o){if(o=vg(o),o){const a=Te.findKey(i,o);a&&(!n||fR(i,i[a],a,n))&&(delete i[a],s=!0)}}return Te.isArray(e)?e.forEach(r):r(e),s}clear(e){const n=Object.keys(this);let i=n.length,s=!1;for(;i--;){const r=n[i];(!e||fR(this,this[r],r,e,!0))&&(delete this[r],s=!0)}return s}normalize(e){const n=this,i={};return Te.forEach(this,(s,r)=>{const o=Te.findKey(i,r);if(o){n[o]=hw(s),delete n[r];return}const a=e?zae(r):String(r).trim();a!==r&&delete n[r],n[a]=hw(s),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Te.forEach(this,(i,s)=>{i!=null&&i!==!1&&(n[s]=e&&Te.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(s=>i.set(s)),i}static accessor(e){const i=(this[G5]=this[G5]={accessors:{}}).accessors,s=this.prototype;function r(o){const a=vg(o);i[a]||(Gae(s,o),i[a]=!0)}return Te.isArray(e)?e.forEach(r):r(e),this}};wr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Te.reduceDescriptors(wr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});Te.freezeMethods(wr);function pR(t,e){const n=this||$y,i=e||n,s=wr.from(i.headers);let r=i.data;return Te.forEach(t,function(a){r=a.call(n,r,s.normalize(),e?e.status:void 0)}),s.normalize(),r}function t6(t){return!!(t&&t.__CANCEL__)}function Xp(t,e,n){kt.call(this,t??"canceled",kt.ERR_CANCELED,e,n),this.name="CanceledError"}Te.inherits(Xp,kt,{__CANCEL__:!0});function n6(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new kt("Request failed with status code "+n.status,[kt.ERR_BAD_REQUEST,kt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Uae(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function jae(t,e){t=t||10;const n=new Array(t),i=new Array(t);let s=0,r=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),d=i[r];o||(o=c),n[s]=l,i[s]=c;let f=r,p=0;for(;f!==s;)p+=n[f++],f=f%t;if(s=(s+1)%t,s===r&&(r=(r+1)%t),c-o<e)return;const m=d&&c-d;return m?Math.round(p*1e3/m):void 0}}function Wae(t,e){let n=0,i=1e3/e,s,r;const o=(c,d=Date.now())=>{n=d,s=null,r&&(clearTimeout(r),r=null),t.apply(null,c)};return[(...c)=>{const d=Date.now(),f=d-n;f>=i?o(c,d):(s=c,r||(r=setTimeout(()=>{r=null,o(s)},i-f)))},()=>s&&o(s)]}const ib=(t,e,n=3)=>{let i=0;const s=jae(50,250);return Wae(r=>{const o=r.loaded,a=r.lengthComputable?r.total:void 0,l=o-i,c=s(l),d=o<=a;i=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&d?(a-o)/c:void 0,event:r,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(f)},n)},U5=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},j5=t=>(...e)=>Te.asap(()=>t(...e)),$ae=Ms.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Ms.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Ms.origin),Ms.navigator&&/(msie|trident)/i.test(Ms.navigator.userAgent)):()=>!0,qae=Ms.hasStandardBrowserEnv?{write(t,e,n,i,s,r){const o=[t+"="+encodeURIComponent(e)];Te.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Te.isString(i)&&o.push("path="+i),Te.isString(s)&&o.push("domain="+s),r===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Kae(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Yae(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function i6(t,e,n){let i=!Kae(e);return t&&i||n==!1?Yae(t,e):e}const W5=t=>t instanceof wr?{...t}:t;function rh(t,e){e=e||{};const n={};function i(c,d,f,p){return Te.isPlainObject(c)&&Te.isPlainObject(d)?Te.merge.call({caseless:p},c,d):Te.isPlainObject(d)?Te.merge({},d):Te.isArray(d)?d.slice():d}function s(c,d,f,p){if(Te.isUndefined(d)){if(!Te.isUndefined(c))return i(void 0,c,f,p)}else return i(c,d,f,p)}function r(c,d){if(!Te.isUndefined(d))return i(void 0,d)}function o(c,d){if(Te.isUndefined(d)){if(!Te.isUndefined(c))return i(void 0,c)}else return i(void 0,d)}function a(c,d,f){if(f in e)return i(c,d);if(f in t)return i(void 0,c)}const l={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,d,f)=>s(W5(c),W5(d),f,!0)};return Te.forEach(Object.keys(Object.assign({},t,e)),function(d){const f=l[d]||s,p=f(t[d],e[d],d);Te.isUndefined(p)&&f!==a||(n[d]=p)}),n}const s6=t=>{const e=rh({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:r,headers:o,auth:a}=e;e.headers=o=wr.from(o),e.url=Jj(i6(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(Te.isFormData(n)){if(Ms.hasStandardBrowserEnv||Ms.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...d]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...d].join("; "))}}if(Ms.hasStandardBrowserEnv&&(i&&Te.isFunction(i)&&(i=i(e)),i||i!==!1&&$ae(e.url))){const c=s&&r&&qae.read(r);c&&o.set(s,c)}return e},Xae=typeof XMLHttpRequest<"u",Zae=Xae&&function(t){return new Promise(function(n,i){const s=s6(t);let r=s.data;const o=wr.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=s,d,f,p,m,y;function C(){m&&m(),y&&y(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(s.method.toUpperCase(),s.url,!0),x.timeout=s.timeout;function w(){if(!x)return;const S=wr.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),P={data:!a||a==="text"||a==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:S,config:t,request:x};n6(function(N){n(N),C()},function(N){i(N),C()},P),x=null}"onloadend"in x?x.onloadend=w:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(w)},x.onabort=function(){x&&(i(new kt("Request aborted",kt.ECONNABORTED,t,x)),x=null)},x.onerror=function(){i(new kt("Network Error",kt.ERR_NETWORK,t,x)),x=null},x.ontimeout=function(){let R=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const P=s.transitional||Qj;s.timeoutErrorMessage&&(R=s.timeoutErrorMessage),i(new kt(R,P.clarifyTimeoutError?kt.ETIMEDOUT:kt.ECONNABORTED,t,x)),x=null},r===void 0&&o.setContentType(null),"setRequestHeader"in x&&Te.forEach(o.toJSON(),function(R,P){x.setRequestHeader(P,R)}),Te.isUndefined(s.withCredentials)||(x.withCredentials=!!s.withCredentials),a&&a!=="json"&&(x.responseType=s.responseType),c&&([p,y]=ib(c,!0),x.addEventListener("progress",p)),l&&x.upload&&([f,m]=ib(l),x.upload.addEventListener("progress",f),x.upload.addEventListener("loadend",m)),(s.cancelToken||s.signal)&&(d=S=>{x&&(i(!S||S.type?new Xp(null,t,x):S),x.abort(),x=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const M=Uae(s.url);if(M&&Ms.protocols.indexOf(M)===-1){i(new kt("Unsupported protocol "+M+":",kt.ERR_BAD_REQUEST,t));return}x.send(r||null)})},Jae=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,s;const r=function(c){if(!s){s=!0,a();const d=c instanceof Error?c:this.reason;i.abort(d instanceof kt?d:new Xp(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,r(new kt(`timeout ${e} of ms exceeded`,kt.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(r):c.removeEventListener("abort",r)}),t=null)};t.forEach(c=>c.addEventListener("abort",r));const{signal:l}=i;return l.unsubscribe=()=>Te.asap(a),l}},Qae=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,s;for(;i<n;)s=i+e,yield t.slice(i,s),i=s},ele=async function*(t,e){for await(const n of tle(t))yield*Qae(n,e)},tle=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},$5=(t,e,n,i)=>{const s=ele(t,e);let r=0,o,a=l=>{o||(o=!0,i&&i(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await s.next();if(c){a(),l.close();return}let f=d.byteLength;if(n){let p=r+=f;n(p)}l.enqueue(new Uint8Array(d))}catch(c){throw a(c),c}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},JS=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",r6=JS&&typeof ReadableStream=="function",nle=JS&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),o6=(t,...e)=>{try{return!!t(...e)}catch{return!1}},ile=r6&&o6(()=>{let t=!1;const e=new Request(Ms.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),q5=64*1024,j2=r6&&o6(()=>Te.isReadableStream(new Response("").body)),sb={stream:j2&&(t=>t.body)};JS&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!sb[e]&&(sb[e]=Te.isFunction(t[e])?n=>n[e]():(n,i)=>{throw new kt(`Response type '${e}' is not supported`,kt.ERR_NOT_SUPPORT,i)})})})(new Response);const sle=async t=>{if(t==null)return 0;if(Te.isBlob(t))return t.size;if(Te.isSpecCompliantForm(t))return(await new Request(Ms.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Te.isArrayBufferView(t)||Te.isArrayBuffer(t))return t.byteLength;if(Te.isURLSearchParams(t)&&(t=t+""),Te.isString(t))return(await nle(t)).byteLength},rle=async(t,e)=>{const n=Te.toFiniteNumber(t.getContentLength());return n??sle(e)},ole=JS&&(async t=>{let{url:e,method:n,data:i,signal:s,cancelToken:r,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:d,withCredentials:f="same-origin",fetchOptions:p}=s6(t);c=c?(c+"").toLowerCase():"text";let m=Jae([s,r&&r.toAbortSignal()],o),y;const C=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let x;try{if(l&&ile&&n!=="get"&&n!=="head"&&(x=await rle(d,i))!==0){let P=new Request(e,{method:"POST",body:i,duplex:"half"}),F;if(Te.isFormData(i)&&(F=P.headers.get("content-type"))&&d.setContentType(F),P.body){const[N,I]=U5(x,ib(j5(l)));i=$5(P.body,q5,N,I)}}Te.isString(f)||(f=f?"include":"omit");const w="credentials"in Request.prototype;y=new Request(e,{...p,signal:m,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:i,duplex:"half",credentials:w?f:void 0});let M=await fetch(y);const S=j2&&(c==="stream"||c==="response");if(j2&&(a||S&&C)){const P={};["status","statusText","headers"].forEach(_=>{P[_]=M[_]});const F=Te.toFiniteNumber(M.headers.get("content-length")),[N,I]=a&&U5(F,ib(j5(a),!0))||[];M=new Response($5(M.body,q5,N,()=>{I&&I(),C&&C()}),P)}c=c||"text";let R=await sb[Te.findKey(sb,c)||"text"](M,t);return!S&&C&&C(),await new Promise((P,F)=>{n6(P,F,{data:R,headers:wr.from(M.headers),status:M.status,statusText:M.statusText,config:t,request:y})})}catch(w){throw C&&C(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new kt("Network Error",kt.ERR_NETWORK,t,y),{cause:w.cause||w}):kt.from(w,w&&w.code,t,y)}}),W2={http:wae,xhr:Zae,fetch:ole};Te.forEach(W2,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const K5=t=>`- ${t}`,ale=t=>Te.isFunction(t)||t===null||t===!1,a6={getAdapter:t=>{t=Te.isArray(t)?t:[t];const{length:e}=t;let n,i;const s={};for(let r=0;r<e;r++){n=t[r];let o;if(i=n,!ale(n)&&(i=W2[(o=String(n)).toLowerCase()],i===void 0))throw new kt(`Unknown adapter '${o}'`);if(i)break;s[o||"#"+r]=i}if(!i){const r=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?r.length>1?`since :
`+r.map(K5).join(`
`):" "+K5(r[0]):"as no adapter specified";throw new kt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:W2};function mR(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Xp(null,t)}function Y5(t){return mR(t),t.headers=wr.from(t.headers),t.data=pR.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),a6.getAdapter(t.adapter||$y.adapter)(t).then(function(i){return mR(t),i.data=pR.call(t,t.transformResponse,i),i.headers=wr.from(i.headers),i},function(i){return t6(i)||(mR(t),i&&i.response&&(i.response.data=pR.call(t,t.transformResponse,i.response),i.response.headers=wr.from(i.response.headers))),Promise.reject(i)})}const l6="1.8.1",QS={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{QS[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const X5={};QS.transitional=function(e,n,i){function s(r,o){return"[Axios v"+l6+"] Transitional option '"+r+"'"+o+(i?". "+i:"")}return(r,o,a)=>{if(e===!1)throw new kt(s(o," has been removed"+(n?" in "+n:"")),kt.ERR_DEPRECATED);return n&&!X5[o]&&(X5[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(r,o,a):!0}};QS.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function lle(t,e,n){if(typeof t!="object")throw new kt("options must be an object",kt.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let s=i.length;for(;s-- >0;){const r=i[s],o=e[r];if(o){const a=t[r],l=a===void 0||o(a,r,t);if(l!==!0)throw new kt("option "+r+" must be "+l,kt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new kt("Unknown option "+r,kt.ERR_BAD_OPTION)}}const fw={assertOptions:lle,validators:QS},ma=fw.validators;let zd=class{constructor(e){this.defaults=e,this.interceptors={request:new z5,response:new z5}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const r=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?r&&!String(i.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+r):i.stack=r}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=rh(this.defaults,n);const{transitional:i,paramsSerializer:s,headers:r}=n;i!==void 0&&fw.assertOptions(i,{silentJSONParsing:ma.transitional(ma.boolean),forcedJSONParsing:ma.transitional(ma.boolean),clarifyTimeoutError:ma.transitional(ma.boolean)},!1),s!=null&&(Te.isFunction(s)?n.paramsSerializer={serialize:s}:fw.assertOptions(s,{encode:ma.function,serialize:ma.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),fw.assertOptions(n,{baseUrl:ma.spelling("baseURL"),withXsrfToken:ma.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=r&&Te.merge(r.common,r[n.method]);r&&Te.forEach(["delete","get","head","post","put","patch","common"],y=>{delete r[y]}),n.headers=wr.concat(o,r);const a=[];let l=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(n)===!1||(l=l&&C.synchronous,a.unshift(C.fulfilled,C.rejected))});const c=[];this.interceptors.response.forEach(function(C){c.push(C.fulfilled,C.rejected)});let d,f=0,p;if(!l){const y=[Y5.bind(this),void 0];for(y.unshift.apply(y,a),y.push.apply(y,c),p=y.length,d=Promise.resolve(n);f<p;)d=d.then(y[f++],y[f++]);return d}p=a.length;let m=n;for(f=0;f<p;){const y=a[f++],C=a[f++];try{m=y(m)}catch(x){C.call(this,x);break}}try{d=Y5.call(this,m)}catch(y){return Promise.reject(y)}for(f=0,p=c.length;f<p;)d=d.then(c[f++],c[f++]);return d}getUri(e){e=rh(this.defaults,e);const n=i6(e.baseURL,e.url,e.allowAbsoluteUrls);return Jj(n,e.params,e.paramsSerializer)}};Te.forEach(["delete","get","head","options"],function(e){zd.prototype[e]=function(n,i){return this.request(rh(i||{},{method:e,url:n,data:(i||{}).data}))}});Te.forEach(["post","put","patch"],function(e){function n(i){return function(r,o,a){return this.request(rh(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}zd.prototype[e]=n(),zd.prototype[e+"Form"]=n(!0)});let cle=class c6{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const i=this;this.promise.then(s=>{if(!i._listeners)return;let r=i._listeners.length;for(;r-- >0;)i._listeners[r](s);i._listeners=null}),this.promise.then=s=>{let r;const o=new Promise(a=>{i.subscribe(a),r=a}).then(s);return o.cancel=function(){i.unsubscribe(r)},o},e(function(r,o,a){i.reason||(i.reason=new Xp(r,o,a),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new c6(function(s){e=s}),cancel:e}}};function ule(t){return function(n){return t.apply(null,n)}}function dle(t){return Te.isObject(t)&&t.isAxiosError===!0}const $2={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries($2).forEach(([t,e])=>{$2[e]=t});function u6(t){const e=new zd(t),n=zj(zd.prototype.request,e);return Te.extend(n,zd.prototype,e,{allOwnKeys:!0}),Te.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return u6(rh(t,s))},n}const fi=u6($y);fi.Axios=zd;fi.CanceledError=Xp;fi.CancelToken=cle;fi.isCancel=t6;fi.VERSION=l6;fi.toFormData=ZS;fi.AxiosError=kt;fi.Cancel=fi.CanceledError;fi.all=function(e){return Promise.all(e)};fi.spread=ule;fi.isAxiosError=dle;fi.mergeConfig=rh;fi.AxiosHeaders=wr;fi.formToJSON=t=>e6(Te.isHTMLForm(t)?new FormData(t):t);fi.getAdapter=a6.getAdapter;fi.HttpStatusCode=$2;fi.default=fi;const{Axios:ZGe,AxiosError:JGe,CanceledError:QGe,isCancel:eUe,CancelToken:tUe,VERSION:nUe,all:iUe,Cancel:sUe,isAxiosError:rUe,spread:oUe,toFormData:aUe,AxiosHeaders:lUe,HttpStatusCode:cUe,formToJSON:uUe,getAdapter:dUe,mergeConfig:hUe}=fi,on=fi.create({baseURL:"http://localhost:7432",timeout:5e3,withCredentials:!0,headers:{"Content-Type":"application/json"}});on.interceptors.response.use(t=>t,async t=>{var e;if(((e=t.response)==null?void 0:e.status)===401)try{return await on.get("/api/refresh-token"),on(t.config)}catch(n){return console.error("Refresh token failed:",n),Promise.reject(n)}return Promise.reject(t)});const qy=()=>v.jsxs("section",{className:"w-full h-full grid place-content-center",children:[v.jsx("img",{src:zQ,alt:"FullSuite",className:"w-36 h-auto"}),v.jsx("span",{className:"w-12 h-12 border-5 mt-5 border-primary mx-auto border-b-transparent rounded-full inline-block box-border animate-spin"})]}),hle=({id:t,title:e,createdBy:n,description:i,article:s,created_at:r,imageUrl:o})=>(fu(r),v.jsx("section",{className:`relative md:max-w-[320px] w-full h-80 lg:h-90 rounded-xl overflow-hidden 
  transform transition-all duration-300 ease-in-out group-hover:scale-105 
  group-hover:shadow-xl group-hover:shadow-secondary/50 active:scale-105 
  active:shadow-xl active:shadow-secondary/50`,children:v.jsxs("div",{className:"no-underline bg-white cursor-pointer flex flex-col h-full",children:[v.jsx("div",{className:"h-1/2",children:v.jsx(rs,{className:"h-full"})}),v.jsxs("div",{className:"h-1/2 p-4 text-white",children:[v.jsx(rs,{width:"50%"}),v.jsx(rs,{height:10}),v.jsx(rs,{height:10,count:3}),v.jsx(rs,{height:8,width:"35%"})]})]})})),fle=()=>{const[t,e]=E.useState([]),[n,i]=E.useState(!0),s=async()=>{try{const r=await on.get("/api/all-company-blogs");e(r.data),i(!1)}catch(r){console.log(r)}};return E.useEffect(()=>{s()},[]),v.jsx("div",{className:"w-full max-w-[90%] mx-auto",children:!n&&t.length===0?v.jsx("div",{className:"text-center text-white text-2xl pt-[7%] pb-[12%]",children:"No blogs available"}):v.jsx(Uy,{modules:[WS,$S,qS],breakpoints:{1280:{slidesPerView:4},1024:{slidesPerView:3},768:{slidesPerView:2},0:{slidesPerView:1,centeredSlides:!0}},navigation:!0,pagination:{clickable:!0,enabled:!1},autoplay:{delay:5e3},loop:!0,className:"py-6",children:n?v.jsx(v.Fragment,{children:[...Array(5)].map((r,o)=>v.jsx(sh,{children:v.jsx("div",{className:"p-4 px-[10%]",children:v.jsx(hle,{})})},o))}):v.jsx(v.Fragment,{children:t==null?void 0:t.slice(0,5).map(r=>v.jsx(sh,{children:v.jsx("div",{className:"p-4 px-[10%]",children:v.jsx(__,{...r,created_at:r.createdAt,id:r.cblogId,description:jv(r.description)})})},r.cblogId))})})})},ple=()=>v.jsxs(li,{className:"relative flex flex-col ",children:[v.jsx(li,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},transition:{duration:.8,ease:"easeOut",delay:.2},viewport:{once:!0,amount:.2},className:"w-full",children:v.jsxs("div",{className:"ml-[6%] mt-10 mb-[2%] text-white",children:[v.jsxs("p",{className:"text-h4 font-avenir-black",children:[v.jsx("span",{className:"text-secondary",children:"New"})," Blog Posts"]}),v.jsx("p",{className:"text-small",children:"Insights, tips, and stories—read the latest from our team!"})]})}),v.jsx(li,{className:"w-full rounded-2xl",children:v.jsx(fle,{})})]}),Do=()=>{const[t,e]=E.useState(!1);E.useEffect(()=>{const i=()=>{window.scrollY>100?e(!0):e(!1)};return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return v.jsx(qn.div,{initial:{opacity:0,scale:.5},animate:{opacity:t?1:0,scale:t?1:.5,y:t?[0,-10,0]:0},transition:{opacity:{duration:.3},scale:{type:"spring",stiffness:200,damping:10},y:{duration:1.5,repeat:1/0,ease:"easeInOut"}},className:"fixed bottom-6 right-6 z-50",style:{pointerEvents:t?"auto":"none"},children:v.jsx("button",{onClick:n,className:"bg-white p-3 rounded-full shadow-lg transition-opacity duration-300 cursor-pointer",children:v.jsx(kse,{size:28,className:"text-primary"})})})},wh=({title:t,description:e,isDefer:n})=>v.jsxs(RG,{defer:n,children:[v.jsx("title",{children:t}),v.jsx("meta",{name:"description",content:e})]}),mle=({color:t,height:e,width:n})=>v.jsx("svg",{width:n,height:e,viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{d:"M436.258 436.262H360.391V317.452C360.391 289.118 359.886 252.66 320.93 252.66C281.42 252.66 275.364 283.517 275.364 315.408V436.262H199.522V191.931H272.362V225.311H273.371C288.232 199.929 315.834 184.765 345.227 185.85C422.129 185.85 436.284 236.437 436.284 302.213L436.258 436.262ZM113.915 158.526C89.5931 158.526 69.8881 138.821 69.8881 114.499C69.8881 90.1768 89.5931 70.4719 113.915 70.4719C138.237 70.4719 157.942 90.1768 157.942 114.499C157.942 138.821 138.237 158.526 113.915 158.526ZM151.836 436.262H75.893V191.931H151.836V436.262ZM474.079 0.0286766H37.7699C17.1567 -0.198397 0.252304 16.3275 0 36.9407V475.041C0.252304 495.679 17.1567 512.205 37.7699 511.978H474.079C494.742 512.23 511.722 495.705 512 475.041V36.9155C511.697 16.2518 494.717 -0.274089 474.079 0.00344509",fill:`${t}`})});var gR={exports:{}},vR,Z5;function gle(){if(Z5)return vR;Z5=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return vR=t,vR}var yR,J5;function vle(){if(J5)return yR;J5=1;var t=gle();function e(){}function n(){}return n.resetWarningCache=e,yR=function(){function i(o,a,l,c,d,f){if(f!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}i.isRequired=i;function s(){return i}var r={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return r.PropTypes=r,r},yR}var Q5;function yle(){return Q5||(Q5=1,gR.exports=vle()()),gR.exports}var xle=yle();const Dn=du(xle);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var q2=function(){return q2=Object.assign||function(e){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q2.apply(this,arguments)};function Cle(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}var dp="",cv=null,pw=null,d6=null;function O_(){dp="",cv!==null&&cv.disconnect(),pw!==null&&(window.clearTimeout(pw),pw=null)}function eB(t){var e=["BUTTON","INPUT","SELECT","TEXTAREA"],n=["A","AREA"];return e.includes(t.tagName)&&!t.hasAttribute("disabled")||n.includes(t.tagName)&&t.hasAttribute("href")}function tB(){var t=null;if(dp==="#")t=document.body;else{var e=dp.replace("#","");t=document.getElementById(e),t===null&&dp==="#top"&&(t=document.body)}if(t!==null){d6(t);var n=t.getAttribute("tabindex");return n===null&&!eB(t)&&t.setAttribute("tabindex",-1),t.focus({preventScroll:!0}),n===null&&!eB(t)&&(t.blur(),t.removeAttribute("tabindex")),O_(),!0}return!1}function wle(t){window.setTimeout(function(){tB()===!1&&(cv===null&&(cv=new MutationObserver(tB)),cv.observe(document,{attributes:!0,childList:!0,subtree:!0}),pw=window.setTimeout(function(){O_()},t||1e4))},0)}function h6(t){return ne.forwardRef(function(e,n){var i="";typeof e.to=="string"&&e.to.includes("#")?i="#"+e.to.split("#").slice(1).join("#"):typeof e.to=="object"&&typeof e.to.hash=="string"&&(i=e.to.hash);var s={};t===fn&&(s.isActive=function(a,l){return a&&a.isExact&&l.hash===i});function r(a){O_(),dp=e.elementId?"#"+e.elementId:i,e.onClick&&e.onClick(a),dp!==""&&!a.defaultPrevented&&a.button===0&&(!e.target||e.target==="_self")&&!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)&&(d6=e.scroll||function(l){return e.smooth?l.scrollIntoView({behavior:"smooth"}):l.scrollIntoView()},wle(e.timeout))}var o=Cle(e,["scroll","smooth","timeout","elementId"]);return ne.createElement(t,q2({},s,o,{onClick:r,ref:n}),e.children)})}var pf=h6(qi);h6(fn);const rb=async()=>{try{return(await on.get("/api/user-info")).data.user}catch(t){return t.response&&t.response.status===403?(console.warn("User not logged in."),null):(console.error("Failed to fetch user:",t),null)}},ble=async t=>{try{return(await on.get(`/api/get-services/${t}`)).data.services}catch(e){return console.error("Failed to fetch services:",e),[]}},Sle=async()=>{try{return(await on.get("/api/refresh-token")).data.accessToken}catch(t){return window.location.href="/login",console.error("Failed to refresh token:",t),t.response&&t.response.status===401&&console.warn("Refresh token expired. Logging out..."),null}},Ele="/assets/logo-soc-CQW7mEDm.svg",Mle=()=>{const t=[Ele],i=Math.max(30,80-t.length*5);return v.jsx("div",{className:"flex justify-end items-center flex-wrap gap-4 ",children:t.map((s,r)=>v.jsx("img",{src:s,alt:`Certification ${r+1}`,className:"transition-all duration-300",style:{width:`${i}px`,height:`${i}px`}},r))})},Tle=async t=>{try{const e=await rb();t(e?"/app/blogs-feed":"/login")}catch{console.log(err),t("/login")}},pu=()=>{const t=fs(),e=["Data Operations","Finance Operations","Administrative Operations","Marketing","Human Resources","Software Development"],n=5,i=e.length>n;return v.jsxs("footer",{className:"relative p-8 pb-20 bg-gradient-to-t from-primary to-secondarydark text-white ",children:[v.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:justify-center items-center md:items-start mt-2 gap-4",children:[v.jsxs("div",{className:"md:w-[40%]! md:mr-5 lg:mr-10",children:[v.jsxs("div",{children:[v.jsx("p",{children:"FullSuite is the remote operations concierge of choice of venture-backed startups in the US."}),v.jsx("br",{}),v.jsxs("p",{children:[" ","We provide tailored and customized finance and operational solutions for early stage and growth startups, supporting them from pre-revenue stage to when they scale."]}),v.jsx("br",{}),v.jsxs("p",{children:["Interested in availing our services? Check this out!"," ",v.jsx(qi,{target:"_blank",to:"https://fullsuite.ph",className:"font-avenir-black text-white hover:text-secondary",children:"fullsuite.ph"})]}),v.jsx("br",{}),v.jsx("p",{children:"Let's chat."})]}),v.jsxs("div",{className:"flex flex-row md:flex-col justify-between items-center md:items-start mt-2 gap-4",children:[v.jsx("div",{className:"w-full",children:v.jsxs("ul",{className:"flex items-center gap-4 list-none! -ml-5",children:[v.jsx("li",{className:"hover:scale-150 transition-all duration-100",children:v.jsx(qi,{target:"_blank",to:"https://facebook.com/thefullsuitepod",children:v.jsx(O2,{color:"white",height:"20",width:"20"})})}),v.jsx("li",{className:"hover:scale-150 transition-all duration-100",children:v.jsx(qi,{target:"_blank",to:"https://instagram.com/thefullsuitepod",children:v.jsx(L2,{color:"white",height:"20",width:"20"})})}),v.jsx("li",{className:"hover:scale-150 transition-all duration-100",children:v.jsx(qi,{target:"_blank",to:"https://www.linkedin.com/company/fullsuite",children:v.jsx(mle,{color:"white",height:"20",width:"20"})})})]})}),v.jsx("div",{className:"w-full md:mt-2",children:v.jsxs("button",{className:"group relative px-6 py-2 text-sm md:text-sm md:px-6 md:py-2 lg:px-7 lg:py-2  text-white transition-all duration-100 cursor-pointer",onClick:()=>Tle(t),children:[v.jsx("div",{className:"absolute inset-0 bg-secondary rounded-full transition-all duration-100 group-hover:bg-secondarydark"}),v.jsx("span",{className:"relative group-hover:text-white",children:"Suitelifer Login"})]})})]})]}),v.jsxs("div",{children:[v.jsxs("div",{className:"md:3fr grid grid-cols-3 grid-rows-1 mt-15 md:mt-0 mb-10 md:gap-10 gap-4",children:[v.jsxs("div",{children:[v.jsx("span",{className:"no-underline text-[14px]! md:text-[16px]! text-white font-avenir-black",children:"About Us"}),v.jsxs("ul",{className:"flex flex-wrap gap-1 flex-col mt-3 list-none! -ml-5",children:[v.jsx("li",{className:"text-[12px]! md:text-[14px]! text-white ",children:v.jsx(pf,{to:"/about-us#our-story",className:"no-underline hover:!text-secondary",children:"Our Story"})}),v.jsx("li",{className:"text-[12px]! text-white md:text-[14px]!",children:v.jsx(pf,{to:"/about-us#our-mission",className:"no-underline hover:!text-secondary",children:"Mission"})}),v.jsx("li",{className:"text-[12px]! text-white md:text-[14px]!",children:v.jsx(pf,{to:"/about-us#our-vision",className:"no-underline hover:!text-secondary",children:"Vision"})}),v.jsx("li",{className:"text-[12px]! text-white md:text-[14px]!",children:v.jsx(pf,{to:"/about-us/#ceo-message",className:"no-underline hover:!text-secondary",children:"CEO's message"})}),v.jsx("li",{className:"text-[12px]! text-white md:text-[14px]!",children:v.jsx(pf,{to:"/about-us/#testimonials",className:"no-underline hover:!text-secondary",children:"Testimonials"})})]})]}),v.jsxs("div",{children:[v.jsx("span",{className:"no-underline text-[14px]! md:text-[16px]! text-white font-avenir-black",children:"Careers"}),v.jsxs("ul",{className:"flex flex-wrap gap-1 flex-col mt-3 list-none! -ml-5",children:[e.slice(0,n).map((s,r)=>v.jsx("li",{className:"text-[12px]  md:text-[14px]! text-white",children:v.jsx(qi,{to:"",className:"no-underline hover:text-secondary",children:s})},r)),i&&v.jsx("li",{className:"text-[12px] text-white  md:text-[14px]!",children:v.jsx(qi,{to:"/careers-all",className:"no-underline hover:text-secondary font-avenir-black",children:"See all careers"})})]})]}),v.jsxs("div",{children:[v.jsx("span",{className:"text-[14px]! text-white font-avenir-black  md:text-[16px]!",children:"Legal"}),v.jsxs("ul",{className:"flex-wrap flex gap-1 mt-3 flex-col list-none! -ml-5",children:[v.jsx("li",{className:"text-[12px]!  md:text-[14px]!",children:v.jsx(qi,{to:"/privacy-policy",className:"no-underline text-white hover:!text-secondary",children:"Privacy Policy"})}),v.jsx("li",{className:"text-[12px]! text-white md:text-[14px]!",children:v.jsx(qi,{to:"/terms-of-use",className:"no-underline text-white hover:!text-secondary",children:"Terms of Use"})}),v.jsx("li",{className:"text-[12px]! text-white md:text-[14px]!",children:v.jsx(pf,{to:"/contact#faqs",className:"no-underline hover:!text-secondary",children:"FAQs"})})]})]})]}),v.jsx("div",{className:"md:mt-30",children:v.jsx(Mle,{})})]})]})," ",v.jsx("div",{className:"py-3"})]})},nB=[{industryId:1,imageUrl:"https://www.anzac.co.in/wp-content/uploads/2024/03/business-process-outsourcing.jpg",name:"Data Operations"},{industryId:2,imageUrl:"https://i1.wp.com/ebcallcenter.com/wp-content/uploads/BPO-1.jpg?fit=750%2C437&ssl=1",name:"Business Operations"},{industryId:3,imageUrl:"https://media.istockphoto.com/id/1645012505/photo/analytics-chart-business-analysis-chart-kpi-showing-icon-on-virtual-screen-monitor-laptop-by.jpg?s=612x612&w=0&k=20&c=t82vo8fipJUrwEpHGU2y-rUQN_i7BrXYoxvLgMcDe18=",name:"Finance Operations"},{industryId:4,imageUrl:"https://media.istockphoto.com/id/1021137062/photo/software-developers-doing-some-research.jpg?s=612x612&w=0&k=20&c=K3YdSFPGGCUSwSWkeZ_nuhWszRxpjNJe5sRBYJkFMpQ=",name:"Software Development"},{industryId:5,imageUrl:"https://www.georginalittlephotography.co.uk/wp-content/uploads/2024/09/Alex-Chell-2-1080x675.jpg",name:"Branding"}],Rle=()=>{const[t,e]=E.useState(!0);return v.jsx(li,{children:v.jsx("div",{className:"mx-auto max-w-[1560px] px-4 sm:px-6 lg:px-8 mb-15",children:v.jsx(Uy,{modules:[WS,$S,qS],slidesPerView:1,autoplay:{delay:5e3},breakpoints:{0:{slidesPerView:1,spaceBetween:20,centeredSlides:!1},768:{slidesPerView:2,spaceBetween:28,centeredSlides:!1},1024:{slidesPerView:3,spaceBetween:32,centeredSlides:!1}},className:"w-full",children:nB.length==0?v.jsx(v.Fragment,{children:[...Array(5)].map((n,i)=>v.jsx(sh,{children:v.jsxs("div",{className:`p-5 mt-4 ease-out bg-white shadow-lg rounded-2xl text-center transition-transform duration-300 scale-90
                    `,children:[v.jsx("div",{className:"w-full aspect-[100/101] rounded-xl overflow-hidden",children:v.jsx(rs,{className:"w-full h-full"})}),v.jsx("p",{className:"text-center mt-3 py-5 font-avenir-black text-lg sm:text-xl",children:v.jsx(rs,{width:"50%"})})]})},i))}):v.jsx(v.Fragment,{children:nB.slice(0,5).map((n,i)=>v.jsx(sh,{children:v.jsxs("div",{className:`p-5 mt-4 ease-out bg-white shadow-lg rounded-2xl text-center transition-transform duration-300 scale-90
                    `,children:[n.imageUrl?v.jsx(v.Fragment,{children:v.jsx("img",{src:n.imageUrl,alt:n.name,className:"w-full aspect-[100/101] object-cover rounded-xl"})}):v.jsx(v.Fragment,{children:v.jsx("div",{className:"w-full aspect-[100/101] rounded-xl overflow-hidden",children:v.jsx(rs,{className:"w-full h-full"})})}),v.jsx("p",{className:"text-center mt-3 py-5 font-avenir-black text-body",children:n.name||v.jsx(rs,{width:"50%"})})]})},n.industryId))})})})})},Ale=()=>{const[t,e]=E.useState(window.innerWidth),n=[{href:"https://www.youtube.com/",icon:D5,text:"the Suite Tube",delay:.2},{href:"https://open.spotify.com/",icon:_5,text:"the Suite Spot",delay:.1},{href:"https://www.facebook.com/thefullsuitepod",icon:O2,text:"the FullSuite Pod",delay:.3},{href:"https://www.instagram.com/thefullsuitepod/",icon:L2,text:"@thefullsuitepod",delay:.4}];return E.useEffect(()=>{window.scroll(0,0);const i=document.getElementById("left-side");if(!i)return;const s=()=>{i.style.transition="width 1s ease-in-out",i.style.width="100%",setTimeout(()=>{i.style.transition="width 1s ease-in-out",i.style.width="0%"},1e4)};setTimeout(s,3e3);const r=setInterval(s,13e3);return()=>{clearInterval(r)}},[]),v.jsxs("section",{className:"gap-4 overflow-hidden",style:{maxWidth:"2000px",margin:"0 auto",padding:"0 0rem"},children:[v.jsx(wh,{title:"Home | Empowering Careers & Opportunities - SuiteLifer",desc:"Discover career opportunities, company insights, and the latest updates at FullSuite. Your journey to success starts here.",isDefer:!1}),v.jsx("div",{className:"sm:hidden",children:v.jsx(Yr,{})}),v.jsx("div",{className:"tablet-nav",children:v.jsx(Xr,{})}),v.jsx("div",{className:"desktop-nav",children:v.jsx(Zr,{})}),v.jsxs("div",{className:"lg:flex lg:flex-row-reverse hidden lg:hidden",children:[v.jsx(vse,{}),v.jsx("section",{className:"flex pt-5 lg:w-2/5 ",children:v.jsx(qn.div,{initial:{opacity:0},animate:{opacity:.7},transition:{duration:1,ease:"easeOut"},whileHover:{scale:1.05},whileInView:{scale:[1,1.05,1],transition:{duration:3,repeat:1/0,ease:"easeInOut"}},className:"flex justify-end items-start ml-5 pb-3 lg:hidden overflow-hidden",children:v.jsx("img",{className:"opacity-70 -z-10 rounded-l-4xl object-cover h-full w-full",src:UG,alt:"Banner image"})})})]}),v.jsx("div",{className:"relative lg:hidden overflow-hidden h-28 sm:h-34 hidden",children:v.jsx(qn.img,{className:"absolute w-[15vw] right-0 opacity-40 rounded-l-4xl object-cover",src:jG,alt:"A keyboard with a startup key",style:{height:"100%",transform:"translateX(70%)"},animate:{scale:[1,1.05,1]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}})}),v.jsxs("section",{className:"h-[100dvh] relative lg:mt-17 mb-[10%]",children:[v.jsx("div",{id:"right-side",className:"side pb-17",children:v.jsxs("div",{className:"title",children:[v.jsxs("div",{className:"",children:[v.jsx("span",{className:"title-line-1",children:"Do you feel like your"})," ",v.jsx("br",{})," ",v.jsx("br",{})]}),v.jsx("div",{className:"animate-fadeInUp",children:v.jsxs("span",{className:"title-line-2",children:[v.jsx("span",{className:"text-black",children:"Career is going"})," ",v.jsx("span",{className:"nowhere",children:"nowhere?"})]})})," ",v.jsx("div",{className:"hidden",children:v.jsx("span",{className:"title-line-3",children:"We can help."})})]})}),v.jsx("div",{id:"left-side",className:"side pb-17 relative ",children:v.jsxs("div",{className:"title relative",children:[v.jsx("div",{children:v.jsx("span",{className:"title-line-1",children:"We can help."})}),v.jsx("div",{children:v.jsxs("span",{className:"title-line-2",children:[v.jsx("span",{className:"text-white",children:"Let's get you on the"})," ",v.jsx("br",{}),v.jsx("span",{className:"text-black",children:"right track."})]})}),v.jsx("div",{className:"hidden",children:v.jsx("span",{className:"title-line-3",children:"Join us!"})})]})})]}),v.jsx(Ase,{}),v.jsxs("section",{className:"px-5 xl:px-17 pb-[5%]",children:[v.jsx(li,{children:v.jsxs("div",{className:"text-center pb-7",children:[v.jsxs("p",{className:"text-h4 font-avenir-black",children:[v.jsx("span",{className:"text-primary",children:"Kickstart"})," Your Career With Us!"]}),v.jsx("p",{className:"text-small text-gray-500",children:"Watch the video below to see what makes us the perfect place to grow your career!"})]})}),v.jsx(li,{children:v.jsx("div",{className:"flex justify-center",children:v.jsx("video",{className:"aspect-16/9 rounded-xl md:rounded-2xl lg:rounded-4xl object-cover",autoPlay:!0,loop:!0,muted:!0,controls:!0,children:v.jsx("source",{src:WG,type:"video/mp4"})})})})]}),v.jsxs("section",{className:"bg-primary pt-[15%] md:pt-[10%] lg:pt-[5%] mt-[20%] md:mt-[7%] my-[5%]",children:[v.jsx(li,{children:v.jsxs("div",{className:"text-center text-white px-7 xl:px-17",children:[v.jsxs("p",{className:"text-h4 font-avenir-black",children:["Your Next ",v.jsx("span",{className:"text-secondary",children:"Career"})," Starts Here"]}),v.jsx("p",{className:"text-small",children:"Watch the video below to see what makes us the perfect place to grow your career!"})]})}),v.jsx("br",{}),v.jsx(li,{children:v.jsx(Rle,{})})]}),v.jsx(jse,{}),v.jsx("div",{className:"h-10"}),v.jsx("div",{className:"bg-primary rounded-4xl mx-7 lg:mx-17",children:v.jsx(ple,{})}),v.jsxs("section",{className:"relative py-15 md:py-[5%] px-7 ",children:[v.jsx(li,{children:v.jsxs("div",{className:"text-center pb-7",children:[v.jsxs("p",{className:"text-h4 font-avenir-black",children:[v.jsx("span",{className:"text-primary",children:"Follow"})," our Socials!"]}),v.jsx("p",{className:"text-small text-gray-500",children:"Join the conversation and never miss an update!"})]})}),v.jsxs("div",{className:"flex justify-center gap-7 md:gap-15 mt-5",children:[v.jsx("a",{href:n[0].href,title:n[0].href,target:"_blank",rel:"noopener noreferrer",className:"group no-underline group-hover:text-secondary cursor-pointer",children:v.jsx(li,{className:"flex items-center gap-2",children:v.jsx(D5,{color:"duration-500 group-hover:fill-secondary fill-primary",height:"40",width:"40"})})}),v.jsx("a",{href:n[1].href,title:n[1].href,target:"_blank",rel:"noopener noreferrer",className:"group no-underline group-hover:text-secondary cursor-pointer",children:v.jsx(li,{className:"flex items-center gap-2",children:v.jsx(_5,{color:"duration-500 group-hover:fill-secondary fill-primary",height:"40",width:"40"})})}),v.jsx("a",{href:n[2].href,title:n[2].href,target:"_blank",rel:"noopener noreferrer",className:"group no-underline group-hover:text-secondary cursor-pointer",children:v.jsx(li,{className:"flex items-center gap-2",children:v.jsx(O2,{color:"duration-500 group-hover:fill-secondary fill-primary",height:"40",width:"40"})})}),v.jsx("a",{href:n[3].href,title:n[3].href,target:"_blank",rel:"noopener noreferrer",className:"group no-underline group-hover:text-secondary cursor-pointer",children:v.jsx(li,{className:"flex items-center gap-2",children:v.jsx(L2,{color:"duration-500 group-hover:fill-secondary fill-primary",height:"40",width:"40"})})})]})]}),v.jsx(Do,{}),v.jsx(pu,{})]})},yg=({icon:t,text:e,className:n})=>v.jsxs("div",{className:`${n} shadow-md bg-white hover:scale-110 hover:bg-primary group transition-all duration-300 aspect-square min-w-30 w-[30%] sm:w-[25%] lg:w-[15vw] rounded-2xl flex flex-col items-center justify-center gap-1`,children:[t,v.jsx("article",{className:"text-center text-[12px] sm:text-sm md:text-lg xl:text-xl p-2 text-primary group-hover:text-white",children:e})]}),Ple="/assets/bg-mobile-chair-cutout-bZw4ZbZf.png",Dle="/assets/bg-desktop-chair-cutout-2-DWm1q73G.png",_le="data:image/svg+xml,%3csvg%20width='193'%20height='119'%20viewBox='0%200%20193%20119'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M79.25%2080.0003L69.75%2064.5003L19.25%20114.5H2.25004C-0.75%20114.5%20-0.750447%20118.5%202.25004%20118.5H189.75C193.25%20118.5%20193.25%20114%20189.75%20114H169.75L138.25%2066L125.75%2079L150.75%20114H144.75L107.25%2061.0003V38L115.75%2039.5V16L107.25%2014.5V3.00033C107.25%20-1.00005%20102.25%20-1.00018%20102.25%203.00033V61.0003L55.75%20114H49.75L79.25%2080.0003Z'%20fill='%230097B2'/%3e%3cpath%20d='M120.75%2039.5L120.25%2016C123.05%2017.9999%20135.75%209%20151.75%2013.5V37C131.25%2032%20131.75%2037%20120.75%2039.5Z'%20fill='%230097B2'/%3e%3c/svg%3e",Fle="data:image/svg+xml,%3csvg%20width='122'%20height='126'%20viewBox='0%200%20122%20126'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M120%2063H105'%20stroke='%230097B2'%20stroke-width='3'%20stroke-linecap='round'/%3e%3cpath%20d='M17%2063H2'%20stroke='%230097B2'%20stroke-width='3'%20stroke-linecap='round'/%3e%3cpath%20d='M29%2094L19%20104'%20stroke='%230097B2'%20stroke-width='3'%20stroke-linecap='round'/%3e%3cpath%20d='M102%20104L92%2094'%20stroke='%230097B2'%20stroke-width='3'%20stroke-linecap='round'/%3e%3cpath%20d='M103%2022L93%2032'%20stroke='%230097B2'%20stroke-width='3'%20stroke-linecap='round'/%3e%3cpath%20d='M30%2030L20%2020'%20stroke='%230097B2'%20stroke-width='3'%20stroke-linecap='round'/%3e%3cpath%20d='M62%202L62%2019'%20stroke='%230097B2'%20stroke-width='3'%20stroke-linecap='round'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M49.1497%20102.021H74.1497C76.7048%2091.4359%2080.8586%2085.9135%2084.277%2081.3689C85.5412%2079.6881%2086.7048%2078.1411%2087.6497%2076.5212C99.1497%2061.5212%2089.5%2033%2066.1497%2031.0212C28.1504%2030.0234%2027.6502%2064.5212%2037.1497%2079.5212C43.5196%2087.7123%2046.5773%2095.4876%2048.5827%20100.587C48.7813%20101.092%2048.9696%20101.571%2049.1497%20102.021ZM48.1491%20107.023H74.1497V113.023C74.1276%20113.2%2074.1114%20113.401%2074.0941%20113.615C73.9805%20115.017%2073.8181%20117.023%2071.6504%20117.023H69.1504V121.023C69.1504%20121.225%2069.1555%20121.427%2069.1605%20121.627V121.627V121.628C69.2055%20123.407%2069.2463%20125.023%2065.6504%20125.023H54.6504C51.9915%20125.023%2052.0819%20122.824%2052.1369%20121.488C52.1439%20121.317%2052.1504%20121.16%2052.1504%20121.023V117.023H50.1504C47.4506%20117.023%2047.7251%20113.453%2047.9917%20109.985C48.0707%20108.957%2048.1491%20107.938%2048.1491%20107.023ZM53.2981%2043.4701C54.11%2043.3054%2054.6347%2042.5138%2054.4701%2041.7019C54.3054%2040.89%2053.5138%2040.3653%2052.7019%2040.5299C46.2492%2041.8384%2042.3174%2045.3765%2040.0824%2049.3006C37.8796%2053.1679%2037.3459%2057.3626%2037.5355%2060.1035C37.5926%2060.93%2038.3089%2061.5536%2039.1354%2061.4964C39.9618%2061.4393%2040.5855%2060.7229%2040.5283%2059.8965C40.373%2057.6515%2040.8222%2054.0631%2042.6892%2050.7854C44.5238%2047.5643%2047.7486%2044.5954%2053.2981%2043.4701Z'%20fill='%230097B2'/%3e%3c/svg%3e",mw="data:image/svg+xml,%3csvg%20width='3828'%20height='132'%20viewBox='0%200%203828%20132'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M845.142%2066C845.142%2029.5492%20874.819%200%20911.428%200H3761.71C3798.32%200%203828%2029.5492%203828%2066C3828%20102.451%203798.32%20132%203761.71%20132H911.428C874.819%20132%20845.142%20102.451%20845.142%2066Z'%20fill='url(%23paint0_linear_577_1200)'/%3e%3cpath%20d='M696.002%2066C696.002%20102.451%20666.325%20132%20629.716%20132C593.108%20132%20563.431%20102.451%20563.431%2066C563.431%2029.5492%20593.108%200%20629.716%200C666.325%200%20696.002%2029.5492%20696.002%2066Z'%20fill='%230097B2'/%3e%3cpath%20d='M414.29%2066C414.29%20102.451%20384.613%20132%20348.005%20132C311.396%20132%20281.719%20102.451%20281.719%2066C281.719%2029.5492%20311.396%200%20348.005%200C384.613%200%20414.29%2029.5492%20414.29%2066Z'%20fill='%230097B2'%20fill-opacity='0.5'/%3e%3cpath%20d='M132.571%2066C132.571%20102.451%20102.894%20132%2066.2857%20132C29.6771%20132%200%20102.451%200%2066C0%2029.5492%2029.6771%200%2066.2857%200C102.894%200%20132.571%2029.5492%20132.571%2066Z'%20fill='%230097B2'%20fill-opacity='0.3'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_577_1200'%20x1='0'%20y1='66'%20x2='3828'%20y2='66'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%230097B2'/%3e%3cstop%20offset='1'%20stop-color='%230097B2'%20stop-opacity='0.3'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",Nle=[{id:1,image:"https://plus.unsplash.com/premium_photo-1689977968861-9c91dbb16049?fm=jpg&q=60&w=3000&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8cHJvZmlsZSUyMHBpY3R1cmV8ZW58MHx8MHx8fDA%3D",name:"Michael Johnson",position:"Operations Manager",testimony:"FullSuite has provided me with an incredible opportunity to work with fast-growing startups and make a real impact. The flexibility and team culture are unmatched!"},{id:2,image:"http://plus.unsplash.com/premium_photo-1688572454849-4348982edf7d?q=80&w=1976&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",name:"Sarah Williams",position:"Senior Accountant",testimony:"I love working at FullSuite! The leadership genuinely cares about employee growth, and I feel valued for the expertise I bring to the team."},{id:3,image:"https://images.unsplash.com/photo-1544168190-79c17527004f?fm=jpg&q=60&w=3000&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8YXNpYW58ZW58MHx8MHx8fDA%3D",name:"David Smith",position:"Client Success Manager",testimony:"Helping startups streamline their financial and operational processes has been such a rewarding experience. FullSuite fosters a collaborative environment where ideas thrive!"},{id:4,image:"https://images.unsplash.com/photo-1488426862026-3ee34a7d66df?q=80&w=1727&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",name:"Emily Brown",position:"HR & Talent Specialist",testimony:"FullSuite is not just a workplace; it's a community. The support and professional development opportunities make this an amazing place to grow my career."},{id:5,image:"https://images.unsplash.com/photo-1543610892-0b1f7e6d8ac1?q=80&w=1856&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",name:"James Miller",position:"Finance Analyst",testimony:"Every day, I get to work on exciting projects with some of the most innovative startups. FullSuite's remote work culture allows me to maintain a great work-life balance."},{id:6,image:"https://images.unsplash.com/photo-1605993439219-9d09d2020fa5?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",name:"Jessica Lee",position:"Marketing Specialist",testimony:"I feel truly empowered at FullSuite. The leadership listens to our ideas, and the projects we work on are both challenging and rewarding."},{id:7,image:"https://images.unsplash.com/photo-1628157588553-5eeea00af15c?q=80&w=2080&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",name:"Robert Wilson",position:"IT Support Lead",testimony:"Tech support at FullSuite is never boring! We're always working with new tools and ensuring seamless operations for our clients. I couldn't ask for a better team."},{id:8,image:"https://images.unsplash.com/photo-1554780336-390462301acf?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",name:"Sophia Martinez",position:"Payroll Specialist",testimony:"Working at FullSuite has been an enriching experience. We make sure startups have stress-free payroll management, and that gives me great satisfaction."},{id:9,image:"https://images.unsplash.com/photo-1639149888905-fb39731f2e6c?q=80&w=1964&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",name:"Daniel Anderson",position:"Compliance Officer",testimony:"Startups need to stay compliant, and FullSuite ensures they do. I enjoy being part of a company that simplifies complex processes for entrepreneurs."},{id:10,image:"https://images.unsplash.com/photo-1630945386735-372fbe731e3f?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",name:"Olivia Garcia",position:"Executive Assistant",testimony:"FullSuite has given me the perfect platform to grow professionally while maintaining a flexible work-life balance. It's a fantastic place to work!"}],Ile="data:image/svg+xml,%3csvg%20width='84'%20height='64'%20viewBox='0%200%2084%2064'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M74.1403%2036.7626C78.0282%2037.8423%2080.5164%2039.3268%2081.605%2041.2163C82.8491%2043.1058%2083.4712%2046.2774%2083.4712%2050.7312C83.0046%2059.3688%2076.9396%2063.4852%2065.2761%2063.0803C59.9886%2062.2705%2056.023%2060.8534%2053.3793%2058.829C50.891%2056.8045%2049.4914%2053.1605%2049.1804%2047.897C49.1804%2047.2222%2049.1804%2045.1977%2049.1804%2041.8237C49.1804%2038.4496%2049.4136%2035.143%2049.8802%2031.9039C50.3467%2028.5298%2051.1243%2025.4257%2052.2129%2022.5915C55.9452%2015.4385%2060.4551%208.48789%2065.7426%201.73976C66.2091%201.19991%2066.8312%200.92998%2067.6088%200.92998C69.1639%200.92998%2070.9523%201.73976%2072.974%203.35931C75.1512%204.97886%2076.3953%206.05856%2076.7063%206.59841C76.2398%207.94804%2075.0734%209.56759%2073.2073%2011.4571C73.0518%2011.727%2072.1187%2012.8742%2070.408%2014.8986C68.8529%2016.7881%2067.531%2019.015%2066.4424%2021.5793C65.8204%2024.8184%2065.5093%2027.7201%2065.5093%2030.2843C65.5093%2031.7689%2065.6648%2032.9161%2065.9759%2033.7259C66.909%2035.0755%2069.6304%2036.0877%2074.1403%2036.7626ZM23.5206%2034.9406C28.186%2036.1552%2031.1408%2038.1122%2032.3849%2040.8114C33.7845%2043.5107%2034.4843%2047.2897%2034.4843%2052.1483C34.4843%2055.2524%2032.7737%2057.8842%2029.3523%2060.0436C25.931%2062.203%2022.1987%2063.2827%2018.1553%2063.2827C13.6454%2063.2827%209.7576%2062.1355%206.49181%2059.8412C3.38153%2057.4118%201.4376%2053.4304%200.660034%2047.897C0.660034%2047.2222%200.660034%2045.1977%200.660034%2041.8237C0.660034%2038.4496%200.893305%2035.143%201.35985%2031.9039C1.82639%2028.5298%202.60396%2025.4257%203.69256%2022.5915C6.80283%2015.1685%2010.924%208.21796%2016.0559%201.73976C16.8335%201.06495%2017.611%200.727539%2018.3886%200.727539C19.1662%200.727539%2020.0993%201.06495%2021.1879%201.73976L25.3867%203.96664C28.186%205.31626%2029.5856%206.19352%2029.5856%206.59841C29.4301%207.67811%2028.4193%209.23018%2026.5531%2011.2546C23.1318%2015.0336%2021.0324%2018.5426%2020.2548%2021.7817C19.9438%2023.4013%2019.7882%2025.4257%2019.7882%2027.855C19.7882%2031.9039%2021.0324%2034.2657%2023.5206%2034.9406Z'%20fill='%23808080'%20fill-opacity='0.1'/%3e%3c/svg%3e",Ole=()=>v.jsx("section",{className:"py-15",children:v.jsxs("div",{className:"mx-auto max-w-[1560px] px-4 sm:px-6 lg:px-8",children:[v.jsxs("div",{className:"mb-16 text-center",children:[v.jsx("span",{className:"text-sm text-gray-500 font-medium block mb-2",children:"TESTIMONIALS"}),v.jsx("p",{className:"text-4xl font-bold font-avenir-black text-primary",children:"Stories of Excellence"})]}),v.jsx(Uy,{modules:[WS,$S,qS],pagination:{clickable:!0},slidesPerView:1,autoplay:{delay:5e3},breakpoints:{0:{slidesPerView:1,spaceBetween:20,centeredSlides:!0},768:{slidesPerView:2,spaceBetween:28,centeredSlides:!0},1024:{slidesPerView:3,spaceBetween:32,centeredSlides:!0}},className:"w-full",children:Nle.slice(0,5).map(t=>v.jsx(sh,{children:({isActive:e})=>v.jsxs("div",{className:`p-10 mt-4 ease-out bg-white shadow-lg rounded-lg text-center transition-transform duration-300 ${e?"scale-90 md:scale-110 bg-primary text-white md:hover:scale-115":"scale-90 opacity-75 hover:-translate-y-2"}`,children:[v.jsx("img",{src:Ile,alt:"quote",className:"absolute translate-x-5 translate-y-22 -rotate-5 w-16  mb-4"}),v.jsx("img",{src:t.image,alt:t.name,className:"size-30 mx-auto rounded-full mb-4 object-cover"}),v.jsx("p",{className:"mt-4 text-gray-700 md:text-[14px]!",children:t.testimony}),v.jsx("br",{}),v.jsx("p",{className:"text-[14px]! font-avenir-black  text-primary",children:t.name}),v.jsx("p",{className:"text-[12px]! text-gray-400",children:t.position})]})},t.id))})]})}),Lle=({color:t,size:e})=>v.jsxs("svg",{version:"1.2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1920 1920",width:e,height:e,children:[v.jsx("title",{children:"Focused Athlete Icon"}),v.jsx("path",{id:"Shape 4",fillRule:"evenodd",fill:t,className:t,d:"m1006.3 922.1l-85.2 85.1-707.1-707.1 85.1-85.1z"}),v.jsx("path",{id:"Background",fillRule:"evenodd",fill:t,className:t,d:"m259.3 320.3c-33.2 0-60-26.8-60-60 0-33.2 26.8-60 60-60 33.2 0 60 26.8 60 60 0 33.2-26.8 60-60 60z"}),v.jsx("path",{id:"Circle 2",fillRule:"evenodd",fill:t,className:t,d:"m963.3 1024.3c-33.2 0-60-26.8-60-60 0-33.2 26.8-60 60-60 33.2 0 60 26.8 60 60 0 33.2-26.8 60-60 60z"}),v.jsx("path",{id:"Shape 1",d:""}),v.jsx("path",{id:"Shape 2",fillRule:"evenodd",fill:t,className:t,d:"m237.5 465c-19.6 0-35.5-15.9-35.5-35.5 0-19.6 15.9-35.5 35.5-35.5 19.6 0 35.5 15.9 35.5 35.5 0 19.6-15.9 35.5-35.5 35.5z"}),v.jsx("path",{id:"Shape 3",fillRule:"evenodd",fill:t,className:t,d:"m429.5 269c-19.6 0-35.5-15.9-35.5-35.5 0-19.6 15.9-35.5 35.5-35.5 19.6 0 35.5 15.9 35.5 35.5 0 19.6-15.9 35.5-35.5 35.5z"}),v.jsx("path",{id:"Shape 5",fillRule:"evenodd",fill:t,className:t,d:"m632.3 386.4l-244 243.9-159.1-159.1 244-243.9z"}),v.jsx("path",{id:"Shape 6",fillRule:"evenodd",fill:t,className:t,d:"m552 530v100h-165v-100z"}),v.jsx("path",{id:"Shape 6 copy",fillRule:"evenodd",fill:t,className:t,d:"m632 386v165h-100v-165z"}),v.jsx("path",{id:"Shape 7",d:""}),v.jsx("path",{id:"Shape 9",d:""}),v.jsx("path",{id:"Shape 8",fillRule:"evenodd",fill:t,className:t,d:"m959.5 1799.2c-464.4 0-839.7-375.3-839.7-839.7 0-116.4 23.5-227.2 66.2-327.9l100 100c-24.1 71.2-37.1 147.5-37.1 226.9 0 391.6 317.2 708.1 709.6 708.1 392.4 0 709.6-316.5 709.6-708.1 0-391.6-317.2-708.1-709.6-708.1-81.1 0-158.9 13.5-231.4 38.4l-100.6-100.6c102-44.1 214.6-68.4 333-68.4 464.4 0 839.7 375.3 839.7 839.7 0 464.4-375.3 839.7-839.7 839.7z"}),v.jsx("path",{id:"Shape 10",d:""}),v.jsx("path",{id:"Shape 11",d:""}),v.jsx("path",{id:"Shape 12",fillRule:"evenodd",fill:t,className:t,d:"m959.5 1539.5c-320.7 0-580-259.3-580-580 0-69.2 12.1-135.6 34.3-197.1l116.3 57c-14.4 44.3-22.2 91.5-22.2 140.6 0 250 202.1 452.1 452.1 452.1 250 0 452.1-202.1 452.1-452.1 0-250-202.1-452.1-452.1-452.1-50.3 0-98.6 8.2-143.7 23.3l-60.8-114.9c63.5-23.8 132.2-36.8 204-36.8 320.7 0 580 259.3 580 580 0 320.7-259.3 580-580 580z"}),v.jsx("path",{id:"Shape 15",d:""}),v.jsx("path",{id:"Shape 13",fillRule:"evenodd",fill:t,className:t,d:"m960 1281.3c-177.7 0-321.3-143.6-321.3-321.3 0-14.6 1-29 2.9-43.1l171.3 171.2c35.7 40.8 88.2 66.5 146.7 66.5 107.9 0 195-87.1 195-195 0-50.2-18.9-96-50-130.5l0.4-0.4-187.3-187.2c13.9-1.8 28-2.8 42.3-2.8 177.7 0 321.3 143.6 321.3 321.3 0 177.7-143.6 321.3-321.3 321.3z"}),v.jsx("path",{id:"Shape 17",d:""}),v.jsx("path",{id:"Shape 18",fillRule:"evenodd",fill:t,className:t,d:"m364 394v60h-131v-60z"}),v.jsx("path",{id:"Shape 18 copy",fillRule:"evenodd",fill:t,className:t,d:"m454 232v160h-60v-160z"}),v.jsx("path",{id:"Shape 19",fillRule:"evenodd",fill:t,className:t,d:"m457.1 211l33.9 33.9-14.1 14.1-33.9-33.9z"}),v.jsx("path",{id:"Shape 19 copy",fillRule:"evenodd",fill:t,className:t,d:"m226.1 440l33.9 33.9-14.1 14.1-33.9-33.9z"})]}),kle=({color:t,size:e})=>v.jsxs("svg",{version:"1.2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1080 1080",width:e,height:e,children:[v.jsx("title",{children:"Team Player Icon"}),v.jsx("path",{id:"head 1",fillRule:"evenodd",fill:t,className:t,d:"m679.3 385c-41.5 0-75-33.5-75-75 0-41.5 33.5-75 75-75 41.4 0 75 33.5 75 75 0 41.5-33.6 75-75 75z"}),v.jsx("path",{id:"head 2",fillRule:"evenodd",fill:t,className:t,d:"m369.3 229c-41.5 0-75.1-33.5-75.1-75 0-41.5 33.6-75 75-75 41.5 0 75 33.5 75 75 0 41.5-33.5 75-75 75z"}),v.jsx("path",{id:"Color Fill 1",fill:t,className:t,d:"m254 294c0 0-43.4 2.7-67.7 23.7-23.9 24.7-40.6 80-70.2 92.3-32.4 11.8-56.7-21.1-21.1-56.8 40-49.3 41-81.4 119.3-102.1 51.2-16 54.3-25.8 163.7 35.9 49.3 31.7 45 61.1 105.5 118.9 63.5 60.2 80.4 83.7 80.4 83.7 0 0-44.2 24.3-91.9-19.6-47.7-43.9-82-88-82-88 0 0-24.9 68.8-31 91-6.1 22.2-15.2 43.4 17 86.9 50.3 68.8 41.4 94.3 51.5 145.6 10.4 52.8 12.4 82.9 12.4 82.9 0 0 9.2 49.5-13.7 52.4-22.9 2.9-30 2.4-44.3-58.2-31.1-121 1.7-126.6-104.9-196.6-113-68.1-63.1-114.7-48-173 15.5-59.9 33.1-100.1 25-119z"}),v.jsx("path",{id:"Color Fill 2",fill:t,className:t,d:"m149 747l55-142 54 48-68 136c0 0-25.6 63.2-53 52-27.4-11.2-21.4-25.8 12-94z"}),v.jsx("path",{id:"Color Fill 3",fill:t,className:t,d:"m540 527.2c0 0-58.2 6-56-17.2 2.2-23.2 39.4-29.8 99.6-41.2 60.2-11.3 78.2-8.9 155.8-52.5 37.1-25.2 44.1-26.9 118.5-10.3 93.5 9.4 86.1 20.8 117.7 63.3 21.7 32.8 35.1 52.4 14.2 70.7-27.7 11.7-27.6-2.6-52.8-40.8-12.6-16.1-12.6-31.1-89-35.2-31.5-2.5-18.4 4.6-8 25 10.4 20.4 49.2 101.6 61 132 11.8 30.4 49.2 91.3-63.5 96.7-108.2 12.8-134.4 18.2-180.5 50.3-46.1 32.1-107.4 101.2-129 78-18.6-20-6.5-27.7 70.5-112 45.8-50.2 33.4-59.6 106.5-76 73.1-16.4 70.8-18 12-114-26.9-49.2-12.6-39.3-120-22-57.1 9.2-57 5.2-57 5.2z"}),v.jsx("path",{id:"Color Fill 4",fill:t,className:t,d:"m817.2 841.9c4.7 13.7 20.2 23.2 44.8 62.1 28 44.2 37 58 37 58 0 0 26.1 47.3 45.9 39.3 19.7-8.1 13.2-30.1-8.9-74.3-22.1-44.2-44-93-44-93 0 0-12.8-26.1-0.2-64.6l-78.5 16.5c-1.5 35.3-0.8 42.4 3.9 56z"}),v.jsx("path",{id:"Color Fill 5",fill:t,className:t,d:"m115 853c0 0 269.6-0.8 337 1 67.4 1.8 146.6-3.3 191.7 72.1 21.8 44.7 10.3 77.7-7.3 74.5-48.7 0.3-12.3-39.9-61.6-75.8-29-27.7-262.7-11.1-365.1-13-68.7-1.3-93.4 4.1-114.3-5.6-29-13.6-17.3-56.1 19.6-53.2z"})]}),Ble=({color:t,size:e})=>v.jsxs("svg",{version:"1.2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1080 1080",width:e,height:e,children:[v.jsx("title",{children:"Understood Icon"}),v.jsx("path",{id:"litol message",fillRule:"evenodd",fill:t,className:t,d:"m720.5 968c-157.3 0-284.5-111.5-284.5-249.5 0-138 127.2-249.5 284.5-249.5 157.3 0 284.5 111.5 284.5 249.5 0 68.3-31.2 130.1-81.7 175.1 26.4 51 79.7 98.4 79.7 98.4-65.3 18.4-139.5-27.7-165.5-46-35.7 14.2-75.3 22-117 22zm-148.5-320.5c0 22.4 18.1 40.5 40.5 40.5h217c22.4 0 40.5-18.1 40.5-40.5 0-22.4-18.1-40.5-40.5-40.5h-217c-22.4 0-40.5 18.1-40.5 40.5zm0 143c0 22.4 18.1 40.5 40.5 40.5h217c22.4 0 40.5-18.1 40.5-40.5 0-22.4-18.1-40.5-40.5-40.5h-217c-22.4 0-40.5 18.1-40.5 40.5z"}),v.jsx("path",{id:"big message",fillRule:"evenodd",fill:t,className:t,d:"m72 466.5c0-197.1 177.5-356.5 397-356.5 204.2 0 372 137.9 394.5 315.8-44.3-17.9-93.3-27.8-145-27.8-16.8 0-33.4 1.1-49.6 3.1 5.5-8 8.7-17.7 8.7-28.2v-15.7c0-27.6-22.4-50-50-50h-315.8c-27.6 0-50 22.4-50 50v15.7c0 27.6 22.4 50 50 50h269.1c-52 19.7-97.6 50.3-133.3 88.6h-135.8c-27.6 0-50 22.4-50 50v15.7c0 27.7 22.4 50 50 50h67.1c-9 28.2-13.9 58-13.9 88.8 0 34.4 6 67.5 17.2 98.5-28.5-5.7-55.9-14.2-81.8-25-101.4 85.2-186.4 56.5-186.4 56.5 64.1-48.7 79.8-94 83.1-119.6-77.1-65-125.1-157.3-125.1-259.9z"})]}),Hle=({color:t,size:e})=>v.jsxs("svg",{version:"1.2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1080 1080",width:e,height:e,children:[v.jsx("title",{children:"Work Life Harmony Icon"}),v.jsx("path",{id:"Shape 8",fillRule:"evenodd",fill:t,className:t,d:"m689.5 931c-157.3 0-284.5-127.2-284.5-284.5 0-157.3 127.2-284.5 284.5-284.5 157.3 0 284.5 127.2 284.5 284.5 0 157.3-127.2 284.5-284.5 284.5zm220.3-284.8c0-121.2-98.1-219.2-219.3-219.2-121.2 0-219.2 98-219.2 219.3 0 121.2 98 219.2 219.2 219.2 121.2 0 219.3-98 219.3-219.3z"}),v.jsx("path",{id:"Shape 9",fillRule:"evenodd",fill:t,className:t,d:"m389.5 931c-157.3 0-284.5-127.2-284.5-284.5 0-157.3 127.2-284.5 284.5-284.5 157.3 0 284.5 127.2 284.5 284.5 0 157.3-127.2 284.5-284.5 284.5zm220.3-284.8c0-121.2-98.1-219.2-219.3-219.2-121.2 0-219.2 98-219.2 219.3 0 121.2 98 219.2 219.2 219.2 121.2 0 219.3-98 219.3-219.3z"}),v.jsx("path",{id:"Shape 10",fillRule:"evenodd",fill:t,className:t,d:"m539.5 684c-157.3 0-284.5-127.2-284.5-284.5 0-157.3 127.2-284.5 284.5-284.5 157.3 0 284.5 127.2 284.5 284.5 0 157.3-127.2 284.5-284.5 284.5zm220.3-284.8c0-121.2-98.1-219.2-219.3-219.2-121.2 0-219.2 98-219.2 219.3 0 121.2 98 219.2 219.2 219.2 121.2 0 219.3-98 219.3-219.3z"})]}),Vle=({color:t,size:e})=>v.jsxs("svg",{version:"1.2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1080 1080",width:e,height:e,children:[v.jsx("title",{children:"Upholds Icon"}),v.jsx("path",{id:"Shape 1",fillRule:"evenodd",fill:t,className:t,d:"m540.6 174.2c-36.3 0-65.6-29.3-65.6-65.6 0-36.3 29.3-65.6 65.6-65.6 36.3 0 65.6 29.3 65.6 65.6 0 36.3-29.3 65.6-65.6 65.6z"}),v.jsx("path",{id:"Shape 2",fillRule:"evenodd",fill:t,className:t,d:"m294 76h494c18.2 0 33 14.8 33 33 0 18.2-14.8 33-33 33h-494c-18.2 0-33-14.8-33-33 0-18.2 14.8-33 33-33z"}),v.jsx("path",{id:"Shape 3",fillRule:"evenodd",fill:t,className:t,d:"m574 78v494c0 18.2-14.8 33-33 33-18.2 0-33-14.8-33-33v-494c0-18.2 14.8-33 33-33 18.2 0 33 14.8 33 33z"}),v.jsx("path",{id:"Shape 4",fillRule:"evenodd",fill:t,className:t,d:"m334 86.1l26 15-17.7 30.6 92 159.3h-34.7l-74.6-129.3-74.6 129.3h-34.7l92-159.3-17.7-30.6 26-15 9 15.6z"}),v.jsx("path",{id:"Shape 5",fillRule:"evenodd",fill:t,className:t,d:"m765 85.1l26 15-17.7 30.6 92.6 160.3h-34.7l-75.2-130.3-75.2 130.3h-34.7l92.6-160.3-17.7-30.6 26-15 9 15.6z"}),v.jsx("path",{id:"Shape 6",fillRule:"evenodd",fill:t,className:t,d:"m323.3 465c-57.4 0-104-45.2-106.2-102h212.3c-2.2 56.8-48.8 102-106.1 102z"}),v.jsx("path",{id:"Shape 7",fillRule:"evenodd",fill:t,className:t,d:"m756.3 465c-57.4 0-104-45.2-106.2-102h212.3c-2.2 56.8-48.8 102-106.1 102z"}),v.jsx("path",{id:"Layer 1",fill:t,className:t,d:"m78 653c0 0 150.8-53.4 173-62 22.2-8.6 36.4-20.8 81 0 44.6 20.8 283 123 283 123 0 0 116.8 39.6 25 107 0 0 29.1 40.1 168.8-37.1 162.7-96.5 178.1-54.9 193.2-18.9 15.1 36-113.3 98-160 124-187.5 94.1-168.5 118.8-254 95-114-44.4-218.1-92.1-276.5-113-58.3-20.9-42.4-39.3-233.7 57.8z"})]}),zle=({imgMission:t,imgVision:e,missionSlogan:n,visionSlogan:i,missionContent:s,visionContent:r})=>v.jsxs("div",{className:"flex flex-col lg:flex-row justify-center items-center lg:items-start gap-16 p-10 relative",children:[v.jsxs("div",{className:"text-center max-w-md space-y-4",children:[v.jsx("img",{src:t,alt:"Mission Icon",className:"mx-auto h-20 mb-4"}),v.jsxs("h2",{className:"text-xl font-avenir-black",children:["OUR ",v.jsx("span",{className:"text-[#0097B2]",children:"MISSION"})]}),v.jsx("br",{}),v.jsx("h3",{className:"font-avenir-black mt-4",children:n}),v.jsx("p",{className:"mt-4 text-gray-600 text-base sm:text-lg md:text-xl  leading-7 md:leading-10 ",children:s})]}),v.jsx("div",{className:"hidden lg:block w-px h-150 mx-8 bg-gradient-to-b from-transparent via-[#0097B2] -mt-10 to-transparent"}),v.jsxs("div",{className:"text-center max-w-md space-y-4",children:[v.jsx("img",{src:e,alt:"Vision Icon",className:"mx-auto h-20 mb-4"}),v.jsxs("h2",{className:"text-xl  font-avenir-black",children:["OUR ",v.jsx("span",{className:"text-[#0097B2]",children:"VISION"})]}),v.jsx("br",{}),v.jsx("h3",{className:"font-avenir-black mt-4",children:i}),v.jsx("p",{className:"mt-4 text-gray-600 text-base sm:text-lg md:text-xl leading-7 md:leading-10 ",children:r})]})]}),Gle=()=>{const[t,e]=E.useState({}),[n,i]=E.useState("Thought it was over, but..."),[s,r]=E.useState(0);return E.useEffect(()=>{window.scroll(0,0),(async()=>{try{const a=await on.get("/api/get-about-us");console.log(a.data.data),e(a.data.data)}catch(a){console.log(a)}})()},[]),v.jsxs("section",{className:"gap-4",style:{maxWidth:"2000px",margin:"0 auto",padding:"0 0rem"},children:[v.jsx(wh,{title:"About Us - SuiteLifer",desc:"A launchpad that transforms careers. We'll help you pave the way to your professional success.",isDefer:!1}),v.jsx("div",{className:"sm:hidden",children:v.jsx(Yr,{})}),v.jsx("div",{className:"tablet-nav",children:v.jsx(Xr,{})}),v.jsx("div",{className:"desktop-nav",children:v.jsx(Zr,{})}),v.jsxs("main",{className:"lg:mt-20",children:[v.jsxs("section",{className:"overflow-hidden about-container",id:"our-story",children:[v.jsx("div",{className:"h-56 w-72",children:v.jsx("img",{className:"w-full h-full object-cover rounded-r-3xl ",src:"https://images.unsplash.com/photo-1739382121445-19b3460a9e7a?q=80&w=2071&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"})}),v.jsx("div",{className:"about-text-banner flex flex-col mb-2 xl:pl-10",children:v.jsx("h2",{className:"font-avenir-black px-5",children:t.textBanner})}),v.jsx("div",{className:"mx-5",children:v.jsx("img",{className:"w-full h-full object-cover rounded-3xl",src:"https://images.unsplash.com/photo-1739382120576-b1434e8bc4d3?q=80&w=1975&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"})}),v.jsxs("section",{className:"flex flex-col gap-3 mt-5 mx-5 text-justify",children:[v.jsx("p",{className:"text-primary text-center text-sm font-avenir-black",children:"OUR STORY"}),v.jsx("p",{className:"text-base sm:text-lg md:text-xl mb-5",children:"FullSuite was originally founded by Maggie Po on October 8, 2014 as Offshore Concept Consulting, Inc. In 2018, the founder acquired full ownership of the brand name, FullSuite because it embodied the company vision to provide a comprehensive suite of solutions for startups. Maggie, alongside her co-founders, envisioned that instead of piecemeal services, FullSuite will offer an end-to-end approach that helps venture-backed startups handle critical data operational functions—especially the ones their AI systems can’t yet automate."}),v.jsx("p",{className:"text-base sm:text-lg md:text-xl",children:"In 2020, the legal entity was changed to Offshore Concept BPO Services, Inc. to reflect in the name the more accurate representation of its services. But, the brand name is still in use which reflects the various suite of operations that the company offers to help customers scale their businesses efficiently."})]}),v.jsx("section",{children:v.jsx("div",{className:"max-w-4xl h-72 my-4 lg:h-96 mx-5",children:v.jsx("video",{className:"w-full h-full rounded-xl object-cover aspect-video",controls:!0,children:v.jsx("source",{src:"#",type:"video/mp4"})})})}),v.jsxs("section",{className:"mx-8 flex flex-col justify-center text-justify",children:[v.jsxs("p",{className:"font-avenir-black py-3 !text-xl lg:!text-2xl",children:["“",n,"”"]}),v.jsx("p",{className:"text-base sm:text-lg md:text-xl",children:"In this exclusive podcast interview, Maggie, the CEO of FullSuite Company, shares her journey of resilience and leadership in the competitive world of BPO. From navigating challenges to redefining success, she proves that every setback is just a setup for a greater comeback. Tune in for an inspiring conversation on perseverance, innovation, and the future of FullSuite."})]}),v.jsxs("section",{className:"flex gap-2 py-7 mt-4 justify-end",children:[v.jsx("div",{className:"h-2 w-2 lg:w-3 lg:h-3 rounded-full opacity-30 bg-primary"}),v.jsx("div",{className:"h-2 w-2 lg:w-3 lg:h-3 rounded-full opacity-50 bg-primary"}),v.jsx("div",{className:"h-2 w-2 lg:w-3 lg:h-3 rounded-full opacity-100 bg-primary"}),v.jsx("div",{className:"w-32 lg:w-44 lg:h-3 rounded-l-xl h-2",style:{background:"linear-gradient(90deg, rgba(0,151,178,1) 0%, rgba(0,151,178,0.7455357142857143) 50%, rgba(0,151,178,0.33657212885154064) 100%)"}})]})]}),v.jsxs("section",{className:"overflow-hidden relative pt-5",children:[v.jsx("h2",{className:"font-avenir-black lg:text-4xl! text-center m-0!",children:"The suitelifer..."}),v.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-center lg:mb-[7%] py-[5%] pb-[12%] md:pb-[4%] gap-6 lg:gap-10 text-base sm:text-lg md:text-xl",children:[v.jsxs("div",{className:"flex justify-evenly lg:flex-none lg:gap-10",children:[v.jsx(yg,{icon:v.jsx(kle,{color:"group-hover:fill-white w-20 fill-primary size-40",size:"45%"}),text:v.jsxs("p",{children:["is a ",v.jsx("br",{}),v.jsx("b",{children:"team player"})]})}),v.jsx(yg,{className:"lg:translate-y-[40%]",icon:v.jsx(Ble,{color:"group-hover:fill-white w-20 fill-primary size-40",size:"45%"}),text:v.jsxs("p",{children:["is ",v.jsx("br",{}),v.jsx("b",{children:"understood"})]})})]}),v.jsx("div",{className:"flex justify-center",children:v.jsx(yg,{icon:v.jsx(Lle,{color:"group-hover:fill-white w-20 fill-primary size-40",size:"45%"}),text:v.jsxs("p",{children:["is a ",v.jsx("br",{}),v.jsx("b",{children:"focused athlete"})]})})}),v.jsxs("div",{className:"flex justify-evenly lg:gap-10",children:[v.jsx(yg,{className:"lg:translate-y-[40%]",icon:v.jsx(Vle,{color:"group-hover:fill-white w-20 fill-primary size-40",size:"45%"}),text:v.jsx("b",{children:"upholds"})}),v.jsx(yg,{icon:v.jsx(Hle,{color:"group-hover:fill-white w-20 fill-primary size-40",size:"45%"}),text:v.jsx("b",{children:"values work/life harmony"})})]})]})]}),v.jsx("div",{className:"py-10"}),v.jsx("div",{className:"flex justify-end scale-x-[-1]",children:v.jsx("img",{className:"dots-line",src:mw,alt:"3 dots and a line"})}),v.jsx("div",{className:"py-10"}),v.jsx(zle,{imgMission:_le,imgVision:Fle,missionContent:t.mission,missionSlogan:t.missionSlogan,visionContent:t.vision,visionSlogan:t.visionSlogan}),v.jsxs("section",{className:"relative",id:"ceo-message",children:[v.jsx("article",{className:"absolute text-end text-white -mt-10",children:v.jsxs("div",{className:"container-ceo-message pt-[18%]  pr-[5%] md:pr-[5%]",children:[v.jsx("div",{className:"flex justify-end",children:v.jsx("p",{className:"text-[12p] font-avenir-black text-secondary",children:"MESSAGE FROM THE CEO"})})," ",v.jsx("br",{}),v.jsx("div",{className:"flex justify-end",children:v.jsx("p",{className:"title w-[60%] font-avenir-black ",children:"Scaling Smarter, Growing Faster"})})," ",v.jsx("br",{}),v.jsx("div",{className:"flex justify-end",children:v.jsx("p",{className:"quote w-[50%] md:quote md:w-[55%]",children:v.jsx("i",{className:"font-avenir-black indent-8",children:"At FullSuite, we are redefining how startups scale—offering seamless, cost-efficient solutions to help you grow with confidence."})})}),v.jsx("p",{className:""})," ",v.jsx("br",{}),v.jsx("div",{className:"flex justify-end",children:v.jsx("p",{className:"w-1/2 md:w-[55%] indent-8 text-base sm:text-lg md:text-xl",children:"FullSuite was built to empower venture-backed startups with the operational and financial expertise they need to scale efficiently. Our team understands the challenges of rapid growth, and we are committed to providing tailored, offshore solutions that allow you to focus on innovation while we handle the complexities of finance and operations."})})," ",v.jsx("br",{}),v.jsx("div",{className:"flex justify-end",children:v.jsx("p",{className:"w-[48%] md:w-[55%] indent-8 text-base sm:text-lg md:text-xl",children:"We take pride in being the trusted partner of some of the most ambitious startups, ensuring they have the support and infrastructure needed to thrive in a competitive market. Whether you're looking to streamline processes or expand your team without the burden of traditional staffing costs, FullSuite is here to help you achieve your goals."})}),v.jsx("div",{className:"flex justify-end",children:v.jsx("p",{className:"mt-2 md:mt-4 indent-8 text-[12px] md:text-[14px]  lg:text-[16px] font-avenir-roman-oblique",children:"~ Maggie"})})]})}),v.jsxs("div",{className:"mt-20  md:-mt-20 md:mb-20",children:[v.jsx("img",{className:"md:hidden h-full w-full",src:Ple,alt:""}),v.jsx("img",{className:"hidden md:block h-full w-full",src:Dle,alt:""})]})]}),v.jsxs("section",{id:"testimonials",children:[v.jsx("div",{className:"flex justify-end scale-x-[-1]",children:v.jsx("img",{className:"dots-line",src:mw,alt:"3 dots and a line"})}),v.jsx(Ole,{})]}),v.jsxs("section",{className:"mb-[2%] relative",children:[v.jsx("div",{className:"day-in-the-pod",children:v.jsxs("div",{className:"relative pt-[4%] flex flex-col items-end",children:[v.jsx("img",{className:"w-1/2",src:mw,alt:"3 dots and a line"}),v.jsxs("div",{className:"text-end pr-[7%] pt-[2%]",children:[v.jsx("p",{className:"more-about-us text-sm text-primary font-avenir-black",children:"More about us"}),v.jsx("p",{className:"title text-lg font-avenir-black",children:"A Day in the Pod!"})]})]})}),v.jsx("div",{className:"w-[80%] max-w-[1200px] pt-5 md:pt-20 mx-auto",children:v.jsx(Wse,{videoId:"c6fs1gBpjQg"})}),v.jsx("div",{className:"absolute sm:hidden",children:v.jsx("div",{className:"w-[15vw] h-13 translate-y-3 -z-50 rounded-r-4xl bg-primary/5 "})}),v.jsxs("div",{className:"text-sm sm:text-lg mt-10 md:mt-[3%] xl: flex flex-col items-center mx-[10%]",children:[v.jsx("div",{className:"mb-5",children:v.jsxs("p",{className:"",children:["Feel like you belong to"," ",v.jsx("span",{className:"font-avenir-black text-primary",children:"SuiteLife?"})]})}),v.jsx("a",{className:"font-avenir-black transition-all duration-300 cursor-pointer hover:bg-[#007a8e] w-full max-w-[200px] rounded-2xl text-white text-center no-underline bg-primary p-3",href:"careers",children:v.jsx("button",{className:"cursor-pointer",children:"Check our careers"})})]}),v.jsx("div",{className:"py-20"})]})]}),v.jsx(Do,{}),v.jsx(pu,{})]})},xR=({id:t,index:e})=>v.jsx("iframe",{src:`https://open.spotify.com/embed/episode/${t}?utm_source=generator`,width:"100%",color:"",height:e===0?"352":"152",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy"},e),Ule=({jobs:t})=>v.jsx("section",{className:"",children:v.jsx("div",{className:"mx-auto max-w-[1550px] px-4 sm:px-6 lg:px-8",children:v.jsx(Uy,{modules:[WS,$S,qS],pagination:{clickable:!0,enabled:!0},spaceBetween:20,slidesPerView:1,autoplay:{delay:5e3},loop:!0,breakpoints:{0:{slidesPerView:1,spaceBetween:20,centeredSlides:!0},600:{slidesPerView:2,spaceBetween:28,centeredSlides:!0},768:{slidesPerView:2,spaceBetween:28,centeredSlides:!0},1024:{slidesPerView:3,spaceBetween:32,centeredSlides:!0}},className:"w-full",children:t.filter((e,n)=>n<4).map((e,n)=>v.jsx(sh,{children:({isActive:i})=>v.jsxs("div",{className:`p-7 ease-out min-h-100 flex flex-col justify-center bg-white shadow-lg rounded-lg transition-transform duration-300 ${i?"scale-90 md:scale-110 bg-primary md:hover:scale-115":"scale-90 opacity-75 hover:-translate-y-2"}`,children:[v.jsx("p",{className:"text-lg font-avenir-black font-semibold text-gray-900",children:e.jobTitle}),v.jsxs("div",{className:"flex flex-col mb-4",children:[v.jsxs("span",{className:"text-sm font-avenir-roman mb-3 text-gray-500",children:[v.jsx("span",{className:"text-secondary",children:"|"})," ",e.industryName]}),v.jsxs("span",{className:"text-primary ",children:[e.employmentType,", ",e.setupName]})]}),i&&e.salaryMin!=null&&e.salaryMin>0&&v.jsxs(v.Fragment,{children:[v.jsx("p",{className:"text-[0.75em] text-gray-400",children:"Expected Salary"}),v.jsxs("p",{className:"text-[18px] font-avenir-black mb-3 text-primary",children:[Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",maximumFractionDigits:0}).format(e.salaryMin),v.jsxs("span",{className:"text-xs font-avenir-roman",children:[" ","min"]})]})]}),i&&v.jsx("p",{className:`mb-3 text-gray-700 ${e.salaryMin?"line-clamp-5":"line-clamp-7"}`,children:e.description}),i&&v.jsx(fn,{to:`/careers/${$r(e.jobTitle)}`,state:{jobId:e.jobId},children:v.jsx("button",{className:"bg-primary cursor-pointer transition-all duration-300 ease-in-out hover:bg-[#007a8e] text-white p-2 rounded-xl w-full mt-auto",children:"View Full Details"})})]})},n))})})}),f6=({industries:t,filter:e,handleFilterChange:n})=>v.jsx("div",{className:"w-full overflow-x-auto",children:v.jsxs("div",{className:"flex gap-2 sm:gap-3 md:gap-4 justify-start px-2 sm:px-3 md:px-4 whitespace-nowrap 3xl:justify-center",children:[v.jsx("button",{onClick:()=>n("All"),className:`cursor-pointer px-4 py-1 sm:px-5 md:px-6 text-sm sm:text-base md:text-lg rounded-full border-1 border-primary text-primary transition-all duration-300 
        ${e==="All"?"bg-primary text-white":"hover:bg-primary hover:text-white"}`,children:"All"},-1),t==null?void 0:t.map((i,s)=>v.jsx("button",{onClick:()=>n(i.industryId),className:`cursor-pointer px-4 py-1 sm:px-5 md:px-6 text-sm sm:text-base md:text-lg rounded-full border-1 border-primary text-primary transition-all duration-300 
        ${e===i.industryId?"bg-primary text-white":"hover:bg-primary hover:text-white"}`,children:i.industryName},s)),v.jsx("div",{className:"pr-2"})]})}),jle=()=>{var y;const[t,e]=E.useState([]),n=async()=>{try{const C=await on.get("/api/all-open-jobs");e(x=>C.data.data)}catch(C){console.log(C)}},[i,s]=E.useState([]),r=async()=>{try{const C=await on.get("/api/latest-three-episodes");s(x=>C.data.data)}catch(C){console.log(C)}},[o,a]=E.useState([]),l=async()=>{try{const C=await on.get("/api/get-all-industries");a(x=>C.data.data),console.log(C.data.data)}catch(C){console.log(C)}};E.useEffect(()=>{r(),n(),l()},[]);const[c,d]=E.useState("All"),f=C=>{d(x=>C)},p=async()=>{try{const C=await on.get(`/api/all-open-jobs/${c}`);console.log(c),e(x=>C.data.data)}catch(C){console.log(C)}};E.useEffect(()=>{c==="All"?n():p()},[c]);const m=Hi();return E.useEffect(()=>{if(m.hash){const C=document.getElementById(m.hash.substring(1));C&&C.scrollIntoView({behavior:"smooth"})}},[m]),v.jsx(v.Fragment,{children:v.jsxs("section",{className:"gap-4 overflow-hidden",style:{maxWidth:"2000px",margin:"0 auto",padding:"0 0rem"},children:[v.jsx(wh,{title:"Careers - SuiteLifer",desc:"Your career journey has to start somewhere. Grab the opportunity, start it with us.",isDefer:!1}),v.jsx("div",{className:"sm:hidden",children:v.jsx(Yr,{})}),v.jsx("div",{className:"tablet-nav",children:v.jsx(Xr,{})}),v.jsx("div",{className:"desktop-nav",children:v.jsx(Zr,{})}),v.jsxs("main",{className:"",children:[v.jsxs("section",{children:[v.jsxs("div",{className:"hero-container",children:[v.jsxs("p",{className:"pl-[5%] career-hero-text-desktop font-avenir-black max-w-[1800px] mx-auto",children:["Let's ",v.jsx("span",{className:"text-primary",children:"launch"})," your career,"]}),v.jsxs("section",{className:"bg-mobile-images relative md:hidden",children:[v.jsx("img",{className:"absolute w-[30vw] max-w-[220px] -translate-y-[13vw] -translate-x-[30%] rounded-2xl opacity-60 object-cover aspect-3/4",src:"https://images.unsplash.com/photo-1507679799987-c73779587ccf?q=80&w=2071&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:""}),v.jsx("img",{className:"absolute right-0 w-[35vw] translate-y-[30vw] translate-x-[14vw] rounded-2xl opacity-60 object-cover aspect-3/4",src:"https://images.unsplash.com/photo-1521737711867-e3b97375f902?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:""})]}),v.jsxs("section",{className:"relative hidden md:block mx-auto",children:[v.jsx("div",{className:"hidden relative w-full max-w-[400px] mx-auto",children:v.jsx("img",{className:`absolute z-10 w-[160px] lg:w-[15vw] max-w-[190px] translate-y-15 -translate-x-[15vw]
                                rounded-3xl opacity-60 
                                object-cover aspect-3/4`,src:"https://images.unsplash.com/photo-1521737711867-e3b97375f902?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:""})}),v.jsx("div",{className:"hidden relative w-full max-w-[400px] mx-auto",children:v.jsx("img",{className:`right-0 absolute z-10 w-[45%] lg:w-[15vw] max-w-[250px] translate-y-40 lg:translate-y-50 translate-x-[18vw] lg:translate-x-[17vw]
                                rounded-3xl opacity-60 
                                object-cover aspect-3/4`,src:"https://images.unsplash.com/photo-1521737711867-e3b97375f902?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:""})})]}),v.jsxs("div",{className:"flex justify-center md:py-4 gap-10",children:[v.jsx("img",{className:"hidden md:block size-[18%] z-20 xl:max-w-[200px] object-cover aspect-3/4 rounded-2xl md:rounded-2xl",src:"https://images.unsplash.com/photo-1579389083395-4507e98b5e67?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:""}),v.jsx("img",{className:"size-[40%] md:size-[35%] z-20 max-w-[350px] xl:max-w-[380px] object-cover aspect-3/4 rounded-2xl md:rounded-4xl",src:"https://images.unsplash.com/photo-1579389083395-4507e98b5e67?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:""}),v.jsx("img",{className:"hidden md:block self-end z-20 size-[20%] xl:max-w-[220px] object-cover aspect-3/4 rounded-2xl md:rounded-2xl",src:"https://images.unsplash.com/photo-1579389083395-4507e98b5e67?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:""})]}),v.jsxs("p",{className:"text-end pr-[5%] xl:-translate-x-[4vw] career-hero-text-desktop font-avenir-black max-w-[1800px] mx-auto",children:["hop on ",v.jsx("span",{className:"text-primary",children:"now"}),"."]})]}),v.jsxs("div",{className:"text-center",children:[v.jsxs("p",{className:"career-hero-text-mobile-small font-avenir-black",children:["Let's ",v.jsx("span",{className:"text-primary",children:"launch"})," your career,"]}),v.jsxs("p",{className:"pl-[20%] career-hero-text-mobile-large font-avenir-black",children:["hop on ",v.jsx("span",{className:"text-primary",children:"now"}),"."]})]})]}),v.jsx("div",{className:"flex justify-end scale-x-[-1] -translate-x-[1%] py-[12%] sm:py-[3%]",id:"current-job-openings",children:v.jsx("img",{className:"dots-line",src:mw,alt:"3 dots and a line"})}),v.jsxs("section",{className:"pb-[7%] lg:pb-[5%]",children:[v.jsxs("p",{className:"px-[5%] font-avenir-black flex justify-between items-center",children:[v.jsx("span",{className:"top-text",children:"Current Job Openings"}),v.jsx(Ej,{text:"View All Jobs",href:"/careers-all",className:"custom-class",iconSize:5})]}),o.length===0?v.jsx("section",{className:"grid place-conte`nt-center h-dvh",children:v.jsx(qy,{})}):v.jsxs("div",{className:"",children:[v.jsx("div",{className:"flex justify-center py-[3%] pl-[5%] pb-[5%]",children:v.jsx("div",{className:"w-full max-w-full flex justify-center",children:v.jsx(f6,{industries:o,filter:c,handleFilterChange:f})})}),t.length===0?v.jsxs("div",{className:"grid place-content-center px-5 text-center text-2xl min-h-100 my-7",children:[v.jsxs("p",{children:["No job listings are available for this industry"," ",v.jsx("span",{className:"font-avenir-black",children:"at the moment"}),"—but stay tuned!"]}),v.jsxs("p",{children:["Exciting"," ",v.jsx("span",{className:"text-primary font-avenir-black",children:"opportunities"})," ","may be coming soon."]})]}):v.jsx(Ule,{jobs:t})]})]}),v.jsxs("section",{className:"pb-[7%] lg:pb-[5%] px-[5%]",children:[v.jsxs("div",{className:"podcast-container pb-[4%]",children:[v.jsxs("div",{className:"top-text font-avenir-black text-center",children:["Want to ",v.jsx("span",{className:"text-primary",children:"learn more"})," about our careers?"]}),v.jsx("div",{className:"text-gray-500 text-center",children:"Check out the Suite Spot podcast below"})]}),v.jsxs("div",{className:"",children:[v.jsx("div",{className:"sm:hidden",children:i.map(({spotifyId:C},x)=>v.jsx("div",{className:"p-1",children:v.jsx(xR,{id:C,index:x})},x))}),v.jsxs("div",{className:"hidden sm:flex gap-4",children:[v.jsx("div",{className:"w-1/2",children:v.jsx(xR,{id:(y=i[0])==null?void 0:y.spotifyId,index:0})}),v.jsx("div",{className:"w-1/2 flex flex-col justify-center gap-4",children:i.slice(1,3).map(({spotifyId:C},x)=>v.jsx(xR,{id:C,index:x+1},x+1))})]})]})]})]}),v.jsx(Do,{}),v.jsx(pu,{})]})})},p6=({backPath:t,type:e,jobId:n})=>v.jsx(fn,{to:t,state:{jobId:n,from:location.pathname},className:"!no-underline",children:v.jsxs("button",{className:"cursor-pointer hover:underline! flex items-center gap-2 text-primary !text-[12px] md:text-base font-semibold transition active:font-avenir-black",children:[v.jsx(A_,{size:15})," ",v.jsxs("span",{className:"mt-1",children:["Back to ",e]})]})}),Wle=()=>{const[t,e]=E.useState([]),n=async()=>{try{const d=await on.get("/api/all-jobs");e(d.data.data)}catch(d){console.log(d)}},[i,s]=E.useState([]),r=async()=>{try{const d=await on.get("/api/get-all-industries");s(f=>d.data.data),console.log(d.data.data)}catch(d){console.log(d)}};E.useEffect(()=>{n(),r(),window.scroll(0,0)},[]);const[o,a]=E.useState("All"),l=d=>{a(f=>d)},c=async()=>{try{const d=await on.get(`/api/all-jobs/${o}`);console.log(o),e(f=>d.data.data)}catch(d){console.log(d)}};return E.useEffect(()=>{o==="All"?n():c()},[o]),v.jsx(v.Fragment,{children:v.jsxs("section",{className:"gap-4",style:{maxWidth:"2000px",margin:"0 auto",padding:"0 0rem"},children:[v.jsx("div",{className:"sm:hidden",children:v.jsx(Yr,{})}),v.jsx("div",{className:"tablet-nav",children:v.jsx(Xr,{})}),v.jsx("div",{className:"desktop-nav",children:v.jsx(Zr,{})}),v.jsx("main",{className:"",children:v.jsx("section",{className:"pb-[7%] lg:pb-[5%]",children:v.jsxs("main",{className:"p-[5%] xl:px-[20%]",children:[" ",v.jsx("div",{className:"w-fit mb-2",children:v.jsx(p6,{backPath:"/careers/#current-job-openings",type:"Careers"})}),v.jsx("p",{className:"text-lg font-avenir-black mb-5  lg:mb-10 lg:text-3xl",children:"All Jobs here at FullSuite"}),i.length===0?v.jsx("section",{className:"grid place-conte`nt-center h-[50dvh]",children:v.jsx(qy,{})}):v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"mb-10",children:v.jsx(f6,{industries:i,filter:o,handleFilterChange:l})}),t.length===0?v.jsxs("div",{className:"grid place-content-center px-5 text-center text-2xl min-h-100 my-7",children:[v.jsxs("p",{children:["No job listings are available for this industry"," ",v.jsx("span",{className:"font-avenir-black",children:"at the moment"}),"—but stay tuned!"]}),v.jsxs("p",{children:["Exciting"," ",v.jsx("span",{className:"text-primary font-avenir-black",children:"opportunities"})," ","may be coming soon."]})]}):t.map((d,f)=>v.jsx(fn,{to:`/careers/${$r(d.jobTitle)}`,state:{jobId:d.jobId,from:location.pathname},className:"group no-underline",children:v.jsxs("div",{className:"group p-6 bg-white group-hover:bg-primary shadow-md rounded-lg transition-transform duration-400 hover:shadow-xl hover:scale-102 flex flex-col gap-3 relative mb-5",children:[v.jsx("div",{className:"absolute top-4 right-4 text-primary text-xl cursor-pointer group-hover:text-white",children:"↗"}),v.jsxs("p",{className:"mt-3 -mb-2 font-avenir-black text-gray-900 group-hover:text-white ",children:[d.jobTitle," ",d.isOpen===0&&v.jsx("span",{className:"font-avenir-roman bg-red-100 text-red-700 text-xs font-bold px-3 py-1 rounded-xl",children:"CLOSED"})]}),v.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400 uppercase group-hover:text-white group-hover:opacity-75 group-hover:font-avenir-black",children:[v.jsx("span",{className:"text-secondary font-avenir-black",children:"|"}),v.jsx("span",{children:d.industryName})]}),v.jsxs("span",{className:"text-primary text-sm group-hover:text-white",children:[d.employmentType,", ",d.setupName]}),d.salaryMin!=null&&d.salaryMin>0&&v.jsxs(v.Fragment,{children:[v.jsx("p",{className:"text-sm text-gray-400 -mb-3 group-hover:text-white group-hover:opacity-75 group-hover:font-avenir-black",children:"Expected Salary"}),v.jsxs("p",{className:"text-md font-avenir-black text-primary group-hover:text-white",children:[Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",maximumFractionDigits:0}).format(d.salaryMin),v.jsxs("span",{className:"text-xs font-avenir-roman",children:[" ","min"]})]})]}),v.jsx("p",{className:"text-gray-700 text-sm line-clamp-5 group-hover:text-white",children:d.description})]})},f))]})]})})}),v.jsx(Do,{})]})})},$le="data:image/svg+xml,%3csvg%20width='3905'%20height='1002'%20viewBox='0%200%203905%201002'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0.809613%20977V25.0389H285.86L690.578%20686.571H693.267V25.0389H903.021V977H628.728L213.253%20299.333H210.564V977H0.809613ZM1105.29%20977V25.0389H1752.03V218.658H1315.04V396.142H1727.83V589.762H1315.04V783.381H1776.23V977H1105.29ZM2127.01%20977L1844.65%2025.0389H2073.22L2225.16%20635.477H2227.85L2426.85%2025.0389H2621.81L2819.47%20651.612H2822.15L2982.16%2025.0389H3194.6L2916.27%20977H2729.38L2519.62%20318.157H2516.94L2307.18%20977H2127.01ZM3903.19%20100.335L3759.32%20257.651C3725.71%20214.624%203658.48%20194.456%203607.39%20194.456C3548.23%20194.456%203466.21%20221.347%203466.21%20292.61C3466.21%20466.06%203904.54%20354.46%203904.54%20687.916C3904.54%20900.359%203733.78%201001.2%203537.47%201001.2C3415.11%201001.2%203307.55%20964.899%203217.46%20881.535L3366.71%20717.496C3409.73%20773.969%203479.65%20807.583%203549.57%20807.583C3618.14%20807.583%203694.79%20775.313%203694.79%20708.084C3694.79%20533.289%203248.39%20627.41%203248.39%20310.089C3248.39%20107.058%203424.53%200.836444%203611.42%200.836444C3718.99%200.836444%203822.52%2029.0725%203903.19%20100.335Z'%20fill='%230097B2'%20fill-opacity='0.03'/%3e%3c/svg%3e",qle=({id:t,title:e,article:n,createdBy:i,createdByName:s,createdAt:r,imgUrls:o})=>{const{fullDate:a}=fu(r);return v.jsx("section",{children:v.jsxs(fn,{to:{pathname:`/news/${$r(e)}`},state:{id:t},className:`no-underline cursor-pointer group flex flex-col
        lg:flex-row-reverse lg:gap-10 hover:bg-white
        hover:rounded-xl transition-all duration-300`,children:[v.jsxs("div",{className:"lg:w-1/2 flex flex-col justify-center",children:[v.jsx("p",{className:"group-hover:!text-primary transition-all duration-200 line-clamp-2 text-lg lg:text-2xl font-avenir-black xl:text-4xl",children:e}),v.jsxs("p",{className:"text-sm lg:text-[16px] lg:py-4 py-1",children:[v.jsxs("span",{className:"text-primary",children:[s.split(" ")[0],"  "]}),v.jsxs("span",{className:"text-gray-400",children:["|   ",jy(n,238).text]})]}),v.jsxs("div",{className:"hidden lg:block",children:[v.jsx("p",{className:"text-lg lg:line-clamp-6 lg:overflow-hidden text-gray-400 font-avenir",children:n.replace(/<[^>]+>/g,"")}),v.jsx("p",{className:" text-gray-400 mt-2 !text-sm lg:!text-[14px] ",children:a})]})]}),v.jsx("img",{className:"my-2 w-full h-full aspect-[3/2] object-cover lg:w-1/2 rounded-2xl",src:o[0],alt:"News image"}),v.jsx("div",{className:"h-2 lg:hidden"}),v.jsx("article",{className:"text-sm lg:hidden line-clamp-4 md:line-clamp-6 lg:line-clamp-1 lg:overflow-hidden text-gray-500 font-avenir",children:n.replace(/<[^>]+>/g,"")})]})})},m6=({id:t,title:e,article:n,createdByName:i,createdAt:s,imgUrls:r})=>{const{fullDate:o}=fu(s);return v.jsxs(fn,{to:{pathname:`/news/${$r(e)}`},state:{id:t},className:"group container-news-card-small rounded-2xl transition-all duration-300 flex gap-3 no-underline min-w-[0px] hover:scale-98",children:[r&&v.jsx("img",{className:"h-1/2 image-news-card-small size-[25vw] aspect-[3/2] object-cover ",src:r[0],alt:"News image"}),v.jsx("div",{className:"w-1/2 md:w-full content-news-card-small flex flex-col justify-center ",children:v.jsxs("div",{className:"flex flex-col",children:[v.jsx("p",{className:"content-title line-clamp-3 font-avenir-black sm:text-lg group-hover:!text-primary transition-all duration-100",children:e}),v.jsx("article",{className:"article-news-card-small text-gray-400 line-clamp-4 my-2 font-avenir",children:n.replace(/<[^>]+>/g,"")}),v.jsxs("p",{className:"author-news-card-small line-clamp-1",children:[v.jsxs("span",{className:"text-primary",children:[i.split(" ")[0],"  |"]}),"  ",v.jsx("span",{className:"text-gray-400",children:jy(n,238).text})]}),v.jsx("p",{className:"text-xs text-gray-400 mt-2",children:o})]})})]})},Kle="/assets/nothing-found-icon-DQi6pUO2.gif",iB=t=>{let e;const n=new Set,i=(c,d)=>{const f=typeof c=="function"?c(e):c;if(!Object.is(f,e)){const p=e;e=d??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(m=>m(e,p))}},s=()=>e,a={setState:i,getState:s,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=e=t(i,s,a);return a},Yle=t=>t?iB(t):iB,Xle=t=>t;function Zle(t,e=Xle){const n=ne.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return ne.useDebugValue(n),n}const sB=t=>{const e=Yle(t),n=i=>Zle(e,i);return Object.assign(n,e),n},Jle=t=>t?sB(t):sB,Qle=t=>({services:[],setServices:e=>t({services:e})}),ece=t=>({user:{},setUser:e=>t({user:e})}),tce=t=>({searchValue:[],setSearchValue:e=>t({searchValue:e})}),wo=Jle((...t)=>({...Qle(...t),...ece(...t),...tce(...t)})),g6=({type:t})=>{const[e,n]=E.useState([]),i=wo(s=>s.searchValue);return E.useEffect(()=>{(async()=>{if(t==="news")try{const r=await on.get("/api/all-news",{params:i?{filter:i}:{}});n(r.data)}catch(r){console.error("Error fetching news:",r)}})()},[i]),v.jsx("div",{className:"w-full",children:e.length>0?v.jsxs(v.Fragment,{children:[v.jsxs("p",{className:"text-sm md:text-lg text-primary  mb-3",children:["Search Results (",e.length,")"]}),t==="news"?v.jsx("div",{className:"layout-small-news-cards gap-4 sm:gap-5",children:e.length>0&&e.map((s,r)=>v.jsx(m6,{id:s.id,title:s.title,createdByName:s.createdByName,article:s.article,createdAt:s.createdAt,imgUrls:s.imgUrls},s.id||r))}):v.jsx("div",{className:"h-full grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6 justify-center items-center",children:e.length>0&&e.map((s,r)=>v.jsx(__,{id:s.id,title:s.title,author:s.author,article:s.article,readTime:s.readTime,created_at:s.created_at,images:s.images},s.id||r))})]}):v.jsxs("div",{className:"flex flex-col items-center text-gray-500 my-30 ",children:[v.jsx("img",{src:Kle,alt:"No results",className:"w-20 h-20 mb-3 opacity-70"}),v.jsx("p",{className:"text-sm opacity-75 text-primary",children:"No results found"})]})})};let nce={data:""},ice=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||nce,sce=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,rce=/\/\*[^]*?\*\/|  +/g,rB=/\n+/g,Hc=(t,e)=>{let n="",i="",s="";for(let r in t){let o=t[r];r[0]=="@"?r[1]=="i"?n=r+" "+o+";":i+=r[1]=="f"?Hc(o,r):r+"{"+Hc(o,r[1]=="k"?"":e)+"}":typeof o=="object"?i+=Hc(o,e?e.replace(/([^,])+/g,a=>r.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):r):o!=null&&(r=/^--/.test(r)?r:r.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Hc.p?Hc.p(r,o):r+":"+o+";")}return n+(e&&s?e+"{"+s+"}":s)+i},fl={},v6=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+v6(t[n]);return e}return t},oce=(t,e,n,i,s)=>{let r=v6(t),o=fl[r]||(fl[r]=(l=>{let c=0,d=11;for(;c<l.length;)d=101*d+l.charCodeAt(c++)>>>0;return"go"+d})(r));if(!fl[o]){let l=r!==t?t:(c=>{let d,f,p=[{}];for(;d=sce.exec(c.replace(rce,""));)d[4]?p.shift():d[3]?(f=d[3].replace(rB," ").trim(),p.unshift(p[0][f]=p[0][f]||{})):p[0][d[1]]=d[2].replace(rB," ").trim();return p[0]})(t);fl[o]=Hc(s?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&fl.g?fl.g:null;return n&&(fl.g=fl[o]),((l,c,d,f)=>{f?c.data=c.data.replace(f,l):c.data.indexOf(l)===-1&&(c.data=d?l+c.data:c.data+l)})(fl[o],e,i,a),o},ace=(t,e,n)=>t.reduce((i,s,r)=>{let o=e[r];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":Hc(a,""):a===!1?"":a}return i+s+(o??"")},"");function e1(t){let e=this||{},n=t.call?t(e.p):t;return oce(n.unshift?n.raw?ace(n,[].slice.call(arguments,1),e.p):n.reduce((i,s)=>Object.assign(i,s&&s.call?s(e.p):s),{}):n,ice(e.target),e.g,e.o,e.k)}let y6,K2,Y2;e1.bind({g:1});let Ul=e1.bind({k:1});function lce(t,e,n,i){Hc.p=e,y6=t,K2=n,Y2=i}function mu(t,e){let n=this||{};return function(){let i=arguments;function s(r,o){let a=Object.assign({},r),l=a.className||s.className;n.p=Object.assign({theme:K2&&K2()},a),n.o=/ *go\d+/.test(l),a.className=e1.apply(n,i)+(l?" "+l:"");let c=t;return t[0]&&(c=a.as||t,delete a.as),Y2&&c[0]&&Y2(a),y6(c,a)}return s}}var cce=t=>typeof t=="function",ob=(t,e)=>cce(t)?t(e):t,uce=(()=>{let t=0;return()=>(++t).toString()})(),x6=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),dce=20,C6=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,dce)};case 1:return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case 2:let{toast:n}=e;return C6(t,{type:t.toasts.find(r=>r.id===n.id)?1:0,toast:n});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(r=>r.id===i||i===void 0?{...r,dismissed:!0,visible:!1}:r)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(r=>({...r,pauseDuration:r.pauseDuration+s}))}}},gw=[],Pd={toasts:[],pausedAt:void 0},bh=t=>{Pd=C6(Pd,t),gw.forEach(e=>{e(Pd)})},hce={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},fce=(t={})=>{let[e,n]=E.useState(Pd),i=E.useRef(Pd);E.useEffect(()=>(i.current!==Pd&&n(Pd),gw.push(n),()=>{let r=gw.indexOf(n);r>-1&&gw.splice(r,1)}),[]);let s=e.toasts.map(r=>{var o,a,l;return{...t,...t[r.type],...r,removeDelay:r.removeDelay||((o=t[r.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:r.duration||((a=t[r.type])==null?void 0:a.duration)||(t==null?void 0:t.duration)||hce[r.type],style:{...t.style,...(l=t[r.type])==null?void 0:l.style,...r.style}}});return{...e,toasts:s}},pce=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||uce()}),Ky=t=>(e,n)=>{let i=pce(e,t,n);return bh({type:2,toast:i}),i.id},js=(t,e)=>Ky("blank")(t,e);js.error=Ky("error");js.success=Ky("success");js.loading=Ky("loading");js.custom=Ky("custom");js.dismiss=t=>{bh({type:3,toastId:t})};js.remove=t=>bh({type:4,toastId:t});js.promise=(t,e,n)=>{let i=js.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let r=e.success?ob(e.success,s):void 0;return r?js.success(r,{id:i,...n,...n==null?void 0:n.success}):js.dismiss(i),s}).catch(s=>{let r=e.error?ob(e.error,s):void 0;r?js.error(r,{id:i,...n,...n==null?void 0:n.error}):js.dismiss(i)}),t};var mce=(t,e)=>{bh({type:1,toast:{id:t,height:e}})},gce=()=>{bh({type:5,time:Date.now()})},uv=new Map,vce=1e3,yce=(t,e=vce)=>{if(uv.has(t))return;let n=setTimeout(()=>{uv.delete(t),bh({type:4,toastId:t})},e);uv.set(t,n)},xce=t=>{let{toasts:e,pausedAt:n}=fce(t);E.useEffect(()=>{if(n)return;let r=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(r-a.createdAt);if(l<0){a.visible&&js.dismiss(a.id);return}return setTimeout(()=>js.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let i=E.useCallback(()=>{n&&bh({type:6,time:Date.now()})},[n]),s=E.useCallback((r,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=o||{},d=e.filter(m=>(m.position||c)===(r.position||c)&&m.height),f=d.findIndex(m=>m.id===r.id),p=d.filter((m,y)=>y<f&&m.visible).length;return d.filter(m=>m.visible).slice(...a?[p+1]:[0,p]).reduce((m,y)=>m+(y.height||0)+l,0)},[e]);return E.useEffect(()=>{e.forEach(r=>{if(r.dismissed)yce(r.id,r.removeDelay);else{let o=uv.get(r.id);o&&(clearTimeout(o),uv.delete(r.id))}})},[e]),{toasts:e,handlers:{updateHeight:mce,startPause:gce,endPause:i,calculateOffset:s}}},Cce=Ul`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,wce=Ul`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,bce=Ul`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Sce=mu("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Cce} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${wce} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${bce} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Ece=Ul`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Mce=mu("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Ece} 1s linear infinite;
`,Tce=Ul`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Rce=Ul`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Ace=mu("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Tce} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Rce} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Pce=mu("div")`
  position: absolute;
`,Dce=mu("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,_ce=Ul`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Fce=mu("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${_ce} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Nce=({toast:t})=>{let{icon:e,type:n,iconTheme:i}=t;return e!==void 0?typeof e=="string"?E.createElement(Fce,null,e):e:n==="blank"?null:E.createElement(Dce,null,E.createElement(Mce,{...i}),n!=="loading"&&E.createElement(Pce,null,n==="error"?E.createElement(Sce,{...i}):E.createElement(Ace,{...i})))},Ice=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Oce=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Lce="0%{opacity:0;} 100%{opacity:1;}",kce="0%{opacity:1;} 100%{opacity:0;}",Bce=mu("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Hce=mu("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Vce=(t,e)=>{let n=t.includes("top")?1:-1,[i,s]=x6()?[Lce,kce]:[Ice(n),Oce(n)];return{animation:e?`${Ul(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ul(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},zce=E.memo(({toast:t,position:e,style:n,children:i})=>{let s=t.height?Vce(t.position||e||"top-center",t.visible):{opacity:0},r=E.createElement(Nce,{toast:t}),o=E.createElement(Hce,{...t.ariaProps},ob(t.message,t));return E.createElement(Bce,{className:t.className,style:{...s,...n,...t.style}},typeof i=="function"?i({icon:r,message:o}):E.createElement(E.Fragment,null,r,o))});lce(E.createElement);var Gce=({id:t,className:e,style:n,onHeightUpdate:i,children:s})=>{let r=E.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;i(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,i]);return E.createElement("div",{ref:r,className:e,style:n},s)},Uce=(t,e)=>{let n=t.includes("top"),i=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:x6()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...i,...s}},jce=e1`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ux=16,Wce=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:i,children:s,containerStyle:r,containerClassName:o})=>{let{toasts:a,handlers:l}=xce(n);return E.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Ux,left:Ux,right:Ux,bottom:Ux,pointerEvents:"none",...r},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let d=c.position||e,f=l.calculateOffset(c,{reverseOrder:t,gutter:i,defaultPosition:e}),p=Uce(d,f);return E.createElement(Gce,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?jce:"",style:p},c.type==="custom"?ob(c.message,c):s?s(c):E.createElement(zce,{toast:c,position:d}))}))},Nn=js;const ab=({bg:t,color1:e,color2:n,height:i,width:s})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"20 20 60 60",preserveAspectRatio:"xMidYMid",width:`${s}`,height:`${i}`,style:{shapeRendering:"auto",display:"block",background:t},xmlnsXlink:"http://www.w3.org/1999/xlink",children:v.jsxs("g",{children:[v.jsx("circle",{r:"20",fill:`${e}`,cy:"50",cx:"30",children:v.jsx("animate",{begin:"-0.5s",values:"30;70;30",keyTimes:"0;0.5;1",dur:"1s",repeatCount:"indefinite",attributeName:"cx"})}),v.jsx("circle",{r:"20",fill:`${n}`,cy:"50",cx:"70",children:v.jsx("animate",{begin:"0s",values:"30;70;30",keyTimes:"0;0.5;1",dur:"1s",repeatCount:"indefinite",attributeName:"cx"})}),v.jsxs("circle",{r:"20",fill:`${e}`,cy:"50",cx:"30",children:[v.jsx("animate",{begin:"-0.5s",values:"30;70;30",keyTimes:"0;0.5;1",dur:"1s",repeatCount:"indefinite",attributeName:"cx"}),v.jsx("animate",{repeatCount:"indefinite",dur:"1s",keyTimes:"0;0.499;0.5;1",calcMode:"discrete",values:"0;0;1;1",attributeName:"fill-opacity"})]}),v.jsx("g",{})]})}),$ce=()=>{const t=wo(p=>p.setSearchValue),[e,n]=E.useState(""),[i,s]=E.useState(!1),[r,o]=E.useState([]),[a,l]=E.useState(!1),c=()=>{e.trim()!==""&&(t(e),s(!0))},d=()=>{n(""),t(""),s(!1)},f=p=>{n(p.target.value)};return E.useEffect(()=>{window.scroll(0,0)},[]),E.useEffect(()=>{(async()=>{try{l(!0);const m=await on.get("/api/all-news");o(m.data)}catch(m){console.error("Error fetching news:",m),Nn.error("Failed to load news. Please try again.")}finally{l(!1)}})()},[]),v.jsxs("section",{className:"gap-4 h-dvh",style:{maxWidth:"2000px",margin:"0 auto",padding:"0 0rem"},children:[v.jsx(wh,{title:"News - SuiteLifer",desc:"Stay informed with company news, product launches, and industry insights from Fullsuite.",isDefer:!1}),v.jsx("div",{className:"sm:hidden",children:v.jsx(Yr,{})}),v.jsx("div",{className:"tablet-nav",children:v.jsx(Xr,{})}),v.jsx("div",{className:"desktop-nav",children:v.jsx(Zr,{})}),v.jsxs("section",{className:"pt-[10%] xl:pt-[8%]",children:[v.jsx("div",{className:"relative hidden",children:v.jsx("img",{className:"-z-50 absolute w-[90%] transform translate-y-5 -translate-x-6 lg:-translate-y-10  xl:-translate-y-15 lg:-translate-x-15 xl:-translate-x-40 opacity-90",src:$le,alt:""})}),v.jsxs("div",{className:"text-center overflow-hidden",children:[v.jsxs("p",{className:"text-4xl md:text-7xl font-avenir-black flex justify-center gap-4 md:gap-8 flex-nowrap",children:[v.jsx(qn.span,{initial:{x:"-100vw",opacity:0},animate:{x:0,opacity:1},transition:{type:"spring",stiffness:120,damping:20},className:"text-primary",children:"suite"}),v.jsx(qn.span,{initial:{x:"100vw",opacity:0},animate:{x:0,opacity:1},transition:{type:"spring",stiffness:120,damping:20},children:"news"})]}),v.jsx("p",{className:"text-gray-400 text-[12px] md:text-[14px] lg:text-[16px]",children:v.jsx(qn.span,{initial:{width:0},animate:{width:"100%"},transition:{duration:2.5,ease:"linear",delay:.5},className:"overflow-hidden whitespace-nowrap inline-block",children:"we serve the latest. the hottest."})})]}),v.jsx("div",{className:"flex justify-center mt-6 px-4",children:v.jsxs("div",{className:"relative flex items-center w-full max-w-xs sm:max-w-sm md:max-w-lg",children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"absolute w-5 h-5 top-2.5 left-2.5 text-slate-600",children:v.jsx("path",{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z",clipRule:"evenodd"})}),v.jsx("input",{type:"text",value:e,onChange:f,placeholder:"Search news...",className:"w-full bg-transparent placeholder:text-slate-400 text-slate-700 text-sm border border-slate-200 rounded-md pl-10 pr-7 py-2 focus:outline-none focus:border-primary-400"}),e&&v.jsx("button",{onClick:d,className:"absolute right-24 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:"✕"}),v.jsx("button",{onClick:c,className:"rounded-md bg-primary py-2 px-4 border text-sm text-white hover:bg-[#007a8e] cursor-pointer ml-2",children:"Search"})]})})]}),v.jsx("div",{className:"py-5"}),v.jsx("main",{className:"px-[5%]",children:i?v.jsx(g6,{type:"news"}):v.jsxs(v.Fragment,{children:[v.jsx("p",{className:"md:text-2xl uppercase font-avenir-black text-primary pb-3 lg:pb-4",children:"The latest"}),a||!r.length?v.jsx("div",{className:"mt-20",children:v.jsx(ab,{bg:"transparent",color1:"#0097b2",color2:"#bfd1a0",height:"35"})}):v.jsxs(v.Fragment,{children:[v.jsx(qle,{...r[0]}),v.jsx("p",{className:"mt-10 md:text-xl font-avenir-black text-primary pb-3 lg:pb-4",children:"More Articles"}),v.jsx("div",{className:"layout-small-news-cards gap-4 sm:gap-5",children:r.length>0&&r.map((p,m)=>v.jsx(m6,{...p},p.id||m))})]})]})}),v.jsx("div",{className:"h-20"})," ",v.jsx(Do,{}),v.jsx(pu,{})]})},qce="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20id='Filled'%20viewBox='0%200%2024%2024'%20width='512'%20height='512'%3e%3cpath%20d='M23.954,5.542,15.536,13.96a5.007,5.007,0,0,1-7.072,0L.046,5.542C.032,5.7,0,5.843,0,6V18a5.006,5.006,0,0,0,5,5H19a5.006,5.006,0,0,0,5-5V6C24,5.843,23.968,5.7,23.954,5.542Z'/%3e%3cpath%20d='M14.122,12.546l9.134-9.135A4.986,4.986,0,0,0,19,1H5A4.986,4.986,0,0,0,.744,3.411l9.134,9.135A3.007,3.007,0,0,0,14.122,12.546Z'/%3e%3c/svg%3e",Kce="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20id='Layer_1'%20data-name='Layer%201'%20viewBox='0%200%2024%2024'%20width='512'%20height='512'%3e%3cpath%20d='M15,0h-6c-2.757,0-5,2.243-5,5v14c0,2.757,2.243,5,5,5h6c2.757,0,5-2.243,5-5V5c0-2.757-2.243-5-5-5Zm-2,21h-2c-.552,0-1-.448-1-1s.448-1,1-1h2c.552,0,1,.448,1,1s-.448,1-1,1Z'/%3e%3c/svg%3e",Yce="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20id='Layer_1'%20data-name='Layer%201'%20viewBox='0%200%2024%2024'%20width='512'%20height='512'%3e%3cpath%20d='M24,6.24c0,7.64-10.13,17.76-17.76,17.76-1.67,0-3.23-.63-4.38-1.78l-1-1.15c-1.16-1.16-1.16-3.12,.05-4.33,.03-.03,2.44-1.88,2.44-1.88,1.2-1.14,3.09-1.14,4.28,0l1.46,1.17c3.2-1.36,5.47-3.64,6.93-6.95l-1.16-1.46c-1.15-1.19-1.15-3.09,0-4.28,0,0,1.85-2.41,1.88-2.44,1.21-1.21,3.17-1.21,4.38,0l1.05,.91c1.2,1.19,1.83,2.75,1.83,4.42Z'/%3e%3c/svg%3e",Xce=({color:t="currentColor",height:e=20,width:n=20})=>v.jsx("svg",{width:n,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{d:"M12 2a10 10 0 1 0 10 10A10.011 10.011 0 0 0 12 2Zm1 11h-5V9h2v2h3Z",fill:t})}),Zce=({color:t="currentColor",height:e=20,width:n=20})=>v.jsx("svg",{width:n,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 12 7 12s7-6.75 7-12c0-3.87-3.13-7-7-7Zm0 9.5a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5Z",fill:t})}),Jce=[{question:"How long is the hiring process?",answer:"Once you have sent your application and have attended all the interviews, we will be sending the full list of pre-employment requirements you will need."},{question:"I am a first-time jobseeker, should I have my requirements ready before I apply?",answer:"Once you have sent your application and have attended all the interviews, we will be sending the full list of pre-employment requirements you will need."},{question:"I got a low score in the Test-gorilla, does that mean I am no longer fit to apply?",answer:"Once you have sent your application and have attended all the interviews, we will be sending the full list of pre-employment requirements you will need."},{question:"What are the pre-employment requirements needed?",answer:"Once you have sent your application and have attended all the interviews, we will be sending the full list of pre-employment requirements you will need."}],Qce=()=>{const[t,e]=E.useState(null),n=r=>{e(t===r?null:r)},[i,s]=E.useState(!1);return E.useEffect(()=>{s(!0)},[]),v.jsxs(qn.div,{initial:{opacity:0,y:50},animate:i?{opacity:1,y:0}:{},transition:{duration:.6,ease:"easeOut"},className:"max-w-2xl mx-auto mt-10 px-4 mb-20 lg:max-w-4xl xl:max-w-7xl",children:[v.jsx("h2",{className:"font-avenir-black text-lg md:text-xl text-primary",children:"Frequently Asked Questions"}),v.jsx("div",{className:"border-t border-primary",children:Jce.map((r,o)=>v.jsxs(qn.div,{initial:{opacity:0,y:20},animate:i?{opacity:1,y:0}:{},transition:{duration:.5,ease:"easeInOut",delay:o*.1},className:"border-b border-primary",children:[v.jsxs("button",{className:"text-gray-8  00 cursor-pointer flex justify-between items-center w-full py-4 text-left",onClick:()=>n(o),children:[v.jsx("span",{children:r.question}),t===o?v.jsx(Use,{className:"w-5 h-5 text-primary"}):v.jsx(Hse,{className:"w-5 h-5 text-primary"})]}),v.jsx(qn.div,{initial:{height:0,opacity:0},animate:t===o?{height:"auto",opacity:1}:{height:0,opacity:0},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeInOut"},className:"overflow-hidden",children:v.jsx("p",{className:"px-4 pb-4 mt-1 text-gray-800",children:r.answer})})]},o))})]})},eue=()=>{const t={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.8,ease:"easeOut"}}},[e,n]=E.useState(!1);return E.useEffect(()=>{n(!0),window.scroll(0,0)},[]),v.jsxs("section",{className:"gap-4 overflow-hidden",style:{maxWidth:"2000px",margin:"0 auto",padding:"0 0rem"},children:[v.jsx(wh,{title:"Contact - SuiteLifer",desc:"Your career rocket ship is fueled and ready. Want to hop on? Contact us now.",isDefer:!1}),v.jsx("div",{className:"sm:hidden",children:v.jsx(Yr,{})}),v.jsx("div",{className:"tablet-nav",children:v.jsx(Xr,{})}),v.jsx("div",{className:"desktop-nav",children:v.jsx(Zr,{})}),v.jsx("div",{className:"relative",children:v.jsxs("main",{className:"mt-0 lg:mt-20 text-[12px] md:text-[14px] lg:text-[16px]",children:[v.jsxs(qn.div,{initial:"hidden",animate:e?"visible":"hidden",variants:t,transition:{duration:.6,ease:"easeOut"},className:"flex flex-col md:flex-row items-start md:items-center",children:[v.jsxs("div",{className:`relative p-8 pr-8 md:pr-16 rounded-tr-xl rounded-br-xl text-white mr-4 md:min-h-[500px] justify-center items-center flex flex-col 
          w-[98%] md:w-[60%] lg:w-[60%] xl:w-[50%] max-w-[90%] xl:max-w-[60%]`,style:{backgroundSize:"cover",backgroundPosition:"center"},children:[v.jsx("div",{className:"absolute inset-0 bg-primary rounded-tr-xl rounded-br-xl"}),v.jsxs("div",{className:"relative z-10",children:[v.jsxs("p",{className:"font-avenir-black text-2xl md:!text-3xl text-white-300 lg:!text-4xl xl:!text-5xl",children:["Check your"," ",v.jsx("span",{className:"text-secondary",children:" culture fit "}),"with us!"]}),v.jsx("p",{className:"mt-4 text-white text-xs md:text-base",children:"Lorem ipsum dolor sit amet ipsum consectetur adipiscing elit..."}),v.jsxs("div",{className:"mt-6 space-y-2 text-white",children:[v.jsxs("p",{className:"flex items-center gap-2",children:[v.jsx("img",{src:qce,alt:"Email",className:"w-5 h-5 filter invert"}),"abc@fullsuite.ph"]}),v.jsxs("p",{className:"flex items-center gap-2",children:[v.jsx("img",{src:Yce,alt:"Phone",className:"w-5 h-5 filter invert"}),"(074) 619-5521"]}),v.jsxs("p",{className:"flex items-center gap-2",children:[v.jsx("img",{src:Kce,alt:"Mobile",className:"w-5 h-5 filter invert"}),"+63-912-3456-789"]})]})]})]}),v.jsx(qn.div,{initial:"hidden",animate:e?"visible":"hidden",variants:t,transition:{duration:.6,ease:"easeOut",delay:.2},className:"p-8 w-full md:max-w-lg lg:max-w-2xl xl:max-w-4xl",children:v.jsxs("form",{action:"#",className:"space-y-4",children:[v.jsxs("div",{children:[v.jsxs("label",{className:"block text-gray-700 font-medium",children:["Full Name",v.jsx("span",{className:"text-primary",children:"*"})]}),v.jsx("input",{type:"text",className:"w-full p-3 border-none rounded-md bg-primary/10 focus:outline-none focus:ring-2 focus:ring-primary"})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"block text-gray-700 font-medium",children:["Email Address",v.jsx("span",{className:"text-primary",children:"*"})]}),v.jsx("input",{type:"email",className:"w-full p-3 border-none rounded-md bg-primary/10 focus:outline-none focus:ring-2 focus:ring-primary"})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"block text-gray-700 font-medium",children:["Subject",v.jsx("span",{className:"text-primary",children:"*"})]}),v.jsx("input",{type:"text",className:"w-full p-3 border-none rounded-md bg-primary/10 focus:outline-none focus:ring-2 focus:ring-primary"})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"block text-gray-700 font-medium",children:["Message",v.jsx("span",{className:"text-primary",children:"*"})]}),v.jsx("textarea",{rows:"4",className:"w-full p-3 border-none rounded-md bg-primary/10 focus:outline-none focus:ring-2 focus:ring-primary placeholder-primary/50",placeholder:"Type your message here"})]}),v.jsx("button",{className:"w-full font-avenir-black bg-primary text-white py-3 rounded-md hover:bg-primary/90 transition",children:"SEND"})]})})]}),v.jsxs(qn.div,{initial:"hidden",animate:e?"visible":"hidden",variants:t,transition:{duration:.6,ease:"easeOut",delay:.4},className:"flex flex-col md:flex-row items-center md:items-center mt-12 p-10 justify-center gap-10",children:[v.jsxs("div",{className:"md:w-1/2 flex flex-col justify-center text-left lg:w-1/4",children:[v.jsxs("h2",{className:"font-avenir-black text-lg md:text-xl",children:["Visit us ",v.jsx("span",{className:"text-primary",children:"here"})]}),v.jsxs("div",{className:"flex items-center gap-2 mt-2 text-primary",children:[v.jsx(Zce,{width:24,height:24}),v.jsx("span",{className:"text-black",children:"5F Curamed Building, Ben Palispis-Aspiras Highway"})]}),v.jsxs("div",{className:"flex items-center gap-2 mt-2 text-primary",children:[v.jsx(Xce,{width:24,height:24}),v.jsxs("span",{className:"text-black",children:[v.jsx("strong",{className:"font-avenir-black",children:"Monday to Friday"})," ",v.jsx("br",{})," 7 AM - 4 PM"]})]})]}),v.jsx(qn.div,{initial:"hidden",animate:e?"visible":"hidden",variants:t,transition:{duration:.6,ease:"easeOut",delay:.6},className:"md:w-2/3 w-full",children:v.jsx("iframe",{className:"w-full h-64 md:h-80 lg:h-96 xl:h-[500px] rounded-lg shadow-lg",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3824.639825797055!2d120.59202167607842!3d16.402008236615966!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMTbCsDI0JzA3LjIiTiAxMjDCsDM1JzQwLjYiRQ!5e0!3m2!1sen!2sph!4v1710672000000",allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]}),v.jsx("section",{id:"faqs",children:v.jsx(Qce,{})}),v.jsx(Do,{}),v.jsx(pu,{})]})})]})},w6="data:image/svg+xml,%3csvg%20width='4376'%20height='1002'%20viewBox='0%200%204376%201002'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0.809763%20977V25.0374H355.779C522.507%2025.0374%20704.025%2059.9964%20704.025%20267.062C704.025%20373.284%20638.141%20445.891%20539.986%20476.816V479.505C665.032%20495.64%20748.396%20588.416%20748.396%20712.118C748.396%20911.116%20560.155%20977%20390.738%20977H0.809763ZM210.564%20202.522V405.554H362.502C427.042%20405.554%20494.271%20378.662%20494.271%20302.021C494.271%20222.691%20418.974%20202.522%20353.09%20202.522H210.564ZM210.564%20583.038V799.515H398.805C464.69%20799.515%20538.642%20771.279%20538.642%20687.915C538.642%20597.828%20437.798%20583.038%20369.225%20583.038H210.564ZM880.753%20977V25.0374H1090.51V783.38H1479.09V977H880.753ZM1543.78%20501.019C1543.78%20195.799%201760.26%200.834937%202057.41%200.834937C2354.56%200.834937%202571.04%20195.799%202571.04%20501.019C2571.04%20806.238%202354.56%201001.2%202057.41%201001.2C1760.26%201001.2%201543.78%20806.238%201543.78%20501.019ZM1761.6%20501.019C1761.6%20678.503%201878.58%20807.583%202057.41%20807.583C2236.24%20807.583%202353.22%20678.503%202353.22%20501.019C2353.22%20323.534%202236.24%20194.454%202057.41%20194.454C1878.58%20194.454%201761.6%20323.534%201761.6%20501.019ZM3575.48%20412.276V909.771C3451.78%20974.311%203315.98%201001.2%203176.14%201001.2C2878.99%201001.2%202662.51%20806.238%202662.51%20501.019C2662.51%20195.799%202878.99%200.834937%203176.14%200.834937C3326.73%200.834937%203459.85%2034.4494%203555.31%20123.192L3407.41%20284.541C3350.94%20225.38%203282.36%20194.454%203176.14%20194.454C2997.31%20194.454%202880.33%20323.534%202880.33%20501.019C2880.33%20678.503%202997.31%20807.583%203176.14%20807.583C3267.57%20807.583%203334.8%20782.036%203373.79%20760.523V605.896H3203.03V412.276H3575.48ZM4374.59%20100.334L4230.72%20257.65C4197.11%20214.623%204129.88%20194.454%204078.78%20194.454C4019.62%20194.454%203937.6%20221.346%203937.6%20292.609C3937.6%20466.06%204375.94%20354.459%204375.94%20687.915C4375.94%20900.359%204205.17%201001.2%204008.87%201001.2C3886.51%201001.2%203778.94%20964.899%203688.86%20881.535L3838.1%20717.496C3881.13%20773.968%203951.05%20807.583%204020.97%20807.583C4089.54%20807.583%204166.18%20775.313%204166.18%20708.084C4166.18%20533.289%203719.78%20627.409%203719.78%20310.088C3719.78%20107.057%203895.92%200.834937%204082.82%200.834937C4190.38%200.834937%204293.92%2029.0711%204374.59%20100.334Z'%20fill='%230097B2'%20fill-opacity='0.03'/%3e%3c/svg%3e",b6=[{id:0,title:"FullSuite Expands Services to Accelerate Startup Growth",author:"Matt",readTime:"6min read",article:`FullSuite has announced the expansion of its financial and operational solutions to better support early-stage and scaling startups. The company recognizes that many startups struggle with financial management and operational efficiency. With the right tools and expert guidance, businesses can streamline their workflows and focus on growth. FullSuite’s new offerings aim to simplify complex financial processes, allowing startups to operate more effectively. This expansion aligns with the company's mission to provide accessible and scalable solutions for businesses at all stages.

Startups often face difficulties in maintaining accurate financial records and complying with regulations. To address this, FullSuite now provides advanced financial forecasting and regulatory compliance support. These new services help startups anticipate potential financial challenges and mitigate risks before they become major issues. Additionally, the company offers strategic operational consulting to ensure that businesses build strong foundations. By integrating these solutions, FullSuite empowers startups to make informed decisions that drive long-term success.

'Our goal is to be the go-to operations partner for startups, ensuring they have a solid financial and operational foundation for sustainable growth,' said a FullSuite spokesperson. The company is dedicated to fostering innovation by removing financial and operational barriers. Many startups have already benefited from FullSuite’s expertise, allowing them to focus on scaling their products and services. With the startup ecosystem evolving rapidly, having reliable financial support is more important than ever. FullSuite remains committed to providing solutions that help businesses thrive in a competitive market.`,created_at:"2025-03-04 12:32:04",images:[{image:"https://about.fb.com/wp-content/uploads/2023/09/GettyImages-686732223.jpg"},{image:"https://www.jeffbullas.com/wp-content/uploads/2020/06/Startup-Funding-%E2%80%93-A-Comprehensive-Guide-for-Entrepreneurs.jpg"},{image:"https://www.ceo-review.com/wp-content/uploads/2022/11/Tech-Entrepreneur.jpg"}]},{id:1,title:"How FullSuite is Transforming Startup Financial Management",author:"FullSuite Team",readTime:"5min read",article:`Financial management is one of the biggest hurdles for startups aiming for sustainable growth. Many founders focus on product development and marketing but fail to establish a solid financial foundation. Without proper budgeting and forecasting, startups can quickly burn through their funding, leaving them vulnerable to cash flow issues. Financial discipline is crucial in ensuring that every dollar is spent strategically, prioritizing essential expenses that drive long-term success. Startups that establish strong financial controls from the beginning can make informed decisions that protect them from unexpected downturns and economic fluctuations. 

 Access to capital is another significant challenge. While venture funding is a popular route, not all startups can secure it. Bootstrapping, government grants, and revenue-based financing are alternative options, but each comes with its own set of challenges. Startups must evaluate their funding options carefully and choose the approach that aligns with their growth strategy and risk tolerance. Additionally, understanding the terms and conditions of funding agreements is vital to avoid unfavorable deals that could hinder the startup’s future expansion. Proper financial management ensures that startups maintain control over their equity while still accessing the resources they need to scale. 

 Efficient cash flow management is the backbone of any successful startup. Many young companies struggle with late payments from clients, unexpected expenses, and poor revenue forecasting. Implementing automated invoicing systems, setting clear payment terms, and maintaining a financial buffer can help startups stay afloat during challenging times. Moreover, a disciplined approach to spending, including negotiating better deals with vendors and prioritizing high-ROI investments, can significantly improve a startup’s financial stability. Startups that develop a strong cash flow management strategy early on are better positioned to navigate market uncertainties and sustain long-term growth. 

 Financial technology (FinTech) tools have made it easier than ever for startups to manage their finances effectively. Cloud-based accounting software, AI-driven financial analytics, and automated expense tracking solutions provide real-time insights into a startup's financial health. By leveraging these tools, startups can reduce human error, streamline financial operations, and make data-driven decisions. Additionally, working with financial advisors or CFO services can help startups refine their financial strategies and avoid common pitfalls that lead to business failure. Embracing financial technology allows startups to stay agile and competitive in a rapidly evolving market. 

 Ultimately, financial management is not just about tracking expenses—it’s about building a sustainable financial ecosystem that supports growth. Startups must develop a long-term financial strategy that includes risk assessment, contingency planning, and investment diversification. By cultivating financial discipline, leveraging technology, and making informed funding decisions, startups can create a solid foundation for success. The ability to manage finances efficiently is what separates startups that thrive from those that struggle to survive in an increasingly competitive business landscape.`,created_at:"2025-03-05 08:45:22",images:[{image:"https://www.jeffbullas.com/wp-content/uploads/2020/06/Startup-Funding-%E2%80%93-A-Comprehensive-Guide-for-Entrepreneurs.jpg"}]},{id:2,title:"Scaling Smarter: How FullSuite Empowers Startups",author:"FullSuite Team",readTime:"7min read",article:`Scaling a startup takes more than just securing funding—it requires a robust financial and operational strategy. Many early-stage companies struggle with maintaining accurate financial records and navigating regulatory requirements, which can lead to costly mistakes. By implementing a structured approach to financial planning, startups can anticipate potential challenges and allocate resources effectively. This includes leveraging advanced financial forecasting tools, streamlining expense tracking, and ensuring compliance with ever-changing regulations.

 A strong operational strategy, combined with expert guidance, helps businesses scale sustainably and avoid common pitfalls. Beyond finances, operational efficiency plays a crucial role in long-term success, allowing teams to focus on innovation rather than administrative burdens. By adopting automated workflows, outsourcing non-core functions, and integrating scalable processes, startups can improve productivity and adaptability. The startup ecosystem is highly competitive, and those who fail to establish a solid foundation early on may struggle to keep up. Companies that prioritize financial discipline and operational excellence position themselves for long-term growth and resilience. Ultimately, the key to sustainable scaling is not just about raising capital but about managing it wisely and ensuring that every aspect of the business is optimized for efficiency and success.`,created_at:"2025-03-05 15:20:10",images:[{image:"https://www.ceo-review.com/wp-content/uploads/2022/11/Tech-Entrepreneur.jpg"}]},{id:3,title:"Why Startups Need Strong Financial Infrastructure",author:"Lisa Adams",readTime:"4min read",article:`Startups often focus on product development and marketing but overlook financial infrastructure, which is crucial for sustainable growth. In the early stages, many founders manage finances manually, relying on spreadsheets and basic accounting tools. While this approach may work initially, it becomes increasingly inefficient as the business scales. Without a solid financial system in place, startups risk cash flow mismanagement, missed tax obligations, and inaccurate financial reporting. Implementing automation and financial software early on can streamline these processes, providing real-time insights into expenses, revenue, and profitability. By prioritizing financial infrastructure alongside product development, startups can build a foundation that supports long-term success.

One of the biggest challenges startups face is cash flow management. Many new businesses struggle with irregular revenue streams, delayed payments, and unforeseen expenses. Without proper oversight, cash flow issues can quickly lead to financial instability and even failure. Automated invoicing, expense tracking, and budget forecasting tools help startups maintain financial discipline. By setting up clear payment terms, leveraging digital payment solutions, and closely monitoring burn rates, startups can ensure they always have enough working capital to sustain operations and invest in growth opportunities.

Financial transparency is another key aspect that startups must address. Investors and stakeholders expect clear and accurate financial reporting, yet many early-stage companies lack the tools or expertise to generate comprehensive financial statements. Implementing cloud-based accounting systems allows startups to track financial performance in real time, simplifying tax filing and compliance requirements. Additionally, integrating financial dashboards can provide visual insights into key metrics such as profit margins, customer acquisition costs, and return on investment. Transparent financial practices not only build trust with investors but also enable data-driven decision-making.

Scaling a startup requires more than just securing funding—it demands a strategic approach to financial planning. As the business grows, expenses increase, and financial complexity expands. Without proper cost control measures, startups may experience resource drain and inefficiencies. Implementing automated payroll systems, optimizing subscription-based services, and negotiating vendor contracts can help reduce unnecessary spending. Additionally, startups should continuously reassess their pricing models to ensure profitability without compromising market competitiveness. Strategic financial planning enables startups to allocate resources effectively, ensuring they have the capital needed to scale operations.

Ultimately, a well-structured financial infrastructure empowers startups to navigate the uncertainties of entrepreneurship with confidence. It allows founders to focus on innovation and growth rather than getting bogged down by financial bottlenecks. By adopting best practices in financial automation, cash flow management, transparency, and strategic planning, startups can position themselves for long-term success. Whether bootstrapped or venture-funded, every startup benefits from a proactive approach to financial management, ensuring resilience in an ever-changing business landscape.`,created_at:"2025-03-06 10:10:00",images:[{image:"https://images.unsplash.com/photo-1579567761406-4684ee0c75b6?fm=jpg&q=60&w=3000"}]},{id:4,title:"The Role of Automation in Startup Success",author:"Tech Today",readTime:"5min read",article:`Automation is transforming how startups operate, allowing teams to focus on innovation while reducing operational overhead. Startups often struggle with resource constraints, making efficiency a key factor in survival and growth. By leveraging automation tools, businesses can streamline repetitive tasks such as payroll management, customer support, and marketing outreach. These solutions not only free up time but also reduce the likelihood of human error, ensuring accuracy in financial reporting and compliance. As a result, startups that integrate automation early in their journey can scale operations more effectively while maintaining lean teams. 

 Beyond internal workflows, automation enhances customer experiences by enabling personalized interactions at scale. Chatbots and AI-driven support systems allow companies to respond instantly to customer inquiries, improving satisfaction and retention. Automated email marketing campaigns ensure that potential clients receive timely and relevant content without manual intervention. Additionally, CRM (Customer Relationship Management) automation enables businesses to track leads and engagement patterns, helping sales teams prioritize high-value opportunities. With data-driven insights, companies can refine their strategies and deliver better products and services, ultimately driving long-term growth.  

Financial automation is another game-changer for startups, as it simplifies complex accounting processes and enhances transparency. Automated invoicing and expense tracking reduce the administrative burden on finance teams, allowing them to focus on strategic decision-making. AI-powered financial forecasting tools help startups predict revenue trends, assess risks, and optimize cash flow management. Additionally, tax compliance becomes more manageable with automated systems that ensure timely filings and accurate calculations. By minimizing financial inefficiencies, startups can allocate resources more effectively, ensuring that funds are directed toward innovation and expansion rather than unnecessary overhead.  

Operational efficiency also benefits significantly from automation, particularly in logistics, supply chain management, and HR processes. Startups that rely on e-commerce or physical products can use automated inventory tracking systems to prevent stock shortages and overordering. HR automation tools simplify recruitment, onboarding, and employee performance tracking, ensuring that talent management remains seamless. With remote work becoming more common, cloud-based automation solutions enable teams to collaborate effortlessly across different time zones. This increased efficiency allows startups to remain agile, adapting quickly to market changes and customer demands without being weighed down by administrative bottlenecks. 

Despite the advantages, implementing automation requires careful planning to avoid over-reliance on technology without human oversight. Startups must strike a balance between automation and human-driven decision-making to ensure that creativity and problem-solving remain at the core of their business strategies. Training employees to work alongside automated systems is crucial, as it enhances productivity while maintaining a personalized touch in customer interactions. Furthermore, cybersecurity measures must be prioritized to protect sensitive data from potential threats associated with automated processes. When executed strategically, automation empowers startups to operate with greater efficiency, agility, and scalability, positioning them for long-term success in an increasingly competitive landscape.`,created_at:"2025-03-06 12:30:50",images:[{image:"https://plus.unsplash.com/premium_photo-1661443781814-333019eaad2d?fm=jpg&q=60&w=3000"}]},{id:5,title:"Navigating Compliance Challenges for Startups",author:"John Doe",readTime:"6min read",article:`As startups grow, they must ensure they meet industry regulations to avoid legal complications. Compliance with local, national, and international laws is essential for maintaining credibility and preventing costly penalties. Many startups initially overlook regulatory requirements, focusing instead on rapid expansion. However, failing to adhere to industry standards can result in fines, lawsuits, and even business shutdowns. Establishing a compliance strategy early on ensures that startups can operate smoothly without legal setbacks. 

Beyond basic legal requirements, startups must also consider data privacy laws, employment regulations, and financial reporting standards. With the rise of digital transactions, securing customer data and complying with regulations like GDPR or CCPA is crucial. Mismanaging sensitive information can lead to reputational damage and loss of customer trust. By integrating compliance tools and seeking legal counsel, startups can navigate complex regulatory landscapes while maintaining ethical business practices. 

Regulatory compliance also plays a significant role in securing partnerships and investments. Investors and enterprise clients prioritize businesses that demonstrate adherence to industry standards. A well-documented compliance framework reassures stakeholders that the company is prepared for sustainable growth. Startups should establish clear policies, conduct regular audits, and train employees to understand and follow regulations. This proactive approach minimizes risks and enhances credibility in competitive markets. 

As industries evolve, regulatory frameworks change, requiring startups to stay updated on new laws and adapt accordingly. Regular monitoring of policy changes ensures that businesses remain compliant while avoiding disruptions. Engaging with legal advisors, attending industry seminars, and leveraging compliance software can streamline this process. Startups that prioritize legal preparedness position themselves for long-term success while fostering trust with customers and investors alike. 

Ultimately, meeting industry regulations is not just about avoiding fines—it’s about building a resilient and reputable business. Compliance fosters stability, strengthens investor confidence, and safeguards the company’s future. By embedding regulatory awareness into their operational strategy, startups can focus on innovation and growth without the looming threat of legal complications.`,created_at:"2025-03-07 09:15:00",images:[{image:"https://wallpaperaccess.com/full/1104816.jpg"}]},{id:6,title:"The Importance of Financial Forecasting for Startups",author:"Finance Weekly",readTime:"5min read",article:`Building a business model that can scale efficiently is crucial for long-term success. Many startups begin with innovative ideas but struggle to transition from small-scale operations to sustainable growth. A scalable business model allows companies to expand without facing disproportionate increases in costs or operational bottlenecks. Founders must design their business structures to accommodate growth while maintaining efficiency and profitability. 

One key factor in scalability is automation. Streamlining repetitive tasks, optimizing workflows, and leveraging digital tools reduce manual labor and increase productivity. Whether through customer relationship management (CRM) software, automated marketing campaigns, or cloud-based project management systems, startups can handle higher workloads without dramatically increasing overhead. By integrating scalable technology early on, businesses create a foundation that supports future expansion. 

Another critical aspect of scalability is financial planning. Startups must ensure they have a sustainable revenue model that grows alongside their business. Subscription-based pricing, diversified revenue streams, and cost-efficient operational strategies help maintain financial stability. Additionally, managing cash flow effectively ensures that startups can reinvest in growth without encountering funding shortages. 

Hiring and team structure also impact scalability. While startups often begin with small, agile teams, expanding operations requires a workforce that can grow with the business. Founders should focus on building a flexible hiring strategy, outsourcing when necessary, and fostering a company culture that supports scalability. Implementing strong leadership, clear communication channels, and employee development programs ensures that teams remain aligned with business goals as the company expands. 

Ultimately, scalable startups prioritize efficiency, adaptability, and sustainability. By designing a business model that can handle increasing demand without compromising quality or profitability, startups position themselves for long-term success. Founders who focus on scalability from the outset create businesses that can evolve with market demands while maintaining operational excellence.`,created_at:"2025-03-07 15:40:00",images:[{image:"https://www.clicdata.com/wp-content/uploads/2020/01/blog-inside-story-tech-startup.png"}]},{id:7,title:"How to Build a Scalable Business Model",author:"Startup Insights",readTime:"7min read",article:"Building a business model that can scale efficiently is crucial for long-term success...",created_at:"2025-03-08 11:00:00",images:[{image:"https://wallpaperaccess.com/full/1104816.jpg"}]},{id:8,title:"Investor Relations: How Startups Can Attract Funding",author:"Jane Smith",readTime:"6min read",article:`Attracting investors is about more than just having a great idea—it's about demonstrating value. Investors look for startups that offer scalable solutions, clear revenue potential, and strong market demand. Founders must articulate not only their vision but also a concrete strategy for execution. A well-prepared business plan, complete with financial projections and competitive analysis, significantly increases the chances of securing funding. 

A compelling pitch is essential for capturing investor interest. Storytelling plays a crucial role in showcasing the startup's mission, unique value proposition, and long-term potential. Investors are drawn to entrepreneurs who can clearly define their problem, explain how their solution stands out, and present a roadmap for sustainable growth. Clarity, confidence, and data-driven insights make pitches more persuasive and memorable. 

Beyond the pitch, startups must demonstrate traction. Investors want to see progress—whether it's growing user numbers, revenue milestones, or strategic partnerships. Even in early stages, validating demand through market research, customer testimonials, or successful pilot programs builds investor confidence. Startups that show measurable growth and a clear path to profitability are more likely to secure funding. 

Networking is another crucial component of attracting investors. Building relationships with angel investors, venture capitalists, and industry mentors opens doors to funding opportunities. Attending startup events, participating in accelerators, and leveraging professional networks help founders connect with potential investors. Personal introductions and referrals often carry more weight than cold outreach, making networking a key strategy for fundraising success. 

Ultimately, investors seek startups with strong leadership, market potential, and a clear execution strategy. By refining their business model, building traction, and effectively communicating their vision, startups can increase their chances of securing investment. Fundraising is not just about money—it’s about forming strategic partnerships that support long-term growth and success.`,created_at:"2025-03-08 17:20:00",images:[{image:"https://images.unsplash.com/photo-1541746972996-4e0b0f43e02a?fm=jpg&q=60&w=3000"}]},{id:9,title:"FullSuite Expands Services to Accelerate Startup Growth",author:"Matt",readTime:"6min read",article:`FullSuite has announced the expansion of its financial and operational solutions to better support early-stage and scaling startups. The company recognizes that many startups struggle with financial management and operational efficiency. With the right tools and expert guidance, businesses can streamline their workflows and focus on growth. FullSuite’s new offerings aim to simplify complex financial processes, allowing startups to operate more effectively. This expansion aligns with the company's mission to provide accessible and scalable solutions for businesses at all stages.

Startups often face difficulties in maintaining accurate financial records and complying with regulations. To address this, FullSuite now provides advanced financial forecasting and regulatory compliance support. These new services help startups anticipate potential financial challenges and mitigate risks before they become major issues. Additionally, the company offers strategic operational consulting to ensure that businesses build strong foundations. By integrating these solutions, FullSuite empowers startups to make informed decisions that drive long-term success.

'Our goal is to be the go-to operations partner for startups, ensuring they have a solid financial and operational foundation for sustainable growth,' said a FullSuite spokesperson. The company is dedicated to fostering innovation by removing financial and operational barriers. Many startups have already benefited from FullSuite’s expertise, allowing them to focus on scaling their products and services. With the startup ecosystem evolving rapidly, having reliable financial support is more important than ever. FullSuite remains committed to providing solutions that help businesses thrive in a competitive market.`,created_at:"2025-03-04 12:32:04",images:[{image:"https://about.fb.com/wp-content/uploads/2023/09/GettyImages-686732223.jpg"},{image:"https://www.jeffbullas.com/wp-content/uploads/2020/06/Startup-Funding-%E2%80%93-A-Comprehensive-Guide-for-Entrepreneurs.jpg"},{image:"https://www.ceo-review.com/wp-content/uploads/2022/11/Tech-Entrepreneur.jpg"}]},{id:10,title:"Scaling Smarter: How FullSuite Empowers Startups",author:"FullSuite Team",readTime:"7min read",article:`Scaling a startup takes more than just securing funding—it requires a robust financial and operational strategy. Many early-stage companies struggle with maintaining accurate financial records and navigating regulatory requirements, which can lead to costly mistakes. By implementing a structured approach to financial planning, startups can anticipate potential challenges and allocate resources effectively. This includes leveraging advanced financial forecasting tools, streamlining expense tracking, and ensuring compliance with ever-changing regulations.

 A strong operational strategy, combined with expert guidance, helps businesses scale sustainably and avoid common pitfalls. Beyond finances, operational efficiency plays a crucial role in long-term success, allowing teams to focus on innovation rather than administrative burdens. By adopting automated workflows, outsourcing non-core functions, and integrating scalable processes, startups can improve productivity and adaptability. The startup ecosystem is highly competitive, and those who fail to establish a solid foundation early on may struggle to keep up. Companies that prioritize financial discipline and operational excellence position themselves for long-term growth and resilience. Ultimately, the key to sustainable scaling is not just about raising capital but about managing it wisely and ensuring that every aspect of the business is optimized for efficiency and success.`,created_at:"2025-03-05 15:20:10",images:[{image:"https://www.ceo-review.com/wp-content/uploads/2022/11/Tech-Entrepreneur.jpg"}]}],tue=({id:t,title:e,author:n,readTime:i,article:s,createdAt:r,imageUrl:o})=>{const{fullDate:a}=fu(r);return v.jsx("section",{className:`relative w-full h-100 md:h-130 rounded-3xl overflow-hidden  transform transition-all duration-300 ease-in-out group-hover:scale-105 
  group-hover:shadow-xl group-hover:shadow-secondary/50 active:scale-105 
  active:shadow-xl active:shadow-secondary/50`,children:v.jsxs(fn,{to:{pathname:`/blogs/${$r(e)}`},state:{cblog_id:t},className:"no-underline cursor-pointer group lg:gap-10",children:[v.jsxs("div",{className:"relative",children:[v.jsx("img",{className:"w-full h-100 md:h-130 object-cover rounded-3xl",src:o,alt:"Blog Cover"}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-black opacity-80"})]}),v.jsxs("div",{className:"absolute bottom-0 p-7 text-white lg:p-15",children:[v.jsx("h2",{className:`font-avenir-black text-lg  lg:text-2xl  group-hover:text-secondary transition duration-300 ease-in-out
          `,children:e}),v.jsxs("p",{className:"text-sm mt-1",children:[v.jsxs("span",{className:"text-secondary font-avenir-black",children:[" ",n]})," ","| ",i]}),v.jsx("p",{className:"mt-2 text-sm text-gray-300 line-clamp-3",children:s}),v.jsx("p",{className:"text-xs text-gray-400 mt-2",children:a})]})]})})},oB=({text:t,color:e})=>{const[n,i]=E.useState(!0);return E.useEffect(()=>{const s=setTimeout(()=>{i(!1)},500);return()=>clearTimeout(s)},[]),v.jsx("span",{className:`relative z-10 mr-4 text-4xl md:text-7xl mt-3 mb-3 transition-colors duration-1000 font-avenir-black ${n?"text-primary":`text-${e}`}`,children:t})},nue=({companyBlogTags:t,activeTag:e,handleTagClick:n})=>v.jsx("div",{className:"w-full overflow-x-auto",children:v.jsx("div",{className:"flex gap-2 sm:gap-3 md:gap-4 align-middle justify-start px-2 sm:px-3 md:px-4 whitespace-nowrap md:justify-center",children:t.map((i,s)=>v.jsx("button",{onClick:()=>n(i.tagId),className:`px-4 py-1 sm:px-5 md:px-6 text-sm sm:text-base md:text-lg rounded-full border-1 border-primary text-primary transition-all duration-300 
      ${e===i.tagId?"bg-primary text-white":"hover:bg-primary hover:text-white"}`,children:i.tagName},s))})}),iue=()=>{const[t,e]=E.useState(""),[n,i]=E.useState(""),[s,r]=E.useState(!1),o=()=>{t.trim()!==""&&(i(t),r(!0))},a=()=>{e(""),i(""),r(!1)};E.useEffect(()=>{window.scroll(0,0)},[]);const l={tagId:"All",tagName:"All"},[c,d]=E.useState([l]),[f,p]=E.useState("All"),m=async()=>{const P=await on.get("/api/all-tags");d(F=>[l,...P.data.data])};E.useEffect(()=>{m()},[]);const[y,C]=E.useState(!1),x=P=>{p(F=>P),C(F=>!F)},[w,M]=E.useState([]),S=async()=>{try{const P=await on.get("/api/all-company-blogs");M(P.data)}catch(P){console.log(P)}},R=async()=>{try{const P=await on.get(`/api/all-company-blogs/${f}`);M(P.data.data)}catch(P){console.log(P)}};return E.useEffect(()=>{console.log(f),f==="All"?S():R(),console.log(w)},[y]),v.jsxs("section",{className:"gap-4",style:{maxWidth:"2000px",margin:"0 auto"},children:[v.jsx(wh,{title:"Blogs - SuiteLifer",desc:"Dive into our collection of valuable perspectives on all things Startup, Careers, Baguio, and Fullsuite.",isDefer:!1}),v.jsx("div",{className:"sm:hidden",children:v.jsx(Yr,{})}),v.jsx("div",{className:"tablet-nav",children:v.jsx(Xr,{})}),v.jsx("div",{className:"desktop-nav",children:v.jsx(Zr,{})}),v.jsxs("section",{className:"pt-[10%] xl:pt-[8%] relative",children:[v.jsx("img",{className:"hidden -z-50 absolute w-[90%] transform translate-y-5 -translate-x-6 lg:-translate-y-10  xl:-translate-y-15 lg:-translate-x-15 xl:-translate-x-40 opacity-90",src:w6,alt:""}),v.jsxs("div",{className:"grid grid-cols-2 items-center gap-3",children:[v.jsxs("div",{className:"flex items-center justify-end",children:[v.jsx("div",{className:"absolute bg-primary h-15 md:h-25 w-[49.7%] rounded-br-2xl rounded-tr-2xl",style:{animation:"slideInFromLeft 0.8s ease-out forwards",left:0}}),v.jsx(oB,{text:"blog",color:"white"})]}),v.jsx(oB,{text:"spot",color:"black"})]}),v.jsx("div",{className:"text-center mt-3 md:mt-5",children:v.jsx("p",{className:"text-gray-400 text-[12px] md:text-[14px] lg:text-[16px]",children:v.jsx(qn.span,{initial:{width:0},animate:{width:"100%"},transition:{duration:2.5,ease:"linear",delay:1},className:"overflow-hidden whitespace-nowrap inline-block",children:"where ideas spark and stories thrive."})})}),v.jsx("div",{className:"flex justify-center mt-6 px-4",children:v.jsxs("div",{className:"relative flex items-center w-full max-w-xs sm:max-w-sm md:max-w-lg",children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"absolute w-5 h-5 top-2.5 left-2.5 text-slate-600",children:v.jsx("path",{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z",clipRule:"evenodd"})}),v.jsx("input",{type:"text",value:t,onChange:P=>e(P.target.value),placeholder:"Search blogs...",className:"w-full bg-transparent placeholder:text-slate-400 text-slate-700 text-sm border border-slate-200 rounded-md pl-10 pr-7 py-2 transition duration-300 ease focus:outline-none focus:border-primary-400 hover:border-slate-300 focus:shadow"}),t&&v.jsx("button",{onClick:a,className:"absolute right-24 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:"✕"}),v.jsx("button",{onClick:o,className:"rounded-md bg-primary py-2 px-4 border border-transparent text-center text-sm text-white transition-all hover:shadow-lg focus:bg-[#007a8e] active:bg-[#007a8e] hover:bg-[#007a8e] cursor-pointer ml-2",children:"Search"})]})})]}),v.jsx("main",{className:"px-[5%]",children:s?v.jsx(g6,{type:"blog",list:b6,searchTerm:n}):c.length===1?v.jsx("div",{className:"mt-20",children:v.jsx(ab,{bg:"transparent",color1:"#0097b2",color2:"#bfd1a0",height:"35"})}):v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"flex justify-center lg:p-10 mt-10",children:v.jsx("div",{className:"w-full max-w-3xl flex justify-center",children:v.jsx(nue,{activeTag:f,companyBlogTags:c,handleTagClick:x})})}),v.jsx("div",{className:"py-5"}),w.length===0?v.jsxs("p",{className:"text-center text-lg",children:["Looks like we’re out of blogs for this filter—",v.jsx("span",{className:"font-avenir-black text-primary",children:"switch it up"})," ","and try again!"]}):v.jsxs(v.Fragment,{children:[v.jsx("p",{className:"md:text-2xl uppercase font-avenir-black text-primary pb-3 lg:pb-4",children:"The latest"}),v.jsx(tue,{id:w[0].cblogId,title:w[0].title,author:w[0].createdBy,article:jv(w[0].description),readTime:jy(w[0].description,238).text,createdAt:w[0].createdAt,imageUrl:w[0].imageUrl}),v.jsx("p",{className:"md:text-2xl font-avenir-black text-primary pb-3 mt-10 lg:pb-4"}),v.jsx("div",{className:"h-full grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6 justify-center items-center",children:w.slice(1).map((P,F)=>v.jsx(__,{id:P.cblogId,title:P.title,createdBy:P.createdBy,description:jv(P.description),createdAt:P.createdAt,imageUrl:P.imageUrl},F))})]}),v.jsx("div",{className:"h-10"}),v.jsx("div",{className:"flex justify-center items-center w-full h-15 rounded-lg overflow-hidden",children:v.jsx(ab,{bg:"transparent",color1:"#0097b2",color2:"#bfd1a0",height:"35"})})]})}),v.jsx("div",{className:"h-30"}),v.jsx(Do,{})]})},sue="/assets/terms-of-use-CcMO_oll.jpg",rue=()=>{const t=[{id:"acceptance-of-terms",title:"1. Acceptance of Terms"},{id:"use-of-content",title:"2. Use of Content"},{id:"user-conduct",title:"3. User Conduct"},{id:"privacy",title:"4. Privacy"},{id:"links-to-third-party-sites",title:"5. Links to Third-Party Sites"},{id:"disclaimer",title:"6. Disclaimer"},{id:"limitation-of-liability",title:"7. Limitation of Liability"},{id:"changes-to-terms",title:"8. Changes to Terms"},{id:"governing-law",title:"9. Governing Law"},{id:"contact-us",title:"10. Contact Us"}],[e,n]=E.useState("");return E.useEffect(()=>{const i=()=>{let s="";t.forEach(r=>{const o=document.getElementById(r.id);if(o){const a=o.getBoundingClientRect();a.top<=100&&a.bottom>=100&&(s=r.id)}}),n(s)};return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[]),v.jsxs("div",{className:"flex flex-col md:flex-row gap-6 px-7 pt-5 pb-5 lg:px-[50px] lg:pt-10 lg:pb-10",children:[v.jsx("div",{className:"hidden md:block md:w-1/4 lg:w-1/5",children:v.jsxs("div",{className:"sticky top-20 bg-white p-7 shadow-md rounded-xl w-fit min-w-[180px]",children:[v.jsx("h4",{className:"font-avenir-black text-gray-700",children:"TABLE OF CONTENTS"}),v.jsx("ul",{className:"mt-4 space-y-2 list-none!",children:t.map(i=>v.jsx("li",{children:v.jsx("button",{onClick:()=>{const s=document.getElementById(i.id);if(s){const o=s.getBoundingClientRect().top+window.scrollY;window.scrollTo({top:o-80,behavior:"smooth"})}},className:`block w-full text-left text-sm font-medium ${e===i.id?"text-primary font-bold":"text-gray-600"} hover:text-primary`,children:i.title})},i.id))})]})}),v.jsxs("div",{className:"md:w-3/4 md:mr-5 lg:w-4/5 lg:mr-15",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("img",{src:sue,alt:"terms-of-use",className:"w-30 h-30"}),v.jsxs("p",{className:"-ml-9 text-3xl md:text-3xl lg:text-5xl font-avenir-black leading-none",children:["Terms of",v.jsx("span",{className:"text-primary",children:" Use"})]})]}),v.jsx("br",{}),v.jsx("div",{children:v.jsx("p",{className:"text-gray-500 text-sm",children:"Last Updated on March 03, 2023"})}),v.jsx("div",{className:"mt-5 lg:mt-10",children:"Welcome to the FullSuite website. By using this website, you agree to comply with and be bound by the following terms and conditions of use. Please read these terms carefully before using the website. If you do not agree with these terms, please do not use this website."}),v.jsxs("section",{id:"acceptance-of-terms",className:"mt-8",children:[v.jsx("h3",{className:"font-avenir-black",children:"1. Acceptance of Terms"}),v.jsx("p",{className:"text-gray-700 mt-2",children:"By accessing or using this website, you acknowledge that you have read, understood, and agree to be bound by these terms of use. If you do not agree to these terms, please refrain from using the website."})]}),v.jsxs("section",{id:"use-of-content",className:"mt-8",children:[v.jsx("h3",{className:"font-avenir-black",children:"2. Use of Content"}),v.jsx("p",{className:"text-gray-700 mt-2",children:"All content provided on this website is for informational purposes only. The content is the property of FullSuite and is protected by intellectual property laws. You may not reproduce, distribute, modify, or create derivative works from any content on this website without prior written consent from FullSuite."})]}),v.jsxs("section",{id:"user-conduct",className:"mt-8",children:[v.jsx("h3",{className:"font-avenir-black",children:"3. User Conduct"}),v.jsx("p",{className:"text-gray-700 mt-2",children:"You agree to use this website only for lawful purposes and in a manner that does not infringe upon the rights of others. You shall not engage in any activity that disrupts or interferes with the functionality or security of the website."})]}),v.jsxs("section",{id:"privacy",className:"mt-8",children:[v.jsx("h3",{className:"font-avenir-black",children:"4. Privacy"}),v.jsxs("p",{className:"text-gray-700 mt-2",children:["Your use of this website is also governed by our"," ",v.jsx(qi,{to:"/privacy-policy",className:"text-primary no-underline",children:"Privacy Policy"}),", which can be found here. Please review the"," ",v.jsx(qi,{to:"/privacy-policy",className:"text-primary no-underline",children:"Privacy Policy"})," ","to understand how your personal information is collected, used, and protected."]})]}),v.jsxs("section",{id:"links-to-third-party-sites",className:"mt-8",children:[v.jsx("h3",{className:"font-avenir-black",children:"5. Links to Third-Party Sites"}),v.jsx("p",{className:"text-gray-700 mt-2",children:"This website may contain links to third-party websites. These links are provided for your convenience only, and FullSuite does not endorse or control the content of these linked sites. We are not responsible for the accuracy, legality, or quality of any content on third-party sites."})]}),v.jsxs("section",{id:"disclaimer",className:"mt-8",children:[v.jsx("h3",{className:"font-avenir-black",children:"6. Disclaimer"}),v.jsx("p",{className:"text-gray-700 mt-2",children:'The content on this website is provided "as is" and without warranties of any kind, whether express or implied. FullSuite does not guarantee the accuracy, completeness, or reliability of the content. Your use of this website is at your own risk.'})]}),v.jsxs("section",{id:"limitation-of-liability",className:"mt-8",children:[v.jsx("h3",{className:"font-avenir-black",children:"7. Limitation of Liability"}),v.jsx("p",{className:"text-gray-700 mt-2",children:"To the extent permitted by law, FullSuite shall not be liable for any direct, indirect, incidental, consequential, or punitive damages arising from your use of this website."})]}),v.jsxs("section",{id:"changes-to-terms",className:"mt-8",children:[v.jsx("h3",{className:"font-avenir-black",children:"8. Changes to Terms"}),v.jsx("p",{className:"text-gray-700 mt-2",children:"FullSuite reserves the right to modify these terms of use at any time without prior notice. It is your responsibility to review these terms periodically for updates. Your continued use of the website after any changes indicates your acceptance of the modified terms."})]}),v.jsxs("section",{id:"governing-law",className:"mt-8",children:[v.jsx("h3",{className:"font-avenir-black",children:"9. Governing Law"}),v.jsx("p",{className:"text-gray-700 mt-2",children:"These terms of use are governed by and construed in accordance with the laws of the Philippines, without regard to its conflict of law principles."})]}),v.jsxs("section",{id:"contact-us",className:"mt-8",children:[v.jsx("h3",{className:"font-avenir-black",children:"10. Contact Us"}),v.jsxs("p",{className:"text-gray-700 mt-2",children:["If you have any questions or concerns about these terms of use, please contact us at"," ",v.jsx("a",{href:"mailto:infosec@fullsuite.ph",className:"text-primary no-underline",children:"infosec@fullsuite.ph"}),"."]})]})]})]})},oue=()=>(E.useEffect(()=>{window.scrollTo(0,0)},[]),v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"sm:hidden",children:v.jsx(Yr,{})}),v.jsx("div",{className:"tablet-nav",children:v.jsx(Xr,{})}),v.jsx("div",{className:"desktop-nav",children:v.jsx(Zr,{})}),v.jsx("div",{className:"relative",children:v.jsxs("main",{className:"mt-0 lg:mt-20 text-[12px] md:text-[14px] lg:text-[16px]",children:[v.jsx("section",{id:"terms-of-use-content",className:"mb-20",children:v.jsx(rue,{})}),v.jsx(Do,{}),v.jsx(pu,{})]})})]})),aue="/assets/fingerprint-and-loupe-D_-YV065.jpg",lue=()=>{const t=[{id:"information-collection",title:"1. Information Collection"},{id:"use-of-information",title:"2. Use of Information"},{id:"data-security",title:"3. Data Security"},{id:"data-retention",title:"4. Data Retention"},{id:"third-party-disclosure",title:"5. Third-Party Disclosure"},{id:"your-rights",title:"6. Your Rights"},{id:"updates-policy",title:"7. Updates to the Policy"}],[e,n]=E.useState("");return E.useEffect(()=>{const i=()=>{let s="";t.forEach(r=>{const o=document.getElementById(r.id);if(o){const a=o.getBoundingClientRect();a.top<=100&&a.bottom>=100&&(s=r.id)}}),n(s)};return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[]),v.jsxs("div",{className:"flex flex-col md:flex-row gap-6 px-7 pt-5 pb-5 lg:px-[50px] lg:pt-10 lg:pb-10",children:[v.jsx("div",{className:"hidden md:block md:w-1/4 lg:w-1/5",children:v.jsxs("div",{className:"sticky top-20 bg-white p-7 shadow-md rounded-xl w-fit min-w-[180px]",children:[v.jsx("h4",{className:"font-avenir-black text-gray-700",children:"TABLE OF CONTENTS"}),v.jsx("ul",{className:"mt-4 space-y-2 list-none!",children:t.map(i=>v.jsx("li",{children:v.jsx("button",{onClick:()=>{const s=document.getElementById(i.id);if(s){const o=s.getBoundingClientRect().top+window.scrollY;window.scrollTo({top:o-80,behavior:"smooth"})}},className:`block w-full text-left text-sm font-medium ${e===i.id?"text-primary font-bold":"text-gray-600"} hover:text-primary`,children:i.title})},i.id))})]})}),v.jsxs("div",{className:"md:w-3/4 md:mr-5 lg:w-4/5 lg:mr-15",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("img",{src:aue,alt:"privacy-policy",className:"w-15 h-15"}),v.jsxs("p",{className:"text-3xl md:text-3xl lg:text-5xl font-avenir-black leading-none",children:["Privacy",v.jsx("span",{className:"text-primary",children:" Policy"})]})]}),v.jsx("br",{}),v.jsx("div",{children:v.jsx("p",{className:"text-gray-500 text-sm",children:"Last Updated on March 03, 2023"})}),v.jsx("div",{className:"mt-5 lg:mt-10",children:"At FullSuite (“Company”), we are committed to protecting the privacy and security of your personal information. This Data Privacy Policy outlines how we collect, use, store, dispose and protect your personal data. By accessing our website and/or submitting your information directly to the Company, you agree and consent to the use, collection, processing, storage, and disposal of your personal data as outlined in this Privacy Policy. The Company is committed to being transparent about how it collects and uses that data and to meeting its data protection obligations."}),v.jsxs("section",{id:"information-collection",className:"mt-8",children:[v.jsx("h3",{className:"font-avenir-black",children:"1. Information Collection"}),v.jsx("p",{className:"text-gray-700 mt-2",children:"We collect the following personal information from clients through our website and forms. The Company may also collect personal data about you from third parties, who use tracking and analytic technology. We collect the following information from you:"}),v.jsxs("ul",{className:"mt-2 text-gray-700 list-disc list-inside",children:[v.jsx("li",{children:"Name"}),v.jsx("li",{children:"Email Address"}),v.jsx("li",{children:"Web-behavior information while on our website"})]})]}),v.jsxs("section",{id:"use-of-information",className:"mt-8",children:[v.jsx("h3",{className:"font-avenir-black",children:"2. Use of Information"}),v.jsx("p",{className:"text-gray-700 mt-2",children:"The information you provide to Fullsuite will be used solely for providing the service that you expect from Fullsuite and for responding to your messages when you visit our Website. We may also use your information for statistical analysis and to improve our services."})]}),v.jsxs("section",{id:"data-security",className:"mt-8",children:[v.jsx("h3",{className:"font-avenir-black",children:"3. Data Security"}),v.jsx("p",{className:"text-gray-700 mt-2",children:"FullSuite takes data security seriously and implements industry-standard measures to protect your personal information from unauthorized access, disclosure, or alteration. Access to your data is restricted to authorized personnel only."})]}),v.jsxs("section",{id:"data-retention",className:"mt-8",children:[v.jsx("h3",{className:"font-avenir-black",children:"4. Data Retention"}),v.jsx("p",{className:"text-gray-700 mt-2",children:"Your personal information will be retained for as long as necessary to fulfill the purposes for which it was collected or as required by law."})]}),v.jsxs("section",{id:"third-party-disclosure",className:"mt-8",children:[v.jsx("h3",{className:"font-avenir-black",children:"5. Third-Party Disclosure"}),v.jsx("p",{className:"text-gray-700 mt-2",children:"FullSuite may share your personal information with third-party service providers or partners. Fullsuite’s service providers act on its behalf. We have pronounced contractual terms with each service provider to protect the confidentiality and security of your information."})]}),v.jsxs("section",{id:"your-rights",className:"mt-8",children:[v.jsx("h3",{className:"font-avenir-black",children:"6. Your Rights"}),v.jsxs("p",{className:"text-gray-700 mt-2",children:["You have the right to be informed of the purpose, use, and collection of your data. You have the right to obtain a copy of, move, or transfer any personal information relating to you. You have the right to object or to withhold consent with regard to the collection and processing of personal information.You have the right to suspend, withdraw or order the blocking, removal or destruction of your personal information. You may claim compensation if you suffered damages due to inaccurate, incomplete, outdated, false, unlawfully obtained or unauthorized use of personal information, considering any violation of your rights and freedoms as data subject. You have the right to dispute and have corrected any inaccuracy or error in the personal information we process about you. If you feel that your personal information has been misused, maliciously disclosed, or improperly disposed of, or that any of your data privacy rights have been violated, you have a right to file a complaint with the National Privacy Commission of the Philippines. If you have any questions or concerns regarding your data, please contact our Data Protection Officer at"," ",v.jsx("a",{href:"mailto:dpo@fullsuite.ph",className:"text-primary no-underline",children:"dpo@fullsuite.ph"})]})]}),v.jsxs("section",{id:"updates-policy",className:"mt-8",children:[v.jsx("h3",{className:"font-avenir-black",children:"7. Updates to the Policy"}),v.jsx("p",{className:"text-gray-700 mt-2",children:"FullSuite reserves the right to update this Data Privacy Policy to reflect changes in our data practices or legal requirements. We encourage you to review this policy periodically for any updates. By continuing to use our website and providing your personal information, you acknowledge that you have read and understood this Data Privacy Policy and consent to the processing of your data as described herein. FullSuite reserves the right to update this Data Privacy Policy to reflect changes in our data practices or legal requirements. We encourage you to review this policy periodically for any updates."})]})]})]})},cue=()=>(E.useEffect(()=>{window.scrollTo(0,0)},[]),v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"sm:hidden",children:v.jsx(Yr,{})}),v.jsx("div",{className:"tablet-nav",children:v.jsx(Xr,{})}),v.jsx("div",{className:"desktop-nav",children:v.jsx(Zr,{})}),v.jsx("div",{className:"relative",children:v.jsxs("main",{className:"mt-0 lg:mt-20 text-[12px] md:text-[14px] lg:text-[16px]",children:[v.jsx("section",{id:"privacy-policy-content",className:"mb-20",children:v.jsx(lue,{})})," ",v.jsx(Do,{}),v.jsx(Footerw,{})]})})]})),uue=({id:t,title:e,author:n,readTime:i,created_at:s,images:r})=>(fu(s),v.jsx(qi,{to:`/blogs/${t}/${$r(e)}`,className:"no-underline cursor-pointer group flex flex-col lg:flex-row-reverse lg:gap-10",children:v.jsxs("section",{className:`relative w-full h-30 rounded-xl overflow-hidden 
  transform transition-all duration-300 ease-in-out group-hover:scale-105 
  group-hover:shadow-xl group-hover:shadow-secondary/50 active:scale-105 
  active:shadow-xl active:shadow-secondary/50`,children:[v.jsxs("div",{className:"relative",children:[v.jsx("img",{className:"w-full h-30 object-cover rounded-xl",src:r[0].image,alt:"Blog Cover"}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/50 to-black/80"})]}),v.jsxs("div",{className:"absolute bottom-0 p-4 text-white",children:[v.jsx("h2",{className:"font-avenir-black !text-[14px] lg:!text-[16px] group-hover:text-secondary   transition duration-300 ease-in-out line-clamp-2",children:e}),v.jsxs("p",{className:"!text-[12px] ",children:[v.jsx("span",{className:"text-secondary font-avenir-black !text-[12px]",children:n})," |"," ",i]})]})]})})),due=({id:t,title:e,author:n,readTime:i,created_at:s,imagesWithCaption:r})=>{const{fullDate:o}=fu(s);return v.jsxs(qi,{to:`/news/${t}/${$r(e)}`,className:"flex gap-4 sm:gap-5 items-center no-underline group rounded-2xl transition-all duration-300 hover:shadow-sm hover:bg-white p-2",children:[v.jsx("div",{className:"w-full max-w-[130px] sm:max-w-[160px] md:max-w-[140px] aspect-[3/2] rounded-xl overflow-hidden flex-shrink-0 transition-all duration-300 ease-in-out",children:v.jsx("img",{className:"w-full h-full object-cover group-hover:shadow-lg",src:r[0].image,alt:e})}),v.jsxs("div",{className:"flex flex-col justify-center",children:[v.jsx("h2",{className:"font-avenir-black !text-sm sm:text-base md:!text-sm md:line-clamp-2 lg:line-clamp-2 xl:line-clamp-none leading-tight group-hover:text-primary transition duration-300 ease-in-out ",children:e}),v.jsxs("div",{className:" sm:text-sm text-gray-500 !text-sm",children:[v.jsx("span",{className:"text-primary  ",children:n}),"  |  ",i]}),v.jsx("p",{className:"!text-xs text-gray-400",children:o})]})]})};function hue({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{fillRule:"evenodd",d:"M17 10a.75.75 0 0 1-.75.75H5.612l4.158 3.96a.75.75 0 1 1-1.04 1.08l-5.5-5.25a.75.75 0 0 1 0-1.08l5.5-5.25a.75.75 0 1 1 1.04 1.08L5.612 9.25H16.25A.75.75 0 0 1 17 10Z",clipRule:"evenodd"}))}const fue=E.forwardRef(hue);function pue({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{fillRule:"evenodd",d:"M10 4.5c1.215 0 2.417.055 3.604.162a.68.68 0 0 1 .615.597c.124 1.038.208 2.088.25 3.15l-1.689-1.69a.75.75 0 0 0-1.06 1.061l2.999 3a.75.75 0 0 0 1.06 0l3.001-3a.75.75 0 1 0-1.06-1.06l-1.748 1.747a41.31 41.31 0 0 0-.264-3.386 2.18 2.18 0 0 0-1.97-1.913 41.512 41.512 0 0 0-7.477 0 2.18 2.18 0 0 0-1.969 1.913 41.16 41.16 0 0 0-.16 1.61.75.75 0 1 0 1.495.12c.041-.52.093-1.038.154-1.552a.68.68 0 0 1 .615-.597A40.012 40.012 0 0 1 10 4.5ZM5.281 9.22a.75.75 0 0 0-1.06 0l-3.001 3a.75.75 0 1 0 1.06 1.06l1.748-1.747c.042 1.141.13 2.27.264 3.386a2.18 2.18 0 0 0 1.97 1.913 41.533 41.533 0 0 0 7.477 0 2.18 2.18 0 0 0 1.969-1.913c.064-.534.117-1.071.16-1.61a.75.75 0 1 0-1.495-.12c-.041.52-.093 1.037-.154 1.552a.68.68 0 0 1-.615.597 40.013 40.013 0 0 1-7.208 0 .68.68 0 0 1-.615-.597 39.785 39.785 0 0 1-.25-3.15l1.689 1.69a.75.75 0 0 0 1.06-1.061l-2.999-3Z",clipRule:"evenodd"}))}const S6=E.forwardRef(pue);function mue({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16ZM6.75 9.25a.75.75 0 0 0 0 1.5h4.59l-2.1 1.95a.75.75 0 0 0 1.02 1.1l3.5-3.25a.75.75 0 0 0 0-1.1l-3.5-3.25a.75.75 0 1 0-1.02 1.1l2.1 1.95H6.75Z",clipRule:"evenodd"}))}const E6=E.forwardRef(mue);function gue({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{fillRule:"evenodd",d:"M5.22 14.78a.75.75 0 0 0 1.06 0l7.22-7.22v5.69a.75.75 0 0 0 1.5 0v-7.5a.75.75 0 0 0-.75-.75h-7.5a.75.75 0 0 0 0 1.5h5.69l-7.22 7.22a.75.75 0 0 0 0 1.06Z",clipRule:"evenodd"}))}const vue=E.forwardRef(gue);function yue({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{fillRule:"evenodd",d:"M10 17a.75.75 0 0 1-.75-.75V5.612L5.29 9.77a.75.75 0 0 1-1.08-1.04l5.25-5.5a.75.75 0 0 1 1.08 0l5.25 5.5a.75.75 0 1 1-1.08 1.04l-3.96-4.158V16.25A.75.75 0 0 1 10 17Z",clipRule:"evenodd"}))}const xue=E.forwardRef(yue);function Cue({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{fillRule:"evenodd",d:"M2 6.75A.75.75 0 0 1 2.75 6h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 6.75Zm0 6.5a.75.75 0 0 1 .75-.75h14.5a.75.75 0 0 1 0 1.5H2.75a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"}))}const wue=E.forwardRef(Cue);function bue({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{fillRule:"evenodd",d:"M2 4.75A.75.75 0 0 1 2.75 4h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 4.75Zm0 10.5a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5a.75.75 0 0 1-.75-.75ZM2 10a.75.75 0 0 1 .75-.75h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 10Z",clipRule:"evenodd"}))}const M6=E.forwardRef(bue);function Sue({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{fillRule:"evenodd",d:"M6 3.75A2.75 2.75 0 0 1 8.75 1h2.5A2.75 2.75 0 0 1 14 3.75v.443c.572.055 1.14.122 1.706.2C17.053 4.582 18 5.75 18 7.07v3.469c0 1.126-.694 2.191-1.83 2.54-1.952.599-4.024.921-6.17.921s-4.219-.322-6.17-.921C2.694 12.73 2 11.665 2 10.539V7.07c0-1.321.947-2.489 2.294-2.676A41.047 41.047 0 0 1 6 4.193V3.75Zm6.5 0v.325a41.622 41.622 0 0 0-5 0V3.75c0-.69.56-1.25 1.25-1.25h2.5c.69 0 1.25.56 1.25 1.25ZM10 10a1 1 0 0 0-1 1v.01a1 1 0 0 0 1 1h.01a1 1 0 0 0 1-1V11a1 1 0 0 0-1-1H10Z",clipRule:"evenodd"}),E.createElement("path",{d:"M3 15.055v-.684c.126.053.255.1.39.142 2.092.642 4.313.987 6.61.987 2.297 0 4.518-.345 6.61-.987.135-.041.264-.089.39-.142v.684c0 1.347-.985 2.53-2.363 2.686a41.454 41.454 0 0 1-9.274 0C3.985 17.585 3 16.402 3 15.055Z"}))}const T6=E.forwardRef(Sue);function Eue({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{fillRule:"evenodd",d:"M5.75 2a.75.75 0 0 1 .75.75V4h7V2.75a.75.75 0 0 1 1.5 0V4h.25A2.75 2.75 0 0 1 18 6.75v8.5A2.75 2.75 0 0 1 15.25 18H4.75A2.75 2.75 0 0 1 2 15.25v-8.5A2.75 2.75 0 0 1 4.75 4H5V2.75A.75.75 0 0 1 5.75 2Zm-1 5.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h10.5c.69 0 1.25-.56 1.25-1.25v-6.5c0-.69-.56-1.25-1.25-1.25H4.75Z",clipRule:"evenodd"}))}const t1=E.forwardRef(Eue);function Mue({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{d:"M15.5 2A1.5 1.5 0 0 0 14 3.5v13a1.5 1.5 0 0 0 1.5 1.5h1a1.5 1.5 0 0 0 1.5-1.5v-13A1.5 1.5 0 0 0 16.5 2h-1ZM9.5 6A1.5 1.5 0 0 0 8 7.5v9A1.5 1.5 0 0 0 9.5 18h1a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 10.5 6h-1ZM3.5 10A1.5 1.5 0 0 0 2 11.5v5A1.5 1.5 0 0 0 3.5 18h1A1.5 1.5 0 0 0 6 16.5v-5A1.5 1.5 0 0 0 4.5 10h-1Z"}))}const R6=E.forwardRef(Mue);function Tue({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{fillRule:"evenodd",d:"M10 2c-2.236 0-4.43.18-6.57.524C1.993 2.755 1 4.014 1 5.426v5.148c0 1.413.993 2.67 2.43 2.902 1.168.188 2.352.327 3.55.414.28.02.521.18.642.413l1.713 3.293a.75.75 0 0 0 1.33 0l1.713-3.293a.783.783 0 0 1 .642-.413 41.102 41.102 0 0 0 3.55-.414c1.437-.231 2.43-1.49 2.43-2.902V5.426c0-1.413-.993-2.67-2.43-2.902A41.289 41.289 0 0 0 10 2ZM6.75 6a.75.75 0 0 0 0 1.5h6.5a.75.75 0 0 0 0-1.5h-6.5Zm0 2.5a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5h-3.5Z",clipRule:"evenodd"}))}const A6=E.forwardRef(Tue);function Rue({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{fillRule:"evenodd",d:"M10 2c-2.236 0-4.43.18-6.57.524C1.993 2.755 1 4.014 1 5.426v5.148c0 1.413.993 2.67 2.43 2.902.848.137 1.705.248 2.57.331v3.443a.75.75 0 0 0 1.28.53l3.58-3.579a.78.78 0 0 1 .527-.224 41.202 41.202 0 0 0 5.183-.5c1.437-.232 2.43-1.49 2.43-2.903V5.426c0-1.413-.993-2.67-2.43-2.902A41.289 41.289 0 0 0 10 2Zm0 7a1 1 0 1 0 0-2 1 1 0 0 0 0 2ZM8 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm5 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",clipRule:"evenodd"}))}const P6=E.forwardRef(Rue);function Aue({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const lb=E.forwardRef(Aue);function Pue({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{fillRule:"evenodd",d:"M11.78 5.22a.75.75 0 0 1 0 1.06L8.06 10l3.72 3.72a.75.75 0 1 1-1.06 1.06l-4.25-4.25a.75.75 0 0 1 0-1.06l4.25-4.25a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const D6=E.forwardRef(Pue);function Due({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{fillRule:"evenodd",d:"M8.22 5.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06L11.94 10 8.22 6.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const _6=E.forwardRef(Due);function _ue({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{fillRule:"evenodd",d:"M13.887 3.182c.396.037.79.08 1.183.128C16.194 3.45 17 4.414 17 5.517V16.75A2.25 2.25 0 0 1 14.75 19h-9.5A2.25 2.25 0 0 1 3 16.75V5.517c0-1.103.806-2.068 1.93-2.207.393-.048.787-.09 1.183-.128A3.001 3.001 0 0 1 9 1h2c1.373 0 2.531.923 2.887 2.182ZM7.5 4A1.5 1.5 0 0 1 9 2.5h2A1.5 1.5 0 0 1 12.5 4v.5h-5V4Z",clipRule:"evenodd"}))}const F6=E.forwardRef(_ue);function Fue({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{d:"m9.653 16.915-.005-.003-.019-.01a20.759 20.759 0 0 1-1.162-.682 22.045 22.045 0 0 1-2.582-1.9C4.045 12.733 2 10.352 2 7.5a4.5 4.5 0 0 1 8-2.828A4.5 4.5 0 0 1 18 7.5c0 2.852-2.044 5.233-3.885 6.82a22.049 22.049 0 0 1-3.744 2.582l-.019.01-.005.003h-.002a.739.739 0 0 1-.69.001l-.002-.001Z"}))}const N6=E.forwardRef(Fue);function Nue({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{fillRule:"evenodd",d:"M2 3.5A1.5 1.5 0 0 1 3.5 2h9A1.5 1.5 0 0 1 14 3.5v11.75A2.75 2.75 0 0 0 16.75 18h-12A2.75 2.75 0 0 1 2 15.25V3.5Zm3.75 7a.75.75 0 0 0 0 1.5h4.5a.75.75 0 0 0 0-1.5h-4.5Zm0 3a.75.75 0 0 0 0 1.5h4.5a.75.75 0 0 0 0-1.5h-4.5ZM5 5.75A.75.75 0 0 1 5.75 5h4.5a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-.75.75h-4.5A.75.75 0 0 1 5 8.25v-2.5Z",clipRule:"evenodd"}),E.createElement("path",{d:"M16.5 6.5h-1v8.75a1.25 1.25 0 1 0 2.5 0V8a1.5 1.5 0 0 0-1.5-1.5Z"}))}const n1=E.forwardRef(Nue);function Iue({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{d:"M3.105 2.288a.75.75 0 0 0-.826.95l1.414 4.926A1.5 1.5 0 0 0 5.135 9.25h6.115a.75.75 0 0 1 0 1.5H5.135a1.5 1.5 0 0 0-1.442 1.086l-1.414 4.926a.75.75 0 0 0 .826.95 28.897 28.897 0 0 0 15.293-7.155.75.75 0 0 0 0-1.114A28.897 28.897 0 0 0 3.105 2.288Z"}))}const Oue=E.forwardRef(Iue);function Lue({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{d:"M2 4.25A2.25 2.25 0 0 1 4.25 2h6.5A2.25 2.25 0 0 1 13 4.25V5.5H9.25A3.75 3.75 0 0 0 5.5 9.25V13H4.25A2.25 2.25 0 0 1 2 10.75v-6.5Z"}),E.createElement("path",{d:"M9.25 7A2.25 2.25 0 0 0 7 9.25v6.5A2.25 2.25 0 0 0 9.25 18h6.5A2.25 2.25 0 0 0 18 15.75v-6.5A2.25 2.25 0 0 0 15.75 7h-6.5Z"}))}const cb=E.forwardRef(Lue);function kue({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{d:"M10 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM3.465 14.493a1.23 1.23 0 0 0 .41 1.412A9.957 9.957 0 0 0 10 18c2.31 0 4.438-.784 6.131-2.1.43-.333.604-.903.408-1.41a7.002 7.002 0 0 0-13.074.003Z"}))}const I6=E.forwardRef(kue);function Bue({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{fillRule:"evenodd",d:"M14.5 10a4.5 4.5 0 0 0 4.284-5.882c-.105-.324-.51-.391-.752-.15L15.34 6.66a.454.454 0 0 1-.493.11 3.01 3.01 0 0 1-1.618-1.616.455.455 0 0 1 .11-.494l2.694-2.692c.24-.241.174-.647-.15-.752a4.5 4.5 0 0 0-5.873 4.575c.055.873-.128 1.808-.8 2.368l-7.23 6.024a2.724 2.724 0 1 0 3.837 3.837l6.024-7.23c.56-.672 1.495-.855 2.368-.8.096.007.193.01.291.01ZM5 16a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z",clipRule:"evenodd"}),E.createElement("path",{d:"M14.5 11.5c.173 0 .345-.007.514-.022l3.754 3.754a2.5 2.5 0 0 1-3.536 3.536l-4.41-4.41 2.172-2.607c.052-.063.147-.138.342-.196.202-.06.469-.087.777-.067.128.008.257.012.387.012ZM6 4.586l2.33 2.33a.452.452 0 0 1-.08.09L6.8 8.214 4.586 6H3.309a.5.5 0 0 1-.447-.276l-1.7-3.402a.5.5 0 0 1 .093-.577l.49-.49a.5.5 0 0 1 .577-.094l3.402 1.7A.5.5 0 0 1 6 3.31v1.277Z"}))}const O6=E.forwardRef(Bue);function Hue({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{d:"M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z"}))}const Vue=E.forwardRef(Hue),L_=({images:t,isButtonOutside:e})=>{const[n,i]=E.useState(0),s=()=>{i(o=>(o+1)%t.length)},r=()=>{i(o=>(o-1+t.length)%t.length)};return v.jsxs("div",{className:"relative w-full mx-auto overflow-hidden flex items-center",children:[t.length>1&&v.jsx("button",{type:"button",className:`flex items-center justify-center z-50 p-1 md:p-2 lg:p-4 self-stretch ${e?"bg-white":"absolute left-0 h-full bg-transparent"}`,children:v.jsx(D6,{onClick:r,className:"w-6 h-6 md:w-8 md:h-8 opacity-30 bg-primary cursor-pointer text-white hover:text-white hover:bg-primary hover:opacity-100 rounded-full"})}),v.jsx("div",{className:"flex transition-transform duration-700 ease-in-out w-full",style:{transform:t.length>1?`translateX(-${n*100}%)`:"none"},children:t.map((o,a)=>v.jsx("img",{src:o,className:"w-full flex-shrink-0 rounded-lg",alt:`Slide ${a+1}`},a))}),t.length>1&&v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"absolute z-30 flex -translate-x-1/2 bottom-5 left-1/2 space-x-3",children:t.map((o,a)=>v.jsx("button",{type:"button",className:`w-2 h-2 rounded-full cursor-pointer ${a===n?"bg-primary":"bg-gray-200"}`,onClick:()=>i(a),"aria-label":`Slide ${a+1}`},a))}),v.jsx("button",{type:"button",className:`flex items-center justify-center z-50 p-1 md:p-2 lg:p-4 self-stretch ${e?"bg-white":"absolute right-0 h-full bg-transparent"}`,children:v.jsx(_6,{onClick:s,className:"w-6 h-6 md:w-8 md:h-8 opacity-30 bg-primary cursor-pointer text-white hover:text-white hover:bg-primary hover:opacity-100 rounded-full"})})]})]})},L6=({id:t,title:e,content:n,createdAt:i,createdBy:s,images:r,relatedArticles:o,backPath:a,type:l})=>{const c=Hi(),d=fs(),{fullDate:f}=fu(i);E.useEffect(()=>{e&&(document.title=e)},[t,c]);const p=()=>{document.title="SuiteLifer",d(a,{replace:!0})};return v.jsxs(v.Fragment,{children:[v.jsxs(RG,{children:[v.jsx("title",{children:e||"SuiteLifer"}),v.jsx("meta",{name:"description",content:n?n.substring(0,150)+"...":"Read the latest articles on SuiteLifer."}),v.jsx("meta",{name:"keywords",content:`${e}, ${l}, SuiteLifer News, SuiteLifer Blogs, blog, news`})]}),v.jsxs("section",{className:"gap-4 h-dvh",style:{maxWidth:"2000px",margin:"0 auto"},children:[v.jsx("div",{className:"sm:hidden",children:v.jsx(Yr,{})}),v.jsx("div",{className:"tablet-nav",children:v.jsx(Xr,{})}),v.jsx("div",{className:"desktop-nav",children:v.jsx(Zr,{})}),v.jsx("section",{className:"pt-[10%] xl:pt-[8%] relative",children:v.jsx("img",{className:"-z-50 absolute w-[70%] transform translate-y-5 -translate-x-10 lg:-translate-x-20 xl:-translate-x-50 opacity-90",src:w6,alt:""})}),v.jsxs("main",{className:"px-[7%] text-sm md:text-base md:px-[5%] lg:px-[8%]",children:[v.jsxs("button",{onClick:p,className:"flex cursor-pointer hover:underline items-center gap-2 text-primary !text-[12px] md:text-base font-semibold transition active:font-avenir-black",children:[v.jsx(A_,{size:15})," ",v.jsxs("span",{className:"mt-1",children:["Back to ",l]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[2fr_1fr] gap-10",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-[12px] text-gray-500 mt-5",children:f}),v.jsx("p",{className:"text-xl md:text-2xl lg:text-3xl font-avenir-black my-2 font-avenir-black",children:e}),v.jsxs("p",{className:"text-[12px] text-gray-500",children:[v.jsx("span",{className:"text-primary font-avenir-black",children:s})," ","| ",jy("Hello",238).text]}),v.jsx(L_,{images:Array.isArray(r)?r:[],isButtonOutside:!1}),v.jsx("p",{className:`mt-4 text-gray-700 whitespace-pre-line ${l==="News"?"font-avenir-black":""}`,children:jv(n)})]}),v.jsxs("div",{className:"overflow-y-auto lg:px-5 lg:h-[100vh]",children:[v.jsxs("p",{className:"mt-5 font-avenir-black text-primary pb-3 lg:pb-4",children:["Read More ",l]}),v.jsx("div",{className:"grid grid-cols-1 gap-2 justify-center items-center",children:l==="Blog"?o.map((m,y)=>v.jsx("div",{children:v.jsx(uue,{id:m.id,title:m.title,author:m.author,article:m.article,readTime:m.readTime||m.read_time,created_at:m.created_at,images:m.images||m.imagesWithCaption})},m.id||y)):v.jsx("div",{className:"grid grid-cols-1 gap-4 justify-center items-center",children:o.map((m,y)=>v.jsx(due,{id:m.id,title:m.title,author:m.author,readTime:m.readTime,created_at:m.created_at,imagesWithCaption:m.imagesWithCaption},m.id||y))})})]})]})]}),v.jsx("div",{className:"h-30"})," ",v.jsx(Do,{}),v.jsx(pu,{})]})]})},zue=()=>{const e=Hi().state.cblog_id,n=b6,[i,s]=E.useState({}),r=async()=>{try{const o=await on.get(`/api/get-company-blog/${e}`);console.log(o.data.data),s(o.data.data)}catch(o){console.log(o)}};return E.useEffect(()=>{r()},[]),v.jsx(v.Fragment,{children:v.jsx(L6,{id:i.cblogId,title:i.title,content:i.description,createdAt:i.createdAt,createdBy:i.createdBy,images:i.images,relatedArticles:n,backPath:"/blogs",type:"Blog"})})},Gue=()=>{var a;const{id:t}=Iy(),e=Hi();console.log((a=e.state)==null?void 0:a.id);const n=ld.filter(l=>l.id.toString()!==t).slice(0,5),[i,s]=E.useState(!1),[r,o]=E.useState({});return E.useEffect(()=>{window.scroll(0,0)},[]),E.useEffect(()=>{(async()=>{var c;try{s(!0);const d=((c=e.state)==null?void 0:c.id)||t;if(!d)return;const f=await on.get(`/api/get-news/${d}`);console.log(f.data),o(f.data)}catch(d){console.error(d)}finally{s(!1)}})()},[e.state,t]),i?v.jsx("section",{className:"w-full h-full"}):v.jsx(v.Fragment,{children:r&&v.jsx(L6,{id:r.id,content:r.article,createdAt:r.createdAt,createdBy:r.createdBy,images:r.imgUrls,relatedArticles:n,backPath:"/news",type:"News"})})},CR=fi.create({baseURL:"https://ats-hr-backend.vercel.app/",timeout:5e3,withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}});function Sh(t,e,n,i){function s(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(d){try{c(i.next(d))}catch(f){o(f)}}function l(d){try{c(i.throw(d))}catch(f){o(f)}}function c(d){d.done?r(d.value):s(d.value).then(a,l)}c((i=i.apply(t,e||[])).next())})}const Uue=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Sp(t,e,n){const i=jue(t),{webkitRelativePath:s}=t,r=typeof e=="string"?e:typeof s=="string"&&s.length>0?s:`./${t.name}`;return typeof i.path!="string"&&aB(i,"path",r),aB(i,"relativePath",r),i}function jue(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const i=e.split(".").pop().toLowerCase(),s=Uue.get(i);s&&Object.defineProperty(t,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return t}function aB(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const Wue=[".DS_Store","Thumbs.db"];function $ue(t){return Sh(this,void 0,void 0,function*(){return ub(t)&&que(t.dataTransfer)?Zue(t.dataTransfer,t.type):Kue(t)?Yue(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?Xue(t):[]})}function que(t){return ub(t)}function Kue(t){return ub(t)&&ub(t.target)}function ub(t){return typeof t=="object"&&t!==null}function Yue(t){return X2(t.target.files).map(e=>Sp(e))}function Xue(t){return Sh(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>Sp(n))})}function Zue(t,e){return Sh(this,void 0,void 0,function*(){if(t.items){const n=X2(t.items).filter(s=>s.kind==="file");if(e!=="drop")return n;const i=yield Promise.all(n.map(Jue));return lB(k6(i))}return lB(X2(t.files).map(n=>Sp(n)))})}function lB(t){return t.filter(e=>Wue.indexOf(e.name)===-1)}function X2(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const i=t[n];e.push(i)}return e}function Jue(t){if(typeof t.webkitGetAsEntry!="function")return cB(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?B6(e):cB(t,e)}function k6(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?k6(n):[n]],[])}function cB(t,e){return Sh(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const r=yield t.getAsFileSystemHandle();if(r===null)throw new Error(`${t} is not a File`);if(r!==void 0){const o=yield r.getFile();return o.handle=r,Sp(o)}}const i=t.getAsFile();if(!i)throw new Error(`${t} is not a File`);return Sp(i,(n=e==null?void 0:e.fullPath)!==null&&n!==void 0?n:void 0)})}function Que(t){return Sh(this,void 0,void 0,function*(){return t.isDirectory?B6(t):ede(t)})}function B6(t){const e=t.createReader();return new Promise((n,i)=>{const s=[];function r(){e.readEntries(o=>Sh(this,void 0,void 0,function*(){if(o.length){const a=Promise.all(o.map(Que));s.push(a),r()}else try{const a=yield Promise.all(s);n(a)}catch(a){i(a)}}),o=>{i(o)})}r()})}function ede(t){return Sh(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(i=>{const s=Sp(i,t.fullPath);e(s)},i=>{n(i)})})})}var jx={},uB;function tde(){return uB||(uB=1,jx.__esModule=!0,jx.default=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var i=t.name||"",s=(t.type||"").toLowerCase(),r=s.replace(/\/.*$/,"");return n.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?i.toLowerCase().endsWith(a):a.endsWith("/*")?r===a.replace(/\/.*$/,""):s===a})}return!0}),jx}var nde=tde();const wR=du(nde);function dB(t){return rde(t)||sde(t)||V6(t)||ide()}function ide(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rde(t){if(Array.isArray(t))return Z2(t)}function hB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function fB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hB(Object(n),!0).forEach(function(i){H6(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hB(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function H6(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $v(t,e){return lde(t)||ade(t,e)||V6(t,e)||ode()}function ode(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V6(t,e){if(t){if(typeof t=="string")return Z2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z2(t,e)}}function Z2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function ade(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i=[],s=!0,r=!1,o,a;try{for(n=n.call(t);!(s=(o=n.next()).done)&&(i.push(o.value),!(e&&i.length===e));s=!0);}catch(l){r=!0,a=l}finally{try{!s&&n.return!=null&&n.return()}finally{if(r)throw a}}return i}}function lde(t){if(Array.isArray(t))return t}var cde=typeof wR=="function"?wR:wR.default,ude="file-invalid-type",dde="file-too-large",hde="file-too-small",fde="too-many-files",pde=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),i=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:ude,message:"File type must be ".concat(i)}},pB=function(e){return{code:dde,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},mB=function(e){return{code:hde,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},mde={code:fde,message:"Too many files"};function z6(t,e){var n=t.type==="application/x-moz-file"||cde(t,e);return[n,n?null:pde(e)]}function G6(t,e,n){if(yd(t.size))if(yd(e)&&yd(n)){if(t.size>n)return[!1,pB(n)];if(t.size<e)return[!1,mB(e)]}else{if(yd(e)&&t.size<e)return[!1,mB(e)];if(yd(n)&&t.size>n)return[!1,pB(n)]}return[!0,null]}function yd(t){return t!=null}function gde(t){var e=t.files,n=t.accept,i=t.minSize,s=t.maxSize,r=t.multiple,o=t.maxFiles,a=t.validator;return!r&&e.length>1||r&&o>=1&&e.length>o?!1:e.every(function(l){var c=z6(l,n),d=$v(c,1),f=d[0],p=G6(l,i,s),m=$v(p,1),y=m[0],C=a?a(l):null;return f&&y&&!C})}function db(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function Wx(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function gB(t){t.preventDefault()}function vde(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function yde(t){return t.indexOf("Edge/")!==-1}function xde(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return vde(t)||yde(t)}function ga(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(i){for(var s=arguments.length,r=new Array(s>1?s-1:0),o=1;o<s;o++)r[o-1]=arguments[o];return e.some(function(a){return!db(i)&&a&&a.apply(void 0,[i].concat(r)),db(i)})}}function Cde(){return"showOpenFilePicker"in window}function wde(t){if(yd(t)){var e=Object.entries(t).filter(function(n){var i=$v(n,2),s=i[0],r=i[1],o=!0;return U6(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(r)||!r.every(j6))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,i){var s=$v(i,2),r=s[0],o=s[1];return fB(fB({},n),{},H6({},r,o))},{});return[{description:"Files",accept:e}]}return t}function bde(t){if(yd(t))return Object.entries(t).reduce(function(e,n){var i=$v(n,2),s=i[0],r=i[1];return[].concat(dB(e),[s],dB(r))},[]).filter(function(e){return U6(e)||j6(e)}).join(",")}function Sde(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function Ede(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function U6(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function j6(t){return/^.*\.[\w]+$/.test(t)}var Mde=["children"],Tde=["open"],Rde=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Ade=["refKey","onChange","onClick"];function Pde(t){return Fde(t)||_de(t)||W6(t)||Dde()}function Dde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _de(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fde(t){if(Array.isArray(t))return J2(t)}function bR(t,e){return Ode(t)||Ide(t,e)||W6(t,e)||Nde()}function Nde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W6(t,e){if(t){if(typeof t=="string")return J2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J2(t,e)}}function J2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Ide(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i=[],s=!0,r=!1,o,a;try{for(n=n.call(t);!(s=(o=n.next()).done)&&(i.push(o.value),!(e&&i.length===e));s=!0);}catch(l){r=!0,a=l}finally{try{!s&&n.return!=null&&n.return()}finally{if(r)throw a}}return i}}function Ode(t){if(Array.isArray(t))return t}function vB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function $n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vB(Object(n),!0).forEach(function(i){Q2(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vB(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Q2(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hb(t,e){if(t==null)return{};var n=Lde(t,e),i,s;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function Lde(t,e){if(t==null)return{};var n={},i=Object.keys(t),s,r;for(r=0;r<i.length;r++)s=i[r],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var k_=E.forwardRef(function(t,e){var n=t.children,i=hb(t,Mde),s=q6(i),r=s.open,o=hb(s,Tde);return E.useImperativeHandle(e,function(){return{open:r}},[r]),ne.createElement(E.Fragment,null,n($n($n({},o),{},{open:r})))});k_.displayName="Dropzone";var $6={disabled:!1,getFilesFromEvent:$ue,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};k_.defaultProps=$6;k_.propTypes={children:Dn.func,accept:Dn.objectOf(Dn.arrayOf(Dn.string)),multiple:Dn.bool,preventDropOnDocument:Dn.bool,noClick:Dn.bool,noKeyboard:Dn.bool,noDrag:Dn.bool,noDragEventsBubbling:Dn.bool,minSize:Dn.number,maxSize:Dn.number,maxFiles:Dn.number,disabled:Dn.bool,getFilesFromEvent:Dn.func,onFileDialogCancel:Dn.func,onFileDialogOpen:Dn.func,useFsAccessApi:Dn.bool,autoFocus:Dn.bool,onDragEnter:Dn.func,onDragLeave:Dn.func,onDragOver:Dn.func,onDrop:Dn.func,onDropAccepted:Dn.func,onDropRejected:Dn.func,onError:Dn.func,validator:Dn.func};var eP={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function q6(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=$n($n({},$6),t),n=e.accept,i=e.disabled,s=e.getFilesFromEvent,r=e.maxSize,o=e.minSize,a=e.multiple,l=e.maxFiles,c=e.onDragEnter,d=e.onDragLeave,f=e.onDragOver,p=e.onDrop,m=e.onDropAccepted,y=e.onDropRejected,C=e.onFileDialogCancel,x=e.onFileDialogOpen,w=e.useFsAccessApi,M=e.autoFocus,S=e.preventDropOnDocument,R=e.noClick,P=e.noKeyboard,F=e.noDrag,N=e.noDragEventsBubbling,I=e.onError,_=e.validator,A=E.useMemo(function(){return bde(n)},[n]),O=E.useMemo(function(){return wde(n)},[n]),k=E.useMemo(function(){return typeof x=="function"?x:yB},[x]),z=E.useMemo(function(){return typeof C=="function"?C:yB},[C]),W=E.useRef(null),K=E.useRef(null),V=E.useReducer(kde,eP),Q=bR(V,2),q=Q[0],X=Q[1],H=q.isFocused,ee=q.isFileDialogActive,ge=E.useRef(typeof window<"u"&&window.isSecureContext&&w&&Cde()),Se=function(){!ge.current&&ee&&setTimeout(function(){if(K.current){var fe=K.current.files;fe.length||(X({type:"closeDialog"}),z())}},300)};E.useEffect(function(){return window.addEventListener("focus",Se,!1),function(){window.removeEventListener("focus",Se,!1)}},[K,ee,z,ge]);var Z=E.useRef([]),ae=function(fe){W.current&&W.current.contains(fe.target)||(fe.preventDefault(),Z.current=[])};E.useEffect(function(){return S&&(document.addEventListener("dragover",gB,!1),document.addEventListener("drop",ae,!1)),function(){S&&(document.removeEventListener("dragover",gB),document.removeEventListener("drop",ae))}},[W,S]),E.useEffect(function(){return!i&&M&&W.current&&W.current.focus(),function(){}},[W,M,i]);var xe=E.useCallback(function(te){I?I(te):console.error(te)},[I]),Me=E.useCallback(function(te){te.preventDefault(),te.persist(),Ge(te),Z.current=[].concat(Pde(Z.current),[te.target]),Wx(te)&&Promise.resolve(s(te)).then(function(fe){if(!(db(te)&&!N)){var he=fe.length,je=he>0&&gde({files:fe,accept:A,minSize:o,maxSize:r,multiple:a,maxFiles:l,validator:_}),We=he>0&&!je;X({isDragAccept:je,isDragReject:We,isDragActive:!0,type:"setDraggedFiles"}),c&&c(te)}}).catch(function(fe){return xe(fe)})},[s,c,xe,N,A,o,r,a,l,_]),Oe=E.useCallback(function(te){te.preventDefault(),te.persist(),Ge(te);var fe=Wx(te);if(fe&&te.dataTransfer)try{te.dataTransfer.dropEffect="copy"}catch{}return fe&&f&&f(te),!1},[f,N]),Le=E.useCallback(function(te){te.preventDefault(),te.persist(),Ge(te);var fe=Z.current.filter(function(je){return W.current&&W.current.contains(je)}),he=fe.indexOf(te.target);he!==-1&&fe.splice(he,1),Z.current=fe,!(fe.length>0)&&(X({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Wx(te)&&d&&d(te))},[W,d,N]),we=E.useCallback(function(te,fe){var he=[],je=[];te.forEach(function(We){var Ze=z6(We,A),Ct=bR(Ze,2),Ne=Ct[0],et=Ct[1],ft=G6(We,o,r),dt=bR(ft,2),Ie=dt[0],rt=dt[1],tt=_?_(We):null;if(Ne&&Ie&&!tt)he.push(We);else{var Gt=[et,rt];tt&&(Gt=Gt.concat(tt)),je.push({file:We,errors:Gt.filter(function(se){return se})})}}),(!a&&he.length>1||a&&l>=1&&he.length>l)&&(he.forEach(function(We){je.push({file:We,errors:[mde]})}),he.splice(0)),X({acceptedFiles:he,fileRejections:je,isDragReject:je.length>0,type:"setFiles"}),p&&p(he,je,fe),je.length>0&&y&&y(je,fe),he.length>0&&m&&m(he,fe)},[X,a,A,o,r,l,p,m,y,_]),$e=E.useCallback(function(te){te.preventDefault(),te.persist(),Ge(te),Z.current=[],Wx(te)&&Promise.resolve(s(te)).then(function(fe){db(te)&&!N||we(fe,te)}).catch(function(fe){return xe(fe)}),X({type:"reset"})},[s,we,xe,N]),ce=E.useCallback(function(){if(ge.current){X({type:"openDialog"}),k();var te={multiple:a,types:O};window.showOpenFilePicker(te).then(function(fe){return s(fe)}).then(function(fe){we(fe,null),X({type:"closeDialog"})}).catch(function(fe){Sde(fe)?(z(fe),X({type:"closeDialog"})):Ede(fe)?(ge.current=!1,K.current?(K.current.value=null,K.current.click()):xe(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):xe(fe)});return}K.current&&(X({type:"openDialog"}),k(),K.current.value=null,K.current.click())},[X,k,z,w,we,xe,O,a]),Ce=E.useCallback(function(te){!W.current||!W.current.isEqualNode(te.target)||(te.key===" "||te.key==="Enter"||te.keyCode===32||te.keyCode===13)&&(te.preventDefault(),ce())},[W,ce]),U=E.useCallback(function(){X({type:"focus"})},[]),ke=E.useCallback(function(){X({type:"blur"})},[]),De=E.useCallback(function(){R||(xde()?setTimeout(ce,0):ce())},[R,ce]),Xe=function(fe){return i?null:fe},Ve=function(fe){return P?null:Xe(fe)},at=function(fe){return F?null:Xe(fe)},Ge=function(fe){N&&fe.stopPropagation()},$=E.useMemo(function(){return function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=te.refKey,he=fe===void 0?"ref":fe,je=te.role,We=te.onKeyDown,Ze=te.onFocus,Ct=te.onBlur,Ne=te.onClick,et=te.onDragEnter,ft=te.onDragOver,dt=te.onDragLeave,Ie=te.onDrop,rt=hb(te,Rde);return $n($n(Q2({onKeyDown:Ve(ga(We,Ce)),onFocus:Ve(ga(Ze,U)),onBlur:Ve(ga(Ct,ke)),onClick:Xe(ga(Ne,De)),onDragEnter:at(ga(et,Me)),onDragOver:at(ga(ft,Oe)),onDragLeave:at(ga(dt,Le)),onDrop:at(ga(Ie,$e)),role:typeof je=="string"&&je!==""?je:"presentation"},he,W),!i&&!P?{tabIndex:0}:{}),rt)}},[W,Ce,U,ke,De,Me,Oe,Le,$e,P,F,i]),B=E.useCallback(function(te){te.stopPropagation()},[]),de=E.useMemo(function(){return function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=te.refKey,he=fe===void 0?"ref":fe,je=te.onChange,We=te.onClick,Ze=hb(te,Ade),Ct=Q2({accept:A,multiple:a,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Xe(ga(je,$e)),onClick:Xe(ga(We,B)),tabIndex:-1},he,K);return $n($n({},Ct),Ze)}},[K,n,a,$e,i]);return $n($n({},q),{},{isFocused:H&&!i,getRootProps:$,getInputProps:de,rootRef:W,inputRef:K,open:Xe(ce)})}function kde(t,e){switch(e.type){case"focus":return $n($n({},t),{},{isFocused:!0});case"blur":return $n($n({},t),{},{isFocused:!1});case"openDialog":return $n($n({},eP),{},{isFileDialogActive:!0});case"closeDialog":return $n($n({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return $n($n({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return $n($n({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return $n({},eP);default:return t}}function yB(){}function Bde({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinejoin:"round",d:"M6.75 3.744h-.753v8.25h7.125a4.125 4.125 0 0 0 0-8.25H6.75Zm0 0v.38m0 16.122h6.747a4.5 4.5 0 0 0 0-9.001h-7.5v9h.753Zm0 0v-.37m0-15.751h6a3.75 3.75 0 1 1 0 7.5h-6m0-7.5v7.5m0 0v8.25m0-8.25h6.375a4.125 4.125 0 0 1 0 8.25H6.75m.747-15.38h4.875a3.375 3.375 0 0 1 0 6.75H7.497v-6.75Zm0 7.5h5.25a3.75 3.75 0 0 1 0 7.5h-5.25v-7.5Z"}))}const Hde=E.forwardRef(Bde);function Vde({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"}))}const zde=E.forwardRef(Vde);function Gde({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const Ude=E.forwardRef(Gde);function jde({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const Wde=E.forwardRef(jde);function $de({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const qde=E.forwardRef($de);function Kde({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const Yde=E.forwardRef(Kde);function Xde({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Zde=E.forwardRef(Xde);function Jde({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const Qde=E.forwardRef(Jde);function ehe({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const the=E.forwardRef(ehe);function nhe({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const i1=E.forwardRef(nhe);function ihe({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.248 20.246H9.05m0 0h3.696m-3.696 0 5.893-16.502m0 0h-3.697m3.697 0h3.803"}))}const she=E.forwardRef(ihe);function rhe({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const K6=E.forwardRef(rhe);function ohe({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.242 5.992h12m-12 6.003H20.24m-12 5.999h12M4.117 7.495v-3.75H2.99m1.125 3.75H2.99m1.125 0H5.24m-1.92 2.577a1.125 1.125 0 1 1 1.591 1.59l-1.83 1.83h2.16M2.99 15.745h1.125a1.125 1.125 0 0 1 0 2.25H3.74m0-.002h.375a1.125 1.125 0 0 1 0 2.25H2.99"}))}const ahe=E.forwardRef(ohe);function lhe({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 6v.75m0 3v.75m0 3v.75m0 3V18m-9-5.25h5.25M7.5 15h3M3.375 5.25c-.621 0-1.125.504-1.125 1.125v3.026a2.999 2.999 0 0 1 0 5.198v3.026c0 .621.504 1.125 1.125 1.125h17.25c.621 0 1.125-.504 1.125-1.125v-3.026a2.999 2.999 0 0 1 0-5.198V6.375c0-.621-.504-1.125-1.125-1.125H3.375Z"}))}const che=E.forwardRef(lhe);function uhe({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.995 3.744v7.5a6 6 0 1 1-12 0v-7.5m-2.25 16.502h16.5"}))}const dhe=E.forwardRef(uhe);function hhe({title:t,titleId:e,...n},i){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const fhe=E.forwardRef(hhe);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var tP=function(){return tP=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},tP.apply(this,arguments)},nP,phe=function(t){var e;t?function(n){if(n)for(;n.lastChild;)n.lastChild.remove()}(typeof t=="string"?document.getElementById(t):t):(e=document.querySelector(".grecaptcha-badge"))&&e.parentNode&&document.body.removeChild(e.parentNode)},mhe=function(t,e){phe(e),window.___grecaptcha_cfg=void 0;var n=document.querySelector("#"+t);n&&n.remove(),function(){var i=document.querySelector('script[src^="https://www.gstatic.com/recaptcha/releases"]');i&&i.remove()}()},ghe=function(t){var e=t.render,n=t.onLoadCallbackName,i=t.language,s=t.onLoad,r=t.useRecaptchaNet,o=t.useEnterprise,a=t.scriptProps,l=a===void 0?{}:a,c=l.nonce,d=c===void 0?"":c,f=l.defer,p=f!==void 0&&f,m=l.async,y=m!==void 0&&m,C=l.id,x=C===void 0?"":C,w=l.appendTo,M=x||"google-recaptcha-v3";if(function(P){return!!document.querySelector("#"+P)}(M))s();else{var S=function(P){return"https://www."+(P.useRecaptchaNet?"recaptcha.net":"google.com")+"/recaptcha/"+(P.useEnterprise?"enterprise.js":"api.js")}({useEnterprise:o,useRecaptchaNet:r}),R=document.createElement("script");R.id=M,R.src=S+"?render="+e+(e==="explicit"?"&onload="+n:"")+(i?"&hl="+i:""),d&&(R.nonce=d),R.defer=!!p,R.async=!!y,R.onload=s,(w==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(R)}},xB=function(t){console.warn(t)};(function(t){t.SCRIPT_NOT_AVAILABLE="Recaptcha script is not available"})(nP||(nP={}));var B_=E.createContext({executeRecaptcha:function(){throw Error("GoogleReCaptcha Context has not yet been implemented, if you are using useGoogleReCaptcha hook, make sure the hook is called inside component wrapped by GoogleRecaptchaProvider")}});B_.Consumer;function Y6(t){var e=t.reCaptchaKey,n=t.useEnterprise,i=n!==void 0&&n,s=t.useRecaptchaNet,r=s!==void 0&&s,o=t.scriptProps,a=t.language,l=t.container,c=t.children,d=E.useState(null),f=d[0],p=d[1],m=E.useRef(e),y=JSON.stringify(o),C=JSON.stringify(l==null?void 0:l.parameters);E.useEffect(function(){if(e){var M=(o==null?void 0:o.id)||"google-recaptcha-v3",S=(o==null?void 0:o.onLoadCallbackName)||"onRecaptchaLoadCallback";return window[S]=function(){var R=i?window.grecaptcha.enterprise:window.grecaptcha,P=tP({badge:"inline",size:"invisible",sitekey:e},(l==null?void 0:l.parameters)||{});m.current=R.render(l==null?void 0:l.element,P)},ghe({render:l!=null&&l.element?"explicit":e,onLoadCallbackName:S,useEnterprise:i,useRecaptchaNet:r,scriptProps:o,language:a,onLoad:function(){if(window&&window.grecaptcha){var R=i?window.grecaptcha.enterprise:window.grecaptcha;R.ready(function(){p(R)})}else xB("<GoogleRecaptchaProvider /> "+nP.SCRIPT_NOT_AVAILABLE)}}),function(){mhe(M,l==null?void 0:l.element)}}xB("<GoogleReCaptchaProvider /> recaptcha key not provided")},[i,r,y,C,a,e,l==null?void 0:l.element]);var x=E.useCallback(function(M){if(!f||!f.execute)throw new Error("<GoogleReCaptchaProvider /> Google Recaptcha has not been loaded");return f.execute(m.current,{action:M})},[f,m]),w=E.useMemo(function(){return{executeRecaptcha:f?x:void 0,container:l==null?void 0:l.element}},[x,f,l==null?void 0:l.element]);return ne.createElement(B_.Provider,{value:w},c)}var X6=function(){return E.useContext(B_)};function Z6(t,e){return t(e={exports:{}},e.exports),e.exports;/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */}var Ji=typeof Symbol=="function"&&Symbol.for,iP=Ji?Symbol.for("react.element"):60103,sP=Ji?Symbol.for("react.portal"):60106,vw=Ji?Symbol.for("react.fragment"):60107,yw=Ji?Symbol.for("react.strict_mode"):60108,xw=Ji?Symbol.for("react.profiler"):60114,Cw=Ji?Symbol.for("react.provider"):60109,ww=Ji?Symbol.for("react.context"):60110,rP=Ji?Symbol.for("react.async_mode"):60111,fb=Ji?Symbol.for("react.concurrent_mode"):60111,bw=Ji?Symbol.for("react.forward_ref"):60112,Sw=Ji?Symbol.for("react.suspense"):60113,vhe=Ji?Symbol.for("react.suspense_list"):60120,Ew=Ji?Symbol.for("react.memo"):60115,Mw=Ji?Symbol.for("react.lazy"):60116,yhe=Ji?Symbol.for("react.block"):60121,xhe=Ji?Symbol.for("react.fundamental"):60117,Che=Ji?Symbol.for("react.responder"):60118,whe=Ji?Symbol.for("react.scope"):60119;function Or(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case iP:switch(t=t.type){case rP:case fb:case vw:case xw:case yw:case Sw:return t;default:switch(t=t&&t.$$typeof){case ww:case bw:case Mw:case Ew:case Cw:return t;default:return e}}case sP:return e}}}function CB(t){return Or(t)===fb}var bhe={AsyncMode:rP,ConcurrentMode:fb,ContextConsumer:ww,ContextProvider:Cw,Element:iP,ForwardRef:bw,Fragment:vw,Lazy:Mw,Memo:Ew,Portal:sP,Profiler:xw,StrictMode:yw,Suspense:Sw,isAsyncMode:function(t){return CB(t)||Or(t)===rP},isConcurrentMode:CB,isContextConsumer:function(t){return Or(t)===ww},isContextProvider:function(t){return Or(t)===Cw},isElement:function(t){return typeof t=="object"&&t!==null&&t.$$typeof===iP},isForwardRef:function(t){return Or(t)===bw},isFragment:function(t){return Or(t)===vw},isLazy:function(t){return Or(t)===Mw},isMemo:function(t){return Or(t)===Ew},isPortal:function(t){return Or(t)===sP},isProfiler:function(t){return Or(t)===xw},isStrictMode:function(t){return Or(t)===yw},isSuspense:function(t){return Or(t)===Sw},isValidElementType:function(t){return typeof t=="string"||typeof t=="function"||t===vw||t===fb||t===xw||t===yw||t===Sw||t===vhe||typeof t=="object"&&t!==null&&(t.$$typeof===Mw||t.$$typeof===Ew||t.$$typeof===Cw||t.$$typeof===ww||t.$$typeof===bw||t.$$typeof===xhe||t.$$typeof===Che||t.$$typeof===whe||t.$$typeof===yhe)},typeOf:Or},Mn=Z6(function(t,e){}),wB=(Mn.AsyncMode,Mn.ConcurrentMode,Mn.ContextConsumer,Mn.ContextProvider,Mn.Element,Mn.ForwardRef,Mn.Fragment,Mn.Lazy,Mn.Memo,Mn.Portal,Mn.Profiler,Mn.StrictMode,Mn.Suspense,Mn.isAsyncMode,Mn.isConcurrentMode,Mn.isContextConsumer,Mn.isContextProvider,Mn.isElement,Mn.isForwardRef,Mn.isFragment,Mn.isLazy,Mn.isMemo,Mn.isPortal,Mn.isProfiler,Mn.isStrictMode,Mn.isSuspense,Mn.isValidElementType,Mn.typeOf,Z6(function(t){t.exports=bhe})),She={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},bB={};bB[wB.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},bB[wB.Memo]=She;const Ehe=()=>{const t=fs(),[e,n]=E.useState(0),{id:i,jobPosition:s}=Iy(),[r,o]=E.useState({first_name:"",middle_name:"",last_name:"",birth_date:"",gender:"",email_1:"",mobile_number_1:"",discovered_at:"",applied_source:"Suitelife",referrer_name:"",position_id:i,test_result:null,created_by:null,updated_by:null}),{executeRecaptcha:a}=X6(),l=_=>{o(A=>({...A,[_.target.name]:_.target.value})),console.log(r)},[c,d]=E.useState(null),[f,p]=E.useState(!1),[m,y]=E.useState(!1),C=10*1024*1024,x=E.useCallback(_=>{const A=_[0];if(A){if(A.size>C){p(!0);return}p(!1),y(!1),d(A),n(0),console.log(A)}},[]),{getRootProps:w,acceptedFiles:M,getInputProps:S,isDragActive:R}=q6({onDrop:x,maxFiles:C}),P=_=>_<1024?`${_} B`:_<1024*1024?`${(_/1024).toFixed(1)} KB`:`${(_/(1024*1024)).toFixed(1)} MB`,[F,N]=E.useState(!1),I=async _=>{if(_.preventDefault(),!a){Nn.error("reCAPTCHA is not ready.");return}const A=await a("login"),O=await on.post("/api/verify-recaptcha",{recaptchaToken:A});if(O.status!==200){Nn.error(O.data.message);return}if(c===null){y(!0),Nn.error("Please attach your CV");return}if(e!=100){Nn.error("Uploading... Please wait.");return}try{const k={applicant:JSON.stringify({first_name:r.first_name,middle_name:r.middle_name??"",last_name:r.last_name,birth_date:r.birth_date,gender:r.gender,email_1:r.email_1,mobile_number_1:r.mobile_number_1})};if((await CR.post("/applicants/add/check-if-blacklisted",k)).data.isBlacklisted){Nn(Q=>v.jsxs("span",{className:"flex flex-row",children:["We have sent a notification to the email address you provided regarding the status of your application.",v.jsx("button",{className:"flex items-center justify-center w-fit h-[35%] my-auto ms-5 bg-gray-200 rounded px-2",onClick:()=>Nn.dismiss(Q.id),children:"Dismiss"})]}),{icon:"✉️"}),t("/careers");return}const W=new FormData;W.append("file",c);const K=await CR.post("/upload/cv",W);if(console.log(K.data.fileUrl),o(Q=>({...Q,cv_link:K.data.fileUrl})),(await CR.post("/applicants/add",{applicant:JSON.stringify(r)})).data.message==="successfully inserted"){const q=(await on.post("/api/get-job-assessment-url",{job_id:i})).data.data.assessmentUrl;Nn.success("Job Application Successful."),t("/congrats-application-form",{state:{assessmentUrl:q}})}}catch(k){console.log(k),Nn.error("Job Application Unsuccessful.")}};return E.useEffect(()=>{window.scroll(0,0),console.log(i);const _=setInterval(()=>{n(A=>A>=100?100:A+1)},20);return()=>clearInterval(_)},[]),v.jsxs("form",{onSubmit:I,className:"space-y-4 text-sm p-6 md:p-12 lg:p-15 shadow-sm border-primary border-1  rounded-lg bg-white",children:[v.jsx("p",{className:"!text-lg lg:!text-2xl font-avenir-black mb-10",children:"Job Application Form"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[v.jsxs("div",{children:[v.jsxs("label",{className:"block text-gray-700 font-avenir-black",children:["First Name",v.jsx("span",{className:"text-primary",children:"*"})]}),v.jsx("input",{type:"text",name:"first_name",value:r.first_name,onChange:l,required:!0,className:"w-full p-3 border-none rounded-md bg-primary/10 focus:outline-none focus:ring-2 focus:ring-primary"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-700 font-avenir-black",children:"Middle Name"}),v.jsx("input",{type:"text",name:"middle_name",value:r.middle_name,onChange:l,className:"w-full p-3 border-none rounded-md bg-primary/10 focus:outline-none focus:ring-2 focus:ring-primary"})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"block text-gray-700 font-avenir-black",children:["Last Name",v.jsx("span",{className:"text-primary",children:"*"})]}),v.jsx("input",{type:"text",name:"last_name",value:r.last_name,onChange:l,required:!0,className:"w-full p-3 border-none rounded-md bg-primary/10 focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:mt-5",children:[v.jsxs("div",{children:[v.jsxs("label",{className:"block text-gray-700 font-avenir-black",children:["Birthdate",v.jsx("span",{className:"text-primary",children:"*"})]}),v.jsx("input",{type:"date",name:"birth_date",value:r.birth_date,onChange:l,required:!0,className:"text-primary w-full p-3 border-none rounded-md bg-primary/10 focus:outline-none focus:ring-2 focus:ring-primary"})]}),v.jsxs("div",{className:"md:col-span-1",children:[v.jsxs("label",{className:"block text-gray-700 font-avenir-black",children:["Sex",v.jsx("span",{className:"text-primary",children:"*"})]}),v.jsxs("div",{className:"flex gap-4 mt-3",children:[v.jsxs("label",{className:"flex items-center",children:[v.jsx("input",{type:"radio",name:"gender",value:"Male",onChange:l,required:!0,className:"text-primary focus:ring-primary"}),v.jsx("span",{className:"ml-2 text-gray-700",children:"Male"})]}),v.jsxs("label",{className:"flex items-center",children:[v.jsx("input",{type:"radio",name:"gender",value:"Female",onChange:l,required:!0,className:"text-primary focus:ring-primary"}),v.jsx("span",{className:"ml-2 text-gray-700",children:"Female"})]})]})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:mt-5",children:[v.jsxs("div",{children:[v.jsxs("label",{className:"block text-gray-700 font-avenir-black",children:["Email Address",v.jsx("span",{className:"text-primary",children:"*"})]}),v.jsx("input",{type:"email",name:"email_1",value:r.email_1,onChange:l,required:!0,className:"w-full p-3 border-none rounded-md bg-primary/10 focus:outline-none focus:ring-2 focus:ring-primary"})]}),v.jsxs("div",{className:"relative",children:[" ",v.jsxs("label",{className:"block text-gray-700 font-avenir-black",children:["Phone Number",v.jsx("span",{className:"text-primary",children:"*"})]}),v.jsx("input",{type:"tel",name:"mobile_number_1",value:r.mobile_number_1,onChange:l,required:!0,maxLength:"9",pattern:"[0-9]{9}",placeholder:"Enter 9-digit number",className:"w-full p-3 pl-15 border-none rounded-md  text-gray-700   bg-primary/10 focus:outline-none focus:ring-2 focus:ring-primary"}),v.jsxs("div",{className:"absolute left-3 top-[65%]   -translate-y-1/2  text-gray-700  flex items-center  space-x-1 font-avenir-black",children:[v.jsx("span",{children:"🇵🇭 "}),v.jsx("span",{children:"09"})]})]})]}),v.jsxs("div",{className:"md:col-span-2 mt-10",children:[v.jsxs("label",{className:"block text-gray-700 font-avenir-black",children:["How did you discover Fullsuite?",v.jsx("span",{className:"text-primary",children:"*"})]}),v.jsx("div",{className:"flex flex-col gap-3 mt-3",children:["Through Referral","Website","Social Media","Podcast","Career Fair (Startup Caravan, University Visit, etc.)"].map(_=>v.jsxs("label",{className:"flex items-center",children:[v.jsx("input",{type:"radio",name:"discovered_at",value:_,required:!0,className:"text-primary focus:ring-primary",onChange:A=>{N(_==="Through Referral"),l(A)}}),v.jsx("span",{className:"ml-2 text-gray-700",children:_})]},_))}),F&&v.jsxs("div",{className:"mt-3",children:[v.jsxs("label",{className:"block text-gray-700 font-avenir-black",children:["Who referred you?",v.jsx("span",{className:"text-primary",children:"*"})]}),v.jsx("input",{type:"text",name:"referrer_name",required:F,className:"w-full p-3 border-none rounded-md bg-primary/10 focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),v.jsxs("label",{className:"block mt-10 text-gray-700 font-avenir-black mb-3",children:["Upload your Curriculum Vitae here:"," ",v.jsx("span",{className:"text-primary",children:"*"})]}),v.jsxs("div",{className:`drop-zone ${R?"bg-primary/10":""} hover:bg-primary/10 cursor-pointer p-10 border ${m&&!R?"border-[#d63e50] hover:bg-[#d63e50]/10":"border-primary"}  text-primary border-dashed rounded-lg`,...w(),children:[v.jsx("input",{type:"file",...S(),accept:".pdf,.doc,.docx"}),R?v.jsxs("div",{className:"flex flex-col items-center justify-center",children:[v.jsx(xse,{className:"size-15"}),v.jsx("span",{className:"text-center mt-5",children:"Drop your file here"})]}):v.jsx(v.Fragment,{children:m?v.jsxs("div",{className:"flex flex-col items-center justify-center text-[#d63e50]",children:[v.jsx(P5,{className:"size-15"}),v.jsx("span",{className:"text-center mt-5",children:"Please click here to upload your CV or drag and drop it here"})]}):v.jsxs("div",{className:"flex flex-col items-center justify-center",children:[v.jsx(P5,{className:"size-15"}),v.jsx("span",{className:"text-center mt-5",children:"Click here to upload your CV or drag and drop it here"})]})})]}),v.jsxs("div",{className:"flex justify-between text-gray-400 ",children:[v.jsxs("span",{className:"flex ",children:[" ",v.jsx(Yde,{className:"size-5  text-primary/70"})," Supported files: .pdf, .doc, .docx"]}),v.jsx("span",{children:"Maximum size: 10MB"})]}),v.jsx("div",{id:"file-error",className:`${f?"block":"hidden"}`,children:v.jsxs("p",{className:"flex gap-2 text-yellow-600/80 text-sm",children:[v.jsx(Zde,{className:"size-5"})," Oops! Your file is too large. Please upload a smaller file."]})}),c!=null?v.jsxs("div",{className:"flex flex-col bg-gray-100/50 p-4 gap-2 rounded-md",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsxs("div",{className:"flex gap-4",children:[v.jsx("div",{className:"flex justify-center items-center bg-white aspect-square px-2 rounded-md",children:v.jsx(Sse,{className:"size-5 text-primary"})}),v.jsxs("div",{className:"flex flex-col",children:[v.jsx("p",{className:"font-avenir-black",children:c.name}),v.jsx("p",{className:"text-gray-500",children:P(c.size)})]})]}),v.jsx("button",{type:"button",className:"hover:bg-white duration-500 rounded-full h-fit p-1",onClick:()=>{d(null),p(!1),y(!0)},children:v.jsx(fhe,{className:"size-5 cursor-pointer"})})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{class:"w-full bg-gray-200 rounded-full h-2 dark:bg-gray-700",children:v.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300 w-[40%]",style:{width:`${e}%`}})}),v.jsxs("p",{className:"text-gray-500",children:[e,"%"]})]})]}):"",v.jsx("div",{className:"py-2"}),v.jsx("button",{type:"submit",className:"w-full cursor-pointer font-avenir-black bg-primary text-white py-3 rounded-md hover:bg-primary/90 transition",children:"SUBMIT APPLICATION"}),v.jsx("button",{type:"button",className:"w-full cursor-pointer text-primary py-3 rounded-md hover:bg-primary/10 transition",onClick:()=>t(-1),children:"CANCEL"})," "]})},Mhe=()=>{const{id:t,jobPosition:e}=Iy();return v.jsx(Y6,{reCaptchaKey:"6LePV_8qAAAAAKUgbULmgqU8tkMkWOzJo1fePzkQ",children:v.jsxs("section",{className:"gap-4 h-dvh",style:{maxWidth:"1800px",margin:"0 auto"},children:[v.jsx("div",{className:"sm:hidden",children:v.jsx(Yr,{})}),v.jsx("div",{className:"tablet-nav",children:v.jsx(Xr,{})}),v.jsx("div",{className:"desktop-nav",children:v.jsx(Zr,{})}),v.jsx("section",{className:"pt-[10%] xl:pt-[8%]",children:v.jsx("main",{className:"px-[5%]",children:v.jsxs("div",{className:"md:px-5 lg:px-20 xl:px-50",children:[" ",v.jsx(p6,{type:Pse(e)+" Details",backPath:`/careers/${$r(e)}`,jobId:t}),v.jsx("div",{className:"py-5"}),v.jsx(Ehe,{})]})})}),v.jsx("div",{className:"h-30"}),v.jsx(Do,{})]})})},The="/assets/congrats-app-form-illustration-B2e_nLE6.jpg",Rhe=()=>{var i;window.scroll(0,0);const e=(i=Hi().state)==null?void 0:i.assessmentUrl,n=fs();return v.jsxs("section",{className:"gap-4 h-dvh",style:{maxWidth:"1800px",margin:"0 auto"},children:[v.jsx("div",{className:"sm:hidden",children:v.jsx(Yr,{})}),v.jsx("div",{className:"tablet-nav",children:v.jsx(Xr,{})}),v.jsx("div",{className:"desktop-nav",children:v.jsx(Zr,{})}),v.jsx("section",{className:"pt-[10%] xl:pt-[8%]",children:v.jsx("main",{className:"px-[5%]",children:v.jsx("div",{className:"md:px-5 lg:px-20 xl:px-50",children:v.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4 text-sm p-10 md:p-12 lg:p-15 xl:px-50 shadow-sm border-primary border-1 rounded-lg bg-white text-center",children:[v.jsx("img",{src:The,alt:"Congratulations",className:"w-24 md:w-35"})," ",v.jsx("p",{className:"text-lg md:text-2xl lg:text-4xl font-avenir-black text-primary",children:"Congratulations!"}),v.jsx("div",{className:"hidden lg:block"}),v.jsx("p",{className:"text-gray-600 text-[12px] md:text-[14px] lg:text-base md:mb-7",children:"You have successfully submitted your application. Now, click the link below to start your pre-assessment. It will take 1 hour and 30 minutes or shorter depending on you."}),v.jsx("div",{className:"hidden lg:block"}),v.jsx("p",{className:"text-gray-600 text-[12px] md:text-[14px] lg:text-base",children:"If you have no time now, you can take it later. Just open your email inbox and click the link we have sent you there. Hope the best for your initial test! Fighting!!"}),v.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"md:text-lg font-avenir-black text-primary ",children:e}),v.jsx("div",{className:"hidden lg:block"}),v.jsx("p",{className:"text-gray-400 text-[12px] md:text-[14px] lg:text-base mb-2 mt-10",children:"from"}),v.jsx("img",{src:Zo,alt:"fullsuite logo",className:"h-5"})]})})})}),v.jsx("div",{className:"grid place-content-center",children:v.jsxs("button",{className:"group relative px-6 py-2 mt-5 text-primary text-md font-medium rounded-full overflow-hidden lg:w-40 xl:w-50 xl:text-lg transition-all duration-100 cursor-pointer",onClick:()=>n("/careers"),children:[v.jsx("div",{className:"absolute inset-0 bg-primary opacity-10 rounded-full transition-all duration-100 group-hover:opacity-100"}),v.jsx("span",{className:"relative group-hover:!text-white",children:"Back to Careers"})]})}),v.jsx("div",{className:"h-30"}),v.jsx(pu,{})]})},J6=typeof document<"u"?ne.useLayoutEffect:()=>{};function Ahe(t){const e=E.useRef(null);return J6(()=>{e.current=t},[t]),E.useCallback((...n)=>{const i=e.current;return i==null?void 0:i(...n)},[])}const Yy=t=>{var e;return(e=t==null?void 0:t.ownerDocument)!==null&&e!==void 0?e:document},Dd=t=>t&&"window"in t&&t.window===t?t:Yy(t).defaultView||window;function Q6(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Q6(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function Rn(){for(var t,e,n=0,i="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Q6(t))&&(i&&(i+=" "),i+=e);return i}function Phe(t){var e;return typeof window>"u"||window.navigator==null?!1:((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands.some(n=>t.test(n.brand)))||t.test(window.navigator.userAgent)}function Dhe(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function e7(t){let e=null;return()=>(e==null&&(e=t()),e)}const _he=e7(function(){return Dhe(/^Mac/i)}),Fhe=e7(function(){return Phe(/Android/i)});function Nhe(t){return t.mozInputSource===0&&t.isTrusted?!0:Fhe()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}class Ihe{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,n){this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=e}}function t7(t){let e=E.useRef({isFocused:!1,observer:null});J6(()=>{const i=e.current;return()=>{i.observer&&(i.observer.disconnect(),i.observer=null)}},[]);let n=Ahe(i=>{t==null||t(i)});return E.useCallback(i=>{if(i.target instanceof HTMLButtonElement||i.target instanceof HTMLInputElement||i.target instanceof HTMLTextAreaElement||i.target instanceof HTMLSelectElement){e.current.isFocused=!0;let s=i.target,r=o=>{e.current.isFocused=!1,s.disabled&&n(new Ihe("blur",o)),e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};s.addEventListener("focusout",r,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&s.disabled){var o;(o=e.current.observer)===null||o===void 0||o.disconnect();let a=s===document.activeElement?null:document.activeElement;s.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),s.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),e.current.observer.observe(s,{attributes:!0,attributeFilter:["disabled"]})}},[n])}function Ohe(t){let{isDisabled:e,onFocus:n,onBlur:i,onFocusChange:s}=t;const r=E.useCallback(l=>{if(l.target===l.currentTarget)return i&&i(l),s&&s(!1),!0},[i,s]),o=t7(r),a=E.useCallback(l=>{const c=Yy(l.target);l.target===l.currentTarget&&c.activeElement===l.target&&(n&&n(l),s&&s(!0),o(l))},[s,n,o]);return{focusProps:{onFocus:!e&&(n||s||i)?a:void 0,onBlur:!e&&(i||s)?r:void 0}}}let Xy=null,oP=new Set,dv=new Map,oh=!1,aP=!1;const Lhe={Tab:!0,Escape:!0};function H_(t,e){for(let n of oP)n(t,e)}function khe(t){return!(t.metaKey||!_he()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function pb(t){oh=!0,khe(t)&&(Xy="keyboard",H_("keyboard",t))}function yo(t){Xy="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(oh=!0,H_("pointer",t))}function n7(t){Nhe(t)&&(oh=!0,Xy="virtual")}function i7(t){t.target===window||t.target===document||(!oh&&!aP&&(Xy="virtual",H_("virtual",t)),oh=!1,aP=!1)}function s7(){oh=!1,aP=!0}function lP(t){if(typeof window>"u"||dv.get(Dd(t)))return;const e=Dd(t),n=Yy(t);let i=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){oh=!0,i.apply(this,arguments)},n.addEventListener("keydown",pb,!0),n.addEventListener("keyup",pb,!0),n.addEventListener("click",n7,!0),e.addEventListener("focus",i7,!0),e.addEventListener("blur",s7,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",yo,!0),n.addEventListener("pointermove",yo,!0),n.addEventListener("pointerup",yo,!0)):(n.addEventListener("mousedown",yo,!0),n.addEventListener("mousemove",yo,!0),n.addEventListener("mouseup",yo,!0)),e.addEventListener("beforeunload",()=>{r7(t)},{once:!0}),dv.set(e,{focus:i})}const r7=(t,e)=>{const n=Dd(t),i=Yy(t);e&&i.removeEventListener("DOMContentLoaded",e),dv.has(n)&&(n.HTMLElement.prototype.focus=dv.get(n).focus,i.removeEventListener("keydown",pb,!0),i.removeEventListener("keyup",pb,!0),i.removeEventListener("click",n7,!0),n.removeEventListener("focus",i7,!0),n.removeEventListener("blur",s7,!1),typeof PointerEvent<"u"?(i.removeEventListener("pointerdown",yo,!0),i.removeEventListener("pointermove",yo,!0),i.removeEventListener("pointerup",yo,!0)):(i.removeEventListener("mousedown",yo,!0),i.removeEventListener("mousemove",yo,!0),i.removeEventListener("mouseup",yo,!0)),dv.delete(n))};function Bhe(t){const e=Yy(t);let n;return e.readyState!=="loading"?lP(t):(n=()=>{lP(t)},e.addEventListener("DOMContentLoaded",n)),()=>r7(t,n)}typeof document<"u"&&Bhe();function o7(){return Xy!=="pointer"}const Hhe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Vhe(t,e,n){var i;const s=typeof window<"u"?Dd(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,r=typeof window<"u"?Dd(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,o=typeof window<"u"?Dd(n==null?void 0:n.target).HTMLElement:HTMLElement,a=typeof window<"u"?Dd(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return t=t||(n==null?void 0:n.target)instanceof s&&!Hhe.has(n==null||(i=n.target)===null||i===void 0?void 0:i.type)||(n==null?void 0:n.target)instanceof r||(n==null?void 0:n.target)instanceof o&&(n==null?void 0:n.target.isContentEditable),!(t&&e==="keyboard"&&n instanceof a&&!Lhe[n.key])}function zhe(t,e,n){lP(),E.useEffect(()=>{let i=(s,r)=>{Vhe(!!(n!=null&&n.isTextInput),s,r)&&t(o7())};return oP.add(i),()=>{oP.delete(i)}},e)}function Ghe(t){let{isDisabled:e,onBlurWithin:n,onFocusWithin:i,onFocusWithinChange:s}=t,r=E.useRef({isFocusWithin:!1}),o=E.useCallback(c=>{r.current.isFocusWithin&&!c.currentTarget.contains(c.relatedTarget)&&(r.current.isFocusWithin=!1,n&&n(c),s&&s(!1))},[n,s,r]),a=t7(o),l=E.useCallback(c=>{!r.current.isFocusWithin&&document.activeElement===c.target&&(i&&i(c),s&&s(!0),r.current.isFocusWithin=!0,a(c))},[i,s,a]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:l,onBlur:o}}}let mb=!1,SR=0;function cP(){mb=!0,setTimeout(()=>{mb=!1},50)}function SB(t){t.pointerType==="touch"&&cP()}function Uhe(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",SB):document.addEventListener("touchend",cP),SR++,()=>{SR--,!(SR>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",SB):document.removeEventListener("touchend",cP))}}function jhe(t){let{onHoverStart:e,onHoverChange:n,onHoverEnd:i,isDisabled:s}=t,[r,o]=E.useState(!1),a=E.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;E.useEffect(Uhe,[]);let{hoverProps:l,triggerHoverEnd:c}=E.useMemo(()=>{let d=(m,y)=>{if(a.pointerType=y,s||y==="touch"||a.isHovered||!m.currentTarget.contains(m.target))return;a.isHovered=!0;let C=m.currentTarget;a.target=C,e&&e({type:"hoverstart",target:C,pointerType:y}),n&&n(!0),o(!0)},f=(m,y)=>{if(a.pointerType="",a.target=null,y==="touch"||!a.isHovered)return;a.isHovered=!1;let C=m.currentTarget;i&&i({type:"hoverend",target:C,pointerType:y}),n&&n(!1),o(!1)},p={};return typeof PointerEvent<"u"?(p.onPointerEnter=m=>{mb&&m.pointerType==="mouse"||d(m,m.pointerType)},p.onPointerLeave=m=>{!s&&m.currentTarget.contains(m.target)&&f(m,m.pointerType)}):(p.onTouchStart=()=>{a.ignoreEmulatedMouseEvents=!0},p.onMouseEnter=m=>{!a.ignoreEmulatedMouseEvents&&!mb&&d(m,"mouse"),a.ignoreEmulatedMouseEvents=!1},p.onMouseLeave=m=>{!s&&m.currentTarget.contains(m.target)&&f(m,"mouse")}),{hoverProps:p,triggerHoverEnd:f}},[e,n,i,s,a]);return E.useEffect(()=>{s&&c({currentTarget:a.target},a.pointerType)},[s]),{hoverProps:l,isHovered:r}}function Whe(t={}){let{autoFocus:e=!1,isTextInput:n,within:i}=t,s=E.useRef({isFocused:!1,isFocusVisible:e||o7()}),[r,o]=E.useState(!1),[a,l]=E.useState(()=>s.current.isFocused&&s.current.isFocusVisible),c=E.useCallback(()=>l(s.current.isFocused&&s.current.isFocusVisible),[]),d=E.useCallback(m=>{s.current.isFocused=m,o(m),c()},[c]);zhe(m=>{s.current.isFocusVisible=m,c()},[],{isTextInput:n});let{focusProps:f}=Ohe({isDisabled:i,onFocusChange:d}),{focusWithinProps:p}=Ghe({isDisabled:!i,onFocusWithinChange:d});return{isFocused:r,isFocusVisible:a,focusProps:i?p:f}}var $he=Object.defineProperty,qhe=(t,e,n)=>e in t?$he(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ER=(t,e,n)=>(qhe(t,typeof e!="symbol"?e+"":e,n),n);let Khe=class{constructor(){ER(this,"current",this.detect()),ER(this,"handoffState","pending"),ER(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Gd=new Khe;function Zp(t){return Gd.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}function s1(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function gu(){let t=[],e={addEventListener(n,i,s,r){return n.addEventListener(i,s,r),e.add(()=>n.removeEventListener(i,s,r))},requestAnimationFrame(...n){let i=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(i))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let i=setTimeout(...n);return e.add(()=>clearTimeout(i))},microTask(...n){let i={current:!0};return s1(()=>{i.current&&n[0]()}),e.add(()=>{i.current=!1})},style(n,i,s){let r=n.style.getPropertyValue(i);return Object.assign(n.style,{[i]:s}),this.add(()=>{Object.assign(n.style,{[i]:r})})},group(n){let i=gu();return n(i),this.add(()=>i.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let i=t.indexOf(n);if(i>=0)for(let s of t.splice(i,1))s()}},dispose(){for(let n of t.splice(0))n()}};return e}function r1(){let[t]=E.useState(gu);return E.useEffect(()=>()=>t.dispose(),[t]),t}let Zs=(t,e)=>{Gd.isServer?E.useEffect(t,e):E.useLayoutEffect(t,e)};function Eh(t){let e=E.useRef(t);return Zs(()=>{e.current=t},[t]),e}let vn=function(t){let e=Eh(t);return ne.useCallback((...n)=>e.current(...n),[e])};function Yhe(t){let e=t.width/2,n=t.height/2;return{top:t.clientY-n,right:t.clientX+e,bottom:t.clientY+n,left:t.clientX-e}}function Xhe(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function Zhe({disabled:t=!1}={}){let e=E.useRef(null),[n,i]=E.useState(!1),s=r1(),r=vn(()=>{e.current=null,i(!1),s.dispose()}),o=vn(a=>{if(s.dispose(),e.current===null){e.current=a.currentTarget,i(!0);{let l=Zp(a.currentTarget);s.addEventListener(l,"pointerup",r,!1),s.addEventListener(l,"pointermove",c=>{if(e.current){let d=Yhe(c);i(Xhe(d,e.current.getBoundingClientRect()))}},!1),s.addEventListener(l,"pointercancel",r,!1)}}});return{pressed:n,pressProps:t?{}:{onPointerDown:o,onPointerUp:r,onClick:r}}}let Jhe=E.createContext(void 0);function Qhe(){return E.useContext(Jhe)}function uP(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Jo(t,e,...n){if(t in e){let s=e[t];return typeof s=="function"?s(...n):s}let i=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,Jo),i}var Ep=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Ep||{}),jc=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(jc||{});function rr(){let t=tfe();return E.useCallback(e=>efe({mergeRefs:t,...e}),[t])}function efe({ourProps:t,theirProps:e,slot:n,defaultTag:i,features:s,visible:r=!0,name:o,mergeRefs:a}){a=a??nfe;let l=a7(e,t);if(r)return $x(l,n,i,o,a);let c=s??0;if(c&2){let{static:d=!1,...f}=l;if(d)return $x(f,n,i,o,a)}if(c&1){let{unmount:d=!0,...f}=l;return Jo(d?0:1,{0(){return null},1(){return $x({...f,hidden:!0,style:{display:"none"}},n,i,o,a)}})}return $x(l,n,i,o,a)}function $x(t,e={},n,i,s){let{as:r=n,children:o,refName:a="ref",...l}=MR(t,["unmount","static"]),c=t.ref!==void 0?{[a]:t.ref}:{},d=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let f={};if(e){let p=!1,m=[];for(let[y,C]of Object.entries(e))typeof C=="boolean"&&(p=!0),C===!0&&m.push(y.replace(/([A-Z])/g,x=>`-${x.toLowerCase()}`));if(p){f["data-headlessui-state"]=m.join(" ");for(let y of m)f[`data-${y}`]=""}}if(r===E.Fragment&&(Object.keys(cd(l)).length>0||Object.keys(cd(f)).length>0))if(!E.isValidElement(d)||Array.isArray(d)&&d.length>1){if(Object.keys(cd(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${i} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(cd(l)).concat(Object.keys(cd(f))).map(p=>`  - ${p}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(p=>`  - ${p}`).join(`
`)].join(`
`))}else{let p=d.props,m=p==null?void 0:p.className,y=typeof m=="function"?(...w)=>uP(m(...w),l.className):uP(m,l.className),C=y?{className:y}:{},x=a7(d.props,cd(MR(l,["ref"])));for(let w in f)w in x&&delete f[w];return E.cloneElement(d,Object.assign({},x,f,c,{ref:s(ife(d),c.ref)},C))}return E.createElement(r,Object.assign({},MR(l,["ref"]),r!==E.Fragment&&c,r!==E.Fragment&&f),d)}function tfe(){let t=E.useRef([]),e=E.useCallback(n=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(n):i.current=n)},[]);return(...n)=>{if(!n.every(i=>i==null))return t.current=n,e}}function nfe(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function a7(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let i of t)for(let s in i)s.startsWith("on")&&typeof i[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(i[s])):e[s]=i[s];if(e.disabled||e["aria-disabled"])for(let i in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(i)&&(n[i]=[s=>{var r;return(r=s==null?void 0:s.preventDefault)==null?void 0:r.call(s)}]);for(let i in n)Object.assign(e,{[i](s,...r){let o=n[i];for(let a of o){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;a(s,...r)}}});return e}function EB(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let i of t)for(let s in i)s.startsWith("on")&&typeof i[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(i[s])):e[s]=i[s];for(let i in n)Object.assign(e,{[i](...s){let r=n[i];for(let o of r)o==null||o(...s)}});return e}function ps(t){var e;return Object.assign(E.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function cd(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function MR(t,e=[]){let n=Object.assign({},t);for(let i of e)i in n&&delete n[i];return n}function ife(t){return ne.version.split(".")[0]>="19"?t.props.ref:t.ref}let sfe="span";var gb=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(gb||{});function rfe(t,e){var n;let{features:i=1,...s}=t,r={ref:e,"aria-hidden":(i&2)===2?!0:(n=s["aria-hidden"])!=null?n:void 0,hidden:(i&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(i&4)===4&&(i&2)!==2&&{display:"none"}}};return rr()({ourProps:r,theirProps:s,slot:{},defaultTag:sfe,name:"Hidden"})}let dP=ps(rfe);function ofe(t){let e=t.parentElement,n=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(n=e),e=e.parentElement;let i=(e==null?void 0:e.getAttribute("disabled"))==="";return i&&afe(n)?!1:i}function afe(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}let l7=Symbol();function c7(t,e=!0){return Object.assign(t,{[l7]:e})}function Jr(...t){let e=E.useRef(t);E.useEffect(()=>{e.current=t},[t]);let n=vn(i=>{for(let s of e.current)s!=null&&(typeof s=="function"?s(i):s.current=i)});return t.every(i=>i==null||(i==null?void 0:i[l7]))?void 0:n}let V_=E.createContext(null);V_.displayName="DescriptionContext";function u7(){let t=E.useContext(V_);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,u7),e}return t}function lfe(){let[t,e]=E.useState([]);return[t.length>0?t.join(" "):void 0,E.useMemo(()=>function(n){let i=vn(r=>(e(o=>[...o,r]),()=>e(o=>{let a=o.slice(),l=a.indexOf(r);return l!==-1&&a.splice(l,1),a}))),s=E.useMemo(()=>({register:i,slot:n.slot,name:n.name,props:n.props,value:n.value}),[i,n.slot,n.name,n.props,n.value]);return ne.createElement(V_.Provider,{value:s},n.children)},[e])]}let cfe="p";function ufe(t,e){let n=E.useId(),i=Qhe(),{id:s=`headlessui-description-${n}`,...r}=t,o=u7(),a=Jr(e);Zs(()=>o.register(s),[s,o.register]);let l=i||!1,c=E.useMemo(()=>({...o.slot,disabled:l}),[o.slot,l]),d={ref:a,...o.props,id:s};return rr()({ourProps:d,theirProps:r,slot:c,defaultTag:cfe,name:o.name||"Description"})}let dfe=ps(ufe),hfe=Object.assign(dfe,{});var xd=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(xd||{});let ffe=E.createContext(()=>{});function d7({value:t,children:e}){return ne.createElement(ffe.Provider,{value:t},e)}let pfe=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};function h7(t,e){let n=t(),i=new Set;return{getSnapshot(){return n},subscribe(s){return i.add(s),()=>i.delete(s)},dispatch(s,...r){let o=e[s].call(n,...r);o&&(n=o,i.forEach(a=>a()))}}}function f7(t){return E.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}let mfe=new pfe(()=>h7(()=>[],{ADD(t){return this.includes(t)?this:[...this,t]},REMOVE(t){let e=this.indexOf(t);if(e===-1)return this;let n=this.slice();return n.splice(e,1),n}}));function Jp(t,e){let n=mfe.get(e),i=E.useId(),s=f7(n);if(Zs(()=>{if(t)return n.dispatch("ADD",i),()=>n.dispatch("REMOVE",i)},[n,t]),!t)return!1;let r=s.indexOf(i),o=s.length;return r===-1&&(r=o,o+=1),r===o-1}let hP=new Map,hv=new Map;function MB(t){var e;let n=(e=hv.get(t))!=null?e:0;return hv.set(t,n+1),n!==0?()=>TB(t):(hP.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>TB(t))}function TB(t){var e;let n=(e=hv.get(t))!=null?e:1;if(n===1?hv.delete(t):hv.set(t,n-1),n!==1)return;let i=hP.get(t);i&&(i["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",i["aria-hidden"]),t.inert=i.inert,hP.delete(t))}function gfe(t,{allowed:e,disallowed:n}={}){let i=Jp(t,"inert-others");Zs(()=>{var s,r;if(!i)return;let o=gu();for(let l of(s=n==null?void 0:n())!=null?s:[])l&&o.add(MB(l));let a=(r=e==null?void 0:e())!=null?r:[];for(let l of a){if(!l)continue;let c=Zp(l);if(!c)continue;let d=l.parentElement;for(;d&&d!==c.body;){for(let f of d.children)a.some(p=>f.contains(p))||o.add(MB(f));d=d.parentElement}}return o.dispose},[i,e,n])}function vfe(t,e,n){let i=Eh(s=>{let r=s.getBoundingClientRect();r.x===0&&r.y===0&&r.width===0&&r.height===0&&n()});E.useEffect(()=>{if(!t)return;let s=e===null?null:e instanceof HTMLElement?e:e.current;if(!s)return;let r=gu();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>i.current(s));o.observe(s),r.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>i.current(s));o.observe(s),r.add(()=>o.disconnect())}return()=>r.dispose()},[e,i,t])}let vb=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),yfe=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Tl=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(Tl||{}),fP=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(fP||{}),xfe=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(xfe||{});function Cfe(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(vb)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function wfe(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(yfe)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var p7=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(p7||{});function bfe(t,e=0){var n;return t===((n=Zp(t))==null?void 0:n.body)?!1:Jo(e,{0(){return t.matches(vb)},1(){let i=t;for(;i!==null;){if(i.matches(vb))return!0;i=i.parentElement}return!1}})}var Sfe=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(Sfe||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Il(t){t==null||t.focus({preventScroll:!0})}let Efe=["textarea","input"].join(",");function Mfe(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,Efe))!=null?n:!1}function Tfe(t,e=n=>n){return t.slice().sort((n,i)=>{let s=e(n),r=e(i);if(s===null||r===null)return 0;let o=s.compareDocumentPosition(r);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function fv(t,e,{sorted:n=!0,relativeTo:i=null,skipElements:s=[]}={}){let r=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,o=Array.isArray(t)?n?Tfe(t):t:e&64?wfe(t):Cfe(t);s.length>0&&o.length>1&&(o=o.filter(m=>!s.some(y=>y!=null&&"current"in y?(y==null?void 0:y.current)===m:y===m))),i=i??r.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(i))-1;if(e&4)return Math.max(0,o.indexOf(i))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=e&32?{preventScroll:!0}:{},d=0,f=o.length,p;do{if(d>=f||d+f<=0)return 0;let m=l+d;if(e&16)m=(m+f)%f;else{if(m<0)return 3;if(m>=f)return 1}p=o[m],p==null||p.focus(c),d+=a}while(p!==r.activeElement);return e&6&&Mfe(p)&&p.select(),2}function m7(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Rfe(){return/Android/gi.test(window.navigator.userAgent)}function Afe(){return m7()||Rfe()}function xg(t,e,n,i){let s=Eh(n);E.useEffect(()=>{if(!t)return;function r(o){s.current(o)}return document.addEventListener(e,r,i),()=>document.removeEventListener(e,r,i)},[t,e,i])}function g7(t,e,n,i){let s=Eh(n);E.useEffect(()=>{if(!t)return;function r(o){s.current(o)}return window.addEventListener(e,r,i),()=>window.removeEventListener(e,r,i)},[t,e,i])}const RB=30;function Pfe(t,e,n){let i=Jp(t,"outside-click"),s=Eh(n),r=E.useCallback(function(l,c){if(l.defaultPrevented)return;let d=c(l);if(d===null||!d.getRootNode().contains(d)||!d.isConnected)return;let f=function p(m){return typeof m=="function"?p(m()):Array.isArray(m)||m instanceof Set?m:[m]}(e);for(let p of f)if(p!==null&&(p.contains(d)||l.composed&&l.composedPath().includes(p)))return;return!bfe(d,p7.Loose)&&d.tabIndex!==-1&&l.preventDefault(),s.current(l,d)},[s,e]),o=E.useRef(null);xg(i,"pointerdown",l=>{var c,d;o.current=((d=(c=l.composedPath)==null?void 0:c.call(l))==null?void 0:d[0])||l.target},!0),xg(i,"mousedown",l=>{var c,d;o.current=((d=(c=l.composedPath)==null?void 0:c.call(l))==null?void 0:d[0])||l.target},!0),xg(i,"click",l=>{Afe()||o.current&&(r(l,()=>o.current),o.current=null)},!0);let a=E.useRef({x:0,y:0});xg(i,"touchstart",l=>{a.current.x=l.touches[0].clientX,a.current.y=l.touches[0].clientY},!0),xg(i,"touchend",l=>{let c={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(c.x-a.current.x)>=RB||Math.abs(c.y-a.current.y)>=RB))return r(l,()=>l.target instanceof HTMLElement?l.target:null)},!0),g7(i,"blur",l=>r(l,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Zy(...t){return E.useMemo(()=>Zp(...t),[...t])}function v7(t,e,n,i){let s=Eh(n);E.useEffect(()=>{t=t??window;function r(o){s.current(o)}return t.addEventListener(e,r,i),()=>t.removeEventListener(e,r,i)},[t,e,i])}function Dfe(t,e){return E.useMemo(()=>{var n;if(t.type)return t.type;let i=(n=t.as)!=null?n:"button";if(typeof i=="string"&&i.toLowerCase()==="button"||(e==null?void 0:e.tagName)==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function _fe(){let t;return{before({doc:e}){var n;let i=e.documentElement,s=(n=e.defaultView)!=null?n:window;t=Math.max(0,s.innerWidth-i.clientWidth)},after({doc:e,d:n}){let i=e.documentElement,s=Math.max(0,i.clientWidth-i.offsetWidth),r=Math.max(0,t-s);n.style(i,"paddingRight",`${r}px`)}}}function Ffe(){return m7()?{before({doc:t,d:e,meta:n}){function i(s){return n.containers.flatMap(r=>r()).some(r=>r.contains(s))}e.microTask(()=>{var s;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=gu();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let r=(s=window.scrollY)!=null?s:window.pageYOffset,o=null;e.addEventListener(t,"click",a=>{if(a.target instanceof HTMLElement)try{let l=a.target.closest("a");if(!l)return;let{hash:c}=new URL(l.href),d=t.querySelector(c);d&&!i(d)&&(o=d)}catch{}},!0),e.addEventListener(t,"touchstart",a=>{if(a.target instanceof HTMLElement)if(i(a.target)){let l=a.target;for(;l.parentElement&&i(l.parentElement);)l=l.parentElement;e.style(l,"overscrollBehavior","contain")}else e.style(a.target,"touchAction","none")}),e.addEventListener(t,"touchmove",a=>{if(a.target instanceof HTMLElement){if(a.target.tagName==="INPUT")return;if(i(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;r!==l&&window.scrollTo(0,r),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function Nfe(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function Ife(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let _d=h7(()=>new Map,{PUSH(t,e){var n;let i=(n=this.get(t))!=null?n:{doc:t,count:0,d:gu(),meta:new Set};return i.count++,i.meta.add(e),this.set(t,i),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let i={doc:t,d:e,meta:Ife(n)},s=[Ffe(),_fe(),Nfe()];s.forEach(({before:r})=>r==null?void 0:r(i)),s.forEach(({after:r})=>r==null?void 0:r(i))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});_d.subscribe(()=>{let t=_d.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let i=e.get(n.doc)==="hidden",s=n.count!==0;(s&&!i||!s&&i)&&_d.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&_d.dispatch("TEARDOWN",n)}});function Ofe(t,e,n=()=>({containers:[]})){let i=f7(_d),s=e?i.get(e):void 0,r=s?s.count>0:!1;return Zs(()=>{if(!(!e||!t))return _d.dispatch("PUSH",e,n),()=>_d.dispatch("POP",e,n)},[t,e]),r}function Lfe(t,e,n=()=>[document.body]){let i=Jp(t,"scroll-lock");Ofe(i,e,s=>{var r;return{containers:[...(r=s.containers)!=null?r:[],n]}})}function kfe(t=0){let[e,n]=E.useState(t),i=E.useCallback(l=>n(l),[e]),s=E.useCallback(l=>n(c=>c|l),[e]),r=E.useCallback(l=>(e&l)===l,[e]),o=E.useCallback(l=>n(c=>c&~l),[n]),a=E.useCallback(l=>n(c=>c^l),[n]);return{flags:e,setFlag:i,addFlag:s,hasFlag:r,removeFlag:o,toggleFlag:a}}var Bfe={},AB,PB;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((AB=process==null?void 0:Bfe)==null?void 0:AB.NODE_ENV)==="test"&&typeof((PB=Element==null?void 0:Element.prototype)==null?void 0:PB.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var Hfe=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(Hfe||{});function y7(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function x7(t,e,n,i){let[s,r]=E.useState(n),{hasFlag:o,addFlag:a,removeFlag:l}=kfe(t&&s?3:0),c=E.useRef(!1),d=E.useRef(!1),f=r1();return Zs(()=>{var p;if(t){if(n&&r(!0),!e){n&&a(3);return}return(p=i==null?void 0:i.start)==null||p.call(i,n),Vfe(e,{inFlight:c,prepare(){d.current?d.current=!1:d.current=c.current,c.current=!0,!d.current&&(n?(a(3),l(4)):(a(4),l(2)))},run(){d.current?n?(l(3),a(4)):(l(4),a(3)):n?l(1):a(1)},done(){var m;d.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(c.current=!1,l(7),n||r(!1),(m=i==null?void 0:i.end)==null||m.call(i,n))}})}},[t,n,e,f]),t?[s,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Vfe(t,{prepare:e,run:n,done:i,inFlight:s}){let r=gu();return Gfe(t,{prepare:e,inFlight:s}),r.nextFrame(()=>{n(),r.requestAnimationFrame(()=>{r.add(zfe(t,i))})}),r.dispose}function zfe(t,e){var n,i;let s=gu();if(!t)return s.dispose;let r=!1;s.add(()=>{r=!0});let o=(i=(n=t.getAnimations)==null?void 0:n.call(t).filter(a=>a instanceof CSSTransition))!=null?i:[];return o.length===0?(e(),s.dispose):(Promise.allSettled(o.map(a=>a.finished)).then(()=>{r||e()}),s.dispose)}function Gfe(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let i=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=i}function z_(t,e){let n=E.useRef([]),i=vn(t);E.useEffect(()=>{let s=[...n.current];for(let[r,o]of e.entries())if(n.current[r]!==o){let a=i(e,s);return n.current=e,a}},[i,...e])}let o1=E.createContext(null);o1.displayName="OpenClosedContext";var Ys=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Ys||{});function Jy(){return E.useContext(o1)}function C7({value:t,children:e}){return ne.createElement(o1.Provider,{value:t},e)}function w7({children:t}){return ne.createElement(o1.Provider,{value:null},t)}function Ufe(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Vc=[];Ufe(()=>{function t(e){if(!(e.target instanceof HTMLElement)||e.target===document.body||Vc[0]===e.target)return;let n=e.target;n=n.closest(vb),Vc.unshift(n??e.target),Vc=Vc.filter(i=>i!=null&&i.isConnected),Vc.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function b7(t){let e=vn(t),n=E.useRef(!1);E.useEffect(()=>(n.current=!1,()=>{n.current=!0,s1(()=>{n.current&&e()})}),[e])}function jfe(){let t=typeof document>"u";return"useSyncExternalStore"in Ov?(e=>e.useSyncExternalStore)(Ov)(()=>()=>{},()=>!1,()=>!t):!1}function Qy(){let t=jfe(),[e,n]=E.useState(Gd.isHandoffComplete);return e&&Gd.isHandoffComplete===!1&&n(!1),E.useEffect(()=>{e!==!0&&n(!0)},[e]),E.useEffect(()=>Gd.handoff(),[]),t?!1:e}let S7=E.createContext(!1);function Wfe(){return E.useContext(S7)}function DB(t){return ne.createElement(S7.Provider,{value:t.force},t.children)}function $fe(t){let e=Wfe(),n=E.useContext(M7),i=Zy(t),[s,r]=E.useState(()=>{var o;if(!e&&n!==null)return(o=n.current)!=null?o:null;if(Gd.isServer)return null;let a=i==null?void 0:i.getElementById("headlessui-portal-root");if(a)return a;if(i===null)return null;let l=i.createElement("div");return l.setAttribute("id","headlessui-portal-root"),i.body.appendChild(l)});return E.useEffect(()=>{s!==null&&(i!=null&&i.body.contains(s)||i==null||i.body.appendChild(s))},[s,i]),E.useEffect(()=>{e||n!==null&&r(n.current)},[n,r,e]),s}let E7=E.Fragment,qfe=ps(function(t,e){let n=t,i=E.useRef(null),s=Jr(c7(f=>{i.current=f}),e),r=Zy(i),o=$fe(i),[a]=E.useState(()=>{var f;return Gd.isServer?null:(f=r==null?void 0:r.createElement("div"))!=null?f:null}),l=E.useContext(pP),c=Qy();Zs(()=>{!o||!a||o.contains(a)||(a.setAttribute("data-headlessui-portal",""),o.appendChild(a))},[o,a]),Zs(()=>{if(a&&l)return l.register(a)},[l,a]),b7(()=>{var f;!o||!a||(a instanceof Node&&o.contains(a)&&o.removeChild(a),o.childNodes.length<=0&&((f=o.parentElement)==null||f.removeChild(o)))});let d=rr();return c?!o||!a?null:ky.createPortal(d({ourProps:{ref:s},theirProps:n,slot:{},defaultTag:E7,name:"Portal"}),a):null});function Kfe(t,e){let n=Jr(e),{enabled:i=!0,...s}=t,r=rr();return i?ne.createElement(qfe,{...s,ref:n}):r({ourProps:{ref:n},theirProps:s,slot:{},defaultTag:E7,name:"Portal"})}let Yfe=E.Fragment,M7=E.createContext(null);function Xfe(t,e){let{target:n,...i}=t,s={ref:Jr(e)},r=rr();return ne.createElement(M7.Provider,{value:n},r({ourProps:s,theirProps:i,defaultTag:Yfe,name:"Popover.Group"}))}let pP=E.createContext(null);function Zfe(){let t=E.useContext(pP),e=E.useRef([]),n=vn(r=>(e.current.push(r),t&&t.register(r),()=>i(r))),i=vn(r=>{let o=e.current.indexOf(r);o!==-1&&e.current.splice(o,1),t&&t.unregister(r)}),s=E.useMemo(()=>({register:n,unregister:i,portals:e}),[n,i,e]);return[e,E.useMemo(()=>function({children:r}){return ne.createElement(pP.Provider,{value:s},r)},[s])]}let Jfe=ps(Kfe),T7=ps(Xfe),Qfe=Object.assign(Jfe,{Group:T7});function epe(t,e=typeof document<"u"?document.defaultView:null,n){let i=Jp(t,"escape");v7(e,"keydown",s=>{i&&(s.defaultPrevented||s.key===xd.Escape&&n(s))})}function tpe(){var t;let[e]=E.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,i]=E.useState((t=e==null?void 0:e.matches)!=null?t:!1);return Zs(()=>{if(!e)return;function s(r){i(r.matches)}return e.addEventListener("change",s),()=>e.removeEventListener("change",s)},[e]),n}function npe({defaultContainers:t=[],portals:e,mainTreeNode:n}={}){let i=Zy(n),s=vn(()=>{var r,o;let a=[];for(let l of t)l!==null&&(l instanceof HTMLElement?a.push(l):"current"in l&&l.current instanceof HTMLElement&&a.push(l.current));if(e!=null&&e.current)for(let l of e.current)a.push(l);for(let l of(r=i==null?void 0:i.querySelectorAll("html > *, body > *"))!=null?r:[])l!==document.body&&l!==document.head&&l instanceof HTMLElement&&l.id!=="headlessui-portal-root"&&(n&&(l.contains(n)||l.contains((o=n==null?void 0:n.getRootNode())==null?void 0:o.host))||a.some(c=>l.contains(c))||a.push(l));return a});return{resolveContainers:s,contains:vn(r=>s().some(o=>o.contains(r)))}}let R7=E.createContext(null);function _B({children:t,node:e}){let[n,i]=E.useState(null),s=A7(e??n);return ne.createElement(R7.Provider,{value:s},t,s===null&&ne.createElement(dP,{features:gb.Hidden,ref:r=>{var o,a;if(r){for(let l of(a=(o=Zp(r))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?a:[])if(l!==document.body&&l!==document.head&&l instanceof HTMLElement&&l!=null&&l.contains(r)){i(l);break}}}}))}function A7(t=null){var e;return(e=E.useContext(R7))!=null?e:t}function G_(){let t=E.useRef(!1);return Zs(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var $g=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))($g||{});function ipe(){let t=E.useRef(0);return g7(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function P7(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)n.current instanceof HTMLElement&&e.add(n.current);return e}let spe="div";var Cd=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(Cd||{});function rpe(t,e){let n=E.useRef(null),i=Jr(n,e),{initialFocus:s,initialFocusFallback:r,containers:o,features:a=15,...l}=t;Qy()||(a=0);let c=Zy(n);cpe(a,{ownerDocument:c});let d=upe(a,{ownerDocument:c,container:n,initialFocus:s,initialFocusFallback:r});dpe(a,{ownerDocument:c,container:n,containers:o,previousActiveElement:d});let f=ipe(),p=vn(M=>{let S=n.current;S&&(R=>R())(()=>{Jo(f.current,{[$g.Forwards]:()=>{fv(S,Tl.First,{skipElements:[M.relatedTarget,r]})},[$g.Backwards]:()=>{fv(S,Tl.Last,{skipElements:[M.relatedTarget,r]})}})})}),m=Jp(!!(a&2),"focus-trap#tab-lock"),y=r1(),C=E.useRef(!1),x={ref:i,onKeyDown(M){M.key=="Tab"&&(C.current=!0,y.requestAnimationFrame(()=>{C.current=!1}))},onBlur(M){if(!(a&4))return;let S=P7(o);n.current instanceof HTMLElement&&S.add(n.current);let R=M.relatedTarget;R instanceof HTMLElement&&R.dataset.headlessuiFocusGuard!=="true"&&(D7(S,R)||(C.current?fv(n.current,Jo(f.current,{[$g.Forwards]:()=>Tl.Next,[$g.Backwards]:()=>Tl.Previous})|Tl.WrapAround,{relativeTo:M.target}):M.target instanceof HTMLElement&&Il(M.target)))}},w=rr();return ne.createElement(ne.Fragment,null,m&&ne.createElement(dP,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:gb.Focusable}),w({ourProps:x,theirProps:l,defaultTag:spe,name:"FocusTrap"}),m&&ne.createElement(dP,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:gb.Focusable}))}let ope=ps(rpe),ape=Object.assign(ope,{features:Cd});function lpe(t=!0){let e=E.useRef(Vc.slice());return z_(([n],[i])=>{i===!0&&n===!1&&s1(()=>{e.current.splice(0)}),i===!1&&n===!0&&(e.current=Vc.slice())},[t,Vc,e]),vn(()=>{var n;return(n=e.current.find(i=>i!=null&&i.isConnected))!=null?n:null})}function cpe(t,{ownerDocument:e}){let n=!!(t&8),i=lpe(n);z_(()=>{n||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&Il(i())},[n]),b7(()=>{n&&Il(i())})}function upe(t,{ownerDocument:e,container:n,initialFocus:i,initialFocusFallback:s}){let r=E.useRef(null),o=Jp(!!(t&1),"focus-trap#initial-focus"),a=G_();return z_(()=>{if(t===0)return;if(!o){s!=null&&s.current&&Il(s.current);return}let l=n.current;l&&s1(()=>{if(!a.current)return;let c=e==null?void 0:e.activeElement;if(i!=null&&i.current){if((i==null?void 0:i.current)===c){r.current=c;return}}else if(l.contains(c)){r.current=c;return}if(i!=null&&i.current)Il(i.current);else{if(t&16){if(fv(l,Tl.First|Tl.AutoFocus)!==fP.Error)return}else if(fv(l,Tl.First)!==fP.Error)return;if(s!=null&&s.current&&(Il(s.current),(e==null?void 0:e.activeElement)===s.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}r.current=e==null?void 0:e.activeElement})},[s,o,t]),r}function dpe(t,{ownerDocument:e,container:n,containers:i,previousActiveElement:s}){let r=G_(),o=!!(t&4);v7(e==null?void 0:e.defaultView,"focus",a=>{if(!o||!r.current)return;let l=P7(i);n.current instanceof HTMLElement&&l.add(n.current);let c=s.current;if(!c)return;let d=a.target;d&&d instanceof HTMLElement?D7(l,d)?(s.current=d,Il(d)):(a.preventDefault(),a.stopPropagation(),Il(c)):Il(s.current)},!0)}function D7(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function _7(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||((e=t.as)!=null?e:N7)!==E.Fragment||ne.Children.count(t.children)===1}let a1=E.createContext(null);a1.displayName="TransitionContext";var hpe=(t=>(t.Visible="visible",t.Hidden="hidden",t))(hpe||{});function fpe(){let t=E.useContext(a1);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function ppe(){let t=E.useContext(l1);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let l1=E.createContext(null);l1.displayName="NestingContext";function c1(t){return"children"in t?c1(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function F7(t,e){let n=Eh(t),i=E.useRef([]),s=G_(),r=r1(),o=vn((m,y=jc.Hidden)=>{let C=i.current.findIndex(({el:x})=>x===m);C!==-1&&(Jo(y,{[jc.Unmount](){i.current.splice(C,1)},[jc.Hidden](){i.current[C].state="hidden"}}),r.microTask(()=>{var x;!c1(i)&&s.current&&((x=n.current)==null||x.call(n))}))}),a=vn(m=>{let y=i.current.find(({el:C})=>C===m);return y?y.state!=="visible"&&(y.state="visible"):i.current.push({el:m,state:"visible"}),()=>o(m,jc.Unmount)}),l=E.useRef([]),c=E.useRef(Promise.resolve()),d=E.useRef({enter:[],leave:[]}),f=vn((m,y,C)=>{l.current.splice(0),e&&(e.chains.current[y]=e.chains.current[y].filter(([x])=>x!==m)),e==null||e.chains.current[y].push([m,new Promise(x=>{l.current.push(x)})]),e==null||e.chains.current[y].push([m,new Promise(x=>{Promise.all(d.current[y].map(([w,M])=>M)).then(()=>x())})]),y==="enter"?c.current=c.current.then(()=>e==null?void 0:e.wait.current).then(()=>C(y)):C(y)}),p=vn((m,y,C)=>{Promise.all(d.current[y].splice(0).map(([x,w])=>w)).then(()=>{var x;(x=l.current.shift())==null||x()}).then(()=>C(y))});return E.useMemo(()=>({children:i,register:a,unregister:o,onStart:f,onStop:p,wait:c,chains:d}),[a,o,i,f,p,d,c])}let N7=E.Fragment,I7=Ep.RenderStrategy;function mpe(t,e){var n,i;let{transition:s=!0,beforeEnter:r,afterEnter:o,beforeLeave:a,afterLeave:l,enter:c,enterFrom:d,enterTo:f,entered:p,leave:m,leaveFrom:y,leaveTo:C,...x}=t,[w,M]=E.useState(null),S=E.useRef(null),R=_7(t),P=Jr(...R?[S,e,M]:e===null?[]:[e]),F=(n=x.unmount)==null||n?jc.Unmount:jc.Hidden,{show:N,appear:I,initial:_}=fpe(),[A,O]=E.useState(N?"visible":"hidden"),k=ppe(),{register:z,unregister:W}=k;Zs(()=>z(S),[z,S]),Zs(()=>{if(F===jc.Hidden&&S.current){if(N&&A!=="visible"){O("visible");return}return Jo(A,{hidden:()=>W(S),visible:()=>z(S)})}},[A,S,z,W,N,F]);let K=Qy();Zs(()=>{if(R&&K&&A==="visible"&&S.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[S,A,K,R]);let V=_&&!I,Q=I&&N&&_,q=E.useRef(!1),X=F7(()=>{q.current||(O("hidden"),W(S))},k),H=vn(Me=>{q.current=!0;let Oe=Me?"enter":"leave";X.onStart(S,Oe,Le=>{Le==="enter"?r==null||r():Le==="leave"&&(a==null||a())})}),ee=vn(Me=>{let Oe=Me?"enter":"leave";q.current=!1,X.onStop(S,Oe,Le=>{Le==="enter"?o==null||o():Le==="leave"&&(l==null||l())}),Oe==="leave"&&!c1(X)&&(O("hidden"),W(S))});E.useEffect(()=>{R&&s||(H(N),ee(N))},[N,R,s]);let ge=!(!s||!R||!K||V),[,Se]=x7(ge,w,N,{start:H,end:ee}),Z=cd({ref:P,className:((i=uP(x.className,Q&&c,Q&&d,Se.enter&&c,Se.enter&&Se.closed&&d,Se.enter&&!Se.closed&&f,Se.leave&&m,Se.leave&&!Se.closed&&y,Se.leave&&Se.closed&&C,!Se.transition&&N&&p))==null?void 0:i.trim())||void 0,...y7(Se)}),ae=0;A==="visible"&&(ae|=Ys.Open),A==="hidden"&&(ae|=Ys.Closed),Se.enter&&(ae|=Ys.Opening),Se.leave&&(ae|=Ys.Closing);let xe=rr();return ne.createElement(l1.Provider,{value:X},ne.createElement(C7,{value:ae},xe({ourProps:Z,theirProps:x,defaultTag:N7,features:I7,visible:A==="visible",name:"Transition.Child"})))}function gpe(t,e){let{show:n,appear:i=!1,unmount:s=!0,...r}=t,o=E.useRef(null),a=_7(t),l=Jr(...a?[o,e]:e===null?[]:[e]);Qy();let c=Jy();if(n===void 0&&c!==null&&(n=(c&Ys.Open)===Ys.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[d,f]=E.useState(n?"visible":"hidden"),p=F7(()=>{n||f("hidden")}),[m,y]=E.useState(!0),C=E.useRef([n]);Zs(()=>{m!==!1&&C.current[C.current.length-1]!==n&&(C.current.push(n),y(!1))},[C,n]);let x=E.useMemo(()=>({show:n,appear:i,initial:m}),[n,i,m]);Zs(()=>{n?f("visible"):!c1(p)&&o.current!==null&&f("hidden")},[n,p]);let w={unmount:s},M=vn(()=>{var P;m&&y(!1),(P=t.beforeEnter)==null||P.call(t)}),S=vn(()=>{var P;m&&y(!1),(P=t.beforeLeave)==null||P.call(t)}),R=rr();return ne.createElement(l1.Provider,{value:p},ne.createElement(a1.Provider,{value:x},R({ourProps:{...w,as:E.Fragment,children:ne.createElement(O7,{ref:l,...w,...r,beforeEnter:M,beforeLeave:S})},theirProps:{},defaultTag:E.Fragment,features:I7,visible:d==="visible",name:"Transition"})))}function vpe(t,e){let n=E.useContext(a1)!==null,i=Jy()!==null;return ne.createElement(ne.Fragment,null,!n&&i?ne.createElement(mP,{ref:e,...t}):ne.createElement(O7,{ref:e,...t}))}let mP=ps(gpe),O7=ps(mpe),Mp=ps(vpe),U_=Object.assign(mP,{Child:Mp,Root:mP});var ype=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(ype||{}),xpe=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(xpe||{});let Cpe={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},j_=E.createContext(null);j_.displayName="DialogContext";function u1(t){let e=E.useContext(j_);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,u1),n}return e}function wpe(t,e){return Jo(e.type,Cpe,t,e)}let FB=ps(function(t,e){let n=E.useId(),{id:i=`headlessui-dialog-${n}`,open:s,onClose:r,initialFocus:o,role:a="dialog",autoFocus:l=!0,__demoMode:c=!1,unmount:d=!1,...f}=t,p=E.useRef(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(p.current||(p.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let m=Jy();s===void 0&&m!==null&&(s=(m&Ys.Open)===Ys.Open);let y=E.useRef(null),C=Jr(y,e),x=Zy(y),w=s?0:1,[M,S]=E.useReducer(wpe,{titleId:null,descriptionId:null,panelRef:E.createRef()}),R=vn(()=>r(!1)),P=vn(ee=>S({type:0,id:ee})),F=Qy()?w===0:!1,[N,I]=Zfe(),_={get current(){var ee;return(ee=M.panelRef.current)!=null?ee:y.current}},A=A7(),{resolveContainers:O}=npe({mainTreeNode:A,portals:N,defaultContainers:[_]}),k=m!==null?(m&Ys.Closing)===Ys.Closing:!1;gfe(c||k?!1:F,{allowed:vn(()=>{var ee,ge;return[(ge=(ee=y.current)==null?void 0:ee.closest("[data-headlessui-portal]"))!=null?ge:null]}),disallowed:vn(()=>{var ee;return[(ee=A==null?void 0:A.closest("body > *:not(#headlessui-portal-root)"))!=null?ee:null]})}),Pfe(F,O,ee=>{ee.preventDefault(),R()}),epe(F,x==null?void 0:x.defaultView,ee=>{ee.preventDefault(),ee.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),R()}),Lfe(c||k?!1:F,x,O),vfe(F,y,R);let[z,W]=lfe(),K=E.useMemo(()=>[{dialogState:w,close:R,setTitleId:P,unmount:d},M],[w,M,R,P,d]),V=E.useMemo(()=>({open:w===0}),[w]),Q={ref:C,id:i,role:a,tabIndex:-1,"aria-modal":c?void 0:w===0?!0:void 0,"aria-labelledby":M.titleId,"aria-describedby":z,unmount:d},q=!tpe(),X=Cd.None;F&&!c&&(X|=Cd.RestoreFocus,X|=Cd.TabLock,l&&(X|=Cd.AutoFocus),q&&(X|=Cd.InitialFocus));let H=rr();return ne.createElement(w7,null,ne.createElement(DB,{force:!0},ne.createElement(Qfe,null,ne.createElement(j_.Provider,{value:K},ne.createElement(T7,{target:y},ne.createElement(DB,{force:!1},ne.createElement(W,{slot:V},ne.createElement(I,null,ne.createElement(ape,{initialFocus:o,initialFocusFallback:y,containers:O,features:X},ne.createElement(d7,{value:R},H({ourProps:Q,theirProps:f,slot:V,defaultTag:bpe,features:Spe,visible:w===0,name:"Dialog"})))))))))))}),bpe="div",Spe=Ep.RenderStrategy|Ep.Static;function Epe(t,e){let{transition:n=!1,open:i,...s}=t,r=Jy(),o=t.hasOwnProperty("open")||r!==null,a=t.hasOwnProperty("onClose");if(!o&&!a)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!a)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!r&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(i!==void 0||n)&&!s.static?ne.createElement(_B,null,ne.createElement(U_,{show:i,transition:n,unmount:s.unmount},ne.createElement(FB,{ref:e,...s}))):ne.createElement(_B,null,ne.createElement(FB,{ref:e,open:i,...s}))}let Mpe="div";function Tpe(t,e){let n=E.useId(),{id:i=`headlessui-dialog-panel-${n}`,transition:s=!1,...r}=t,[{dialogState:o,unmount:a},l]=u1("Dialog.Panel"),c=Jr(e,l.panelRef),d=E.useMemo(()=>({open:o===0}),[o]),f=vn(x=>{x.stopPropagation()}),p={ref:c,id:i,onClick:f},m=s?Mp:E.Fragment,y=s?{unmount:a}:{},C=rr();return ne.createElement(m,{...y},C({ourProps:p,theirProps:r,slot:d,defaultTag:Mpe,name:"Dialog.Panel"}))}let Rpe="div";function Ape(t,e){let{transition:n=!1,...i}=t,[{dialogState:s,unmount:r}]=u1("Dialog.Backdrop"),o=E.useMemo(()=>({open:s===0}),[s]),a={ref:e,"aria-hidden":!0},l=n?Mp:E.Fragment,c=n?{unmount:r}:{},d=rr();return ne.createElement(l,{...c},d({ourProps:a,theirProps:i,slot:o,defaultTag:Rpe,name:"Dialog.Backdrop"}))}let Ppe="h2";function Dpe(t,e){let n=E.useId(),{id:i=`headlessui-dialog-title-${n}`,...s}=t,[{dialogState:r,setTitleId:o}]=u1("Dialog.Title"),a=Jr(e);E.useEffect(()=>(o(i),()=>o(null)),[i,o]);let l=E.useMemo(()=>({open:r===0}),[r]),c={ref:a,id:i};return rr()({ourProps:c,theirProps:s,slot:l,defaultTag:Ppe,name:"Dialog.Title"})}let _pe=ps(Epe),W_=ps(Tpe);ps(Ape);let L7=ps(Dpe),k7=Object.assign(_pe,{Panel:W_,Title:L7,Description:hfe});var NB;let Fpe=(NB=ne.startTransition)!=null?NB:function(t){t()};var Npe=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Npe||{}),Ipe=(t=>(t[t.ToggleDisclosure=0]="ToggleDisclosure",t[t.CloseDisclosure=1]="CloseDisclosure",t[t.SetButtonId=2]="SetButtonId",t[t.SetPanelId=3]="SetPanelId",t[t.SetButtonElement=4]="SetButtonElement",t[t.SetPanelElement=5]="SetPanelElement",t))(Ipe||{});let Ope={0:t=>({...t,disclosureState:Jo(t.disclosureState,{0:1,1:0})}),1:t=>t.disclosureState===1?t:{...t,disclosureState:1},2(t,e){return t.buttonId===e.buttonId?t:{...t,buttonId:e.buttonId}},3(t,e){return t.panelId===e.panelId?t:{...t,panelId:e.panelId}},4(t,e){return t.buttonElement===e.element?t:{...t,buttonElement:e.element}},5(t,e){return t.panelElement===e.element?t:{...t,panelElement:e.element}}},$_=E.createContext(null);$_.displayName="DisclosureContext";function q_(t){let e=E.useContext($_);if(e===null){let n=new Error(`<${t} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,q_),n}return e}let K_=E.createContext(null);K_.displayName="DisclosureAPIContext";function B7(t){let e=E.useContext(K_);if(e===null){let n=new Error(`<${t} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,B7),n}return e}let Y_=E.createContext(null);Y_.displayName="DisclosurePanelContext";function Lpe(){return E.useContext(Y_)}function kpe(t,e){return Jo(e.type,Ope,t,e)}let Bpe=E.Fragment;function Hpe(t,e){let{defaultOpen:n=!1,...i}=t,s=E.useRef(null),r=Jr(e,c7(C=>{s.current=C},t.as===void 0||t.as===E.Fragment)),o=E.useReducer(kpe,{disclosureState:n?0:1,buttonElement:null,panelElement:null,buttonId:null,panelId:null}),[{disclosureState:a,buttonId:l},c]=o,d=vn(C=>{c({type:1});let x=Zp(s);if(!x||!l)return;let w=C?C instanceof HTMLElement?C:C.current instanceof HTMLElement?C.current:x.getElementById(l):x.getElementById(l);w==null||w.focus()}),f=E.useMemo(()=>({close:d}),[d]),p=E.useMemo(()=>({open:a===0,close:d}),[a,d]),m={ref:r},y=rr();return ne.createElement($_.Provider,{value:o},ne.createElement(K_.Provider,{value:f},ne.createElement(d7,{value:d},ne.createElement(C7,{value:Jo(a,{0:Ys.Open,1:Ys.Closed})},y({ourProps:m,theirProps:i,slot:p,defaultTag:Bpe,name:"Disclosure"})))))}let Vpe="button";function zpe(t,e){let n=E.useId(),{id:i=`headlessui-disclosure-button-${n}`,disabled:s=!1,autoFocus:r=!1,...o}=t,[a,l]=q_("Disclosure.Button"),c=Lpe(),d=c===null?!1:c===a.panelId,f=E.useRef(null),p=Jr(f,e,vn(_=>{if(!d)return l({type:4,element:_})}));E.useEffect(()=>{if(!d)return l({type:2,buttonId:i}),()=>{l({type:2,buttonId:null})}},[i,l,d]);let m=vn(_=>{var A;if(d){if(a.disclosureState===1)return;switch(_.key){case xd.Space:case xd.Enter:_.preventDefault(),_.stopPropagation(),l({type:0}),(A=a.buttonElement)==null||A.focus();break}}else switch(_.key){case xd.Space:case xd.Enter:_.preventDefault(),_.stopPropagation(),l({type:0});break}}),y=vn(_=>{switch(_.key){case xd.Space:_.preventDefault();break}}),C=vn(_=>{var A;ofe(_.currentTarget)||s||(d?(l({type:0}),(A=a.buttonElement)==null||A.focus()):l({type:0}))}),{isFocusVisible:x,focusProps:w}=Whe({autoFocus:r}),{isHovered:M,hoverProps:S}=jhe({isDisabled:s}),{pressed:R,pressProps:P}=Zhe({disabled:s}),F=E.useMemo(()=>({open:a.disclosureState===0,hover:M,active:R,disabled:s,focus:x,autofocus:r}),[a,M,R,x,s,r]),N=Dfe(t,a.buttonElement),I=EB(d?{ref:p,type:N,disabled:s||void 0,autoFocus:r,onKeyDown:m,onClick:C}:{ref:p,id:i,type:N,"aria-expanded":a.disclosureState===0,"aria-controls":a.panelElement?a.panelId:void 0,disabled:s||void 0,autoFocus:r,onKeyDown:m,onKeyUp:y,onClick:C},w,S,P);return rr()({ourProps:I,theirProps:o,slot:F,defaultTag:Vpe,name:"Disclosure.Button"})}let Gpe="div",Upe=Ep.RenderStrategy|Ep.Static;function jpe(t,e){let n=E.useId(),{id:i=`headlessui-disclosure-panel-${n}`,transition:s=!1,...r}=t,[o,a]=q_("Disclosure.Panel"),{close:l}=B7("Disclosure.Panel"),[c,d]=E.useState(null),f=Jr(e,vn(M=>{Fpe(()=>a({type:5,element:M}))}),d);E.useEffect(()=>(a({type:3,panelId:i}),()=>{a({type:3,panelId:null})}),[i,a]);let p=Jy(),[m,y]=x7(s,c,p!==null?(p&Ys.Open)===Ys.Open:o.disclosureState===0),C=E.useMemo(()=>({open:o.disclosureState===0,close:l}),[o.disclosureState,l]),x={ref:f,id:i,...y7(y)},w=rr();return ne.createElement(w7,null,ne.createElement(Y_.Provider,{value:o.panelId},w({ourProps:x,theirProps:r,slot:C,defaultTag:Gpe,features:Upe,visible:m,name:"Disclosure.Panel"})))}let Wpe=ps(Hpe),qv=ps(zpe),Kv=ps(jpe),yb=Object.assign(Wpe,{Button:qv,Panel:Kv});const $pe=({images:t,viewFull:e,handleViewFull:n})=>{const i=()=>{n()};return v.jsx(U_,{appear:!0,show:e,as:E.Fragment,children:v.jsxs(k7,{as:"div",className:"relative z-50",onClose:n,children:[v.jsx("div",{className:"fixed inset-0 bg-black opacity-40",onClick:i}),v.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto flex items-center justify-center",children:v.jsx(Mp,{as:E.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:v.jsx(W_,{className:"w-full max-w-5xl p-6 overflow-hidden text-left align-middle transition-all transform bg-transparent rounded-xl",children:v.jsx("div",{className:"flex justify-between",children:v.jsx("main",{className:"mx-auto",children:v.jsx(L_,{className:"rounded-xl",images:t,isButtonOutside:!0})})})})})})]})})},H7=({blog:t})=>{const[e,n]=E.useState(!1),i=()=>{n(s=>!s)};return v.jsxs("section",{className:"rounded-lg p-5 xl:p-8 flex flex-col gap-6 border border-gray-100",children:[v.jsx($pe,{viewFull:e,handleViewFull:i,images:t.images}),v.jsxs("section",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex gap-4",children:[v.jsx("div",{className:"w-12 h-12",children:v.jsx("img",{src:t.userPic,alt:t.firstName,className:"w-full h-full object-cover rounded-full"})}),v.jsxs("div",{children:[v.jsxs("p",{className:"font-avenir-black",children:[t.firstName," ",t.lastName]}),v.jsx("span",{className:"text-xs text-gray-500",children:t.date})]})]}),v.jsx(qi,{to:`blog/${t.id}/${$r(t.title)}`,state:{previousPage:location.pathname},children:v.jsx(vue,{className:"w-7 h-7 text-primary cursor-pointer"})})]}),v.jsxs("section",{children:[v.jsx("h3",{className:"font-avenir-black",children:t.title}),v.jsx("p",{children:t.description})]}),v.jsxs("section",{className:"grid grid-cols-4 grid-row grid-rows-2 gap-4",children:[v.jsx("div",{className:"col-start-1 col-end-3 row-start-1 row-end-3",children:v.jsx("img",{src:t.images[0],className:"w-full h-full object-cover rounded-md cursor-pointer",onClick:i})}),v.jsx("div",{className:"col-start-3 col-end-4 row-start-1 row-end-2",children:v.jsx("img",{src:t.images[1],className:"w-full h-full object-cover rounded-md",onClick:i})}),v.jsx("div",{className:"ol-start-3 col-end-4 row-start-2 row-end-3 cursor-pointer",children:v.jsx("img",{src:t.images[2],className:"w-full h-full object-cover rounded-md",onClick:i})}),v.jsx("div",{className:"grid-start-4 grid-end-5 row-start-1 row-end-3",children:v.jsx("img",{src:t.images[3],className:"w-full h-full object-cover rounded-md cursor-pointer",onClick:i})})]}),v.jsxs("section",{className:"flex gap-3",children:[v.jsxs("button",{className:"flex gap-3 cursor-pointer",children:[v.jsx(N6,{className:"w-5 h-5 text-gray-400"}),v.jsx("span",{className:"text-gray-500",children:t.likeCount})]}),v.jsxs("button",{className:"flex gap-3 cursor-pointer",children:[v.jsx(P6,{className:"w-5 h-5 text-gray-400"}),v.jsx("span",{className:"text-gray-500",children:t.commentCount})]})]})]})},qpe=[{id:1,userPic:"http://sa.kapamilya.com/absnews/abscbnnews/media/2020/tvpatrol/06/01/james-reid.jpg",firstName:"Hernani",lastName:"Domingo",title:"Lost in the beauty of Palawan!",description:"Lost in the beauty of Palawan! 🌊🏝️ From stunning lagoons to white sandy beaches, every moment feels like a dream. ✨🌅 #IslandParadise. Lost in the beauty of Palawan! 🌊🏝️ From stunning lagoons to white sandy beaches, every moment feels like a dream. ✨🌅 #IslandParadise. Lost in the beauty of Palawan! 🌊🏝️ From stunning lagoons to white sandy beaches, every moment feels like a dream. ✨🌅 #IslandParadise.",commentCount:10,likeCount:25,date:"2025-02-26 14:30:00",images:["https://plus.unsplash.com/premium_photo-1697729414037-e2a59823d9d9?q=80&w=2069&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1518509562904-e7ef99cdcc86?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1583685173048-342a162bb888?q=80&w=2071&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1531761535209-180857e963b9?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"]},{id:2,userPic:"http://sa.kapamilya.com/absnews/abscbnnews/media/2020/tvpatrol/06/01/james-reid.jpg",firstName:"Hernani",lastName:"Domingo",title:"Lost in the beauty of Palawan!",description:"Lost in the beauty of Palawan! 🌊🏝️ From stunning lagoons to white sandy beaches, every moment feels like a dream. ✨🌅 #IslandParadise. Lost in the beauty of Palawan! 🌊🏝️ From stunning lagoons to white sandy beaches, every moment feels like a dream. ✨🌅 #IslandParadise. Lost in the beauty of Palawan! 🌊🏝️ From stunning lagoons to white sandy beaches, every moment feels like a dream. ✨🌅 #IslandParadise.",commentCount:10,likeCount:25,date:"2025-02-26 14:30:00",images:["https://plus.unsplash.com/premium_photo-1697729414037-e2a59823d9d9?q=80&w=2069&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1518509562904-e7ef99cdcc86?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1583685173048-342a162bb888?q=80&w=2071&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1531761535209-180857e963b9?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"]}],Kpe=()=>{const{id:t}=Iy();return fs(),v.jsx("section",{className:"p-2 xl:p-3",children:t?v.jsx(Ly,{}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"bg-primary rounded-md p-3 flex justify-between mb-5 lg:hidden",children:[v.jsxs("div",{className:"flex gap-2",children:[v.jsx(che,{className:"w-5 h-5 text-white"}),v.jsx("span",{className:"text-white text-sm",children:"3 events today"})]}),v.jsxs("div",{className:"flex gap-1 items-center",children:[v.jsx("span",{className:"text-white text-xs",children:"See all"}),v.jsx(Wde,{className:"w-3 h-3 text-white"})]})]}),v.jsx("main",{children:qpe.map((e,n)=>v.jsx("div",{className:"mb-5",children:v.jsx(H7,{blog:e})},n))})]})})},Ype=[{id:1,userPic:"http://sa.kapamilya.com/absnews/abscbnnews/media/2020/tvpatrol/06/01/james-reid.jpg",firstName:"Hernani",lastName:"Domingo",title:"Lost in the beauty of Palawan!",description:"Lost in the beauty of Palawan! 🌊🏝️ From stunning lagoons to white sandy beaches, every moment feels like a dream. ✨🌅 #IslandParadise. Lost in the beauty of Palawan! 🌊🏝️ From stunning lagoons to white sandy beaches, every moment feels like a dream. ✨🌅 #IslandParadise. Lost in the beauty of Palawan! 🌊🏝️ From stunning lagoons to white sandy beaches, every moment feels like a dream. ✨🌅 #IslandParadise.",commentCount:10,likeCount:25,date:"2025-02-26 14:30:00",images:["https://plus.unsplash.com/premium_photo-1697729414037-e2a59823d9d9?q=80&w=2069&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1518509562904-e7ef99cdcc86?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1583685173048-342a162bb888?q=80&w=2071&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1531761535209-180857e963b9?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"]},{id:2,userPic:"http://sa.kapamilya.com/absnews/abscbnnews/media/2020/tvpatrol/06/01/james-reid.jpg",firstName:"Hernani",lastName:"Domingo",title:"Lost in the beauty of Palawan!",description:"Lost in the beauty of Palawan! 🌊🏝️ From stunning lagoons to white sandy beaches, every moment feels like a dream. ✨🌅 #IslandParadise. Lost in the beauty of Palawan! 🌊🏝️ From stunning lagoons to white sandy beaches, every moment feels like a dream. ✨🌅 #IslandParadise. Lost in the beauty of Palawan! 🌊🏝️ From stunning lagoons to white sandy beaches, every moment feels like a dream. ✨🌅 #IslandParadise.",commentCount:10,likeCount:25,date:"2025-02-26 14:30:00",images:["https://plus.unsplash.com/premium_photo-1697729414037-e2a59823d9d9?q=80&w=2069&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1518509562904-e7ef99cdcc86?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1583685173048-342a162bb888?q=80&w=2071&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1531761535209-180857e963b9?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"]}],Xpe=()=>v.jsx("section",{children:v.jsx("div",{className:"p-2 xl:p-3",children:v.jsx("main",{children:Ype.map((t,e)=>v.jsx("div",{className:"mb-5",children:v.jsx(H7,{blog:t})},e))})})}),Zpe=({id:t,userPic:e,firstName:n,lastName:i,content:s,createdAt:r})=>v.jsx("section",{children:v.jsxs("section",{className:"flex flex-row gap-4",children:[v.jsx("div",{className:"w-12 h-12",children:v.jsx("img",{src:e,alt:n,className:"w-full h-full object-cover rounded-full"})}),v.jsxs("div",{className:"flex-1",children:[v.jsxs("div",{className:"flex gap-2 items-center",children:[v.jsxs("span",{className:"text-primary font-avenir-black",children:[n," ",i]}),v.jsx("span",{className:"text-xs text-gray-500",children:r})]}),v.jsx("p",{children:s})]})]})}),ho={userPic:"http://sa.kapamilya.com/absnews/abscbnnews/media/2020/tvpatrol/06/01/james-reid.jpg",firstName:"Hernani",lastName:"Domingo",title:"Lost in the beauty of Palawan!",description:"Lost in the beauty of Palawan! 🌊🏝️ From stunning lagoons to white sandy beaches, every moment feels like a dream. ✨🌅 #IslandParadise. Lost in the beauty of Palawan! 🌊🏝️ From stunning lagoons to white sandy beaches, every moment feels like a dream. ✨🌅 #IslandParadise. Lost in the beauty of Palawan! 🌊🏝️ From stunning lagoons to white sandy beaches, every moment feels like a dream. ✨🌅 #IslandParadise.",commentCount:10,likeCount:25,date:"2025-02-26 14:30:00",images:["https://plus.unsplash.com/premium_photo-1697729414037-e2a59823d9d9?q=80&w=2069&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1518509562904-e7ef99cdcc86?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1583685173048-342a162bb888?q=80&w=2071&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1531761535209-180857e963b9?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"]},IB=[{id:1,userPic:"http://sa.kapamilya.com/absnews/abscbnnews/media/2020/tvpatrol/06/01/james-reid.jpg",firstName:"James",lastName:"Reid",content:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit magnam quas ratione, vero iusto expedita odio! Necessitatibus laudantium aliquid iusto?",createdAt:"2025-02-26 14:30:00"},{id:2,userPic:"http://sa.kapamilya.com/absnews/abscbnnews/media/2020/tvpatrol/06/01/james-reid.jpg",firstName:"James",lastName:"Reid",content:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit magnam quas ratione, vero iusto expedita odio! Necessitatibus laudantium aliquid iusto?",createdAt:"2025-02-26 14:30:00"}],OB=()=>{const{id:t}=Iy(),e=fs(),n=Hi();return v.jsxs("section",{className:"p-2 xl:p-3 flex flex-col gap-8 mt-4",children:[v.jsxs("button",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>{e(n.state.previousPage)},children:[v.jsx(fue,{className:"w-6 h-6 text-primary"}),v.jsx("span",{className:"font-avenir-black text-primary text-base",children:"Back"})]}),v.jsxs("section",{className:"flex gap-4",children:[v.jsx("div",{className:"w-12 h-12",children:v.jsx("img",{src:ho.userPic,alt:ho.firstName,className:"w-full h-full object-cover rounded-full"})}),v.jsxs("div",{children:[v.jsxs("p",{className:"font-avenir-black",children:[ho.firstName," ",ho.lastName]}),v.jsx("span",{className:"text-xs text-gray-500",children:ho.date})]})]}),v.jsx("section",{children:v.jsx("main",{className:"max-w-full mx-auto",children:v.jsx(L_,{images:ho.images,isButtonOutside:!1})})}),v.jsxs("section",{children:[v.jsx("h3",{className:"text-center font-avenir-black",children:ho.title}),v.jsx("p",{children:ho.description})]}),v.jsxs("section",{className:"flex gap-3",children:[v.jsxs("button",{className:"flex gap-3 cursor-pointer",children:[v.jsx(N6,{className:"w-5 h-5 text-gray-400"}),v.jsx("span",{className:"text-gray-500",children:ho.likeCount})]}),v.jsxs("button",{className:"flex gap-3 cursor-pointer",children:[v.jsx(P6,{className:"w-5 h-5 text-gray-400"}),v.jsx("span",{className:"text-gray-500",children:ho.commentCount})]})]}),v.jsxs("section",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-12 h-12",children:v.jsx("img",{src:ho.userPic,alt:ho.firstName,className:"w-full h-full object-cover rounded-full"})}),v.jsx("textarea",{name:"comment",id:"comment",cols:"30",rows:"1",className:"border flex-1 px-2 py-2 rounded bg-blue-50 border-none min-h-[50px] focus:outline-primary",placeholder:"Write your comment here..."}),v.jsx(Oue,{className:"text-primary w-6 h-6"})]}),v.jsxs("section",{className:"flex justify-between items-center",children:[v.jsx("h4",{className:"",children:"Comments"}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("span",{className:"text-primary font-avenir-black text-sm",children:"Newest first"}),v.jsx(xue,{className:"w-4 h-4 text-primary"})]})]}),v.jsx("section",{className:"flex flex-col gap-4",children:IB.map((i,s)=>v.jsxs("div",{children:[v.jsx(Zpe,{id:i.id,firstName:i.firstName,lastName:i.lastName,content:i.content,createdAt:i.createdAt,userPic:i.userPic}),s!=IB.length-1&&v.jsx("hr",{className:"text-gray-200 mt-4"})]},i.id))})]})},Jpe=()=>v.jsx("div",{children:"EmployeeThreads"}),Qpe=()=>v.jsx("div",{children:"EmployeeEvents"}),eme=()=>v.jsx("div",{children:"EmployeeWorkshops"}),tme=()=>v.jsx("div",{children:"EmployeePersonalityTest"});function is(t){this.content=t}is.prototype={constructor:is,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var i=n&&n!=t?this.remove(n):this,s=i.find(t),r=i.content.slice();return s==-1?r.push(n||t,e):(r[s+1]=e,n&&(r[s]=n)),new is(r)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new is(n)},addToStart:function(t,e){return new is([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new is(n)},addBefore:function(t,e,n){var i=this.remove(e),s=i.content.slice(),r=i.find(t);return s.splice(r==-1?s.length:r,0,e,n),new is(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=is.from(t),t.size?new is(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=is.from(t),t.size?new is(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=is.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};is.from=function(t){if(t instanceof is)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new is(e)};function V7(t,e,n){for(let i=0;;i++){if(i==t.childCount||i==e.childCount)return t.childCount==e.childCount?null:n;let s=t.child(i),r=e.child(i);if(s==r){n+=s.nodeSize;continue}if(!s.sameMarkup(r))return n;if(s.isText&&s.text!=r.text){for(let o=0;s.text[o]==r.text[o];o++)n++;return n}if(s.content.size||r.content.size){let o=V7(s.content,r.content,n+1);if(o!=null)return o}n+=s.nodeSize}}function z7(t,e,n,i){for(let s=t.childCount,r=e.childCount;;){if(s==0||r==0)return s==r?null:{a:n,b:i};let o=t.child(--s),a=e.child(--r),l=o.nodeSize;if(o==a){n-=l,i-=l;continue}if(!o.sameMarkup(a))return{a:n,b:i};if(o.isText&&o.text!=a.text){let c=0,d=Math.min(o.text.length,a.text.length);for(;c<d&&o.text[o.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,i--;return{a:n,b:i}}if(o.content.size||a.content.size){let c=z7(o.content,a.content,n-1,i-1);if(c)return c}n-=l,i-=l}}class qe{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let i=0;i<e.length;i++)this.size+=e[i].nodeSize}nodesBetween(e,n,i,s=0,r){for(let o=0,a=0;a<n;o++){let l=this.content[o],c=a+l.nodeSize;if(c>e&&i(l,s+a,r||null,o)!==!1&&l.content.size){let d=a+1;l.nodesBetween(Math.max(0,e-d),Math.min(l.content.size,n-d),i,s+d)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,i,s){let r="",o=!0;return this.nodesBetween(e,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?s?typeof s=="function"?s(a):s:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&i&&(o?o=!1:r+=i),r+=c},0),r}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,i=e.firstChild,s=this.content.slice(),r=0;for(n.isText&&n.sameMarkup(i)&&(s[s.length-1]=n.withText(n.text+i.text),r=1);r<e.content.length;r++)s.push(e.content[r]);return new qe(s,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let i=[],s=0;if(n>e)for(let r=0,o=0;o<n;r++){let a=this.content[r],l=o+a.nodeSize;l>e&&((o<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,n-o-1))),i.push(a),s+=a.nodeSize),o=l}return new qe(i,s)}cutByIndex(e,n){return e==n?qe.empty:e==0&&n==this.content.length?this:new qe(this.content.slice(e,n))}replaceChild(e,n){let i=this.content[e];if(i==n)return this;let s=this.content.slice(),r=this.size+n.nodeSize-i.nodeSize;return s[e]=n,new qe(s,r)}addToStart(e){return new qe([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new qe(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,i=0;n<this.content.length;n++){let s=this.content[n];e(s,i,n),i+=s.nodeSize}}findDiffStart(e,n=0){return V7(this,e,n)}findDiffEnd(e,n=this.size,i=e.size){return z7(this,e,n,i)}findIndex(e,n=-1){if(e==0)return qx(0,e);if(e==this.size)return qx(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let i=0,s=0;;i++){let r=this.child(i),o=s+r.nodeSize;if(o>=e)return o==e||n>0?qx(i+1,o):qx(i,s);s=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return qe.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new qe(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return qe.empty;let n,i=0;for(let s=0;s<e.length;s++){let r=e[s];i+=r.nodeSize,s&&r.isText&&e[s-1].sameMarkup(r)?(n||(n=e.slice(0,s)),n[n.length-1]=r.withText(n[n.length-1].text+r.text)):n&&n.push(r)}return new qe(n||e,i)}static from(e){if(!e)return qe.empty;if(e instanceof qe)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new qe([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}qe.empty=new qe([],0);const TR={index:0,offset:0};function qx(t,e){return TR.index=t,TR.offset=e,TR}function xb(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(!xb(t[i],e[i]))return!1}else{for(let i in t)if(!(i in e)||!xb(t[i],e[i]))return!1;for(let i in e)if(!(i in t))return!1}return!0}let In=class gP{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,i=!1;for(let s=0;s<e.length;s++){let r=e[s];if(this.eq(r))return e;if(this.type.excludes(r.type))n||(n=e.slice(0,s));else{if(r.type.excludes(this.type))return e;!i&&r.type.rank>this.type.rank&&(n||(n=e.slice(0,s)),n.push(this),i=!0),n&&n.push(r)}}return n||(n=e.slice()),i||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&xb(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let i=e.marks[n.type];if(!i)throw new RangeError(`There is no mark type ${n.type} in this schema`);let s=i.create(n.attrs);return i.checkAttrs(s.attrs),s}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let i=0;i<e.length;i++)if(!e[i].eq(n[i]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return gP.none;if(e instanceof gP)return[e];let n=e.slice();return n.sort((i,s)=>i.type.rank-s.type.rank),n}};In.none=[];class Cb extends Error{}class ct{constructor(e,n,i){this.content=e,this.openStart=n,this.openEnd=i}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let i=U7(this.content,e+this.openStart,n);return i&&new ct(i,this.openStart,this.openEnd)}removeBetween(e,n){return new ct(G7(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return ct.empty;let i=n.openStart||0,s=n.openEnd||0;if(typeof i!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ct(qe.fromJSON(e,n.content),i,s)}static maxOpen(e,n=!0){let i=0,s=0;for(let r=e.firstChild;r&&!r.isLeaf&&(n||!r.type.spec.isolating);r=r.firstChild)i++;for(let r=e.lastChild;r&&!r.isLeaf&&(n||!r.type.spec.isolating);r=r.lastChild)s++;return new ct(e,i,s)}}ct.empty=new ct(qe.empty,0,0);function G7(t,e,n){let{index:i,offset:s}=t.findIndex(e),r=t.maybeChild(i),{index:o,offset:a}=t.findIndex(n);if(s==e||r.isText){if(a!=n&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(i!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(i,r.copy(G7(r.content,e-s-1,n-s-1)))}function U7(t,e,n,i){let{index:s,offset:r}=t.findIndex(e),o=t.maybeChild(s);if(r==e||o.isText)return t.cut(0,e).append(n).append(t.cut(e));let a=U7(o.content,e-r-1,n);return a&&t.replaceChild(s,o.copy(a))}function nme(t,e,n){if(n.openStart>t.depth)throw new Cb("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Cb("Inconsistent open depths");return j7(t,e,n,0)}function j7(t,e,n,i){let s=t.index(i),r=t.node(i);if(s==e.index(i)&&i<t.depth-n.openStart){let o=j7(t,e,n,i+1);return r.copy(r.content.replaceChild(s,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==i&&e.depth==i){let o=t.parent,a=o.content;return jd(o,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=ime(n,t);return jd(r,$7(t,o,a,e,i))}else return jd(r,wb(t,e,i))}function W7(t,e){if(!e.type.compatibleContent(t.type))throw new Cb("Cannot join "+e.type.name+" onto "+t.type.name)}function vP(t,e,n){let i=t.node(n);return W7(i,e.node(n)),i}function Ud(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function pv(t,e,n,i){let s=(e||t).node(n),r=0,o=e?e.index(n):s.childCount;t&&(r=t.index(n),t.depth>n?r++:t.textOffset&&(Ud(t.nodeAfter,i),r++));for(let a=r;a<o;a++)Ud(s.child(a),i);e&&e.depth==n&&e.textOffset&&Ud(e.nodeBefore,i)}function jd(t,e){return t.type.checkContent(e),t.copy(e)}function $7(t,e,n,i,s){let r=t.depth>s&&vP(t,e,s+1),o=i.depth>s&&vP(n,i,s+1),a=[];return pv(null,t,s,a),r&&o&&e.index(s)==n.index(s)?(W7(r,o),Ud(jd(r,$7(t,e,n,i,s+1)),a)):(r&&Ud(jd(r,wb(t,e,s+1)),a),pv(e,n,s,a),o&&Ud(jd(o,wb(n,i,s+1)),a)),pv(i,null,s,a),new qe(a)}function wb(t,e,n){let i=[];if(pv(null,t,n,i),t.depth>n){let s=vP(t,e,n+1);Ud(jd(s,wb(t,e,n+1)),i)}return pv(e,null,n,i),new qe(i)}function ime(t,e){let n=e.depth-t.openStart,s=e.node(n).copy(t.content);for(let r=n-1;r>=0;r--)s=e.node(r).copy(qe.from(s));return{start:s.resolveNoCache(t.openStart+n),end:s.resolveNoCache(s.content.size-t.openEnd-n)}}class Yv{constructor(e,n,i){this.pos=e,this.path=n,this.parentOffset=i,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let i=this.pos-this.path[this.path.length-1],s=e.child(n);return i?e.child(n).cut(i):s}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let i=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let r=0;r<e;r++)s+=i.child(r).nodeSize;return s}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return In.none;if(this.textOffset)return e.child(n).marks;let i=e.maybeChild(n-1),s=e.maybeChild(n);if(!i){let a=i;i=s,s=a}let r=i.marks;for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!s||!r[o].isInSet(s.marks))&&(r=r[o--].removeFromSet(r));return r}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let i=n.marks,s=e.parent.maybeChild(e.index());for(var r=0;r<i.length;r++)i[r].type.spec.inclusive===!1&&(!s||!i[r].isInSet(s.marks))&&(i=i[r--].removeFromSet(i));return i}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let i=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);i>=0;i--)if(e.pos<=this.end(i)&&(!n||n(this.node(i))))return new bb(this,e,i);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let i=[],s=0,r=n;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(r),c=r-l;if(i.push(o,a,s+l),!c||(o=o.child(a),o.isText))break;r=c-1,s+=l+1}return new Yv(n,i,r)}static resolveCached(e,n){let i=LB.get(e);if(i)for(let r=0;r<i.elts.length;r++){let o=i.elts[r];if(o.pos==n)return o}else LB.set(e,i=new sme);let s=i.elts[i.i]=Yv.resolve(e,n);return i.i=(i.i+1)%rme,s}}class sme{constructor(){this.elts=[],this.i=0}}const rme=12,LB=new WeakMap;class bb{constructor(e,n,i){this.$from=e,this.$to=n,this.depth=i}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const ome=Object.create(null);let Zc=class yP{constructor(e,n,i,s=In.none){this.type=e,this.attrs=n,this.marks=s,this.content=i||qe.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,i,s=0){this.content.nodesBetween(e,n,i,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,i,s){return this.content.textBetween(e,n,i,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,i){return this.type==e&&xb(this.attrs,n||e.defaultAttrs||ome)&&In.sameSet(this.marks,i||In.none)}copy(e=null){return e==this.content?this:new yP(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new yP(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,i=!1){if(e==n)return ct.empty;let s=this.resolve(e),r=this.resolve(n),o=i?0:s.sharedDepth(n),a=s.start(o),c=s.node(o).content.cut(s.pos-a,r.pos-a);return new ct(c,s.depth-o,r.depth-o)}replace(e,n,i){return nme(this.resolve(e),this.resolve(n),i)}nodeAt(e){for(let n=this;;){let{index:i,offset:s}=n.content.findIndex(e);if(n=n.maybeChild(i),!n)return null;if(s==e||n.isText)return n;e-=s+1}}childAfter(e){let{index:n,offset:i}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:i}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:i}=this.content.findIndex(e);if(i<e)return{node:this.content.child(n),index:n,offset:i};let s=this.content.child(n-1);return{node:s,index:n-1,offset:i-s.nodeSize}}resolve(e){return Yv.resolveCached(this,e)}resolveNoCache(e){return Yv.resolve(this,e)}rangeHasMark(e,n,i){let s=!1;return n>e&&this.nodesBetween(e,n,r=>(i.isInSet(r.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),q7(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,i=qe.empty,s=0,r=i.childCount){let o=this.contentMatchAt(e).matchFragment(i,s,r),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=s;l<r;l++)if(!this.type.allowsMarks(i.child(l).marks))return!1;return!0}canReplaceWith(e,n,i,s){if(s&&!this.type.allowsMarks(s))return!1;let r=this.contentMatchAt(e).matchType(i),o=r&&r.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=In.none;for(let n=0;n<this.marks.length;n++){let i=this.marks[n];i.type.checkAttrs(i.attrs),e=i.addToSet(e)}if(!In.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let i;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");i=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,i)}let s=qe.fromJSON(e,n.content),r=e.nodeType(n.type).create(n.attrs,s,i);return r.type.checkAttrs(r.attrs),r}};Zc.prototype.text=void 0;class Sb extends Zc{constructor(e,n,i,s){if(super(e,n,null,s),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):q7(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Sb(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Sb(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function q7(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class ah{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let i=new ame(e,n);if(i.next==null)return ah.empty;let s=K7(i);i.next&&i.err("Unexpected trailing text");let r=pme(fme(s));return mme(r,i),r}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,i=e.childCount){let s=this;for(let r=n;s&&r<i;r++)s=s.matchType(e.child(r).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let i=0;i<e.next.length;i++)if(this.next[n].type==e.next[i].type)return!0;return!1}fillBefore(e,n=!1,i=0){let s=[this];function r(o,a){let l=o.matchFragment(e,i);if(l&&(!n||l.validEnd))return qe.from(a.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:d,next:f}=o.next[c];if(!(d.isText||d.hasRequiredAttrs())&&s.indexOf(f)==-1){s.push(f);let p=r(f,a.concat(d));if(p)return p}}return null}return r(this,[])}findWrapping(e){for(let i=0;i<this.wrapCache.length;i+=2)if(this.wrapCache[i]==e)return this.wrapCache[i+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),i=[{match:this,type:null,via:null}];for(;i.length;){let s=i.shift(),r=s.match;if(r.matchType(e)){let o=[];for(let a=s;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<r.next.length;o++){let{type:a,next:l}=r.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!s.type||l.validEnd)&&(i.push({match:a.contentMatch,type:a,via:s}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(i){e.push(i);for(let s=0;s<i.next.length;s++)e.indexOf(i.next[s].next)==-1&&n(i.next[s].next)}return n(this),e.map((i,s)=>{let r=s+(i.validEnd?"*":" ")+" ";for(let o=0;o<i.next.length;o++)r+=(o?", ":"")+i.next[o].type.name+"->"+e.indexOf(i.next[o].next);return r}).join(`
`)}}ah.empty=new ah(!0);class ame{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function K7(t){let e=[];do e.push(lme(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function lme(t){let e=[];do e.push(cme(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function cme(t){let e=hme(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=ume(t,e);else break;return e}function kB(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function ume(t,e){let n=kB(t),i=n;return t.eat(",")&&(t.next!="}"?i=kB(t):i=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:i,expr:e}}function dme(t,e){let n=t.nodeTypes,i=n[e];if(i)return[i];let s=[];for(let r in n){let o=n[r];o.isInGroup(e)&&s.push(o)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function hme(t){if(t.eat("(")){let e=K7(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=dme(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function fme(t){let e=[[]];return s(r(t,0),n()),e;function n(){return e.push([])-1}function i(o,a,l){let c={term:l,to:a};return e[o].push(c),c}function s(o,a){o.forEach(l=>l.to=a)}function r(o,a){if(o.type=="choice")return o.exprs.reduce((l,c)=>l.concat(r(c,a)),[]);if(o.type=="seq")for(let l=0;;l++){let c=r(o.exprs[l],a);if(l==o.exprs.length-1)return c;s(c,a=n())}else if(o.type=="star"){let l=n();return i(a,l),s(r(o.expr,l),l),[i(l)]}else if(o.type=="plus"){let l=n();return s(r(o.expr,a),l),s(r(o.expr,l),l),[i(l)]}else{if(o.type=="opt")return[i(a)].concat(r(o.expr,a));if(o.type=="range"){let l=a;for(let c=0;c<o.min;c++){let d=n();s(r(o.expr,l),d),l=d}if(o.max==-1)s(r(o.expr,l),l);else for(let c=o.min;c<o.max;c++){let d=n();i(l,d),s(r(o.expr,l),d),l=d}return[i(l)]}else{if(o.type=="name")return[i(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function Y7(t,e){return e-t}function BB(t,e){let n=[];return i(e),n.sort(Y7);function i(s){let r=t[s];if(r.length==1&&!r[0].term)return i(r[0].to);n.push(s);for(let o=0;o<r.length;o++){let{term:a,to:l}=r[o];!a&&n.indexOf(l)==-1&&i(l)}}}function pme(t){let e=Object.create(null);return n(BB(t,0));function n(i){let s=[];i.forEach(o=>{t[o].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let d=0;d<s.length;d++)s[d][0]==a&&(c=s[d][1]);BB(t,l).forEach(d=>{c||s.push([a,c=[]]),c.indexOf(d)==-1&&c.push(d)})})});let r=e[i.join(",")]=new ah(i.indexOf(t.length-1)>-1);for(let o=0;o<s.length;o++){let a=s[o][1].sort(Y7);r.next.push({type:s[o][0],next:e[a.join(",")]||n(a)})}return r}}function mme(t,e){for(let n=0,i=[t];n<i.length;n++){let s=i[n],r=!s.validEnd,o=[];for(let a=0;a<s.next.length;a++){let{type:l,next:c}=s.next[a];o.push(l.name),r&&!(l.isText||l.hasRequiredAttrs())&&(r=!1),i.indexOf(c)==-1&&i.push(c)}r&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function X7(t){let e=Object.create(null);for(let n in t){let i=t[n];if(!i.hasDefault)return null;e[n]=i.default}return e}function Z7(t,e){let n=Object.create(null);for(let i in t){let s=e&&e[i];if(s===void 0){let r=t[i];if(r.hasDefault)s=r.default;else throw new RangeError("No value supplied for attribute "+i)}n[i]=s}return n}function J7(t,e,n,i){for(let s in e)if(!(s in t))throw new RangeError(`Unsupported attribute ${s} for ${n} of type ${s}`);for(let s in t){let r=t[s];r.validate&&r.validate(e[s])}}function Q7(t,e){let n=Object.create(null);if(e)for(let i in e)n[i]=new vme(t,i,e[i]);return n}let HB=class e8{constructor(e,n,i){this.name=e,this.schema=n,this.spec=i,this.markSet=null,this.groups=i.group?i.group.split(" "):[],this.attrs=Q7(e,i.attrs),this.defaultAttrs=X7(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(i.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ah.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Z7(this.attrs,e)}create(e=null,n,i){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Zc(this,this.computeAttrs(e),qe.from(n),In.setFrom(i))}createChecked(e=null,n,i){return n=qe.from(n),this.checkContent(n),new Zc(this,this.computeAttrs(e),n,In.setFrom(i))}createAndFill(e=null,n,i){if(e=this.computeAttrs(e),n=qe.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let s=this.contentMatch.matchFragment(n),r=s&&s.fillBefore(qe.empty,!0);return r?new Zc(this,e,n.append(r),In.setFrom(i)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let i=0;i<e.childCount;i++)if(!this.allowsMarks(e.child(i).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){J7(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let i=0;i<e.length;i++)this.allowsMarkType(e[i].type)?n&&n.push(e[i]):n||(n=e.slice(0,i));return n?n.length?n:In.none:e}static compile(e,n){let i=Object.create(null);e.forEach((r,o)=>i[r]=new e8(r,n,o));let s=n.spec.topNode||"doc";if(!i[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!i.text)throw new RangeError("Every schema needs a 'text' type");for(let r in i.text.attrs)throw new RangeError("The text node type should not have attributes");return i}};function gme(t,e,n){let i=n.split("|");return s=>{let r=s===null?"null":typeof s;if(i.indexOf(r)<0)throw new RangeError(`Expected value of type ${i} for attribute ${e} on type ${t}, got ${r}`)}}class vme{constructor(e,n,i){this.hasDefault=Object.prototype.hasOwnProperty.call(i,"default"),this.default=i.default,this.validate=typeof i.validate=="string"?gme(e,n,i.validate):i.validate}get isRequired(){return!this.hasDefault}}class d1{constructor(e,n,i,s){this.name=e,this.rank=n,this.schema=i,this.spec=s,this.attrs=Q7(e,s.attrs),this.excluded=null;let r=X7(this.attrs);this.instance=r?new In(this,r):null}create(e=null){return!e&&this.instance?this.instance:new In(this,Z7(this.attrs,e))}static compile(e,n){let i=Object.create(null),s=0;return e.forEach((r,o)=>i[r]=new d1(r,s++,n,o)),i}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){J7(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class t8{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let s in e)n[s]=e[s];n.nodes=is.from(e.nodes),n.marks=is.from(e.marks||{}),this.nodes=HB.compile(this.spec.nodes,this),this.marks=d1.compile(this.spec.marks,this);let i=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let r=this.nodes[s],o=r.spec.content||"",a=r.spec.marks;if(r.contentMatch=i[o]||(i[o]=ah.parse(o,this.nodes)),r.inlineContent=r.contentMatch.inlineContent,r.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!r.isInline||!r.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=r}r.markSet=a=="_"?null:a?VB(this,a.split(" ")):a==""||!r.inlineContent?[]:null}for(let s in this.marks){let r=this.marks[s],o=r.spec.excludes;r.excluded=o==null?[r]:o==""?[]:VB(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,i,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof HB){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,i,s)}text(e,n){let i=this.nodes.text;return new Sb(i,i.defaultAttrs,e,In.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return Zc.fromJSON(this,e)}markFromJSON(e){return In.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function VB(t,e){let n=[];for(let i=0;i<e.length;i++){let s=e[i],r=t.marks[s],o=r;if(r)n.push(r);else for(let a in t.marks){let l=t.marks[a];(s=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(s)>-1)&&n.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[i]+"'")}return n}function yme(t){return t.tag!=null}function xme(t){return t.style!=null}let mv=class xP{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let i=this.matchedStyles=[];n.forEach(s=>{if(yme(s))this.tags.push(s);else if(xme(s)){let r=/[^=]*/.exec(s.style)[0];i.indexOf(r)<0&&i.push(r),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let r=e.nodes[s.node];return r.contentMatch.matchType(r)})}parse(e,n={}){let i=new GB(this,n,!1);return i.addAll(e,In.none,n.from,n.to),i.finish()}parseSlice(e,n={}){let i=new GB(this,n,!0);return i.addAll(e,In.none,n.from,n.to),ct.maxOpen(i.finish())}matchTag(e,n,i){for(let s=i?this.tags.indexOf(i)+1:0;s<this.tags.length;s++){let r=this.tags[s];if(bme(e,r.tag)&&(r.namespace===void 0||e.namespaceURI==r.namespace)&&(!r.context||n.matchesContext(r.context))){if(r.getAttrs){let o=r.getAttrs(e);if(o===!1)continue;r.attrs=o||void 0}return r}}}matchStyle(e,n,i,s){for(let r=s?this.styles.indexOf(s)+1:0;r<this.styles.length;r++){let o=this.styles[r],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!i.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(o.getAttrs){let l=o.getAttrs(n);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let n=[];function i(s){let r=s.priority==null?50:s.priority,o=0;for(;o<n.length;o++){let a=n[o];if((a.priority==null?50:a.priority)<r)break}n.splice(o,0,s)}for(let s in e.marks){let r=e.marks[s].spec.parseDOM;r&&r.forEach(o=>{i(o=UB(o)),o.mark||o.ignore||o.clearMark||(o.mark=s)})}for(let s in e.nodes){let r=e.nodes[s].spec.parseDOM;r&&r.forEach(o=>{i(o=UB(o)),o.node||o.ignore||o.mark||(o.node=s)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new xP(e,xP.schemaRules(e)))}};const n8={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Cme={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},i8={ol:!0,ul:!0},Xv=1,CP=2,Tw=4;function zB(t,e,n){return e!=null?(e?Xv:0)|(e==="full"?CP:0):t&&t.whitespace=="pre"?Xv|CP:n&-5}class Kx{constructor(e,n,i,s,r,o){this.type=e,this.attrs=n,this.marks=i,this.solid=s,this.options=o,this.content=[],this.activeMarks=In.none,this.match=r||(o&Tw?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(qe.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let i=this.type.contentMatch,s;return(s=i.findWrapping(e.type))?(this.match=i,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Xv)){let i=this.content[this.content.length-1],s;if(i&&i.isText&&(s=/[ \t\r\n\u000c]+$/.exec(i.text))){let r=i;i.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=r.withText(r.text.slice(0,r.text.length-s[0].length))}}let n=qe.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(qe.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!n8.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class GB{constructor(e,n,i){this.parser=e,this.options=n,this.isOpen=i,this.open=0,this.localPreserveWS=!1;let s=n.topNode,r,o=zB(null,n.preserveWhitespace,0)|(i?Tw:0);s?r=new Kx(s.type,s.attrs,In.none,!0,n.topMatch||s.type.contentMatch,o):i?r=new Kx(null,null,In.none,!0,null,o):r=new Kx(e.schema.topNodeType,null,In.none,!0,null,o),this.nodes=[r],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let i=e.nodeValue,s=this.top,r=s.options&CP?"full":this.localPreserveWS||(s.options&Xv)>0;if(r==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(i)){if(r)r!=="full"?i=i.replace(/\r?\n|\r/g," "):i=i.replace(/\r\n?/g,`
`);else if(i=i.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(i)&&this.open==this.nodes.length-1){let o=s.content[s.content.length-1],a=e.previousSibling;(!o||a&&a.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(i=i.slice(1))}i&&this.insertNode(this.parser.schema.text(i),n),this.findInText(e)}else this.findInside(e)}addElement(e,n,i){let s=this.localPreserveWS,r=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),a;i8.hasOwnProperty(o)&&this.parser.normalizeLists&&wme(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,i));e:if(l?l.ignore:Cme.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let c,d=this.needsBlock;if(n8.hasOwnProperty(o))r.content.length&&r.content[0].isInline&&this.open&&(this.open--,r=this.top),c=!0,r.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let f=l&&l.skip?n:this.readStyles(e,n);f&&this.addAll(e,f),c&&this.sync(r),this.needsBlock=d}else{let c=this.readStyles(e,n);c&&this.addElementByRule(e,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=s}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(e,n){let i=e.style;if(i&&i.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let r=this.parser.matchedStyles[s],o=i.getPropertyValue(r);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(r,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(e,n,i,s){let r,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),i)||this.leafFallback(e,i);else{let l=this.enter(o,n.attrs||null,i,n.preserveWhitespace);l&&(r=!0,i=l)}else{let l=this.parser.schema.marks[n.mark];i=i.concat(l.create(n.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(s)this.addElement(e,i,s);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,i));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,i),this.findAround(e,l,!1)}r&&this.sync(a)&&this.open--}addAll(e,n,i,s){let r=i||0;for(let o=i?e.childNodes[i]:e.firstChild,a=s==null?null:e.childNodes[s];o!=a;o=o.nextSibling,++r)this.findAtPoint(e,r),this.addDOM(o,n);this.findAtPoint(e,r)}findPlace(e,n){let i,s;for(let r=this.open;r>=0;r--){let o=this.nodes[r],a=o.findWrapping(e);if(a&&(!i||i.length>a.length)&&(i=a,s=o,!a.length)||o.solid)break}if(!i)return null;this.sync(s);for(let r=0;r<i.length;r++)n=this.enterInner(i[r],null,n,!1);return n}insertNode(e,n){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let i=this.findPlace(e,n);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let r=In.none;for(let o of i.concat(e.marks))(s.type?s.type.allowsMarkType(o.type):jB(o.type,e.type))&&(r=o.addToSet(r));return s.content.push(e.mark(r)),!0}return!1}enter(e,n,i,s){let r=this.findPlace(e.create(n),i);return r&&(r=this.enterInner(e,n,i,!0,s)),r}enterInner(e,n,i,s=!1,r){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=zB(e,r,o.options);o.options&Tw&&o.content.length==0&&(a|=Tw);let l=In.none;return i=i.filter(c=>(o.type?o.type.allowsMarkType(c.type):jB(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new Kx(e,n,l,s,null,a)),this.open++,i}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Xv)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let i=this.nodes[n].content;for(let s=i.length-1;s>=0;s--)e+=i[s].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let i=0;i<this.find.length;i++)this.find[i].node==e&&this.find[i].offset==n&&(this.find[i].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,i){if(e!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(i?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),i=this.options.context,s=!this.isOpen&&(!i||i.parent.type==this.nodes[0].type),r=-(i?i.depth+1:0)+(s?0:1),o=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=r;l--)if(o(a-1,l))return!0;return!1}else{let d=l>0||l==0&&s?this.nodes[l].type:i&&l>=r?i.node(l-r).type:null;if(!d||d.name!=c&&!d.isInGroup(c))return!1;l--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(i&&i.isTextblock&&i.defaultAttrs)return i}for(let n in this.parser.schema.nodes){let i=this.parser.schema.nodes[n];if(i.isTextblock&&i.defaultAttrs)return i}}}function wme(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let i=e.nodeType==1?e.nodeName.toLowerCase():null;i&&i8.hasOwnProperty(i)&&n?(n.appendChild(e),e=n):i=="li"?n=e:i&&(n=null)}}function bme(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function UB(t){let e={};for(let n in t)e[n]=t[n];return e}function jB(t,e){let n=e.schema.nodes;for(let i in n){let s=n[i];if(!s.allowsMarkType(t))continue;let r=[],o=a=>{r.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:d}=a.edge(l);if(c==e||r.indexOf(d)<0&&o(d))return!0}};if(o(s.contentMatch))return!0}}class Mh{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},i){i||(i=RR(n).createDocumentFragment());let s=i,r=[];return e.forEach(o=>{if(r.length||o.marks.length){let a=0,l=0;for(;a<r.length&&l<o.marks.length;){let c=o.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(r[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<r.length;)s=r.pop()[1];for(;l<o.marks.length;){let c=o.marks[l++],d=this.serializeMark(c,o.isInline,n);d&&(r.push([c,s]),s.appendChild(d.dom),s=d.contentDOM||d.dom)}}s.appendChild(this.serializeNodeInner(o,n))}),i}serializeNodeInner(e,n){let{dom:i,contentDOM:s}=Rw(RR(n),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,s)}return i}serializeNode(e,n={}){let i=this.serializeNodeInner(e,n);for(let s=e.marks.length-1;s>=0;s--){let r=this.serializeMark(e.marks[s],e.isInline,n);r&&((r.contentDOM||r.dom).appendChild(i),i=r.dom)}return i}serializeMark(e,n,i={}){let s=this.marks[e.type.name];return s&&Rw(RR(i),s(e,n),null,e.attrs)}static renderSpec(e,n,i=null,s){return Rw(e,n,i,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Mh(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=WB(e.nodes);return n.text||(n.text=i=>i.text),n}static marksFromSchema(e){return WB(e.marks)}}function WB(t){let e={};for(let n in t){let i=t[n].spec.toDOM;i&&(e[n]=i)}return e}function RR(t){return t.document||window.document}const $B=new WeakMap;function Sme(t){let e=$B.get(t);return e===void 0&&$B.set(t,e=Eme(t)),e}function Eme(t){let e=null;function n(i){if(i&&typeof i=="object")if(Array.isArray(i))if(typeof i[0]=="string")e||(e=[]),e.push(i);else for(let s=0;s<i.length;s++)n(i[s]);else for(let s in i)n(i[s])}return n(t),e}function Rw(t,e,n,i){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],r;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(i&&(r=Sme(i))&&r.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=s.indexOf(" ");o>0&&(n=s.slice(0,o),s=s.slice(o+1));let a,l=n?t.createElementNS(n,s):t.createElement(s),c=e[1],d=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){d=2;for(let f in c)if(c[f]!=null){let p=f.indexOf(" ");p>0?l.setAttributeNS(f.slice(0,p),f.slice(p+1),c[f]):l.setAttribute(f,c[f])}}for(let f=d;f<e.length;f++){let p=e[f];if(p===0){if(f<e.length-1||f>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:m,contentDOM:y}=Rw(t,p,n,i);if(l.appendChild(m),y){if(a)throw new RangeError("Multiple content holes");a=y}}}return{dom:l,contentDOM:a}}const s8=65535,r8=Math.pow(2,16);function Mme(t,e){return t+e*r8}function qB(t){return t&s8}function Tme(t){return(t-(t&s8))/r8}const o8=1,a8=2,Aw=4,l8=8;class wP{constructor(e,n,i){this.pos=e,this.delInfo=n,this.recover=i}get deleted(){return(this.delInfo&l8)>0}get deletedBefore(){return(this.delInfo&(o8|Aw))>0}get deletedAfter(){return(this.delInfo&(a8|Aw))>0}get deletedAcross(){return(this.delInfo&Aw)>0}}class kr{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&kr.empty)return kr.empty}recover(e){let n=0,i=qB(e);if(!this.inverted)for(let s=0;s<i;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[i*3]+n+Tme(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,i){let s=0,r=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?s:0);if(l>e)break;let c=this.ranges[a+r],d=this.ranges[a+o],f=l+c;if(e<=f){let p=c?e==l?-1:e==f?1:n:n,m=l+s+(p<0?0:d);if(i)return m;let y=e==(n<0?l:f)?null:Mme(a/3,e-l),C=e==l?a8:e==f?o8:Aw;return(n<0?e!=l:e!=f)&&(C|=l8),new wP(m,C,y)}s+=d-c}return i?e+s:new wP(e+s,0,null)}touches(e,n){let i=0,s=qB(n),r=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[a+r],d=l+c;if(e<=d&&a==s*3)return!0;i+=this.ranges[a+o]-c}return!1}forEach(e){let n=this.inverted?2:1,i=this.inverted?1:2;for(let s=0,r=0;s<this.ranges.length;s+=3){let o=this.ranges[s],a=o-(this.inverted?r:0),l=o+(this.inverted?0:r),c=this.ranges[s+n],d=this.ranges[s+i];e(a,a+c,l,l+d),r+=d-c}}invert(){return new kr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?kr.empty:new kr(e<0?[0,-e,0]:[0,0,e])}}kr.empty=new kr([]);class Zv{constructor(e,n,i=0,s=e?e.length:0){this.mirror=n,this.from=i,this.to=s,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Zv(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,i=this._maps.length;n<e._maps.length;n++){let s=e.getMirror(n);this.appendMap(e._maps[n],s!=null&&s<n?i+s:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,i=this._maps.length+e._maps.length;n>=0;n--){let s=e.getMirror(n);this.appendMap(e._maps[n].invert(),s!=null&&s>n?i-s-1:void 0)}}invert(){let e=new Zv;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let i=this.from;i<this.to;i++)e=this._maps[i].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,i){let s=0;for(let r=this.from;r<this.to;r++){let o=this._maps[r],a=o.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(r);if(l!=null&&l>r&&l<this.to){r=l,e=this._maps[l].recover(a.recover);continue}}s|=a.delInfo,e=a.pos}return i?e:new wP(e,s,null)}}const AR=Object.create(null);class _s{getMap(){return kr.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let i=AR[n.stepType];if(!i)throw new RangeError(`No step type ${n.stepType} defined`);return i.fromJSON(e,n)}static jsonID(e,n){if(e in AR)throw new RangeError("Duplicate use of step JSON ID "+e);return AR[e]=n,n.prototype.jsonID=e,n}}class Ti{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Ti(e,null)}static fail(e){return new Ti(null,e)}static fromReplace(e,n,i,s){try{return Ti.ok(e.replace(n,i,s))}catch(r){if(r instanceof Cb)return Ti.fail(r.message);throw r}}}function X_(t,e,n){let i=[];for(let s=0;s<t.childCount;s++){let r=t.child(s);r.content.size&&(r=r.copy(X_(r.content,e,r))),r.isInline&&(r=e(r,n,s)),i.push(r)}return qe.fromArray(i)}class Wc extends _s{constructor(e,n,i){super(),this.from=e,this.to=n,this.mark=i}apply(e){let n=e.slice(this.from,this.to),i=e.resolve(this.from),s=i.node(i.sharedDepth(this.to)),r=new ct(X_(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),s),n.openStart,n.openEnd);return Ti.fromReplace(e,this.from,this.to,r)}invert(){return new Aa(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new Wc(n.pos,i.pos,this.mark)}merge(e){return e instanceof Wc&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Wc(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Wc(n.from,n.to,e.markFromJSON(n.mark))}}_s.jsonID("addMark",Wc);class Aa extends _s{constructor(e,n,i){super(),this.from=e,this.to=n,this.mark=i}apply(e){let n=e.slice(this.from,this.to),i=new ct(X_(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),n.openStart,n.openEnd);return Ti.fromReplace(e,this.from,this.to,i)}invert(){return new Wc(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new Aa(n.pos,i.pos,this.mark)}merge(e){return e instanceof Aa&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Aa(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Aa(n.from,n.to,e.markFromJSON(n.mark))}}_s.jsonID("removeMark",Aa);class $c extends _s{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ti.fail("No node at mark step's position");let i=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Ti.fromReplace(e,this.pos,this.pos+1,new ct(qe.from(i),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let i=this.mark.addToSet(n.marks);if(i.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(i))return new $c(this.pos,n.marks[s]);return new $c(this.pos,this.mark)}}return new Tp(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new $c(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new $c(n.pos,e.markFromJSON(n.mark))}}_s.jsonID("addNodeMark",$c);class Tp extends _s{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ti.fail("No node at mark step's position");let i=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Ti.fromReplace(e,this.pos,this.pos+1,new ct(qe.from(i),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new $c(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Tp(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Tp(n.pos,e.markFromJSON(n.mark))}}_s.jsonID("removeNodeMark",Tp);class Ki extends _s{constructor(e,n,i,s=!1){super(),this.from=e,this.to=n,this.slice=i,this.structure=s}apply(e){return this.structure&&bP(e,this.from,this.to)?Ti.fail("Structure replace would overwrite content"):Ti.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new kr([this.from,this.to-this.from,this.slice.size])}invert(e){return new Ki(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deletedAcross&&i.deletedAcross?null:new Ki(n.pos,Math.max(n.pos,i.pos),this.slice)}merge(e){if(!(e instanceof Ki)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?ct.empty:new ct(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Ki(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?ct.empty:new ct(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Ki(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Ki(n.from,n.to,ct.fromJSON(e,n.slice),!!n.structure)}}_s.jsonID("replace",Ki);class Yi extends _s{constructor(e,n,i,s,r,o,a=!1){super(),this.from=e,this.to=n,this.gapFrom=i,this.gapTo=s,this.slice=r,this.insert=o,this.structure=a}apply(e){if(this.structure&&(bP(e,this.from,this.gapFrom)||bP(e,this.gapTo,this.to)))return Ti.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Ti.fail("Gap is not a flat range");let i=this.slice.insertAt(this.insert,n.content);return i?Ti.fromReplace(e,this.from,this.to,i):Ti.fail("Content does not fit in gap")}getMap(){return new kr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Yi(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),r=this.to==this.gapTo?i.pos:e.map(this.gapTo,1);return n.deletedAcross&&i.deletedAcross||s<n.pos||r>i.pos?null:new Yi(n.pos,i.pos,s,r,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Yi(n.from,n.to,n.gapFrom,n.gapTo,ct.fromJSON(e,n.slice),n.insert,!!n.structure)}}_s.jsonID("replaceAround",Yi);function bP(t,e,n){let i=t.resolve(e),s=n-e,r=i.depth;for(;s>0&&r>0&&i.indexAfter(r)==i.node(r).childCount;)r--,s--;if(s>0){let o=i.node(r).maybeChild(i.indexAfter(r));for(;s>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,s--}}return!1}function Rme(t,e,n,i){let s=[],r=[],o,a;t.doc.nodesBetween(e,n,(l,c,d)=>{if(!l.isInline)return;let f=l.marks;if(!i.isInSet(f)&&d.type.allowsMarkType(i.type)){let p=Math.max(c,e),m=Math.min(c+l.nodeSize,n),y=i.addToSet(f);for(let C=0;C<f.length;C++)f[C].isInSet(y)||(o&&o.to==p&&o.mark.eq(f[C])?o.to=m:s.push(o=new Aa(p,m,f[C])));a&&a.to==p?a.to=m:r.push(a=new Wc(p,m,i))}}),s.forEach(l=>t.step(l)),r.forEach(l=>t.step(l))}function Ame(t,e,n,i){let s=[],r=0;t.doc.nodesBetween(e,n,(o,a)=>{if(!o.isInline)return;r++;let l=null;if(i instanceof d1){let c=o.marks,d;for(;d=i.isInSet(c);)(l||(l=[])).push(d),c=d.removeFromSet(c)}else i?i.isInSet(o.marks)&&(l=[i]):l=o.marks;if(l&&l.length){let c=Math.min(a+o.nodeSize,n);for(let d=0;d<l.length;d++){let f=l[d],p;for(let m=0;m<s.length;m++){let y=s[m];y.step==r-1&&f.eq(s[m].style)&&(p=y)}p?(p.to=c,p.step=r):s.push({style:f,from:Math.max(a,e),to:c,step:r})}}}),s.forEach(o=>t.step(new Aa(o.from,o.to,o.style)))}function Z_(t,e,n,i=n.contentMatch,s=!0){let r=t.doc.nodeAt(e),o=[],a=e+1;for(let l=0;l<r.childCount;l++){let c=r.child(l),d=a+c.nodeSize,f=i.matchType(c.type);if(!f)o.push(new Ki(a,d,ct.empty));else{i=f;for(let p=0;p<c.marks.length;p++)n.allowsMarkType(c.marks[p].type)||t.step(new Aa(a,d,c.marks[p]));if(s&&c.isText&&n.whitespace!="pre"){let p,m=/\r?\n|\r/g,y;for(;p=m.exec(c.text);)y||(y=new ct(qe.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),o.push(new Ki(a+p.index,a+p.index+p[0].length,y))}}a=d}if(!i.validEnd){let l=i.fillBefore(qe.empty,!0);t.replace(a,a,new ct(l,0,0))}for(let l=o.length-1;l>=0;l--)t.step(o[l])}function Pme(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Qp(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let i=t.depth;;--i){let s=t.$from.node(i),r=t.$from.index(i),o=t.$to.indexAfter(i);if(i<t.depth&&s.canReplace(r,o,n))return i;if(i==0||s.type.spec.isolating||!Pme(s,r,o))break}return null}function Dme(t,e,n){let{$from:i,$to:s,depth:r}=e,o=i.before(r+1),a=s.after(r+1),l=o,c=a,d=qe.empty,f=0;for(let y=r,C=!1;y>n;y--)C||i.index(y)>0?(C=!0,d=qe.from(i.node(y).copy(d)),f++):l--;let p=qe.empty,m=0;for(let y=r,C=!1;y>n;y--)C||s.after(y+1)<s.end(y)?(C=!0,p=qe.from(s.node(y).copy(p)),m++):c++;t.step(new Yi(l,c,o,a,new ct(d.append(p),f,m),d.size-f,!0))}function J_(t,e,n=null,i=t){let s=_me(t,e),r=s&&Fme(i,e);return r?s.map(KB).concat({type:e,attrs:n}).concat(r.map(KB)):null}function KB(t){return{type:t,attrs:null}}function _me(t,e){let{parent:n,startIndex:i,endIndex:s}=t,r=n.contentMatchAt(i).findWrapping(e);if(!r)return null;let o=r.length?r[0]:e;return n.canReplaceWith(i,s,o)?r:null}function Fme(t,e){let{parent:n,startIndex:i,endIndex:s}=t,r=n.child(i),o=e.contentMatch.findWrapping(r.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let c=i;l&&c<s;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:o}function Nme(t,e,n){let i=qe.empty;for(let o=n.length-1;o>=0;o--){if(i.size){let a=n[o].type.contentMatch.matchFragment(i);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=qe.from(n[o].type.create(n[o].attrs,i))}let s=e.start,r=e.end;t.step(new Yi(s,r,s,r,new ct(i,0,0),n.length,!0))}function Ime(t,e,n,i,s){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let r=t.steps.length;t.doc.nodesBetween(e,n,(o,a)=>{let l=typeof s=="function"?s(o):s;if(o.isTextblock&&!o.hasMarkup(i,l)&&Ome(t.doc,t.mapping.slice(r).map(a),i)){let c=null;if(i.schema.linebreakReplacement){let m=i.whitespace=="pre",y=!!i.contentMatch.matchType(i.schema.linebreakReplacement);m&&!y?c=!1:!m&&y&&(c=!0)}c===!1&&u8(t,o,a,r),Z_(t,t.mapping.slice(r).map(a,1),i,void 0,c===null);let d=t.mapping.slice(r),f=d.map(a,1),p=d.map(a+o.nodeSize,1);return t.step(new Yi(f,p,f+1,p-1,new ct(qe.from(i.create(l,null,o.marks)),0,0),1,!0)),c===!0&&c8(t,o,a,r),!1}})}function c8(t,e,n,i){e.forEach((s,r)=>{if(s.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(s.text);){let l=t.mapping.slice(i).map(n+1+r+o.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function u8(t,e,n,i){e.forEach((s,r)=>{if(s.type==s.type.schema.linebreakReplacement){let o=t.mapping.slice(i).map(n+1+r);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function Ome(t,e,n){let i=t.resolve(e),s=i.index();return i.parent.canReplaceWith(s,s+1,n)}function Lme(t,e,n,i,s){let r=t.doc.nodeAt(e);if(!r)throw new RangeError("No node at given position");n||(n=r.type);let o=n.create(i,null,s||r.marks);if(r.isLeaf)return t.replaceWith(e,e+r.nodeSize,o);if(!n.validContent(r.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Yi(e,e+r.nodeSize,e+1,e+r.nodeSize-1,new ct(qe.from(o),0,0),1,!0))}function Ol(t,e,n=1,i){let s=t.resolve(e),r=s.depth-n,o=i&&i[i.length-1]||s.parent;if(r<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!o.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let c=s.depth-1,d=n-2;c>r;c--,d--){let f=s.node(c),p=s.index(c);if(f.type.spec.isolating)return!1;let m=f.content.cutByIndex(p,f.childCount),y=i&&i[d+1];y&&(m=m.replaceChild(0,y.type.create(y.attrs)));let C=i&&i[d]||f;if(!f.canReplace(p+1,f.childCount)||!C.type.validContent(m))return!1}let a=s.indexAfter(r),l=i&&i[0];return s.node(r).canReplaceWith(a,a,l?l.type:s.node(r+1).type)}function kme(t,e,n=1,i){let s=t.doc.resolve(e),r=qe.empty,o=qe.empty;for(let a=s.depth,l=s.depth-n,c=n-1;a>l;a--,c--){r=qe.from(s.node(a).copy(r));let d=i&&i[c];o=qe.from(d?d.type.create(d.attrs,o):s.node(a).copy(o))}t.step(new Ki(e,e,new ct(r.append(o),n,n),!0))}function vu(t,e){let n=t.resolve(e),i=n.index();return d8(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(i,i+1)}function Bme(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:i}=t.type.schema;for(let s=0;s<e.childCount;s++){let r=e.child(s),o=r.type==i?t.type.schema.nodes.text:r.type;if(n=n.matchType(o),!n||!t.type.allowsMarks(r.marks))return!1}return n.validEnd}function d8(t,e){return!!(t&&e&&!t.isLeaf&&Bme(t,e))}function h1(t,e,n=-1){let i=t.resolve(e);for(let s=i.depth;;s--){let r,o,a=i.index(s);if(s==i.depth?(r=i.nodeBefore,o=i.nodeAfter):n>0?(r=i.node(s+1),a++,o=i.node(s).maybeChild(a)):(r=i.node(s).maybeChild(a-1),o=i.node(s+1)),r&&!r.isTextblock&&d8(r,o)&&i.node(s).canReplace(a,a+1))return e;if(s==0)break;e=n<0?i.before(s):i.after(s)}}function Hme(t,e,n){let i=null,{linebreakReplacement:s}=t.doc.type.schema,r=t.doc.resolve(e-n),o=r.node().type;if(s&&o.inlineContent){let d=o.whitespace=="pre",f=!!o.contentMatch.matchType(s);d&&!f?i=!1:!d&&f&&(i=!0)}let a=t.steps.length;if(i===!1){let d=t.doc.resolve(e+n);u8(t,d.node(),d.before(),a)}o.inlineContent&&Z_(t,e+n-1,o,r.node().contentMatchAt(r.index()),i==null);let l=t.mapping.slice(a),c=l.map(e-n);if(t.step(new Ki(c,l.map(e+n,-1),ct.empty,!0)),i===!0){let d=t.doc.resolve(c);c8(t,d.node(),d.before(),t.steps.length)}return t}function Vme(t,e,n){let i=t.resolve(e);if(i.parent.canReplaceWith(i.index(),i.index(),n))return e;if(i.parentOffset==0)for(let s=i.depth-1;s>=0;s--){let r=i.index(s);if(i.node(s).canReplaceWith(r,r,n))return i.before(s+1);if(r>0)return null}if(i.parentOffset==i.parent.content.size)for(let s=i.depth-1;s>=0;s--){let r=i.indexAfter(s);if(i.node(s).canReplaceWith(r,r,n))return i.after(s+1);if(r<i.node(s).childCount)return null}return null}function h8(t,e,n){let i=t.resolve(e);if(!n.content.size)return e;let s=n.content;for(let r=0;r<n.openStart;r++)s=s.firstChild.content;for(let r=1;r<=(n.openStart==0&&n.size?2:1);r++)for(let o=i.depth;o>=0;o--){let a=o==i.depth?0:i.pos<=(i.start(o+1)+i.end(o+1))/2?-1:1,l=i.index(o)+(a>0?1:0),c=i.node(o),d=!1;if(r==1)d=c.canReplace(l,l,s);else{let f=c.contentMatchAt(l).findWrapping(s.firstChild.type);d=f&&c.canReplaceWith(l,l,f[0])}if(d)return a==0?i.pos:a<0?i.before(o+1):i.after(o+1)}return null}function f1(t,e,n=e,i=ct.empty){if(e==n&&!i.size)return null;let s=t.resolve(e),r=t.resolve(n);return f8(s,r,i)?new Ki(e,n,i):new zme(s,r,i).fit()}function f8(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class zme{constructor(e,n,i){this.$from=e,this.$to=n,this.unplaced=i,this.frontier=[],this.placed=qe.empty;for(let s=0;s<=e.depth;s++){let r=e.node(s);this.frontier.push({type:r.type,match:r.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=qe.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,i=this.$from,s=this.close(e<0?this.$to:i.doc.resolve(e));if(!s)return null;let r=this.placed,o=i.depth,a=s.depth;for(;o&&a&&r.childCount==1;)r=r.firstChild.content,o--,a--;let l=new ct(r,o,a);return e>-1?new Yi(i.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||i.pos!=this.$to.pos?new Ki(i.pos,s.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,i=0,s=this.unplaced.openEnd;i<e;i++){let r=n.firstChild;if(n.childCount>1&&(s=0),r.type.spec.isolating&&s<=i){e=i;break}n=r.content}for(let n=1;n<=2;n++)for(let i=n==1?e:this.unplaced.openStart;i>=0;i--){let s,r=null;i?(r=PR(this.unplaced.content,i-1).firstChild,s=r.content):s=this.unplaced.content;let o=s.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],d,f=null;if(n==1&&(o?c.matchType(o.type)||(f=c.fillBefore(qe.from(o),!1)):r&&l.compatibleContent(r.type)))return{sliceDepth:i,frontierDepth:a,parent:r,inject:f};if(n==2&&o&&(d=c.findWrapping(o.type)))return{sliceDepth:i,frontierDepth:a,parent:r,wrap:d};if(r&&c.matchType(r.type))break}}}openMore(){let{content:e,openStart:n,openEnd:i}=this.unplaced,s=PR(e,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new ct(e,n+1,Math.max(i,s.size+n>=e.size-i?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:i}=this.unplaced,s=PR(e,n);if(s.childCount<=1&&n>0){let r=e.size-n<=n+s.size;this.unplaced=new ct(qg(e,n-1,1),n-1,r?n-1:i)}else this.unplaced=new ct(qg(e,n,1),n,i)}placeNodes({sliceDepth:e,frontierDepth:n,parent:i,inject:s,wrap:r}){for(;this.depth>n;)this.closeFrontierNode();if(r)for(let C=0;C<r.length;C++)this.openFrontierNode(r[C]);let o=this.unplaced,a=i?i.content:o.content,l=o.openStart-e,c=0,d=[],{match:f,type:p}=this.frontier[n];if(s){for(let C=0;C<s.childCount;C++)d.push(s.child(C));f=f.matchFragment(s)}let m=a.size+e-(o.content.size-o.openEnd);for(;c<a.childCount;){let C=a.child(c),x=f.matchType(C.type);if(!x)break;c++,(c>1||l==0||C.content.size)&&(f=x,d.push(p8(C.mark(p.allowedMarks(C.marks)),c==1?l:0,c==a.childCount?m:-1)))}let y=c==a.childCount;y||(m=-1),this.placed=Kg(this.placed,n,qe.from(d)),this.frontier[n].match=f,y&&m<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let C=0,x=a;C<m;C++){let w=x.lastChild;this.frontier.push({type:w.type,match:w.contentMatchAt(w.childCount)}),x=w.content}this.unplaced=y?e==0?ct.empty:new ct(qg(o.content,e-1,1),e-1,m<0?o.openEnd:e-1):new ct(qg(o.content,e,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!DR(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:i}=this.$to,s=this.$to.after(i);for(;i>1&&s==this.$to.end(--i);)++s;return s}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:i,type:s}=this.frontier[n],r=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),o=DR(e,n,s,i,r);if(o){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],d=DR(e,a,c,l,!0);if(!d||d.childCount)continue e}return{depth:n,fit:o,move:r?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Kg(this.placed,n.depth,n.fit)),e=n.move;for(let i=n.depth+1;i<=e.depth;i++){let s=e.node(i),r=s.type.contentMatch.fillBefore(s.content,!0,e.index(i));this.openFrontierNode(s.type,s.attrs,r)}return e}openFrontierNode(e,n=null,i){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=Kg(this.placed,this.depth,qe.from(e.create(n,i))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(qe.empty,!0);n.childCount&&(this.placed=Kg(this.placed,this.frontier.length,n))}}function qg(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(qg(t.firstChild.content,e-1,n)))}function Kg(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Kg(t.lastChild.content,e-1,n)))}function PR(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function p8(t,e,n){if(e<=0)return t;let i=t.content;return e>1&&(i=i.replaceChild(0,p8(i.firstChild,e-1,i.childCount==1?n-1:0))),e>0&&(i=t.type.contentMatch.fillBefore(i).append(i),n<=0&&(i=i.append(t.type.contentMatch.matchFragment(i).fillBefore(qe.empty,!0)))),t.copy(i)}function DR(t,e,n,i,s){let r=t.node(e),o=s?t.indexAfter(e):t.index(e);if(o==r.childCount&&!n.compatibleContent(r.type))return null;let a=i.fillBefore(r.content,!0,o);return a&&!Gme(n,r.content,o)?a:null}function Gme(t,e,n){for(let i=n;i<e.childCount;i++)if(!t.allowsMarks(e.child(i).marks))return!0;return!1}function Ume(t){return t.spec.defining||t.spec.definingForContent}function jme(t,e,n,i){if(!i.size)return t.deleteRange(e,n);let s=t.doc.resolve(e),r=t.doc.resolve(n);if(f8(s,r,i))return t.step(new Ki(e,n,i));let o=g8(s,t.doc.resolve(n));o[o.length-1]==0&&o.pop();let a=-(s.depth+1);o.unshift(a);for(let p=s.depth,m=s.pos-1;p>0;p--,m--){let y=s.node(p).type.spec;if(y.defining||y.definingAsContext||y.isolating)break;o.indexOf(p)>-1?a=p:s.before(p)==m&&o.splice(1,0,-p)}let l=o.indexOf(a),c=[],d=i.openStart;for(let p=i.content,m=0;;m++){let y=p.firstChild;if(c.push(y),m==i.openStart)break;p=y.content}for(let p=d-1;p>=0;p--){let m=c[p],y=Ume(m.type);if(y&&!m.sameMarkup(s.node(Math.abs(a)-1)))d=p;else if(y||!m.type.isTextblock)break}for(let p=i.openStart;p>=0;p--){let m=(p+d+1)%(i.openStart+1),y=c[m];if(y)for(let C=0;C<o.length;C++){let x=o[(C+l)%o.length],w=!0;x<0&&(w=!1,x=-x);let M=s.node(x-1),S=s.index(x-1);if(M.canReplaceWith(S,S,y.type,y.marks))return t.replace(s.before(x),w?r.after(x):n,new ct(m8(i.content,0,i.openStart,m),m,i.openEnd))}}let f=t.steps.length;for(let p=o.length-1;p>=0&&(t.replace(e,n,i),!(t.steps.length>f));p--){let m=o[p];m<0||(e=s.before(m),n=r.after(m))}}function m8(t,e,n,i,s){if(e<n){let r=t.firstChild;t=t.replaceChild(0,r.copy(m8(r.content,e+1,n,i,r)))}if(e>i){let r=s.contentMatchAt(0),o=r.fillBefore(t).append(t);t=o.append(r.matchFragment(o).fillBefore(qe.empty,!0))}return t}function Wme(t,e,n,i){if(!i.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let s=Vme(t.doc,e,i.type);s!=null&&(e=n=s)}t.replaceRange(e,n,new ct(qe.from(i),0,0))}function $me(t,e,n){let i=t.doc.resolve(e),s=t.doc.resolve(n),r=g8(i,s);for(let o=0;o<r.length;o++){let a=r[o],l=o==r.length-1;if(l&&a==0||i.node(a).type.contentMatch.validEnd)return t.delete(i.start(a),s.end(a));if(a>0&&(l||i.node(a-1).canReplace(i.index(a-1),s.indexAfter(a-1))))return t.delete(i.before(a),s.after(a))}for(let o=1;o<=i.depth&&o<=s.depth;o++)if(e-i.start(o)==i.depth-o&&n>i.end(o)&&s.end(o)-n!=s.depth-o&&i.start(o-1)==s.start(o-1)&&i.node(o-1).canReplace(i.index(o-1),s.index(o-1)))return t.delete(i.before(o),n);t.delete(e,n)}function g8(t,e){let n=[],i=Math.min(t.depth,e.depth);for(let s=i;s>=0;s--){let r=t.start(s);if(r<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(r==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==r-1)&&n.push(s)}return n}class hp extends _s{constructor(e,n,i){super(),this.pos=e,this.attr=n,this.value=i}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ti.fail("No node at attribute step's position");let i=Object.create(null);for(let r in n.attrs)i[r]=n.attrs[r];i[this.attr]=this.value;let s=n.type.create(i,null,n.marks);return Ti.fromReplace(e,this.pos,this.pos+1,new ct(qe.from(s),0,n.isLeaf?0:1))}getMap(){return kr.empty}invert(e){return new hp(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new hp(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new hp(n.pos,n.attr,n.value)}}_s.jsonID("attr",hp);class Jv extends _s{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let s in e.attrs)n[s]=e.attrs[s];n[this.attr]=this.value;let i=e.type.create(n,e.content,e.marks);return Ti.ok(i)}getMap(){return kr.empty}invert(e){return new Jv(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Jv(n.attr,n.value)}}_s.jsonID("docAttr",Jv);let Rp=class extends Error{};Rp=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Rp.prototype=Object.create(Error.prototype);Rp.prototype.constructor=Rp;Rp.prototype.name="TransformError";class qme{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Zv}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Rp(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,i=ct.empty){let s=f1(this.doc,e,n,i);return s&&this.step(s),this}replaceWith(e,n,i){return this.replace(e,n,new ct(qe.from(i),0,0))}delete(e,n){return this.replace(e,n,ct.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,i){return jme(this,e,n,i),this}replaceRangeWith(e,n,i){return Wme(this,e,n,i),this}deleteRange(e,n){return $me(this,e,n),this}lift(e,n){return Dme(this,e,n),this}join(e,n=1){return Hme(this,e,n),this}wrap(e,n){return Nme(this,e,n),this}setBlockType(e,n=e,i,s=null){return Ime(this,e,n,i,s),this}setNodeMarkup(e,n,i=null,s){return Lme(this,e,n,i,s),this}setNodeAttribute(e,n,i){return this.step(new hp(e,n,i)),this}setDocAttribute(e,n){return this.step(new Jv(e,n)),this}addNodeMark(e,n){return this.step(new $c(e,n)),this}removeNodeMark(e,n){if(!(n instanceof In)){let i=this.doc.nodeAt(e);if(!i)throw new RangeError("No node at position "+e);if(n=n.isInSet(i.marks),!n)return this}return this.step(new Tp(e,n)),this}split(e,n=1,i){return kme(this,e,n,i),this}addMark(e,n,i){return Rme(this,e,n,i),this}removeMark(e,n,i){return Ame(this,e,n,i),this}clearIncompatible(e,n,i){return Z_(this,e,n,i),this}}const _R=Object.create(null);class Vt{constructor(e,n,i){this.$anchor=e,this.$head=n,this.ranges=i||[new Kme(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=ct.empty){let i=n.content.lastChild,s=null;for(let a=0;a<n.openEnd;a++)s=i,i=i.lastChild;let r=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:c}=o[a],d=e.mapping.slice(r);e.replaceRange(d.map(l.pos),d.map(c.pos),a?ct.empty:n),a==0&&ZB(e,r,(i?i.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,n){let i=e.steps.length,s=this.ranges;for(let r=0;r<s.length;r++){let{$from:o,$to:a}=s[r],l=e.mapping.slice(i),c=l.map(o.pos),d=l.map(a.pos);r?e.deleteRange(c,d):(e.replaceRangeWith(c,d,n),ZB(e,i,n.isInline?-1:1))}}static findFrom(e,n,i=!1){let s=e.parent.inlineContent?new _t(e):Uf(e.node(0),e.parent,e.pos,e.index(),n,i);if(s)return s;for(let r=e.depth-1;r>=0;r--){let o=n<0?Uf(e.node(0),e.node(r),e.before(r+1),e.index(r),n,i):Uf(e.node(0),e.node(r),e.after(r+1),e.index(r)+1,n,i);if(o)return o}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Gr(e.node(0))}static atStart(e){return Uf(e,e,0,0,1)||new Gr(e)}static atEnd(e){return Uf(e,e,e.content.size,e.childCount,-1)||new Gr(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let i=_R[n.type];if(!i)throw new RangeError(`No selection type ${n.type} defined`);return i.fromJSON(e,n)}static jsonID(e,n){if(e in _R)throw new RangeError("Duplicate use of selection JSON ID "+e);return _R[e]=n,n.prototype.jsonID=e,n}getBookmark(){return _t.between(this.$anchor,this.$head).getBookmark()}}Vt.prototype.visible=!0;class Kme{constructor(e,n){this.$from=e,this.$to=n}}let YB=!1;function XB(t){!YB&&!t.parent.inlineContent&&(YB=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class _t extends Vt{constructor(e,n=e){XB(e),XB(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let i=e.resolve(n.map(this.head));if(!i.parent.inlineContent)return Vt.near(i);let s=e.resolve(n.map(this.anchor));return new _t(s.parent.inlineContent?s:i,i)}replace(e,n=ct.empty){if(super.replace(e,n),n==ct.empty){let i=this.$from.marksAcross(this.$to);i&&e.ensureMarks(i)}}eq(e){return e instanceof _t&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new p1(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new _t(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,i=n){let s=e.resolve(n);return new this(s,i==n?s:e.resolve(i))}static between(e,n,i){let s=e.pos-n.pos;if((!i||s)&&(i=s>=0?1:-1),!n.parent.inlineContent){let r=Vt.findFrom(n,i,!0)||Vt.findFrom(n,-i,!0);if(r)n=r.$head;else return Vt.near(n,i)}return e.parent.inlineContent||(s==0?e=n:(e=(Vt.findFrom(e,-i,!0)||Vt.findFrom(e,i,!0)).$anchor,e.pos<n.pos!=s<0&&(e=n))),new _t(e,n)}}Vt.jsonID("text",_t);class p1{constructor(e,n){this.anchor=e,this.head=n}map(e){return new p1(e.map(this.anchor),e.map(this.head))}resolve(e){return _t.between(e.resolve(this.anchor),e.resolve(this.head))}}class bt extends Vt{constructor(e){let n=e.nodeAfter,i=e.node(0).resolve(e.pos+n.nodeSize);super(e,i),this.node=n}map(e,n){let{deleted:i,pos:s}=n.mapResult(this.anchor),r=e.resolve(s);return i?Vt.near(r):new bt(r)}content(){return new ct(qe.from(this.node),0,0)}eq(e){return e instanceof bt&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Q_(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new bt(e.resolve(n.anchor))}static create(e,n){return new bt(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}bt.prototype.visible=!1;Vt.jsonID("node",bt);class Q_{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:i}=e.mapResult(this.anchor);return n?new p1(i,i):new Q_(i)}resolve(e){let n=e.resolve(this.anchor),i=n.nodeAfter;return i&&bt.isSelectable(i)?new bt(n):Vt.near(n)}}class Gr extends Vt{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=ct.empty){if(n==ct.empty){e.delete(0,e.doc.content.size);let i=Vt.atStart(e.doc);i.eq(e.selection)||e.setSelection(i)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Gr(e)}map(e){return new Gr(e)}eq(e){return e instanceof Gr}getBookmark(){return Yme}}Vt.jsonID("all",Gr);const Yme={map(){return this},resolve(t){return new Gr(t)}};function Uf(t,e,n,i,s,r=!1){if(e.inlineContent)return _t.create(t,n);for(let o=i-(s>0?0:1);s>0?o<e.childCount:o>=0;o+=s){let a=e.child(o);if(a.isAtom){if(!r&&bt.isSelectable(a))return bt.create(t,n-(s<0?a.nodeSize:0))}else{let l=Uf(t,a,n+s,s<0?a.childCount:0,s,r);if(l)return l}n+=a.nodeSize*s}return null}function ZB(t,e,n){let i=t.steps.length-1;if(i<e)return;let s=t.steps[i];if(!(s instanceof Ki||s instanceof Yi))return;let r=t.mapping.maps[i],o;r.forEach((a,l,c,d)=>{o==null&&(o=d)}),t.setSelection(Vt.near(t.doc.resolve(o),n))}const JB=1,QB=2,e4=4;class Xme extends qme{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|JB)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&JB)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=QB,this}ensureMarks(e){return In.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&QB)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let i=this.selection;return n&&(e=e.mark(this.storedMarks||(i.empty?i.$from.marks():i.$from.marksAcross(i.$to)||In.none))),i.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,i){let s=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(i==null&&(i=n),i=i??n,!e)return this.deleteRange(n,i);let r=this.storedMarks;if(!r){let o=this.doc.resolve(n);r=i==n?o.marks():o.marksAcross(this.doc.resolve(i))}return this.replaceRangeWith(n,i,s.text(e,r)),this.selection.empty||this.setSelection(Vt.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=e4,this}get scrolledIntoView(){return(this.updated&e4)>0}}function t4(t,e){return!e||!t?t:t.bind(e)}class Yg{constructor(e,n,i){this.name=e,this.init=t4(n.init,i),this.apply=t4(n.apply,i)}}const Zme=[new Yg("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Yg("selection",{init(t,e){return t.selection||Vt.atStart(e.doc)},apply(t){return t.selection}}),new Yg("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,i){return i.selection.$cursor?t.storedMarks:null}}),new Yg("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class FR{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Zme.slice(),n&&n.forEach(i=>{if(this.pluginsByKey[i.key])throw new RangeError("Adding different instances of a keyed plugin ("+i.key+")");this.plugins.push(i),this.pluginsByKey[i.key]=i,i.spec.state&&this.fields.push(new Yg(i.key,i.spec.state,i))})}}class ep{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let i=0;i<this.config.plugins.length;i++)if(i!=n){let s=this.config.plugins[i];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],i=this.applyInner(e),s=null;for(;;){let r=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=s?s[o].n:0,c=s?s[o].state:this,d=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,i);if(d&&i.filterTransaction(d,o)){if(d.setMeta("appendedTransaction",e),!s){s=[];for(let f=0;f<this.config.plugins.length;f++)s.push(f<o?{state:i,n:n.length}:{state:this,n:0})}n.push(d),i=i.applyInner(d),r=!0}s&&(s[o]={state:i,n:n.length})}}if(!r)return{state:i,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new ep(this.config),i=this.config.fields;for(let s=0;s<i.length;s++){let r=i[s];n[r.name]=r.apply(e,this[r.name],this,n)}return n}get tr(){return new Xme(this)}static create(e){let n=new FR(e.doc?e.doc.type.schema:e.schema,e.plugins),i=new ep(n);for(let s=0;s<n.fields.length;s++)i[n.fields[s].name]=n.fields[s].init(e,i);return i}reconfigure(e){let n=new FR(this.schema,e.plugins),i=n.fields,s=new ep(n);for(let r=0;r<i.length;r++){let o=i[r].name;s[o]=this.hasOwnProperty(o)?this[o]:i[r].init(e,s)}return s}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(i=>i.toJSON())),e&&typeof e=="object")for(let i in e){if(i=="doc"||i=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[i],r=s.spec.state;r&&r.toJSON&&(n[i]=r.toJSON.call(s,this[s.key]))}return n}static fromJSON(e,n,i){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new FR(e.schema,e.plugins),r=new ep(s);return s.fields.forEach(o=>{if(o.name=="doc")r.doc=Zc.fromJSON(e.schema,n.doc);else if(o.name=="selection")r.selection=Vt.fromJSON(r.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(r.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(i)for(let a in i){let l=i[a],c=l.spec.state;if(l.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){r[o.name]=c.fromJSON.call(l,e,n[a],r);return}}r[o.name]=o.init(e,r)}}),r}}function v8(t,e,n){for(let i in t){let s=t[i];s instanceof Function?s=s.bind(e):i=="handleDOMEvents"&&(s=v8(s,e,{})),n[i]=s}return n}class Mr{constructor(e){this.spec=e,this.props={},e.props&&v8(e.props,this,this.props),this.key=e.key?e.key.key:y8("plugin")}getState(e){return e[this.key]}}const NR=Object.create(null);function y8(t){return t in NR?t+"$"+ ++NR[t]:(NR[t]=0,t+"$")}class Ua{constructor(e="key"){this.key=y8(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const ls=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Ap=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let SP=null;const El=function(t,e,n){let i=SP||(SP=document.createRange());return i.setEnd(t,n??t.nodeValue.length),i.setStart(t,e||0),i},Jme=function(){SP=null},lh=function(t,e,n,i){return n&&(n4(t,e,n,i,-1)||n4(t,e,n,i,1))},Qme=/^(img|br|input|textarea|hr)$/i;function n4(t,e,n,i,s){for(;;){if(t==n&&e==i)return!0;if(e==(s<0?0:Co(t))){let r=t.parentNode;if(!r||r.nodeType!=1||e0(t)||Qme.test(t.nodeName)||t.contentEditable=="false")return!1;e=ls(t)+(s<0?0:1),t=r}else if(t.nodeType==1){if(t=t.childNodes[e+(s<0?-1:0)],t.contentEditable=="false")return!1;e=s<0?Co(t):0}else return!1}}function Co(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function ege(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Co(t)}else if(t.parentNode&&!e0(t))e=ls(t),t=t.parentNode;else return null}}function tge(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!e0(t))e=ls(t)+1,t=t.parentNode;else return null}}function nge(t,e,n){for(let i=e==0,s=e==Co(t);i||s;){if(t==n)return!0;let r=ls(t);if(t=t.parentNode,!t)return!1;i=i&&r==0,s=s&&r==Co(t)}}function e0(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const m1=function(t){return t.focusNode&&lh(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function wd(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function ige(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function sge(t,e,n){if(t.caretPositionFromPoint)try{let i=t.caretPositionFromPoint(e,n);if(i)return{node:i.offsetNode,offset:Math.min(Co(i.offsetNode),i.offset)}}catch{}if(t.caretRangeFromPoint){let i=t.caretRangeFromPoint(e,n);if(i)return{node:i.startContainer,offset:Math.min(Co(i.startContainer),i.startOffset)}}}const ka=typeof navigator<"u"?navigator:null,i4=typeof document<"u"?document:null,yu=ka&&ka.userAgent||"",EP=/Edge\/(\d+)/.exec(yu),x8=/MSIE \d/.exec(yu),MP=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(yu),br=!!(x8||MP||EP),Jc=x8?document.documentMode:MP?+MP[1]:EP?+EP[1]:0,Qo=!br&&/gecko\/(\d+)/i.test(yu);Qo&&+(/Firefox\/(\d+)/.exec(yu)||[0,0])[1];const TP=!br&&/Chrome\/(\d+)/.exec(yu),Rs=!!TP,C8=TP?+TP[1]:0,er=!br&&!!ka&&/Apple Computer/.test(ka.vendor),Pp=er&&(/Mobile\/\w+/.test(yu)||!!ka&&ka.maxTouchPoints>2),vo=Pp||(ka?/Mac/.test(ka.platform):!1),rge=ka?/Win/.test(ka.platform):!1,Pl=/Android \d/.test(yu),t0=!!i4&&"webkitFontSmoothing"in i4.documentElement.style,oge=t0?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function age(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function pl(t,e){return typeof t=="number"?t:t[e]}function lge(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,i=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*i}}function s4(t,e,n){let i=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,r=t.dom.ownerDocument;for(let o=n||t.dom;o;){if(o.nodeType!=1){o=Ap(o);continue}let a=o,l=a==r.body,c=l?age(r):lge(a),d=0,f=0;if(e.top<c.top+pl(i,"top")?f=-(c.top-e.top+pl(s,"top")):e.bottom>c.bottom-pl(i,"bottom")&&(f=e.bottom-e.top>c.bottom-c.top?e.top+pl(s,"top")-c.top:e.bottom-c.bottom+pl(s,"bottom")),e.left<c.left+pl(i,"left")?d=-(c.left-e.left+pl(s,"left")):e.right>c.right-pl(i,"right")&&(d=e.right-c.right+pl(s,"right")),d||f)if(l)r.defaultView.scrollBy(d,f);else{let m=a.scrollLeft,y=a.scrollTop;f&&(a.scrollTop+=f),d&&(a.scrollLeft+=d);let C=a.scrollLeft-m,x=a.scrollTop-y;e={left:e.left-C,top:e.top-x,right:e.right-C,bottom:e.bottom-x}}let p=l?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(p))break;o=p=="absolute"?o.offsetParent:Ap(o)}}function cge(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),i,s;for(let r=(e.left+e.right)/2,o=n+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=t.root.elementFromPoint(r,o);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){i=a,s=l.top;break}}return{refDOM:i,refTop:s,stack:w8(t.dom)}}function w8(t){let e=[],n=t.ownerDocument;for(let i=t;i&&(e.push({dom:i,top:i.scrollTop,left:i.scrollLeft}),t!=n);i=Ap(i));return e}function uge({refDOM:t,refTop:e,stack:n}){let i=t?t.getBoundingClientRect().top:0;b8(n,i==0?0:i-e)}function b8(t,e){for(let n=0;n<t.length;n++){let{dom:i,top:s,left:r}=t[n];i.scrollTop!=s+e&&(i.scrollTop=s+e),i.scrollLeft!=r&&(i.scrollLeft=r)}}let mf=null;function dge(t){if(t.setActive)return t.setActive();if(mf)return t.focus(mf);let e=w8(t);t.focus(mf==null?{get preventScroll(){return mf={preventScroll:!0},!0}}:void 0),mf||(mf=!1,b8(e,0))}function S8(t,e){let n,i=2e8,s,r=0,o=e.top,a=e.top,l,c;for(let d=t.firstChild,f=0;d;d=d.nextSibling,f++){let p;if(d.nodeType==1)p=d.getClientRects();else if(d.nodeType==3)p=El(d).getClientRects();else continue;for(let m=0;m<p.length;m++){let y=p[m];if(y.top<=o&&y.bottom>=a){o=Math.max(y.bottom,o),a=Math.min(y.top,a);let C=y.left>e.left?y.left-e.left:y.right<e.left?e.left-y.right:0;if(C<i){n=d,i=C,s=C&&n.nodeType==3?{left:y.right<e.left?y.right:y.left,top:e.top}:e,d.nodeType==1&&C&&(r=f+(e.left>=(y.left+y.right)/2?1:0));continue}}else y.top>e.top&&!l&&y.left<=e.left&&y.right>=e.left&&(l=d,c={left:Math.max(y.left,Math.min(y.right,e.left)),top:y.top});!n&&(e.left>=y.right&&e.top>=y.top||e.left>=y.left&&e.top>=y.bottom)&&(r=f+1)}}return!n&&l&&(n=l,s=c,i=0),n&&n.nodeType==3?hge(n,s):!n||i&&n.nodeType==1?{node:t,offset:r}:S8(n,s)}function hge(t,e){let n=t.nodeValue.length,i=document.createRange();for(let s=0;s<n;s++){i.setEnd(t,s+1),i.setStart(t,s);let r=Nc(i,1);if(r.top!=r.bottom&&eF(e,r))return{node:t,offset:s+(e.left>=(r.left+r.right)/2?1:0)}}return{node:t,offset:0}}function eF(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function fge(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function pge(t,e,n){let{node:i,offset:s}=S8(e,n),r=-1;if(i.nodeType==1&&!i.firstChild){let o=i.getBoundingClientRect();r=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(i,s,r)}function mge(t,e,n,i){let s=-1;for(let r=e,o=!1;r!=t.dom;){let a=t.docView.nearestDesc(r,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&(!o&&l.left>i.left||l.top>i.top?s=a.posBefore:(!o&&l.right<i.left||l.bottom<i.top)&&(s=a.posAfter),o=!0),!a.contentDOM&&s<0&&!a.node.isText))return(a.node.isBlock?i.top<(l.top+l.bottom)/2:i.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;r=a.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,n,-1)}function E8(t,e,n){let i=t.childNodes.length;if(i&&n.top<n.bottom)for(let s=Math.max(0,Math.min(i-1,Math.floor(i*(e.top-n.top)/(n.bottom-n.top))-2)),r=s;;){let o=t.childNodes[r];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(eF(e,c))return E8(o,e,c)}}if((r=(r+1)%i)==s)break}return t}function gge(t,e){let n=t.dom.ownerDocument,i,s=0,r=sge(n,e.left,e.top);r&&({node:i,offset:s}=r);let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=t.dom.getBoundingClientRect();if(!eF(e,c)||(o=E8(t.dom,e,c),!o))return null}if(er)for(let c=o;i&&c;c=Ap(c))c.draggable&&(i=void 0);if(o=fge(o,e),i){if(Qo&&i.nodeType==1&&(s=Math.min(s,i.childNodes.length),s<i.childNodes.length)){let d=i.childNodes[s],f;d.nodeName=="IMG"&&(f=d.getBoundingClientRect()).right<=e.left&&f.bottom>e.top&&s++}let c;t0&&s&&i.nodeType==1&&(c=i.childNodes[s-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&s--,i==t.dom&&s==i.childNodes.length-1&&i.lastChild.nodeType==1&&e.top>i.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(s==0||i.nodeType!=1||i.childNodes[s-1].nodeName!="BR")&&(a=mge(t,i,s,e))}a==null&&(a=pge(t,o,e));let l=t.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function r4(t){return t.top<t.bottom||t.left<t.right}function Nc(t,e){let n=t.getClientRects();if(n.length){let i=n[e<0?0:n.length-1];if(r4(i))return i}return Array.prototype.find.call(n,r4)||t.getBoundingClientRect()}const vge=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function M8(t,e,n){let{node:i,offset:s,atom:r}=t.docView.domFromPos(e,n<0?-1:1),o=t0||Qo;if(i.nodeType==3)if(o&&(vge.test(i.nodeValue)||(n<0?!s:s==i.nodeValue.length))){let l=Nc(El(i,s,s),n);if(Qo&&s&&/\s/.test(i.nodeValue[s-1])&&s<i.nodeValue.length){let c=Nc(El(i,s-1,s-1),-1);if(c.top==l.top){let d=Nc(El(i,s,s+1),-1);if(d.top!=l.top)return Cg(d,d.left<c.left)}}return l}else{let l=s,c=s,d=n<0?1:-1;return n<0&&!s?(c++,d=-1):n>=0&&s==i.nodeValue.length?(l--,d=1):n<0?l--:c++,Cg(Nc(El(i,l,c),d),d<0)}if(!t.state.doc.resolve(e-(r||0)).parent.inlineContent){if(r==null&&s&&(n<0||s==Co(i))){let l=i.childNodes[s-1];if(l.nodeType==1)return IR(l.getBoundingClientRect(),!1)}if(r==null&&s<Co(i)){let l=i.childNodes[s];if(l.nodeType==1)return IR(l.getBoundingClientRect(),!0)}return IR(i.getBoundingClientRect(),n>=0)}if(r==null&&s&&(n<0||s==Co(i))){let l=i.childNodes[s-1],c=l.nodeType==3?El(l,Co(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return Cg(Nc(c,1),!1)}if(r==null&&s<Co(i)){let l=i.childNodes[s];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?El(l,0,o?0:1):l.nodeType==1?l:null:null;if(c)return Cg(Nc(c,-1),!0)}return Cg(Nc(i.nodeType==3?El(i):i,-n),n>=0)}function Cg(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function IR(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function T8(t,e,n){let i=t.state,s=t.root.activeElement;i!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return n()}finally{i!=e&&t.updateState(i),s!=t.dom&&s&&s.focus()}}function yge(t,e,n){let i=e.selection,s=n=="up"?i.$from:i.$to;return T8(t,e,()=>{let{node:r}=t.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(r,!0);if(!a)break;if(a.node.isBlock){r=a.contentDOM||a.dom;break}r=a.dom.parentNode}let o=M8(t,s.pos,1);for(let a=r.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=El(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let d=l[c];if(d.bottom>d.top+1&&(n=="up"?o.top-d.top>(d.bottom-o.top)*2:d.bottom-o.bottom>(o.bottom-d.top)*2))return!1}}return!0})}const xge=/[\u0590-\u08ac]/;function Cge(t,e,n){let{$head:i}=e.selection;if(!i.parent.isTextblock)return!1;let s=i.parentOffset,r=!s,o=s==i.parent.content.size,a=t.domSelection();return a?!xge.test(i.parent.textContent)||!a.modify?n=="left"||n=="backward"?r:o:T8(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:d,anchorOffset:f}=t.domSelectionRange(),p=a.caretBidiLevel;a.modify("move",n,"character");let m=i.depth?t.docView.domAfterPos(i.before()):t.dom,{focusNode:y,focusOffset:C}=t.domSelectionRange(),x=y&&!m.contains(y.nodeType==1?y:y.parentNode)||l==y&&c==C;try{a.collapse(d,f),l&&(l!=d||c!=f)&&a.extend&&a.extend(l,c)}catch{}return p!=null&&(a.caretBidiLevel=p),x}):i.pos==i.start()||i.pos==i.end()}let o4=null,a4=null,l4=!1;function wge(t,e,n){return o4==e&&a4==n?l4:(o4=e,a4=n,l4=n=="up"||n=="down"?yge(t,e,n):Cge(t,e,n))}const Mo=0,c4=1,Fd=2,Ba=3;class n0{constructor(e,n,i,s){this.parent=e,this.children=n,this.dom=i,this.contentDOM=s,this.dirty=Mo,i.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,i){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,i=this.posAtStart;;n++){let s=this.children[n];if(s==e)return i;i+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,i){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(i<0){let r,o;if(e==this.contentDOM)r=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;r=e.previousSibling}for(;r&&!((o=r.pmViewDesc)&&o.parent==this);)r=r.previousSibling;return r?this.posBeforeChild(o)+o.size:this.posAtStart}else{let r,o;if(e==this.contentDOM)r=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;r=e.nextSibling}for(;r&&!((o=r.pmViewDesc)&&o.parent==this);)r=r.nextSibling;return r?this.posBeforeChild(o):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=n>ls(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let r=e;;r=r.parentNode){if(r==this.dom){s=!1;break}if(r.previousSibling)break}if(s==null&&n==e.childNodes.length)for(let r=e;;r=r.parentNode){if(r==this.dom){s=!0;break}if(r.nextSibling)break}}return s??i>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let i=!0,s=e;s;s=s.parentNode){let r=this.getDesc(s),o;if(r&&(!n||r.node))if(i&&(o=r.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))i=!1;else return r}}getDesc(e){let n=e.pmViewDesc;for(let i=n;i;i=i.parent)if(i==this)return n}posFromDOM(e,n,i){for(let s=e;s;s=s.parentNode){let r=this.getDesc(s);if(r)return r.localPosFromDOM(e,n,i)}return-1}descAt(e){for(let n=0,i=0;n<this.children.length;n++){let s=this.children[n],r=i+s.size;if(i==e&&r!=i){for(;!s.border&&s.children.length;)for(let o=0;o<s.children.length;o++){let a=s.children[o];if(a.size){s=a;break}}return s}if(e<r)return s.descAt(e-i-s.border);i=r}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let i=0,s=0;for(let r=0;i<this.children.length;i++){let o=this.children[i],a=r+o.size;if(a>e||o instanceof A8){s=e-r;break}r=a}if(s)return this.children[i].domFromPos(s-this.children[i].border,n);for(let r;i&&!(r=this.children[i-1]).size&&r instanceof R8&&r.side>=0;i--);if(n<=0){let r,o=!0;for(;r=i?this.children[i-1]:null,!(!r||r.dom.parentNode==this.contentDOM);i--,o=!1);return r&&n&&o&&!r.border&&!r.domAtom?r.domFromPos(r.size,n):{node:this.contentDOM,offset:r?ls(r.dom)+1:0}}else{let r,o=!0;for(;r=i<this.children.length?this.children[i]:null,!(!r||r.dom.parentNode==this.contentDOM);i++,o=!1);return r&&o&&!r.border&&!r.domAtom?r.domFromPos(0,n):{node:this.contentDOM,offset:r?ls(r.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,i=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,r=-1;for(let o=i,a=0;;a++){let l=this.children[a],c=o+l.size;if(s==-1&&e<=c){let d=o+l.border;if(e>=d&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,d);e=o;for(let f=a;f>0;f--){let p=this.children[f-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){s=ls(p.dom)+1;break}e-=p.size}s==-1&&(s=0)}if(s>-1&&(c>n||a==this.children.length-1)){n=c;for(let d=a+1;d<this.children.length;d++){let f=this.children[d];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){r=ls(f.dom);break}n+=f.size}r==-1&&(r=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:e,to:n,fromOffset:s,toOffset:r}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:i}=this.domFromPos(e,0);if(n.nodeType!=1||i==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[i]}setSelection(e,n,i,s=!1){let r=Math.min(e,n),o=Math.max(e,n);for(let m=0,y=0;m<this.children.length;m++){let C=this.children[m],x=y+C.size;if(r>y&&o<x)return C.setSelection(e-y-C.border,n-y-C.border,i,s);y=x}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),c=i.root.getSelection(),d=i.domSelectionRange(),f=!1;if((Qo||er)&&e==n){let{node:m,offset:y}=a;if(m.nodeType==3){if(f=!!(y&&m.nodeValue[y-1]==`
`),f&&y==m.nodeValue.length)for(let C=m,x;C;C=C.parentNode){if(x=C.nextSibling){x.nodeName=="BR"&&(a=l={node:x.parentNode,offset:ls(x)+1});break}let w=C.pmViewDesc;if(w&&w.node&&w.node.isBlock)break}}else{let C=m.childNodes[y-1];f=C&&(C.nodeName=="BR"||C.contentEditable=="false")}}if(Qo&&d.focusNode&&d.focusNode!=l.node&&d.focusNode.nodeType==1){let m=d.focusNode.childNodes[d.focusOffset];m&&m.contentEditable=="false"&&(s=!0)}if(!(s||f&&er)&&lh(a.node,a.offset,d.anchorNode,d.anchorOffset)&&lh(l.node,l.offset,d.focusNode,d.focusOffset))return;let p=!1;if((c.extend||e==n)&&!f){c.collapse(a.node,a.offset);try{e!=n&&c.extend(l.node,l.offset),p=!0}catch{}}if(!p){if(e>n){let y=a;a=l,l=y}let m=document.createRange();m.setEnd(l.node,l.offset),m.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(m)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let i=0,s=0;s<this.children.length;s++){let r=this.children[s],o=i+r.size;if(i==o?e<=o&&n>=i:e<o&&n>i){let a=i+r.border,l=o-r.border;if(e>=a&&n<=l){this.dirty=e==i||n==o?Fd:c4,e==a&&n==l&&(r.contentLost||r.dom.parentNode!=this.contentDOM)?r.dirty=Ba:r.markDirty(e-a,n-a);return}else r.dirty=r.dom==r.contentDOM&&r.dom.parentNode==this.contentDOM&&!r.children.length?Fd:Ba}i=o}this.dirty=Fd}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let i=e==1?Fd:c4;n.dirty<i&&(n.dirty=i)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class R8 extends n0{constructor(e,n,i,s){let r,o=n.type.toDOM;if(typeof o=="function"&&(o=o(i,()=>{if(!r)return s;if(r.parent)return r.parent.posBeforeChild(r)})),!n.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=n,this.widget=n,r=this}matchesWidget(e){return this.dirty==Mo&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class bge extends n0{constructor(e,n,i,s){super(e,[],n,null),this.textDOM=i,this.text=s}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class ch extends n0{constructor(e,n,i,s,r){super(e,[],i,s),this.mark=n,this.spec=r}static create(e,n,i,s){let r=s.nodeViews[n.type.name],o=r&&r(n,s,i);return(!o||!o.dom)&&(o=Mh.renderSpec(document,n.type.spec.toDOM(n,i),null,n.attrs)),new ch(e,n,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&Ba||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Ba&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Mo){let i=this.parent;for(;!i.node;)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=Mo}}slice(e,n,i){let s=ch.create(this.parent,this.mark,!0,i),r=this.children,o=this.size;n<o&&(r=AP(r,n,o,i)),e>0&&(r=AP(r,0,e,i));for(let a=0;a<r.length;a++)r[a].parent=s;return s.children=r,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Qc extends n0{constructor(e,n,i,s,r,o,a,l,c){super(e,[],r,o),this.node=n,this.outerDeco=i,this.innerDeco=s,this.nodeDOM=a}static create(e,n,i,s,r,o){let a=r.nodeViews[n.type.name],l,c=a&&a(n,r,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},i,s),d=c&&c.dom,f=c&&c.contentDOM;if(n.isText){if(!d)d=document.createTextNode(n.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:f}=Mh.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!f&&!n.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),n.type.spec.draggable&&(d.draggable=!0));let p=d;return d=_8(d,i,n),c?l=new Sge(e,n,i,s,d,f||null,p,c,r,o+1):n.isText?new g1(e,n,i,s,d,p,r):new Qc(e,n,i,s,d,f||null,p,r,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let i=this.children[n];if(this.dom.contains(i.dom.parentNode)){e.contentElement=i.dom.parentNode;break}}e.contentElement||(e.getContent=()=>qe.empty)}return e}matchesNode(e,n,i){return this.dirty==Mo&&e.eq(this.node)&&Eb(n,this.outerDeco)&&i.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let i=this.node.inlineContent,s=n,r=e.composing?this.localCompositionInfo(e,n):null,o=r&&r.pos>-1?r:null,a=r&&r.pos<0,l=new Mge(this,o&&o.node,e);Age(this.node,this.innerDeco,(c,d,f)=>{c.spec.marks?l.syncToMarks(c.spec.marks,i,e):c.type.side>=0&&!f&&l.syncToMarks(d==this.node.childCount?In.none:this.node.child(d).marks,i,e),l.placeWidget(c,e,s)},(c,d,f,p)=>{l.syncToMarks(c.marks,i,e);let m;l.findNodeMatch(c,d,f,p)||a&&e.state.selection.from>s&&e.state.selection.to<s+c.nodeSize&&(m=l.findIndexWithChild(r.node))>-1&&l.updateNodeAt(c,d,f,m,e)||l.updateNextNode(c,d,f,e,p,s)||l.addNode(c,d,f,e,s),s+=c.nodeSize}),l.syncToMarks([],i,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Fd)&&(o&&this.protectLocalComposition(e,o),P8(this.contentDOM,this.children,e),Pp&&Pge(this.dom))}localCompositionInfo(e,n){let{from:i,to:s}=e.state.selection;if(!(e.state.selection instanceof _t)||i<n||s>n+this.node.content.size)return null;let r=e.input.compositionNode;if(!r||!this.dom.contains(r.parentNode))return null;if(this.node.inlineContent){let o=r.nodeValue,a=Dge(this.node.content,o,i-n,s-n);return a<0?null:{node:r,pos:a,text:o}}else return{node:r,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:i,text:s}){if(this.getDesc(n))return;let r=n;for(;r.parentNode!=this.contentDOM;r=r.parentNode){for(;r.previousSibling;)r.parentNode.removeChild(r.previousSibling);for(;r.nextSibling;)r.parentNode.removeChild(r.nextSibling);r.pmViewDesc&&(r.pmViewDesc=void 0)}let o=new bge(this,r,n,s);e.input.compositionNodes.push(o),this.children=AP(this.children,i,i+s.length,e,o)}update(e,n,i,s){return this.dirty==Ba||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,i,s),!0)}updateInner(e,n,i,s){this.updateOuterDeco(n),this.node=e,this.innerDeco=i,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=Mo}updateOuterDeco(e){if(Eb(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,i=this.dom;this.dom=D8(this.dom,this.nodeDOM,RP(this.outerDeco,this.node,n),RP(e,this.node,n)),this.dom!=i&&(i.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function u4(t,e,n,i,s){_8(i,e,t);let r=new Qc(void 0,t,e,n,i,i,i,s,0);return r.contentDOM&&r.updateChildren(s,0),r}class g1 extends Qc{constructor(e,n,i,s,r,o,a){super(e,n,i,s,r,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,i,s){return this.dirty==Ba||this.dirty!=Mo&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Mo||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=Mo,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,i){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,i)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,i){let s=this.node.cut(e,n),r=document.createTextNode(s.text);return new g1(this.parent,s,this.outerDeco,this.innerDeco,r,r,i)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Ba)}get domAtom(){return!1}isText(e){return this.node.text==e}}class A8 extends n0{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Mo&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Sge extends Qc{constructor(e,n,i,s,r,o,a,l,c,d){super(e,n,i,s,r,o,a,c,d),this.spec=l}update(e,n,i,s){if(this.dirty==Ba)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let r=this.spec.update(e,n,i);return r&&this.updateInner(e,n,i,s),r}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,i,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,i,s){this.spec.setSelection?this.spec.setSelection(e,n,i.root):super.setSelection(e,n,i,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function P8(t,e,n){let i=t.firstChild,s=!1;for(let r=0;r<e.length;r++){let o=e[r],a=o.dom;if(a.parentNode==t){for(;a!=i;)i=d4(i),s=!0;i=i.nextSibling}else s=!0,t.insertBefore(a,i);if(o instanceof ch){let l=i?i.previousSibling:t.lastChild;P8(o.contentDOM,o.children,n),i=l?l.nextSibling:t.firstChild}}for(;i;)i=d4(i),s=!0;s&&n.trackWrites==t&&(n.trackWrites=null)}const gv=function(t){t&&(this.nodeName=t)};gv.prototype=Object.create(null);const Nd=[new gv];function RP(t,e,n){if(t.length==0)return Nd;let i=n?Nd[0]:new gv,s=[i];for(let r=0;r<t.length;r++){let o=t[r].type.attrs;if(o){o.nodeName&&s.push(i=new gv(o.nodeName));for(let a in o){let l=o[a];l!=null&&(n&&s.length==1&&s.push(i=new gv(e.isInline?"span":"div")),a=="class"?i.class=(i.class?i.class+" ":"")+l:a=="style"?i.style=(i.style?i.style+";":"")+l:a!="nodeName"&&(i[a]=l))}}}return s}function D8(t,e,n,i){if(n==Nd&&i==Nd)return e;let s=e;for(let r=0;r<i.length;r++){let o=i[r],a=n[r];if(r){let l;a&&a.nodeName==o.nodeName&&s!=t&&(l=s.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(s),a=Nd[0]),s=l}Ege(s,a||Nd[0],o)}return s}function Ege(t,e,n){for(let i in e)i!="class"&&i!="style"&&i!="nodeName"&&!(i in n)&&t.removeAttribute(i);for(let i in n)i!="class"&&i!="style"&&i!="nodeName"&&n[i]!=e[i]&&t.setAttribute(i,n[i]);if(e.class!=n.class){let i=e.class?e.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let r=0;r<i.length;r++)s.indexOf(i[r])==-1&&t.classList.remove(i[r]);for(let r=0;r<s.length;r++)i.indexOf(s[r])==-1&&t.classList.add(s[r]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let i=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=i.exec(e.style);)t.style.removeProperty(s[1])}n.style&&(t.style.cssText+=n.style)}}function _8(t,e,n){return D8(t,t,Nd,RP(e,n,t.nodeType!=1))}function Eb(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function d4(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class Mge{constructor(e,n,i){this.lock=n,this.view=i,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Tge(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let i=e;i<n;i++)this.top.children[i].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,i){let s=0,r=this.stack.length>>1,o=Math.min(r,e.length);for(;s<o&&(s==r-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<r;)this.destroyRest(),this.top.dirty=Mo,this.index=this.stack.pop(),this.top=this.stack.pop(),r--;for(;r<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[r])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=ch.create(this.top,e[r],n,i);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,r++}}findNodeMatch(e,n,i,s){let r=-1,o;if(s>=this.preMatch.index&&(o=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&o.matchesNode(e,n,i))r=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,n,i)&&!this.preMatch.matched.has(c)){r=a;break}}return r<0?!1:(this.destroyBetween(this.index,r),this.index++,!0)}updateNodeAt(e,n,i,s,r){let o=this.top.children[s];return o.dirty==Ba&&o.dom==o.contentDOM&&(o.dirty=Fd),o.update(e,n,i,r)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let i=e.pmViewDesc;if(i){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==i)return s}return-1}e=n}}updateNextNode(e,n,i,s,r,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof Qc){let c=this.preMatch.matched.get(l);if(c!=null&&c!=r)return!1;let d=l.dom,f,p=this.isLocked(d)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=Ba&&Eb(n,l.outerDeco));if(!p&&l.update(e,n,i,s))return this.destroyBetween(this.index,a),l.dom!=d&&(this.changed=!0),this.index++,!0;if(!p&&(f=this.recreateWrapper(l,e,n,i,s,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=f,f.contentDOM&&(f.dirty=Fd,f.updateChildren(s,o+1),f.dirty=Mo),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,i,s,r,o){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Eb(i,e.outerDeco)||!s.eq(e.innerDeco))return null;let a=Qc.create(this.top,n,i,s,r,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,n,i,s,r){let o=Qc.create(this.top,e,n,i,s,r);o.contentDOM&&o.updateChildren(s,r+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,n,i){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let r=new R8(this.top,e,n,i);this.top.children.splice(this.index++,0,r),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof ch;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof g1)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((er||Rs)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let i=document.createElement(e);e=="IMG"&&(i.className="ProseMirror-separator",i.alt=""),e=="BR"&&(i.className="ProseMirror-trailingBreak");let s=new A8(this.top,[],i,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function Tge(t,e){let n=e,i=n.children.length,s=t.childCount,r=new Map,o=[];e:for(;s>0;){let a;for(;;)if(i){let c=n.children[i-1];if(c instanceof ch)n=c,i=c.children.length;else{a=c,i--;break}}else{if(n==e)break e;i=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(s-1))break;--s,r.set(a,s),o.push(a)}}return{index:s,matched:r,matches:o.reverse()}}function Rge(t,e){return t.type.side-e.type.side}function Age(t,e,n,i){let s=e.locals(t),r=0;if(s.length==0){for(let c=0;c<t.childCount;c++){let d=t.child(c);i(d,s,e.forChild(r,d),c),r+=d.nodeSize}return}let o=0,a=[],l=null;for(let c=0;;){let d,f;for(;o<s.length&&s[o].to==r;){let x=s[o++];x.widget&&(d?(f||(f=[d])).push(x):d=x)}if(d)if(f){f.sort(Rge);for(let x=0;x<f.length;x++)n(f[x],c,!!l)}else n(d,c,!!l);let p,m;if(l)m=-1,p=l,l=null;else if(c<t.childCount)m=c,p=t.child(c++);else break;for(let x=0;x<a.length;x++)a[x].to<=r&&a.splice(x--,1);for(;o<s.length&&s[o].from<=r&&s[o].to>r;)a.push(s[o++]);let y=r+p.nodeSize;if(p.isText){let x=y;o<s.length&&s[o].from<x&&(x=s[o].from);for(let w=0;w<a.length;w++)a[w].to<x&&(x=a[w].to);x<y&&(l=p.cut(x-r),p=p.cut(0,x-r),y=x,m=-1)}else for(;o<s.length&&s[o].to<y;)o++;let C=p.isInline&&!p.isLeaf?a.filter(x=>!x.inline):a.slice();i(p,C,e.forChild(r,p),m),r=y}}function Pge(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function Dge(t,e,n,i){for(let s=0,r=0;s<t.childCount&&r<=i;){let o=t.child(s++),a=r;if(r+=o.nodeSize,!o.isText)continue;let l=o.text;for(;s<t.childCount;){let c=t.child(s++);if(r+=c.nodeSize,!c.isText)break;l+=c.text}if(r>=n){if(r>=i&&l.slice(i-e.length-a,i-a)==e)return i-e.length;let c=a<i?l.lastIndexOf(e,i-a-1):-1;if(c>=0&&c+e.length+a>=n)return a+c;if(n==i&&l.length>=i+e.length-a&&l.slice(i-a,i-a+e.length)==e)return i}}return-1}function AP(t,e,n,i,s){let r=[];for(let o=0,a=0;o<t.length;o++){let l=t[o],c=a,d=a+=l.size;c>=n||d<=e?r.push(l):(c<e&&r.push(l.slice(0,e-c,i)),s&&(r.push(s),s=void 0),d>n&&r.push(l.slice(n-c,l.size,i)))}return r}function tF(t,e=null){let n=t.domSelectionRange(),i=t.state.doc;if(!n.focusNode)return null;let s=t.docView.nearestDesc(n.focusNode),r=s&&s.size==0,o=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a=i.resolve(o),l,c;if(m1(n)){for(l=o;s&&!s.node;)s=s.parent;let f=s.node;if(s&&f.isAtom&&bt.isSelectable(f)&&s.parent&&!(f.isInline&&nge(n.focusNode,n.focusOffset,s.dom))){let p=s.posBefore;c=new bt(o==p?a:i.resolve(p))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let f=o,p=o;for(let m=0;m<n.rangeCount;m++){let y=n.getRangeAt(m);f=Math.min(f,t.docView.posFromDOM(y.startContainer,y.startOffset,1)),p=Math.max(p,t.docView.posFromDOM(y.endContainer,y.endOffset,-1))}if(f<0)return null;[l,o]=p==t.state.selection.anchor?[p,f]:[f,p],a=i.resolve(o)}else l=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let d=i.resolve(l);if(!c){let f=e=="pointer"||t.state.selection.head<a.pos&&!r?1:-1;c=nF(t,d,a,f)}return c}function F8(t){return t.editable?t.hasFocus():I8(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Ll(t,e=!1){let n=t.state.selection;if(N8(t,n),!!F8(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Rs){let i=t.domSelectionRange(),s=t.domObserver.currentSelection;if(i.anchorNode&&s.anchorNode&&lh(i.anchorNode,i.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)Fge(t);else{let{anchor:i,head:s}=n,r,o;h4&&!(n instanceof _t)&&(n.$from.parent.inlineContent||(r=f4(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=f4(t,n.to))),t.docView.setSelection(i,s,t,e),h4&&(r&&p4(r),o&&p4(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&_ge(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const h4=er||Rs&&C8<63;function f4(t,e){let{node:n,offset:i}=t.docView.domFromPos(e,0),s=i<n.childNodes.length?n.childNodes[i]:null,r=i?n.childNodes[i-1]:null;if(er&&s&&s.contentEditable=="false")return OR(s);if((!s||s.contentEditable=="false")&&(!r||r.contentEditable=="false")){if(s)return OR(s);if(r)return OR(r)}}function OR(t){return t.contentEditable="true",er&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function p4(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function _ge(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),i=n.anchorNode,s=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=i||n.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!F8(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function Fge(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let i=t.cursorWrapper.dom,s=i.nodeName=="IMG";s?n.setStart(i.parentNode,ls(i)+1):n.setStart(i,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!s&&!t.state.selection.visible&&br&&Jc<=11&&(i.disabled=!0,i.disabled=!1)}function N8(t,e){if(e instanceof bt){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(m4(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else m4(t)}function m4(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function nF(t,e,n,i){return t.someProp("createSelectionBetween",s=>s(t,e,n))||_t.between(e,n,i)}function g4(t){return t.editable&&!t.hasFocus()?!1:I8(t)}function I8(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Nge(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return lh(e.node,e.offset,n.anchorNode,n.anchorOffset)}function PP(t,e){let{$anchor:n,$head:i}=t.selection,s=e>0?n.max(i):n.min(i),r=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return r&&Vt.findFrom(r,e)}function Oc(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function v4(t,e,n){let i=t.state.selection;if(i instanceof _t)if(n.indexOf("s")>-1){let{$head:s}=i,r=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!r||r.isText||!r.isLeaf)return!1;let o=t.state.doc.resolve(s.pos+r.nodeSize*(e<0?-1:1));return Oc(t,new _t(i.$anchor,o))}else if(i.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=PP(t.state,e);return s&&s instanceof bt?Oc(t,s):!1}else if(!(vo&&n.indexOf("m")>-1)){let s=i.$head,r=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,o;if(!r||r.isText)return!1;let a=e<0?s.pos-r.nodeSize:s.pos;return r.isAtom||(o=t.docView.descAt(a))&&!o.contentDOM?bt.isSelectable(r)?Oc(t,new bt(e<0?t.state.doc.resolve(s.pos-r.nodeSize):s)):t0?Oc(t,new _t(t.state.doc.resolve(e<0?a:a+r.nodeSize))):!1:!1}}else return!1;else{if(i instanceof bt&&i.node.isInline)return Oc(t,new _t(e>0?i.$to:i.$from));{let s=PP(t.state,e);return s?Oc(t,s):!1}}}function Mb(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function vv(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function gf(t,e){return e<0?Ige(t):Oge(t)}function Ige(t){let e=t.domSelectionRange(),n=e.focusNode,i=e.focusOffset;if(!n)return;let s,r,o=!1;for(Qo&&n.nodeType==1&&i<Mb(n)&&vv(n.childNodes[i],-1)&&(o=!0);;)if(i>0){if(n.nodeType!=1)break;{let a=n.childNodes[i-1];if(vv(a,-1))s=n,r=--i;else if(a.nodeType==3)n=a,i=n.nodeValue.length;else break}}else{if(O8(n))break;{let a=n.previousSibling;for(;a&&vv(a,-1);)s=n.parentNode,r=ls(a),a=a.previousSibling;if(a)n=a,i=Mb(n);else{if(n=n.parentNode,n==t.dom)break;i=0}}}o?DP(t,n,i):s&&DP(t,s,r)}function Oge(t){let e=t.domSelectionRange(),n=e.focusNode,i=e.focusOffset;if(!n)return;let s=Mb(n),r,o;for(;;)if(i<s){if(n.nodeType!=1)break;let a=n.childNodes[i];if(vv(a,1))r=n,o=++i;else break}else{if(O8(n))break;{let a=n.nextSibling;for(;a&&vv(a,1);)r=a.parentNode,o=ls(a)+1,a=a.nextSibling;if(a)n=a,i=0,s=Mb(n);else{if(n=n.parentNode,n==t.dom)break;i=s=0}}}r&&DP(t,r,o)}function O8(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Lge(t,e){for(;t&&e==t.childNodes.length&&!e0(t);)e=ls(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function kge(t,e){for(;t&&!e&&!e0(t);)e=ls(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function DP(t,e,n){if(e.nodeType!=3){let r,o;(o=Lge(e,n))?(e=o,n=0):(r=kge(e,n))&&(e=r,n=r.nodeValue.length)}let i=t.domSelection();if(!i)return;if(m1(i)){let r=document.createRange();r.setEnd(e,n),r.setStart(e,n),i.removeAllRanges(),i.addRange(r)}else i.extend&&i.extend(e,n);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&Ll(t)},50)}function y4(t,e){let n=t.state.doc.resolve(e);if(!(Rs||rge)&&n.parent.inlineContent){let s=t.coordsAtPos(e);if(e>n.start()){let r=t.coordsAtPos(e-1),o=(r.top+r.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(r.left-s.left)>1)return r.left<s.left?"ltr":"rtl"}if(e<n.end()){let r=t.coordsAtPos(e+1),o=(r.top+r.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(r.left-s.left)>1)return r.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function x4(t,e,n){let i=t.state.selection;if(i instanceof _t&&!i.empty||n.indexOf("s")>-1||vo&&n.indexOf("m")>-1)return!1;let{$from:s,$to:r}=i;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=PP(t.state,e);if(o&&o instanceof bt)return Oc(t,o)}if(!s.parent.inlineContent){let o=e<0?s:r,a=i instanceof Gr?Vt.near(o,e):Vt.findFrom(o,e);return a?Oc(t,a):!1}return!1}function C4(t,e){if(!(t.state.selection instanceof _t))return!0;let{$head:n,$anchor:i,empty:s}=t.state.selection;if(!n.sameParent(i))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let r=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(r&&!r.isText){let o=t.state.tr;return e<0?o.delete(n.pos-r.nodeSize,n.pos):o.delete(n.pos,n.pos+r.nodeSize),t.dispatch(o),!0}return!1}function w4(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function Bge(t){if(!er||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let i=e.firstChild;w4(t,i,"true"),setTimeout(()=>w4(t,i,"false"),20)}return!1}function Hge(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function Vge(t,e){let n=e.keyCode,i=Hge(e);if(n==8||vo&&n==72&&i=="c")return C4(t,-1)||gf(t,-1);if(n==46&&!e.shiftKey||vo&&n==68&&i=="c")return C4(t,1)||gf(t,1);if(n==13||n==27)return!0;if(n==37||vo&&n==66&&i=="c"){let s=n==37?y4(t,t.state.selection.from)=="ltr"?-1:1:-1;return v4(t,s,i)||gf(t,s)}else if(n==39||vo&&n==70&&i=="c"){let s=n==39?y4(t,t.state.selection.from)=="ltr"?1:-1:1;return v4(t,s,i)||gf(t,s)}else{if(n==38||vo&&n==80&&i=="c")return x4(t,-1,i)||gf(t,-1);if(n==40||vo&&n==78&&i=="c")return Bge(t)||x4(t,1,i)||gf(t,1);if(i==(vo?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function iF(t,e){t.someProp("transformCopied",m=>{e=m(e,t)});let n=[],{content:i,openStart:s,openEnd:r}=e;for(;s>1&&r>1&&i.childCount==1&&i.firstChild.childCount==1;){s--,r--;let m=i.firstChild;n.push(m.type.name,m.attrs!=m.type.defaultAttrs?m.attrs:null),i=m.content}let o=t.someProp("clipboardSerializer")||Mh.fromSchema(t.state.schema),a=z8(),l=a.createElement("div");l.appendChild(o.serializeFragment(i,{document:a}));let c=l.firstChild,d,f=0;for(;c&&c.nodeType==1&&(d=V8[c.nodeName.toLowerCase()]);){for(let m=d.length-1;m>=0;m--){let y=a.createElement(d[m]);for(;l.firstChild;)y.appendChild(l.firstChild);l.appendChild(y),f++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${s} ${r}${f?` -${f}`:""} ${JSON.stringify(n)}`);let p=t.someProp("clipboardTextSerializer",m=>m(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:p,slice:e}}function L8(t,e,n,i,s){let r=s.parent.type.spec.code,o,a;if(!n&&!e)return null;let l=e&&(i||r||!n);if(l){if(t.someProp("transformPastedText",p=>{e=p(e,r||i,t)}),r)return e?new ct(qe.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):ct.empty;let f=t.someProp("clipboardTextParser",p=>p(e,s,i,t));if(f)a=f;else{let p=s.marks(),{schema:m}=t.state,y=Mh.fromSchema(m);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(C=>{let x=o.appendChild(document.createElement("p"));C&&x.appendChild(y.serializeNode(m.text(C,p)))})}}else t.someProp("transformPastedHTML",f=>{n=f(n,t)}),o=jge(n),t0&&Wge(o);let c=o&&o.querySelector("[data-pm-slice]"),d=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let f=+d[3];f>0;f--){let p=o.firstChild;for(;p&&p.nodeType!=1;)p=p.nextSibling;if(!p)break;o=p}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||mv.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||d),context:s,ruleFromNode(p){return p.nodeName=="BR"&&!p.nextSibling&&p.parentNode&&!zge.test(p.parentNode.nodeName)?{ignore:!0}:null}})),d)a=$ge(b4(a,+d[1],+d[2]),d[4]);else if(a=ct.maxOpen(Gge(a.content,s),!0),a.openStart||a.openEnd){let f=0,p=0;for(let m=a.content.firstChild;f<a.openStart&&!m.type.spec.isolating;f++,m=m.firstChild);for(let m=a.content.lastChild;p<a.openEnd&&!m.type.spec.isolating;p++,m=m.lastChild);a=b4(a,f,p)}return t.someProp("transformPasted",f=>{a=f(a,t)}),a}const zge=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Gge(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.index(n)),r,o=[];if(t.forEach(a=>{if(!o)return;let l=s.findWrapping(a.type),c;if(!l)return o=null;if(c=o.length&&r.length&&B8(l,r,a,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=H8(o[o.length-1],r.length));let d=k8(a,l);o.push(d),s=s.matchType(d.type),r=l}}),o)return qe.from(o)}return t}function k8(t,e,n=0){for(let i=e.length-1;i>=n;i--)t=e[i].create(null,qe.from(t));return t}function B8(t,e,n,i,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let r=B8(t,e,n,i.lastChild,s+1);if(r)return i.copy(i.content.replaceChild(i.childCount-1,r));if(i.contentMatchAt(i.childCount).matchType(s==t.length-1?n.type:t[s+1]))return i.copy(i.content.append(qe.from(k8(n,t,s+1))))}}function H8(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,H8(t.lastChild,e-1)),i=t.contentMatchAt(t.childCount).fillBefore(qe.empty,!0);return t.copy(n.append(i))}function _P(t,e,n,i,s,r){let o=e<0?t.firstChild:t.lastChild,a=o.content;return t.childCount>1&&(r=0),s<i-1&&(a=_P(a,e,n,i,s+1,r)),s>=n&&(a=e<0?o.contentMatchAt(0).fillBefore(a,r<=s).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(qe.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(a))}function b4(t,e,n){return e<t.openStart&&(t=new ct(_P(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new ct(_P(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const V8={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let S4=null;function z8(){return S4||(S4=document.implementation.createHTMLDocument("title"))}let LR=null;function Uge(t){let e=window.trustedTypes;return e?(LR||(LR=e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),LR.createHTML(t)):t}function jge(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=z8().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(t),s;if((s=i&&V8[i[1].toLowerCase()])&&(t=s.map(r=>"<"+r+">").join("")+t+s.map(r=>"</"+r+">").reverse().join("")),n.innerHTML=Uge(t),s)for(let r=0;r<s.length;r++)n=n.querySelector(s[r])||n;return n}function Wge(t){let e=t.querySelectorAll(Rs?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let i=e[n];i.childNodes.length==1&&i.textContent==" "&&i.parentNode&&i.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),i)}}function $ge(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,i;try{i=JSON.parse(e)}catch{return t}let{content:s,openStart:r,openEnd:o}=t;for(let a=i.length-2;a>=0;a-=2){let l=n.nodes[i[a]];if(!l||l.hasRequiredAttrs())break;s=qe.from(l.create(i[a+1],s)),r++,o++}return new ct(s,r,o)}const tr={},nr={},qge={touchstart:!0,touchmove:!0};class Kge{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Yge(t){for(let e in tr){let n=tr[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=i=>{Zge(t,i)&&!sF(t,i)&&(t.editable||!(i.type in nr))&&n(t,i)},qge[e]?{passive:!0}:void 0)}er&&t.dom.addEventListener("input",()=>null),FP(t)}function qc(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function Xge(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function FP(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=i=>sF(t,i))})}function sF(t,e){return t.someProp("handleDOMEvents",n=>{let i=n[e.type];return i?i(t,e)||e.defaultPrevented:!1})}function Zge(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function Jge(t,e){!sF(t,e)&&tr[e.type]&&(t.editable||!(e.type in nr))&&tr[e.type](t,e)}nr.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!U8(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Pl&&Rs&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Pp&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let i=Date.now();t.input.lastIOSEnter=i,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==i&&(t.someProp("handleKeyDown",s=>s(t,wd(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",i=>i(t,n))||Vge(t,n)?n.preventDefault():qc(t,"key")};nr.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};nr.keypress=(t,e)=>{let n=e;if(U8(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||vo&&n.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,n))){n.preventDefault();return}let i=t.state.selection;if(!(i instanceof _t)||!i.$from.sameParent(i.$to)){let s=String.fromCharCode(n.charCode);!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",r=>r(t,i.$from.pos,i.$to.pos,s))&&t.dispatch(t.state.tr.insertText(s).scrollIntoView()),n.preventDefault()}};function v1(t){return{left:t.clientX,top:t.clientY}}function Qge(t,e){let n=e.x-t.clientX,i=e.y-t.clientY;return n*n+i*i<100}function rF(t,e,n,i,s){if(i==-1)return!1;let r=t.state.doc.resolve(i);for(let o=r.depth+1;o>0;o--)if(t.someProp(e,a=>o>r.depth?a(t,n,r.nodeAfter,r.before(o),s,!0):a(t,n,r.node(o),r.before(o),s,!1)))return!0;return!1}function fp(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let i=t.state.tr.setSelection(e);i.setMeta("pointer",!0),t.dispatch(i)}function eve(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),i=n.nodeAfter;return i&&i.isAtom&&bt.isSelectable(i)?(fp(t,new bt(n)),!0):!1}function tve(t,e){if(e==-1)return!1;let n=t.state.selection,i,s;n instanceof bt&&(i=n.node);let r=t.state.doc.resolve(e);for(let o=r.depth+1;o>0;o--){let a=o>r.depth?r.nodeAfter:r.node(o);if(bt.isSelectable(a)){i&&n.$from.depth>0&&o>=n.$from.depth&&r.before(n.$from.depth+1)==n.$from.pos?s=r.before(n.$from.depth):s=r.before(o);break}}return s!=null?(fp(t,bt.create(t.state.doc,s)),!0):!1}function nve(t,e,n,i,s){return rF(t,"handleClickOn",e,n,i)||t.someProp("handleClick",r=>r(t,e,i))||(s?tve(t,n):eve(t,n))}function ive(t,e,n,i){return rF(t,"handleDoubleClickOn",e,n,i)||t.someProp("handleDoubleClick",s=>s(t,e,i))}function sve(t,e,n,i){return rF(t,"handleTripleClickOn",e,n,i)||t.someProp("handleTripleClick",s=>s(t,e,i))||rve(t,n,i)}function rve(t,e,n){if(n.button!=0)return!1;let i=t.state.doc;if(e==-1)return i.inlineContent?(fp(t,_t.create(i,0,i.content.size)),!0):!1;let s=i.resolve(e);for(let r=s.depth+1;r>0;r--){let o=r>s.depth?s.nodeAfter:s.node(r),a=s.before(r);if(o.inlineContent)fp(t,_t.create(i,a+1,a+1+o.content.size));else if(bt.isSelectable(o))fp(t,bt.create(i,a));else continue;return!0}}function oF(t){return Tb(t)}const G8=vo?"metaKey":"ctrlKey";tr.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let i=oF(t),s=Date.now(),r="singleClick";s-t.input.lastClick.time<500&&Qge(n,t.input.lastClick)&&!n[G8]&&(t.input.lastClick.type=="singleClick"?r="doubleClick":t.input.lastClick.type=="doubleClick"&&(r="tripleClick")),t.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:r};let o=t.posAtCoords(v1(n));o&&(r=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new ove(t,o,n,!!i)):(r=="doubleClick"?ive:sve)(t,o.pos,o.inside,n)?n.preventDefault():qc(t,"pointer"))};class ove{constructor(e,n,i,s){this.view=e,this.pos=n,this.event=i,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!i[G8],this.allowDefault=i.shiftKey;let r,o;if(n.inside>-1)r=e.state.doc.nodeAt(n.inside),o=n.inside;else{let d=e.state.doc.resolve(n.pos);r=d.parent,o=d.depth?d.before():0}const a=s?null:i.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=e.state;(i.button==0&&r.type.spec.draggable&&r.type.spec.selectable!==!1||c instanceof bt&&c.from<=o&&c.to>o)&&(this.mightDrag={node:r,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Qo&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),qc(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ll(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(v1(e))),this.updateAllowDefault(e),this.allowDefault||!n?qc(this.view,"pointer"):nve(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||er&&this.mightDrag&&!this.mightDrag.node.isAtom||Rs&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(fp(this.view,Vt.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):qc(this.view,"pointer")}move(e){this.updateAllowDefault(e),qc(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}tr.touchstart=t=>{t.input.lastTouch=Date.now(),oF(t),qc(t,"pointer")};tr.touchmove=t=>{t.input.lastTouch=Date.now(),qc(t,"pointer")};tr.contextmenu=t=>oF(t);function U8(t,e){return t.composing?!0:er&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const ave=Pl?5e3:-1;nr.compositionstart=nr.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof _t&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(i=>i.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Tb(t,!0),t.markCursor=null;else if(Tb(t,!e.selection.empty),Qo&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let i=t.domSelectionRange();for(let s=i.focusNode,r=i.focusOffset;s&&s.nodeType==1&&r!=0;){let o=r<0?s.lastChild:s.childNodes[r-1];if(!o)break;if(o.nodeType==3){let a=t.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else s=o,r=-1}}t.input.composing=!0}j8(t,ave)};nr.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,j8(t,20))};function j8(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Tb(t),e))}function W8(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=cve());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function lve(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=ege(e.focusNode,e.focusOffset),i=tge(e.focusNode,e.focusOffset);if(n&&i&&n!=i){let s=i.pmViewDesc,r=t.domObserver.lastChangedTextNode;if(n==r||i==r)return r;if(!s||!s.isText(i.nodeValue))return i;if(t.input.compositionNode==i){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return i}}return n||i}function cve(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Tb(t,e=!1){if(!(Pl&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),W8(t),e||t.docView&&t.docView.dirty){let n=tF(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function uve(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let i=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),i.removeAllRanges(),i.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Qv=br&&Jc<15||Pp&&oge<604;tr.copy=nr.cut=(t,e)=>{let n=e,i=t.state.selection,s=n.type=="cut";if(i.empty)return;let r=Qv?null:n.clipboardData,o=i.content(),{dom:a,text:l}=iF(t,o);r?(n.preventDefault(),r.clearData(),r.setData("text/html",a.innerHTML),r.setData("text/plain",l)):uve(t,a),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function dve(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function hve(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,i=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),i.parentNode&&i.parentNode.removeChild(i),n?ey(t,i.value,null,s,e):ey(t,i.textContent,i.innerHTML,s,e)},50)}function ey(t,e,n,i,s){let r=L8(t,e,n,i,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,s,r||ct.empty)))return!0;if(!r)return!1;let o=dve(r),a=o?t.state.tr.replaceSelectionWith(o,i):t.state.tr.replaceSelection(r);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function $8(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}nr.paste=(t,e)=>{let n=e;if(t.composing&&!Pl)return;let i=Qv?null:n.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;i&&ey(t,$8(i),i.getData("text/html"),s,n)?n.preventDefault():hve(t,n)};class q8{constructor(e,n,i){this.slice=e,this.move=n,this.node=i}}const K8=vo?"altKey":"ctrlKey";tr.dragstart=(t,e)=>{let n=e,i=t.input.mouseDown;if(i&&i.done(),!n.dataTransfer)return;let s=t.state.selection,r=s.empty?null:t.posAtCoords(v1(n)),o;if(!(r&&r.pos>=s.from&&r.pos<=(s instanceof bt?s.to-1:s.to))){if(i&&i.mightDrag)o=bt.create(t.state.doc,i.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let f=t.docView.nearestDesc(n.target,!0);f&&f.node.type.spec.draggable&&f!=t.docView&&(o=bt.create(t.state.doc,f.posBefore))}}let a=(o||t.state.selection).content(),{dom:l,text:c,slice:d}=iF(t,a);(!n.dataTransfer.files.length||!Rs||C8>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Qv?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Qv||n.dataTransfer.setData("text/plain",c),t.dragging=new q8(d,!n[K8],o)};tr.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};nr.dragover=nr.dragenter=(t,e)=>e.preventDefault();nr.drop=(t,e)=>{let n=e,i=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let s=t.posAtCoords(v1(n));if(!s)return;let r=t.state.doc.resolve(s.pos),o=i&&i.slice;o?t.someProp("transformPasted",y=>{o=y(o,t)}):o=L8(t,$8(n.dataTransfer),Qv?null:n.dataTransfer.getData("text/html"),!1,r);let a=!!(i&&!n[K8]);if(t.someProp("handleDrop",y=>y(t,n,o||ct.empty,a))){n.preventDefault();return}if(!o)return;n.preventDefault();let l=o?h8(t.state.doc,r.pos,o):r.pos;l==null&&(l=r.pos);let c=t.state.tr;if(a){let{node:y}=i;y?y.replace(c):c.deleteSelection()}let d=c.mapping.map(l),f=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,p=c.doc;if(f?c.replaceRangeWith(d,d,o.content.firstChild):c.replaceRange(d,d,o),c.doc.eq(p))return;let m=c.doc.resolve(d);if(f&&bt.isSelectable(o.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new bt(m));else{let y=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((C,x,w,M)=>y=M),c.setSelection(nF(t,m,c.doc.resolve(y)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};tr.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Ll(t)},20))};tr.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};tr.beforeinput=(t,e)=>{if(Rs&&Pl&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:i}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=i||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",r=>r(t,wd(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in nr)tr[t]=nr[t];function ty(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Rb{constructor(e,n){this.toDOM=e,this.spec=n||Wd,this.side=this.spec.side||0}map(e,n,i,s){let{pos:r,deleted:o}=e.mapResult(n.from+s,this.side<0?-1:1);return o?null:new bo(r-i,r-i,this)}valid(){return!0}eq(e){return this==e||e instanceof Rb&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&ty(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class eu{constructor(e,n){this.attrs=e,this.spec=n||Wd}map(e,n,i,s){let r=e.map(n.from+s,this.spec.inclusiveStart?-1:1)-i,o=e.map(n.to+s,this.spec.inclusiveEnd?1:-1)-i;return r>=o?null:new bo(r,o,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof eu&&ty(this.attrs,e.attrs)&&ty(this.spec,e.spec)}static is(e){return e.type instanceof eu}destroy(){}}class aF{constructor(e,n){this.attrs=e,this.spec=n||Wd}map(e,n,i,s){let r=e.mapResult(n.from+s,1);if(r.deleted)return null;let o=e.mapResult(n.to+s,-1);return o.deleted||o.pos<=r.pos?null:new bo(r.pos-i,o.pos-i,this)}valid(e,n){let{index:i,offset:s}=e.content.findIndex(n.from),r;return s==n.from&&!(r=e.child(i)).isText&&s+r.nodeSize==n.to}eq(e){return this==e||e instanceof aF&&ty(this.attrs,e.attrs)&&ty(this.spec,e.spec)}destroy(){}}class bo{constructor(e,n,i){this.from=e,this.to=n,this.type=i}copy(e,n){return new bo(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,i){return this.type.map(e,this,n,i)}static widget(e,n,i){return new bo(e,e,new Rb(n,i))}static inline(e,n,i,s){return new bo(e,n,new eu(i,s))}static node(e,n,i,s){return new bo(e,n,new aF(i,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof eu}get widget(){return this.type instanceof Rb}}const jf=[],Wd={};class Ii{constructor(e,n){this.local=e.length?e:jf,this.children=n.length?n:jf}static create(e,n){return n.length?Ab(n,e,0,Wd):Ss}find(e,n,i){let s=[];return this.findInner(e??0,n??1e9,s,0,i),s}findInner(e,n,i,s,r){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=n&&a.to>=e&&(!r||r(a.spec))&&i.push(a.copy(a.from+s,a.to+s))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,n-a,i,s+a,r)}}map(e,n,i){return this==Ss||e.maps.length==0?this:this.mapInner(e,n,0,0,i||Wd)}mapInner(e,n,i,s,r){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,i,s);l&&l.type.valid(n,l)?(o||(o=[])).push(l):r.onRemove&&r.onRemove(this.local[a].spec)}return this.children.length?fve(this.children,o||[],e,n,i,s,r):o?new Ii(o.sort($d),jf):Ss}add(e,n){return n.length?this==Ss?Ii.create(e,n):this.addInner(e,n,0):this}addInner(e,n,i){let s,r=0;e.forEach((a,l)=>{let c=l+i,d;if(d=X8(n,a,c)){for(s||(s=this.children.slice());r<s.length&&s[r]<l;)r+=3;s[r]==l?s[r+2]=s[r+2].addInner(a,d,c+1):s.splice(r,0,l,l+a.nodeSize,Ab(d,a,c+1,Wd)),r+=3}});let o=Y8(r?Z8(n):n,-i);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new Ii(o.length?this.local.concat(o).sort($d):this.local,s||this.children)}remove(e){return e.length==0||this==Ss?this:this.removeInner(e,0)}removeInner(e,n){let i=this.children,s=this.local;for(let r=0;r<i.length;r+=3){let o,a=i[r]+n,l=i[r+1]+n;for(let d=0,f;d<e.length;d++)(f=e[d])&&f.from>a&&f.to<l&&(e[d]=null,(o||(o=[])).push(f));if(!o)continue;i==this.children&&(i=this.children.slice());let c=i[r+2].removeInner(o,a+1);c!=Ss?i[r+2]=c:(i.splice(r,3),r-=3)}if(s.length){for(let r=0,o;r<e.length;r++)if(o=e[r])for(let a=0;a<s.length;a++)s[a].eq(o,n)&&(s==this.local&&(s=this.local.slice()),s.splice(a--,1))}return i==this.children&&s==this.local?this:s.length||i.length?new Ii(s,i):Ss}forChild(e,n){if(this==Ss)return this;if(n.isLeaf)return Ii.empty;let i,s;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(i=this.children[a+2]);break}let r=e+1,o=r+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>r&&l.type instanceof eu){let c=Math.max(r,l.from)-r,d=Math.min(o,l.to)-r;c<d&&(s||(s=[])).push(l.copy(c,d))}}if(s){let a=new Ii(s.sort($d),jf);return i?new zc([a,i]):a}return i||Ss}eq(e){if(this==e)return!0;if(!(e instanceof Ii)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return lF(this.localsInner(e))}localsInner(e){if(this==Ss)return jf;if(e.inlineContent||!this.local.some(eu.is))return this.local;let n=[];for(let i=0;i<this.local.length;i++)this.local[i].type instanceof eu||n.push(this.local[i]);return n}forEachSet(e){e(this)}}Ii.empty=new Ii([],[]);Ii.removeOverlap=lF;const Ss=Ii.empty;class zc{constructor(e){this.members=e}map(e,n){const i=this.members.map(s=>s.map(e,n,Wd));return zc.from(i)}forChild(e,n){if(n.isLeaf)return Ii.empty;let i=[];for(let s=0;s<this.members.length;s++){let r=this.members[s].forChild(e,n);r!=Ss&&(r instanceof zc?i=i.concat(r.members):i.push(r))}return zc.from(i)}eq(e){if(!(e instanceof zc)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,i=!0;for(let s=0;s<this.members.length;s++){let r=this.members[s].localsInner(e);if(r.length)if(!n)n=r;else{i&&(n=n.slice(),i=!1);for(let o=0;o<r.length;o++)n.push(r[o])}}return n?lF(i?n:n.sort($d)):jf}static from(e){switch(e.length){case 0:return Ss;case 1:return e[0];default:return new zc(e.every(n=>n instanceof Ii)?e:e.reduce((n,i)=>n.concat(i instanceof Ii?i:i.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function fve(t,e,n,i,s,r,o){let a=t.slice();for(let c=0,d=r;c<n.maps.length;c++){let f=0;n.maps[c].forEach((p,m,y,C)=>{let x=C-y-(m-p);for(let w=0;w<a.length;w+=3){let M=a[w+1];if(M<0||p>M+d-f)continue;let S=a[w]+d-f;m>=S?a[w+1]=p<=S?-2:-1:p>=d&&x&&(a[w]+=x,a[w+1]+=x)}f+=x}),d=n.maps[c].map(d,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let d=n.map(t[c]+r),f=d-s;if(f<0||f>=i.content.size){l=!0;continue}let p=n.map(t[c+1]+r,-1),m=p-s,{index:y,offset:C}=i.content.findIndex(f),x=i.maybeChild(y);if(x&&C==f&&C+x.nodeSize==m){let w=a[c+2].mapInner(n,x,d+1,t[c]+r+1,o);w!=Ss?(a[c]=f,a[c+1]=m,a[c+2]=w):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=pve(a,t,e,n,s,r,o),d=Ab(c,i,0,o);e=d.local;for(let f=0;f<a.length;f+=3)a[f+1]<0&&(a.splice(f,3),f-=3);for(let f=0,p=0;f<d.children.length;f+=3){let m=d.children[f];for(;p<a.length&&a[p]<m;)p+=3;a.splice(p,0,d.children[f],d.children[f+1],d.children[f+2])}}return new Ii(e.sort($d),a)}function Y8(t,e){if(!e||!t.length)return t;let n=[];for(let i=0;i<t.length;i++){let s=t[i];n.push(new bo(s.from+e,s.to+e,s.type))}return n}function pve(t,e,n,i,s,r,o){function a(l,c){for(let d=0;d<l.local.length;d++){let f=l.local[d].map(i,s,c);f?n.push(f):o.onRemove&&o.onRemove(l.local[d].spec)}for(let d=0;d<l.children.length;d+=3)a(l.children[d+2],l.children[d]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+r+1);return n}function X8(t,e,n){if(e.isLeaf)return null;let i=n+e.nodeSize,s=null;for(let r=0,o;r<t.length;r++)(o=t[r])&&o.from>n&&o.to<i&&((s||(s=[])).push(o),t[r]=null);return s}function Z8(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Ab(t,e,n,i){let s=[],r=!1;e.forEach((a,l)=>{let c=X8(t,a,l+n);if(c){r=!0;let d=Ab(c,a,n+l+1,i);d!=Ss&&s.push(l,l+a.nodeSize,d)}});let o=Y8(r?Z8(t):t,-n).sort($d);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(i.onRemove&&i.onRemove(o[a].spec),o.splice(a--,1));return o.length||s.length?new Ii(o,s):Ss}function $d(t,e){return t.from-e.from||t.to-e.to}function lF(t){let e=t;for(let n=0;n<e.length-1;n++){let i=e[n];if(i.from!=i.to)for(let s=n+1;s<e.length;s++){let r=e[s];if(r.from==i.from){r.to!=i.to&&(e==t&&(e=t.slice()),e[s]=r.copy(r.from,i.to),E4(e,s+1,r.copy(i.to,r.to)));continue}else{r.from<i.to&&(e==t&&(e=t.slice()),e[n]=i.copy(i.from,r.from),E4(e,s,i.copy(r.from,i.to)));break}}}return e}function E4(t,e,n){for(;e<t.length&&$d(n,t[e])>0;)e++;t.splice(e,0,n)}function kR(t){let e=[];return t.someProp("decorations",n=>{let i=n(t.state);i&&i!=Ss&&e.push(i)}),t.cursorWrapper&&e.push(Ii.create(t.state.doc,[t.cursorWrapper.deco])),zc.from(e)}const mve={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},gve=br&&Jc<=11;class vve{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class yve{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new vve,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(i=>{for(let s=0;s<i.length;s++)this.queue.push(i[s]);br&&Jc<=11&&i.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),gve&&(this.onCharData=i=>{this.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,mve)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(g4(this.view)){if(this.suppressingSelectionUpdates)return Ll(this.view);if(br&&Jc<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&lh(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,i;for(let r=e.focusNode;r;r=Ap(r))n.add(r);for(let r=e.anchorNode;r;r=Ap(r))if(n.has(r)){i=r;break}let s=i&&this.view.docView.nearestDesc(i);if(s&&s.ignoreMutation({type:"selection",target:i.nodeType==3?i.parentNode:i}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let i=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(i)&&g4(e)&&!this.ignoreSelectionChange(i),r=-1,o=-1,a=!1,l=[];if(e.editable)for(let d=0;d<n.length;d++){let f=this.registerMutation(n[d],l);f&&(r=r<0?f.from:Math.min(f.from,r),o=o<0?f.to:Math.max(f.to,o),f.typeOver&&(a=!0))}if(Qo&&l.length){let d=l.filter(f=>f.nodeName=="BR");if(d.length==2){let[f,p]=d;f.parentNode&&f.parentNode.parentNode==p.parentNode?p.remove():f.remove()}else{let{focusNode:f}=this.currentSelection;for(let p of d){let m=p.parentNode;m&&m.nodeName=="LI"&&(!f||wve(e,f)!=m)&&p.remove()}}}let c=null;r<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&m1(i)&&(c=tF(e))&&c.eq(Vt.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Ll(e),this.currentSelection.set(i),e.scrollToSelection()):(r>-1||s)&&(r>-1&&(e.docView.markDirty(r,o),xve(e)),this.handleDOMChange(r,o,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(i)||Ll(e),this.currentSelection.set(i))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let i=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(i==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!i||i.ignoreMutation(e))return null;if(e.type=="childList"){for(let d=0;d<e.addedNodes.length;d++){let f=e.addedNodes[d];n.push(f),f.nodeType==3&&(this.lastChangedTextNode=f)}if(i.contentDOM&&i.contentDOM!=i.dom&&!i.contentDOM.contains(e.target))return{from:i.posBefore,to:i.posAfter};let s=e.previousSibling,r=e.nextSibling;if(br&&Jc<=11&&e.addedNodes.length)for(let d=0;d<e.addedNodes.length;d++){let{previousSibling:f,nextSibling:p}=e.addedNodes[d];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(s=f),(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(r=p)}let o=s&&s.parentNode==e.target?ls(s)+1:0,a=i.localPosFromDOM(e.target,o,-1),l=r&&r.parentNode==e.target?ls(r):e.target.childNodes.length,c=i.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:i.posAtStart-i.border,to:i.posAtEnd+i.border}:(this.lastChangedTextNode=e.target,{from:i.posAtStart,to:i.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let M4=new WeakMap,T4=!1;function xve(t){if(!M4.has(t)&&(M4.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Qo,T4)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),T4=!0}}function R4(t,e){let n=e.startContainer,i=e.startOffset,s=e.endContainer,r=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return lh(o.node,o.offset,s,r)&&([n,i,s,r]=[s,r,n,i]),{anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:r}}function Cve(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return R4(t,s)}let n;function i(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",i,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",i,!0),n?R4(t,n):null}function wve(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let i=t.docView.nearestDesc(n,!0);if(i&&i.node.isBlock)return n}return null}function bve(t,e,n){let{node:i,fromOffset:s,toOffset:r,from:o,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),c,d=l.anchorNode;if(d&&t.dom.contains(d.nodeType==1?d:d.parentNode)&&(c=[{node:d,offset:l.anchorOffset}],m1(l)||c.push({node:l.focusNode,offset:l.focusOffset})),Rs&&t.input.lastKeyCode===8)for(let x=r;x>s;x--){let w=i.childNodes[x-1],M=w.pmViewDesc;if(w.nodeName=="BR"&&!M){r=x;break}if(!M||M.size)break}let f=t.state.doc,p=t.someProp("domParser")||mv.fromSchema(t.state.schema),m=f.resolve(o),y=null,C=p.parse(i,{topNode:m.parent,topMatch:m.parent.contentMatchAt(m.index()),topOpen:!0,from:s,to:r,preserveWhitespace:m.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:Sve,context:m});if(c&&c[0].pos!=null){let x=c[0].pos,w=c[1]&&c[1].pos;w==null&&(w=x),y={anchor:x+o,head:w+o}}return{doc:C,sel:y,from:o,to:a}}function Sve(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(er&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||er&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Eve=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Mve(t,e,n,i,s){let r=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let _=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,A=tF(t,_);if(A&&!t.state.selection.eq(A)){if(Rs&&Pl&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",k=>k(t,wd(13,"Enter"))))return;let O=t.state.tr.setSelection(A);_=="pointer"?O.setMeta("pointer",!0):_=="key"&&O.scrollIntoView(),r&&O.setMeta("composition",r),t.dispatch(O)}return}let o=t.state.doc.resolve(e),a=o.sharedDepth(n);e=o.before(a+1),n=t.state.doc.resolve(n).after(a+1);let l=t.state.selection,c=bve(t,e,n),d=t.state.doc,f=d.slice(c.from,c.to),p,m;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(p=t.state.selection.to,m="end"):(p=t.state.selection.from,m="start"),t.input.lastKeyCode=null;let y=Ave(f.content,c.doc.content,c.from,p,m);if(y&&t.input.domChangeCount++,(Pp&&t.input.lastIOSEnter>Date.now()-225||Pl)&&s.some(_=>_.nodeType==1&&!Eve.test(_.nodeName))&&(!y||y.endA>=y.endB)&&t.someProp("handleKeyDown",_=>_(t,wd(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!y)if(i&&l instanceof _t&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))y={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let _=A4(t,t.state.doc,c.sel);if(_&&!_.eq(t.state.selection)){let A=t.state.tr.setSelection(_);r&&A.setMeta("composition",r),t.dispatch(A)}}return}t.state.selection.from<t.state.selection.to&&y.start==y.endB&&t.state.selection instanceof _t&&(y.start>t.state.selection.from&&y.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?y.start=t.state.selection.from:y.endA<t.state.selection.to&&y.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(y.endB+=t.state.selection.to-y.endA,y.endA=t.state.selection.to)),br&&Jc<=11&&y.endB==y.start+1&&y.endA==y.start&&y.start>c.from&&c.doc.textBetween(y.start-c.from-1,y.start-c.from+1)=="  "&&(y.start--,y.endA--,y.endB--);let C=c.doc.resolveNoCache(y.start-c.from),x=c.doc.resolveNoCache(y.endB-c.from),w=d.resolve(y.start),M=C.sameParent(x)&&C.parent.inlineContent&&w.end()>=y.endA,S;if((Pp&&t.input.lastIOSEnter>Date.now()-225&&(!M||s.some(_=>_.nodeName=="DIV"||_.nodeName=="P"))||!M&&C.pos<c.doc.content.size&&!C.sameParent(x)&&(S=Vt.findFrom(c.doc.resolve(C.pos+1),1,!0))&&S.head==x.pos)&&t.someProp("handleKeyDown",_=>_(t,wd(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>y.start&&Rve(d,y.start,y.endA,C,x)&&t.someProp("handleKeyDown",_=>_(t,wd(8,"Backspace")))){Pl&&Rs&&t.domObserver.suppressSelectionUpdates();return}Rs&&y.endB==y.start&&(t.input.lastChromeDelete=Date.now()),Pl&&!M&&C.start()!=x.start()&&x.parentOffset==0&&C.depth==x.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==y.endA&&(y.endB-=2,x=c.doc.resolveNoCache(y.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(_){return _(t,wd(13,"Enter"))})},20));let R=y.start,P=y.endA,F,N,I;if(M){if(C.pos==x.pos)br&&Jc<=11&&C.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ll(t),20)),F=t.state.tr.delete(R,P),N=d.resolve(y.start).marksAcross(d.resolve(y.endA));else if(y.endA==y.endB&&(I=Tve(C.parent.content.cut(C.parentOffset,x.parentOffset),w.parent.content.cut(w.parentOffset,y.endA-w.start()))))F=t.state.tr,I.type=="add"?F.addMark(R,P,I.mark):F.removeMark(R,P,I.mark);else if(C.parent.child(C.index()).isText&&C.index()==x.index()-(x.textOffset?0:1)){let _=C.parent.textBetween(C.parentOffset,x.parentOffset);if(t.someProp("handleTextInput",A=>A(t,R,P,_)))return;F=t.state.tr.insertText(_,R,P)}}if(F||(F=t.state.tr.replace(R,P,c.doc.slice(y.start-c.from,y.endB-c.from))),c.sel){let _=A4(t,F.doc,c.sel);_&&!(Rs&&t.composing&&_.empty&&(y.start!=y.endB||t.input.lastChromeDelete<Date.now()-100)&&(_.head==R||_.head==F.mapping.map(P)-1)||br&&_.empty&&_.head==R)&&F.setSelection(_)}N&&F.ensureMarks(N),r&&F.setMeta("composition",r),t.dispatch(F.scrollIntoView())}function A4(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:nF(t,e.resolve(n.anchor),e.resolve(n.head))}function Tve(t,e){let n=t.firstChild.marks,i=e.firstChild.marks,s=n,r=i,o,a,l;for(let d=0;d<i.length;d++)s=i[d].removeFromSet(s);for(let d=0;d<n.length;d++)r=n[d].removeFromSet(r);if(s.length==1&&r.length==0)a=s[0],o="add",l=d=>d.mark(a.addToSet(d.marks));else if(s.length==0&&r.length==1)a=r[0],o="remove",l=d=>d.mark(a.removeFromSet(d.marks));else return null;let c=[];for(let d=0;d<e.childCount;d++)c.push(l(e.child(d)));if(qe.from(c).eq(t))return{mark:a,type:o}}function Rve(t,e,n,i,s){if(n-e<=s.pos-i.pos||BR(i,!0,!1)<s.pos)return!1;let r=t.resolve(e);if(!i.parent.isTextblock){let a=r.nodeAfter;return a!=null&&n==e+a.nodeSize}if(r.parentOffset<r.parent.content.size||!r.parent.isTextblock)return!1;let o=t.resolve(BR(r,!0,!0));return!o.parent.isTextblock||o.pos>n||BR(o,!0,!1)<n?!1:i.parent.content.cut(i.parentOffset).eq(o.parent.content)}function BR(t,e,n){let i=t.depth,s=e?t.end():t.pos;for(;i>0&&(e||t.indexAfter(i)==t.node(i).childCount);)i--,s++,e=!1;if(n){let r=t.node(i).maybeChild(t.indexAfter(i));for(;r&&!r.isLeaf;)r=r.firstChild,s++}return s}function Ave(t,e,n,i,s){let r=t.findDiffStart(e,n);if(r==null)return null;let{a:o,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(s=="end"){let l=Math.max(0,r-Math.min(o,a));i-=o+l-r}if(o<r&&t.size<e.size){let l=i<=r&&i>=o?r-i:0;r-=l,r&&r<e.size&&P4(e.textBetween(r-1,r+1))&&(r+=l?1:-1),a=r+(a-o),o=r}else if(a<r){let l=i<=r&&i>=a?r-i:0;r-=l,r&&r<t.size&&P4(t.textBetween(r-1,r+1))&&(r+=l?1:-1),o=r+(o-a),a=r}return{start:r,endA:o,endB:a}}function P4(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class Pve{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Kge,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(I4),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=F4(this),_4(this),this.nodeViews=N4(this),this.docView=u4(this.state.doc,D4(this),kR(this),this.dom,this),this.domObserver=new yve(this,(i,s,r,o)=>Mve(this,i,s,r,o)),this.domObserver.start(),Yge(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&FP(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(I4),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let i in this._props)n[i]=this._props[i];n.state=this.state;for(let i in e)n[i]=e[i];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var i;let s=this.state,r=!1,o=!1;e.storedMarks&&this.composing&&(W8(this),o=!0),this.state=e;let a=s.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let m=N4(this);_ve(m,this.nodeViews)&&(this.nodeViews=m,r=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&FP(this),this.editable=F4(this),_4(this);let l=kR(this),c=D4(this),d=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",f=r||!this.docView.matchesNode(e.doc,c,l);(f||!e.selection.eq(s.selection))&&(o=!0);let p=d=="preserve"&&o&&this.dom.style.overflowAnchor==null&&cge(this);if(o){this.domObserver.stop();let m=f&&(br||Rs)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&Dve(s.selection,e.selection);if(f){let y=Rs?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=lve(this)),(r||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=u4(e.doc,c,l,this.dom,this)),y&&!this.trackWrites&&(m=!0)}m||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Nge(this))?Ll(this,m):(N8(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((i=this.dragging)===null||i===void 0)&&i.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():p&&uge(p)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof bt){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&s4(this,n.getBoundingClientRect(),e)}else s4(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let i=this.directPlugins[n];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let i=this.state.plugins[n];i.spec.view&&this.pluginViews.push(i.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let i=this.pluginViews[n];i.update&&i.update(this,e)}}updateDraggedNode(e,n){let i=e.node,s=-1;if(this.state.doc.nodeAt(i.from)==i.node)s=i.from;else{let r=i.from+(this.state.doc.content.size-n.doc.content.size);(r>0&&this.state.doc.nodeAt(r))==i.node&&(s=r)}this.dragging=new q8(e.slice,e.move,s<0?void 0:bt.create(this.state.doc,s))}someProp(e,n){let i=this._props&&this._props[e],s;if(i!=null&&(s=n?n(i):i))return s;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(s=n?n(a):a))return s}let r=this.state.plugins;if(r)for(let o=0;o<r.length;o++){let a=r[o].props[e];if(a!=null&&(s=n?n(a):a))return s}}hasFocus(){if(br){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&dge(this.dom),Ll(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return gge(this,e)}coordsAtPos(e,n=1){return M8(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,i=-1){let s=this.docView.posFromDOM(e,n,i);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,n){return wge(this,n||this.state,e)}pasteHTML(e,n){return ey(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return ey(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return iF(this,e)}destroy(){this.docView&&(Xge(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],kR(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Jme())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return Jge(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?er&&this.root.nodeType===11&&ige(this.dom.ownerDocument)==this.dom&&Cve(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function D4(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let i in n)i=="class"?e.class+=" "+n[i]:i=="style"?e.style=(e.style?e.style+";":"")+n[i]:!e[i]&&i!="contenteditable"&&i!="nodeName"&&(e[i]=String(n[i]))}),e.translate||(e.translate="no"),[bo.node(0,t.state.doc.content.size,e)]}function _4(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:bo.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function F4(t){return!t.someProp("editable",e=>e(t.state)===!1)}function Dve(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function N4(t){let e=Object.create(null);function n(i){for(let s in i)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=i[s])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function _ve(t,e){let n=0,i=0;for(let s in t){if(t[s]!=e[s])return!0;n++}for(let s in e)i++;return n!=i}function I4(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ru={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Pb={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Fve=typeof navigator<"u"&&/Mac/.test(navigator.platform),Nve=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var cs=0;cs<10;cs++)ru[48+cs]=ru[96+cs]=String(cs);for(var cs=1;cs<=24;cs++)ru[cs+111]="F"+cs;for(var cs=65;cs<=90;cs++)ru[cs]=String.fromCharCode(cs+32),Pb[cs]=String.fromCharCode(cs);for(var HR in ru)Pb.hasOwnProperty(HR)||(Pb[HR]=ru[HR]);function Ive(t){var e=Fve&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||Nve&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Pb:ru)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Ove=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function Lve(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let i,s,r,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))i=!0;else if(/^(c|ctrl|control)$/i.test(l))s=!0;else if(/^s(hift)?$/i.test(l))r=!0;else if(/^mod$/i.test(l))Ove?o=!0:s=!0;else throw new Error("Unrecognized modifier name: "+l)}return i&&(n="Alt-"+n),s&&(n="Ctrl-"+n),o&&(n="Meta-"+n),r&&(n="Shift-"+n),n}function kve(t){let e=Object.create(null);for(let n in t)e[Lve(n)]=t[n];return e}function VR(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function Bve(t){return new Mr({props:{handleKeyDown:J8(t)}})}function J8(t){let e=kve(t);return function(n,i){let s=Ive(i),r,o=e[VR(s,i)];if(o&&o(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(i.shiftKey){let a=e[VR(s,i,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((i.shiftKey||i.altKey||i.metaKey||s.charCodeAt(0)>127)&&(r=ru[i.keyCode])&&r!=s){let a=e[VR(r,i)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const cF=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function Q8(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const eW=(t,e,n)=>{let i=Q8(t,n);if(!i)return!1;let s=uF(i);if(!s){let o=i.blockRange(),a=o&&Qp(o);return a==null?!1:(e&&e(t.tr.lift(o,a).scrollIntoView()),!0)}let r=s.nodeBefore;if(cW(t,s,e,-1))return!0;if(i.parent.content.size==0&&(Dp(r,"end")||bt.isSelectable(r)))for(let o=i.depth;;o--){let a=f1(t.doc,i.before(o),i.after(o),ct.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(Dp(r,"end")?Vt.findFrom(l.doc.resolve(l.mapping.map(s.pos,-1)),-1):bt.create(l.doc,s.pos-r.nodeSize)),e(l.scrollIntoView())}return!0}if(o==1||i.node(o-1).childCount>1)break}return r.isAtom&&s.depth==i.depth-1?(e&&e(t.tr.delete(s.pos-r.nodeSize,s.pos).scrollIntoView()),!0):!1},Hve=(t,e,n)=>{let i=Q8(t,n);if(!i)return!1;let s=uF(i);return s?tW(t,s,e):!1},Vve=(t,e,n)=>{let i=iW(t,n);if(!i)return!1;let s=dF(i);return s?tW(t,s,e):!1};function tW(t,e,n){let i=e.nodeBefore,s=i,r=e.pos-1;for(;!s.isTextblock;r--){if(s.type.spec.isolating)return!1;let d=s.lastChild;if(!d)return!1;s=d}let o=e.nodeAfter,a=o,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let d=a.firstChild;if(!d)return!1;a=d}let c=f1(t.doc,r,l,ct.empty);if(!c||c.from!=r||c instanceof Ki&&c.slice.size>=l-r)return!1;if(n){let d=t.tr.step(c);d.setSelection(_t.create(d.doc,r)),n(d.scrollIntoView())}return!0}function Dp(t,e,n=!1){for(let i=t;i;i=e=="start"?i.firstChild:i.lastChild){if(i.isTextblock)return!0;if(n&&i.childCount!=1)return!1}return!1}const nW=(t,e,n)=>{let{$head:i,empty:s}=t.selection,r=i;if(!s)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):i.parentOffset>0)return!1;r=uF(i)}let o=r&&r.nodeBefore;return!o||!bt.isSelectable(o)?!1:(e&&e(t.tr.setSelection(bt.create(t.doc,r.pos-o.nodeSize)).scrollIntoView()),!0)};function uF(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function iW(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const sW=(t,e,n)=>{let i=iW(t,n);if(!i)return!1;let s=dF(i);if(!s)return!1;let r=s.nodeAfter;if(cW(t,s,e,1))return!0;if(i.parent.content.size==0&&(Dp(r,"start")||bt.isSelectable(r))){let o=f1(t.doc,i.before(),i.after(),ct.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=t.tr.step(o);a.setSelection(Dp(r,"start")?Vt.findFrom(a.doc.resolve(a.mapping.map(s.pos)),1):bt.create(a.doc,a.mapping.map(s.pos))),e(a.scrollIntoView())}return!0}}return r.isAtom&&s.depth==i.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+r.nodeSize).scrollIntoView()),!0):!1},rW=(t,e,n)=>{let{$head:i,empty:s}=t.selection,r=i;if(!s)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):i.parentOffset<i.parent.content.size)return!1;r=dF(i)}let o=r&&r.nodeAfter;return!o||!bt.isSelectable(o)?!1:(e&&e(t.tr.setSelection(bt.create(t.doc,r.pos)).scrollIntoView()),!0)};function dF(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const zve=(t,e)=>{let n=t.selection,i=n instanceof bt,s;if(i){if(n.node.isTextblock||!vu(t.doc,n.from))return!1;s=n.from}else if(s=h1(t.doc,n.from,-1),s==null)return!1;if(e){let r=t.tr.join(s);i&&r.setSelection(bt.create(r.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(r.scrollIntoView())}return!0},Gve=(t,e)=>{let n=t.selection,i;if(n instanceof bt){if(n.node.isTextblock||!vu(t.doc,n.to))return!1;i=n.to}else if(i=h1(t.doc,n.to,1),i==null)return!1;return e&&e(t.tr.join(i).scrollIntoView()),!0},Uve=(t,e)=>{let{$from:n,$to:i}=t.selection,s=n.blockRange(i),r=s&&Qp(s);return r==null?!1:(e&&e(t.tr.lift(s,r).scrollIntoView()),!0)},oW=(t,e)=>{let{$head:n,$anchor:i}=t.selection;return!n.parent.type.spec.code||!n.sameParent(i)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function hF(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const jve=(t,e)=>{let{$head:n,$anchor:i}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(i))return!1;let s=n.node(-1),r=n.indexAfter(-1),o=hF(s.contentMatchAt(r));if(!o||!s.canReplaceWith(r,r,o))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,o.createAndFill());l.setSelection(Vt.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},aW=(t,e)=>{let n=t.selection,{$from:i,$to:s}=n;if(n instanceof Gr||i.parent.inlineContent||s.parent.inlineContent)return!1;let r=hF(s.parent.contentMatchAt(s.indexAfter()));if(!r||!r.isTextblock)return!1;if(e){let o=(!i.parentOffset&&s.index()<s.parent.childCount?i:s).pos,a=t.tr.insert(o,r.createAndFill());a.setSelection(_t.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},lW=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let r=n.before();if(Ol(t.doc,r))return e&&e(t.tr.split(r).scrollIntoView()),!0}let i=n.blockRange(),s=i&&Qp(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)};function Wve(t){return(e,n)=>{let{$from:i,$to:s}=e.selection;if(e.selection instanceof bt&&e.selection.node.isBlock)return!i.parentOffset||!Ol(e.doc,i.pos)?!1:(n&&n(e.tr.split(i.pos).scrollIntoView()),!0);if(!i.depth)return!1;let r=[],o,a,l=!1,c=!1;for(let m=i.depth;;m--)if(i.node(m).isBlock){l=i.end(m)==i.pos+(i.depth-m),c=i.start(m)==i.pos-(i.depth-m),a=hF(i.node(m-1).contentMatchAt(i.indexAfter(m-1))),r.unshift(l&&a?{type:a}:null),o=m;break}else{if(m==1)return!1;r.unshift(null)}let d=e.tr;(e.selection instanceof _t||e.selection instanceof Gr)&&d.deleteSelection();let f=d.mapping.map(i.pos),p=Ol(d.doc,f,r.length,r);if(p||(r[0]=a?{type:a}:null,p=Ol(d.doc,f,r.length,r)),d.split(f,r.length,r),!l&&c&&i.node(o).type!=a){let m=d.mapping.map(i.before(o)),y=d.doc.resolve(m);a&&i.node(o-1).canReplaceWith(y.index(),y.index()+1,a)&&d.setNodeMarkup(d.mapping.map(i.before(o)),a)}return n&&n(d.scrollIntoView()),!0}}const $ve=Wve(),qve=(t,e)=>{let{$from:n,to:i}=t.selection,s,r=n.sharedDepth(i);return r==0?!1:(s=n.before(r),e&&e(t.tr.setSelection(bt.create(t.doc,s))),!0)};function Kve(t,e,n){let i=e.nodeBefore,s=e.nodeAfter,r=e.index();return!i||!s||!i.type.compatibleContent(s.type)?!1:!i.content.size&&e.parent.canReplace(r-1,r)?(n&&n(t.tr.delete(e.pos-i.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(r,r+1)||!(s.isTextblock||vu(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function cW(t,e,n,i){let s=e.nodeBefore,r=e.nodeAfter,o,a,l=s.type.spec.isolating||r.type.spec.isolating;if(!l&&Kve(t,e,n))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(o=(a=s.contentMatchAt(s.childCount)).findWrapping(r.type))&&a.matchType(o[0]||r.type).validEnd){if(n){let m=e.pos+r.nodeSize,y=qe.empty;for(let w=o.length-1;w>=0;w--)y=qe.from(o[w].create(null,y));y=qe.from(s.copy(y));let C=t.tr.step(new Yi(e.pos-1,m,e.pos,m,new ct(y,1,0),o.length,!0)),x=C.doc.resolve(m+2*o.length);x.nodeAfter&&x.nodeAfter.type==s.type&&vu(C.doc,x.pos)&&C.join(x.pos),n(C.scrollIntoView())}return!0}let d=r.type.spec.isolating||i>0&&l?null:Vt.findFrom(e,1),f=d&&d.$from.blockRange(d.$to),p=f&&Qp(f);if(p!=null&&p>=e.depth)return n&&n(t.tr.lift(f,p).scrollIntoView()),!0;if(c&&Dp(r,"start",!0)&&Dp(s,"end")){let m=s,y=[];for(;y.push(m),!m.isTextblock;)m=m.lastChild;let C=r,x=1;for(;!C.isTextblock;C=C.firstChild)x++;if(m.canReplace(m.childCount,m.childCount,C.content)){if(n){let w=qe.empty;for(let S=y.length-1;S>=0;S--)w=qe.from(y[S].copy(w));let M=t.tr.step(new Yi(e.pos-y.length,e.pos+r.nodeSize,e.pos+x,e.pos+r.nodeSize-x,new ct(w,y.length,0),0,!0));n(M.scrollIntoView())}return!0}}return!1}function uW(t){return function(e,n){let i=e.selection,s=t<0?i.$from:i.$to,r=s.depth;for(;s.node(r).isInline;){if(!r)return!1;r--}return s.node(r).isTextblock?(n&&n(e.tr.setSelection(_t.create(e.doc,t<0?s.start(r):s.end(r)))),!0):!1}}const Yve=uW(-1),Xve=uW(1);function Zve(t,e=null){return function(n,i){let{$from:s,$to:r}=n.selection,o=s.blockRange(r),a=o&&J_(o,t,e);return a?(i&&i(n.tr.wrap(o,a).scrollIntoView()),!0):!1}}function O4(t,e=null){return function(n,i){let s=!1;for(let r=0;r<n.selection.ranges.length&&!s;r++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[r];n.doc.nodesBetween(o,a,(l,c)=>{if(s)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)s=!0;else{let d=n.doc.resolve(c),f=d.index();s=d.parent.canReplaceWith(f,f+1,t)}})}if(!s)return!1;if(i){let r=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[o];r.setBlockType(a,l,t,e)}i(r.scrollIntoView())}return!0}}function fF(...t){return function(e,n,i){for(let s=0;s<t.length;s++)if(t[s](e,n,i))return!0;return!1}}fF(cF,eW,nW);fF(cF,sW,rW);fF(oW,aW,lW,$ve);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Jve(t,e=null){return function(n,i){let{$from:s,$to:r}=n.selection,o=s.blockRange(r);if(!o)return!1;let a=i?n.tr:null;return Qve(a,o,t,e)?(i&&i(a.scrollIntoView()),!0):!1}}function Qve(t,e,n,i=null){let s=!1,r=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=o.resolve(e.start-2);r=new bb(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new bb(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let a=J_(r,n,i,e);return a?(t&&eye(t,e,a,s,n),!0):!1}function eye(t,e,n,i,s){let r=qe.empty;for(let d=n.length-1;d>=0;d--)r=qe.from(n[d].type.create(n[d].attrs,r));t.step(new Yi(e.start-(i?2:0),e.end,e.start,e.end,new ct(r,0,0),n.length,!0));let o=0;for(let d=0;d<n.length;d++)n[d].type==s&&(o=d+1);let a=n.length-o,l=e.start+n.length-(i?2:0),c=e.parent;for(let d=e.startIndex,f=e.endIndex,p=!0;d<f;d++,p=!1)!p&&Ol(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=c.child(d).nodeSize;return t}function tye(t){return function(e,n){let{$from:i,$to:s}=e.selection,r=i.blockRange(s,o=>o.childCount>0&&o.firstChild.type==t);return r?n?i.node(r.depth-1).type==t?nye(e,n,t,r):iye(e,n,r):!0:!1}}function nye(t,e,n,i){let s=t.tr,r=i.end,o=i.$to.end(i.depth);r<o&&(s.step(new Yi(r-1,o,r,o,new ct(qe.from(n.create(null,i.parent.copy())),1,0),1,!0)),i=new bb(s.doc.resolve(i.$from.pos),s.doc.resolve(o),i.depth));const a=Qp(i);if(a==null)return!1;s.lift(i,a);let l=s.doc.resolve(s.mapping.map(r,-1)-1);return vu(s.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&s.join(l.pos),e(s.scrollIntoView()),!0}function iye(t,e,n){let i=t.tr,s=n.parent;for(let m=n.end,y=n.endIndex-1,C=n.startIndex;y>C;y--)m-=s.child(y).nodeSize,i.delete(m-1,m+1);let r=i.doc.resolve(n.start),o=r.nodeAfter;if(i.mapping.map(n.end)!=n.start+r.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==s.childCount,c=r.node(-1),d=r.index(-1);if(!c.canReplace(d+(a?0:1),d+1,o.content.append(l?qe.empty:qe.from(s))))return!1;let f=r.pos,p=f+o.nodeSize;return i.step(new Yi(f-(a?1:0),p+(l?1:0),f+1,p-1,new ct((a?qe.empty:qe.from(s.copy(qe.empty))).append(l?qe.empty:qe.from(s.copy(qe.empty))),a?0:1,l?0:1),a?0:1)),e(i.scrollIntoView()),!0}function sye(t){return function(e,n){let{$from:i,$to:s}=e.selection,r=i.blockRange(s,c=>c.childCount>0&&c.firstChild.type==t);if(!r)return!1;let o=r.startIndex;if(o==0)return!1;let a=r.parent,l=a.child(o-1);if(l.type!=t)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,d=qe.from(c?t.create():null),f=new ct(qe.from(t.create(null,qe.from(a.type.create(null,d)))),c?3:1,0),p=r.start,m=r.end;n(e.tr.step(new Yi(p-(c?3:1),m,p,m,f,1,!0)).scrollIntoView())}return!0}}function y1(t){const{state:e,transaction:n}=t;let{selection:i}=n,{doc:s}=n,{storedMarks:r}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return r},get selection(){return i},get doc(){return s},get tr(){return i=n.selection,s=n.doc,r=n.storedMarks,n}}}class x1{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:i}=this,{view:s}=n,{tr:r}=i,o=this.buildProps(r);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...d)=>{const f=l(...d)(o);return!r.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(r),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:i,editor:s,state:r}=this,{view:o}=s,a=[],l=!!e,c=e||r.tr,d=()=>(!l&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(c),a.every(p=>p===!0)),f={...Object.fromEntries(Object.entries(i).map(([p,m])=>[p,(...C)=>{const x=this.buildProps(c,n),w=m(...C)(x);return a.push(w),f}])),run:d};return f}createCan(e){const{rawCommands:n,state:i}=this,s=!1,r=e||i.tr,o=this.buildProps(r,s);return{...Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...d)=>c(...d)({...o,dispatch:void 0})])),chain:()=>this.createChain(r,s)}}buildProps(e,n=!0){const{rawCommands:i,editor:s,state:r}=this,{view:o}=s,a={tr:e,editor:s,view:o,state:y1({state:r,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(i).map(([l,c])=>[l,(...d)=>c(...d)(a)]))}};return a}}class rye{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const i=this.callbacks[e];return i&&i.forEach(s=>s.apply(this,n)),this}off(e,n){const i=this.callbacks[e];return i&&(n?this.callbacks[e]=i.filter(s=>s!==n):delete this.callbacks[e]),this}once(e,n){const i=(...s)=>{this.off(e,i),n.apply(this,s)};return this.on(e,i)}removeAllListeners(){this.callbacks={}}}function pt(t,e,n){return t.config[e]===void 0&&t.parent?pt(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?pt(t.parent,e,n):null}):t.config[e]}function C1(t){const e=t.filter(s=>s.type==="extension"),n=t.filter(s=>s.type==="node"),i=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:i}}function dW(t){const e=[],{nodeExtensions:n,markExtensions:i}=C1(t),s=[...n,...i],r={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:s},l=pt(o,"addGlobalAttributes",a);if(!l)return;l().forEach(d=>{d.types.forEach(f=>{Object.entries(d.attributes).forEach(([p,m])=>{e.push({type:f,name:p,attribute:{...r,...m}})})})})}),s.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=pt(o,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([d,f])=>{const p={...r,...f};typeof(p==null?void 0:p.default)=="function"&&(p.default=p.default()),p!=null&&p.isRequired&&(p==null?void 0:p.default)===void 0&&delete p.default,e.push({type:o.name,name:d,attribute:p})})}),e}function Zi(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function Ds(...t){return t.filter(e=>!!e).reduce((e,n)=>{const i={...e};return Object.entries(n).forEach(([s,r])=>{if(!i[s]){i[s]=r;return}if(s==="class"){const a=r?String(r).split(" "):[],l=i[s]?i[s].split(" "):[],c=a.filter(d=>!l.includes(d));i[s]=[...l,...c].join(" ")}else if(s==="style"){const a=r?r.split(";").map(d=>d.trim()).filter(Boolean):[],l=i[s]?i[s].split(";").map(d=>d.trim()).filter(Boolean):[],c=new Map;l.forEach(d=>{const[f,p]=d.split(":").map(m=>m.trim());c.set(f,p)}),a.forEach(d=>{const[f,p]=d.split(":").map(m=>m.trim());c.set(f,p)}),i[s]=Array.from(c.entries()).map(([d,f])=>`${d}: ${f}`).join("; ")}else i[s]=r}),i},{})}function NP(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,i)=>Ds(n,i),{})}function hW(t){return typeof t=="function"}function Wt(t,e=void 0,...n){return hW(t)?e?t.bind(e)(...n):t(...n):t}function oye(t={}){return Object.keys(t).length===0&&t.constructor===Object}function aye(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function L4(t,e){return"style"in t?t:{...t,getAttrs:n=>{const i=t.getAttrs?t.getAttrs(n):t.attrs;if(i===!1)return!1;const s=e.reduce((r,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(n):aye(n.getAttribute(o.name));return a==null?r:{...r,[o.name]:a}},{});return{...i,...s}}}}function k4(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&oye(n)?!1:n!=null))}function lye(t,e){var n;const i=dW(t),{nodeExtensions:s,markExtensions:r}=C1(t),o=(n=s.find(c=>pt(c,"topNode")))===null||n===void 0?void 0:n.name,a=Object.fromEntries(s.map(c=>{const d=i.filter(w=>w.type===c.name),f={name:c.name,options:c.options,storage:c.storage,editor:e},p=t.reduce((w,M)=>{const S=pt(M,"extendNodeSchema",f);return{...w,...S?S(c):{}}},{}),m=k4({...p,content:Wt(pt(c,"content",f)),marks:Wt(pt(c,"marks",f)),group:Wt(pt(c,"group",f)),inline:Wt(pt(c,"inline",f)),atom:Wt(pt(c,"atom",f)),selectable:Wt(pt(c,"selectable",f)),draggable:Wt(pt(c,"draggable",f)),code:Wt(pt(c,"code",f)),whitespace:Wt(pt(c,"whitespace",f)),linebreakReplacement:Wt(pt(c,"linebreakReplacement",f)),defining:Wt(pt(c,"defining",f)),isolating:Wt(pt(c,"isolating",f)),attrs:Object.fromEntries(d.map(w=>{var M;return[w.name,{default:(M=w==null?void 0:w.attribute)===null||M===void 0?void 0:M.default}]}))}),y=Wt(pt(c,"parseHTML",f));y&&(m.parseDOM=y.map(w=>L4(w,d)));const C=pt(c,"renderHTML",f);C&&(m.toDOM=w=>C({node:w,HTMLAttributes:NP(w,d)}));const x=pt(c,"renderText",f);return x&&(m.toText=x),[c.name,m]})),l=Object.fromEntries(r.map(c=>{const d=i.filter(x=>x.type===c.name),f={name:c.name,options:c.options,storage:c.storage,editor:e},p=t.reduce((x,w)=>{const M=pt(w,"extendMarkSchema",f);return{...x,...M?M(c):{}}},{}),m=k4({...p,inclusive:Wt(pt(c,"inclusive",f)),excludes:Wt(pt(c,"excludes",f)),group:Wt(pt(c,"group",f)),spanning:Wt(pt(c,"spanning",f)),code:Wt(pt(c,"code",f)),attrs:Object.fromEntries(d.map(x=>{var w;return[x.name,{default:(w=x==null?void 0:x.attribute)===null||w===void 0?void 0:w.default}]}))}),y=Wt(pt(c,"parseHTML",f));y&&(m.parseDOM=y.map(x=>L4(x,d)));const C=pt(c,"renderHTML",f);return C&&(m.toDOM=x=>C({mark:x,HTMLAttributes:NP(x,d)})),[c.name,m]}));return new t8({topNode:o,nodes:a,marks:l})}function zR(t,e){return e.nodes[t]||e.marks[t]||null}function B4(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function pF(t,e){const n=Mh.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(n),s.innerHTML}const cye=(t,e=500)=>{let n="";const i=t.parentOffset;return t.parent.nodesBetween(Math.max(0,i-e),i,(s,r,o,a)=>{var l,c;const d=((c=(l=s.type.spec).toText)===null||c===void 0?void 0:c.call(l,{node:s,pos:r,parent:o,index:a}))||s.textContent||"%leaf%";n+=s.isAtom&&!s.isText?d:d.slice(0,Math.max(0,i-r))}),n};function mF(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class w1{constructor(e){this.find=e.find,this.handler=e.handler}}const uye=(t,e)=>{if(mF(e))return e.exec(t);const n=e(t);if(!n)return null;const i=[n.text];return i.index=n.index,i.input=t,i.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),i.push(n.replaceWith)),i};function Yx(t){var e;const{editor:n,from:i,to:s,text:r,rules:o,plugin:a}=t,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(i);if(c.parent.type.spec.code||!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(p=>p.type.spec.code))return!1;let d=!1;const f=cye(c)+r;return o.forEach(p=>{if(d)return;const m=uye(f,p.find);if(!m)return;const y=l.state.tr,C=y1({state:l.state,transaction:y}),x={from:i-(m[0].length-r.length),to:s},{commands:w,chain:M,can:S}=new x1({editor:n,state:C});p.handler({state:C,range:x,match:m,commands:w,chain:M,can:S})===null||!y.steps.length||(y.setMeta(a,{transform:y,from:i,to:s,text:r}),l.dispatch(y),d=!0)}),d}function dye(t){const{editor:e,rules:n}=t,i=new Mr({state:{init(){return null},apply(s,r,o){const a=s.getMeta(i);if(a)return a;const l=s.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:d}=l;typeof d=="string"?d=d:d=pF(qe.from(d),o.schema);const{from:f}=l,p=f+d.length;Yx({editor:e,from:f,to:p,text:d,rules:n,plugin:i})}),s.selectionSet||s.docChanged?null:r}},props:{handleTextInput(s,r,o,a){return Yx({editor:e,from:r,to:o,text:a,rules:n,plugin:i})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:r}=s.state.selection;r&&Yx({editor:e,from:r.pos,to:r.pos,text:"",rules:n,plugin:i})}),!1)},handleKeyDown(s,r){if(r.key!=="Enter")return!1;const{$cursor:o}=s.state.selection;return o?Yx({editor:e,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:i}):!1}},isInputRules:!0});return i}function hye(t){return Object.prototype.toString.call(t).slice(8,-1)}function Xx(t){return hye(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function b1(t,e){const n={...t};return Xx(t)&&Xx(e)&&Object.keys(e).forEach(i=>{Xx(e[i])&&Xx(t[i])?n[i]=b1(t[i],e[i]):n[i]=e[i]}),n}class jl{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Wt(pt(this,"addOptions",{name:this.name}))),this.storage=Wt(pt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new jl(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>b1(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new jl(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Wt(pt(n,"addOptions",{name:n.name})),n.storage=Wt(pt(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:i}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const o=s.marks();if(!!!o.find(c=>(c==null?void 0:c.type.name)===n.name))return!1;const l=o.find(c=>(c==null?void 0:c.type.name)===n.name);return l&&i.removeStoredMark(l),i.insertText(" ",s.pos),e.view.dispatch(i),!0}return!1}}function fye(t){return typeof t=="number"}class pye{constructor(e){this.find=e.find,this.handler=e.handler}}const mye=(t,e,n)=>{if(mF(e))return[...t.matchAll(e)];const i=e(t,n);return i?i.map(s=>{const r=[s.text];return r.index=s.index,r.input=t,r.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),r.push(s.replaceWith)),r}):[]};function gye(t){const{editor:e,state:n,from:i,to:s,rule:r,pasteEvent:o,dropEvent:a}=t,{commands:l,chain:c,can:d}=new x1({editor:e,state:n}),f=[];return n.doc.nodesBetween(i,s,(m,y)=>{if(!m.isTextblock||m.type.spec.code)return;const C=Math.max(i,y),x=Math.min(s,y+m.content.size),w=m.textBetween(C-y,x-y,void 0,"￼");mye(w,r.find,o).forEach(S=>{if(S.index===void 0)return;const R=C+S.index+1,P=R+S[0].length,F={from:n.tr.mapping.map(R),to:n.tr.mapping.map(P)},N=r.handler({state:n,range:F,match:S,commands:l,chain:c,can:d,pasteEvent:o,dropEvent:a});f.push(N)})}),f.every(m=>m!==null)}let Zx=null;const vye=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function yye(t){const{editor:e,rules:n}=t;let i=null,s=!1,r=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:d,from:f,to:p,rule:m,pasteEvt:y})=>{const C=d.tr,x=y1({state:d,transaction:C});if(!(!gye({editor:e,state:x,from:Math.max(f-1,0),to:p.b-1,rule:m,pasteEvent:y,dropEvent:a})||!C.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,C}};return n.map(d=>new Mr({view(f){const p=y=>{var C;i=!((C=f.dom.parentElement)===null||C===void 0)&&C.contains(y.target)?f.dom.parentElement:null,i&&(Zx=e)},m=()=>{Zx&&(Zx=null)};return window.addEventListener("dragstart",p),window.addEventListener("dragend",m),{destroy(){window.removeEventListener("dragstart",p),window.removeEventListener("dragend",m)}}},props:{handleDOMEvents:{drop:(f,p)=>{if(r=i===f.dom.parentElement,a=p,!r){const m=Zx;m&&setTimeout(()=>{const y=m.state.selection;y&&m.commands.deleteRange({from:y.from,to:y.to})},10)}return!1},paste:(f,p)=>{var m;const y=(m=p.clipboardData)===null||m===void 0?void 0:m.getData("text/html");return o=p,s=!!(y!=null&&y.includes("data-pm-slice")),!1}}},appendTransaction:(f,p,m)=>{const y=f[0],C=y.getMeta("uiEvent")==="paste"&&!s,x=y.getMeta("uiEvent")==="drop"&&!r,w=y.getMeta("applyPasteRules"),M=!!w;if(!C&&!x&&!M)return;if(M){let{text:P}=w;typeof P=="string"?P=P:P=pF(qe.from(P),m.schema);const{from:F}=w,N=F+P.length,I=vye(P);return l({rule:d,state:m,from:F,to:{b:N},pasteEvt:I})}const S=p.doc.content.findDiffStart(m.doc.content),R=p.doc.content.findDiffEnd(m.doc.content);if(!(!fye(S)||!R||S===R.b))return l({rule:d,state:m,from:S,to:R,pasteEvt:o})}}))}function xye(t){const e=t.filter((n,i)=>t.indexOf(n)!==i);return Array.from(new Set(e))}class tp{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=tp.resolve(e),this.schema=lye(this.extensions,n),this.setupExtensions()}static resolve(e){const n=tp.sort(tp.flatten(e)),i=xye(n.map(s=>s.name));return i.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${i.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const i={name:n.name,options:n.options,storage:n.storage},s=pt(n,"addExtensions",i);return s?[n,...this.flatten(s())]:n}).flat(10)}static sort(e){return e.sort((i,s)=>{const r=pt(i,"priority")||100,o=pt(s,"priority")||100;return r>o?-1:r<o?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const i={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:zR(n.name,this.schema)},s=pt(n,"addCommands",i);return s?{...e,...s()}:e},{})}get plugins(){const{editor:e}=this,n=tp.sort([...this.extensions].reverse()),i=[],s=[],r=n.map(o=>{const a={name:o.name,options:o.options,storage:o.storage,editor:e,type:zR(o.name,this.schema)},l=[],c=pt(o,"addKeyboardShortcuts",a);let d={};if(o.type==="mark"&&pt(o,"exitable",a)&&(d.ArrowRight=()=>jl.handleExit({editor:e,mark:o})),c){const C=Object.fromEntries(Object.entries(c()).map(([x,w])=>[x,()=>w({editor:e})]));d={...d,...C}}const f=Bve(d);l.push(f);const p=pt(o,"addInputRules",a);B4(o,e.options.enableInputRules)&&p&&i.push(...p());const m=pt(o,"addPasteRules",a);B4(o,e.options.enablePasteRules)&&m&&s.push(...m());const y=pt(o,"addProseMirrorPlugins",a);if(y){const C=y();l.push(...C)}return l}).flat();return[dye({editor:e,rules:i}),...yye({editor:e,rules:s}),...r]}get attributes(){return dW(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=C1(this.extensions);return Object.fromEntries(n.filter(i=>!!pt(i,"addNodeView")).map(i=>{const s=this.attributes.filter(l=>l.type===i.name),r={name:i.name,options:i.options,storage:i.storage,editor:e,type:Zi(i.name,this.schema)},o=pt(i,"addNodeView",r);if(!o)return[];const a=(l,c,d,f,p)=>{const m=NP(l,s);return o()({node:l,view:c,getPos:d,decorations:f,innerDecorations:p,editor:e,extension:i,HTMLAttributes:m})};return[i.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const i={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:zR(e.name,this.schema)};e.type==="mark"&&(!((n=Wt(pt(e,"keepOnSplit",i)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const s=pt(e,"onBeforeCreate",i),r=pt(e,"onCreate",i),o=pt(e,"onUpdate",i),a=pt(e,"onSelectionUpdate",i),l=pt(e,"onTransaction",i),c=pt(e,"onFocus",i),d=pt(e,"onBlur",i),f=pt(e,"onDestroy",i);s&&this.editor.on("beforeCreate",s),r&&this.editor.on("create",r),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),d&&this.editor.on("blur",d),f&&this.editor.on("destroy",f)})}}class ir{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Wt(pt(this,"addOptions",{name:this.name}))),this.storage=Wt(pt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new ir(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>b1(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new ir({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Wt(pt(n,"addOptions",{name:n.name})),n.storage=Wt(pt(n,"addStorage",{name:n.name,options:n.options})),n}}function fW(t,e,n){const{from:i,to:s}=e,{blockSeparator:r=`

`,textSerializers:o={}}=n||{};let a="";return t.nodesBetween(i,s,(l,c,d,f)=>{var p;l.isBlock&&c>i&&(a+=r);const m=o==null?void 0:o[l.type.name];if(m)return d&&(a+=m({node:l,pos:c,parent:d,index:f,range:e})),!1;l.isText&&(a+=(p=l==null?void 0:l.text)===null||p===void 0?void 0:p.slice(Math.max(i,c)-c,s-c))}),a}function pW(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const Cye=ir.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Mr({key:new Ua("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:i,selection:s}=e,{ranges:r}=s,o=Math.min(...r.map(d=>d.$from.pos)),a=Math.max(...r.map(d=>d.$to.pos)),l=pW(n);return fW(i,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),wye=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),bye=(t=!1)=>({commands:e})=>e.setContent("",t),Sye=()=>({state:t,tr:e,dispatch:n})=>{const{selection:i}=e,{ranges:s}=i;return n&&s.forEach(({$from:r,$to:o})=>{t.doc.nodesBetween(r.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:d}=e,f=c.resolve(d.map(l)),p=c.resolve(d.map(l+a.nodeSize)),m=f.blockRange(p);if(!m)return;const y=Qp(m);if(a.type.isTextblock){const{defaultType:C}=f.parent.contentMatchAt(f.index());e.setNodeMarkup(m.start,C)}(y||y===0)&&e.lift(m,y)})}),!0},Eye=t=>e=>t(e),Mye=()=>({state:t,dispatch:e})=>aW(t,e),Tye=(t,e)=>({editor:n,tr:i})=>{const{state:s}=n,r=s.doc.slice(t.from,t.to);i.deleteRange(t.from,t.to);const o=i.mapping.map(e);return i.insert(o,r.content),i.setSelection(new _t(i.doc.resolve(o-1))),!0},Rye=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,i=n.$anchor.node();if(i.content.size>0)return!1;const s=t.selection.$anchor;for(let r=s.depth;r>0;r-=1)if(s.node(r).type===i.type){if(e){const a=s.before(r),l=s.after(r);t.delete(a,l).scrollIntoView()}return!0}return!1},Aye=t=>({tr:e,state:n,dispatch:i})=>{const s=Zi(t,n.schema),r=e.selection.$anchor;for(let o=r.depth;o>0;o-=1)if(r.node(o).type===s){if(i){const l=r.before(o),c=r.after(o);e.delete(l,c).scrollIntoView()}return!0}return!1},Pye=t=>({tr:e,dispatch:n})=>{const{from:i,to:s}=t;return n&&e.delete(i,s),!0},Dye=()=>({state:t,dispatch:e})=>cF(t,e),_ye=()=>({commands:t})=>t.keyboardShortcut("Enter"),Fye=()=>({state:t,dispatch:e})=>jve(t,e);function Db(t,e,n={strict:!0}){const i=Object.keys(e);return i.length?i.every(s=>n.strict?e[s]===t[s]:mF(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function mW(t,e,n={}){return t.find(i=>i.type===e&&Db(Object.fromEntries(Object.keys(n).map(s=>[s,i.attrs[s]])),n))}function H4(t,e,n={}){return!!mW(t,e,n)}function gF(t,e,n){var i;if(!t||!e)return;let s=t.parent.childAfter(t.parentOffset);if((!s.node||!s.node.marks.some(d=>d.type===e))&&(s=t.parent.childBefore(t.parentOffset)),!s.node||!s.node.marks.some(d=>d.type===e)||(n=n||((i=s.node.marks[0])===null||i===void 0?void 0:i.attrs),!mW([...s.node.marks],e,n)))return;let o=s.index,a=t.start()+s.offset,l=o+1,c=a+s.node.nodeSize;for(;o>0&&H4([...t.parent.child(o-1).marks],e,n);)o-=1,a-=t.parent.child(o).nodeSize;for(;l<t.parent.childCount&&H4([...t.parent.child(l).marks],e,n);)c+=t.parent.child(l).nodeSize,l+=1;return{from:a,to:c}}function xu(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const Nye=(t,e={})=>({tr:n,state:i,dispatch:s})=>{const r=xu(t,i.schema),{doc:o,selection:a}=n,{$from:l,from:c,to:d}=a;if(s){const f=gF(l,r,e);if(f&&f.from<=c&&f.to>=d){const p=_t.create(o,f.from,f.to);n.setSelection(p)}}return!0},Iye=t=>e=>{const n=typeof t=="function"?t(e):t;for(let i=0;i<n.length;i+=1)if(n[i](e))return!0;return!1};function gW(t){return t instanceof _t}function Id(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function vW(t,e=null){if(!e)return null;const n=Vt.atStart(t),i=Vt.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return i;const s=n.from,r=i.to;return e==="all"?_t.create(t,Id(0,s,r),Id(t.content.size,s,r)):_t.create(t,Id(e,s,r),Id(e,s,r))}function Oye(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function vF(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const Lye=(t=null,e={})=>({editor:n,view:i,tr:s,dispatch:r})=>{e={scrollIntoView:!0,...e};const o=()=>{(vF()||Oye())&&i.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(i.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(i.hasFocus()&&t===null||t===!1)return!0;if(r&&t===null&&!gW(n.state.selection))return o(),!0;const a=vW(s.doc,t)||n.state.selection,l=n.state.selection.eq(a);return r&&(l||s.setSelection(a),l&&s.storedMarks&&s.setStoredMarks(s.storedMarks),o()),!0},kye=(t,e)=>n=>t.every((i,s)=>e(i,{...n,index:s})),Bye=(t,e)=>({tr:n,commands:i})=>i.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),yW=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const i=e[n];i.nodeType===3&&i.nodeValue&&/^(\n\s\s|\n)$/.test(i.nodeValue)?t.removeChild(i):i.nodeType===1&&yW(i)}return t};function Jx(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return yW(n)}function _b(t,e,n){if(t instanceof Zc||t instanceof qe)return t;n={slice:!0,parseOptions:{},...n};const i=typeof t=="object"&&t!==null,s=typeof t=="string";if(i)try{if(Array.isArray(t)&&t.length>0)return qe.fromArray(t.map(a=>e.nodeFromJSON(a)));const o=e.nodeFromJSON(t);return n.errorOnInvalidContent&&o.check(),o}catch(r){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:r});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",r),_b("",e,n)}if(s){if(n.errorOnInvalidContent){let o=!1,a="";const l=new t8({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(o=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?mv.fromSchema(l).parseSlice(Jx(t),n.parseOptions):mv.fromSchema(l).parse(Jx(t),n.parseOptions),n.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const r=mv.fromSchema(e);return n.slice?r.parseSlice(Jx(t),n.parseOptions).content:r.parse(Jx(t),n.parseOptions)}return _b("",e,n)}function Hye(t,e,n){const i=t.steps.length-1;if(i<e)return;const s=t.steps[i];if(!(s instanceof Ki||s instanceof Yi))return;const r=t.mapping.maps[i];let o=0;r.forEach((a,l,c,d)=>{o===0&&(o=d)}),t.setSelection(Vt.near(t.doc.resolve(o),n))}const Vye=t=>!("type"in t),zye=(t,e,n)=>({tr:i,dispatch:s,editor:r})=>{var o;if(s){n={parseOptions:r.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;try{a=_b(e,r.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(o=n.errorOnInvalidContent)!==null&&o!==void 0?o:r.options.enableContentCheck})}catch(y){return r.emit("contentError",{editor:r,error:y,disableCollaboration:()=>{r.storage.collaboration&&(r.storage.collaboration.isDisabled=!0)}}),!1}let{from:l,to:c}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},d=!0,f=!0;if((Vye(a)?a:[a]).forEach(y=>{y.check(),d=d?y.isText&&y.marks.length===0:!1,f=f?y.isBlock:!1}),l===c&&f){const{parent:y}=i.doc.resolve(l);y.isTextblock&&!y.type.spec.code&&!y.childCount&&(l-=1,c+=1)}let m;if(d){if(Array.isArray(e))m=e.map(y=>y.text||"").join("");else if(e instanceof qe){let y="";e.forEach(C=>{C.text&&(y+=C.text)}),m=y}else typeof e=="object"&&e&&e.text?m=e.text:m=e;i.insertText(m,l,c)}else m=a,i.replaceWith(l,c,m);n.updateSelection&&Hye(i,i.steps.length-1,-1),n.applyInputRules&&i.setMeta("applyInputRules",{from:l,text:m}),n.applyPasteRules&&i.setMeta("applyPasteRules",{from:l,text:m})}return!0},Gye=()=>({state:t,dispatch:e})=>zve(t,e),Uye=()=>({state:t,dispatch:e})=>Gve(t,e),jye=()=>({state:t,dispatch:e})=>eW(t,e),Wye=()=>({state:t,dispatch:e})=>sW(t,e),$ye=()=>({state:t,dispatch:e,tr:n})=>{try{const i=h1(t.doc,t.selection.$from.pos,-1);return i==null?!1:(n.join(i,2),e&&e(n),!0)}catch{return!1}},qye=()=>({state:t,dispatch:e,tr:n})=>{try{const i=h1(t.doc,t.selection.$from.pos,1);return i==null?!1:(n.join(i,2),e&&e(n),!0)}catch{return!1}},Kye=()=>({state:t,dispatch:e})=>Hve(t,e),Yye=()=>({state:t,dispatch:e})=>Vve(t,e);function xW(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Xye(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let i,s,r,o;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))i=!0;else if(/^(c|ctrl|control)$/i.test(l))s=!0;else if(/^s(hift)?$/i.test(l))r=!0;else if(/^mod$/i.test(l))vF()||xW()?o=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return i&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),r&&(n=`Shift-${n}`),n}const Zye=t=>({editor:e,view:n,tr:i,dispatch:s})=>{const r=Xye(t).split(/-(?!$)/),o=r.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:r.includes("Alt"),ctrlKey:r.includes("Ctrl"),metaKey:r.includes("Meta"),shiftKey:r.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,a))});return l==null||l.steps.forEach(c=>{const d=c.map(i.mapping);d&&s&&i.maybeStep(d)}),!0};function ny(t,e,n={}){const{from:i,to:s,empty:r}=t.selection,o=e?Zi(e,t.schema):null,a=[];t.doc.nodesBetween(i,s,(f,p)=>{if(f.isText)return;const m=Math.max(i,p),y=Math.min(s,p+f.nodeSize);a.push({node:f,from:m,to:y})});const l=s-i,c=a.filter(f=>o?o.name===f.node.type.name:!0).filter(f=>Db(f.node.attrs,n,{strict:!1}));return r?!!c.length:c.reduce((f,p)=>f+p.to-p.from,0)>=l}const Jye=(t,e={})=>({state:n,dispatch:i})=>{const s=Zi(t,n.schema);return ny(n,s,e)?Uve(n,i):!1},Qye=()=>({state:t,dispatch:e})=>lW(t,e),e0e=t=>({state:e,dispatch:n})=>{const i=Zi(t,e.schema);return tye(i)(e,n)},t0e=()=>({state:t,dispatch:e})=>oW(t,e);function S1(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function V4(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((i,s)=>(n.includes(s)||(i[s]=t[s]),i),{})}const n0e=(t,e)=>({tr:n,state:i,dispatch:s})=>{let r=null,o=null;const a=S1(typeof t=="string"?t:t.name,i.schema);return a?(a==="node"&&(r=Zi(t,i.schema)),a==="mark"&&(o=xu(t,i.schema)),s&&n.selection.ranges.forEach(l=>{i.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,d)=>{r&&r===c.type&&n.setNodeMarkup(d,void 0,V4(c.attrs,e)),o&&c.marks.length&&c.marks.forEach(f=>{o===f.type&&n.addMark(d,d+c.nodeSize,o.create(V4(f.attrs,e)))})})}),!0):!1},i0e=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),s0e=()=>({tr:t,dispatch:e})=>{if(e){const n=new Gr(t.doc);t.setSelection(n)}return!0},r0e=()=>({state:t,dispatch:e})=>nW(t,e),o0e=()=>({state:t,dispatch:e})=>rW(t,e),a0e=()=>({state:t,dispatch:e})=>qve(t,e),l0e=()=>({state:t,dispatch:e})=>Xve(t,e),c0e=()=>({state:t,dispatch:e})=>Yve(t,e);function IP(t,e,n={},i={}){return _b(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:i.errorOnInvalidContent})}const u0e=(t,e=!1,n={},i={})=>({editor:s,tr:r,dispatch:o,commands:a})=>{var l,c;const{doc:d}=r;if(n.preserveWhitespace!=="full"){const f=IP(t,s.schema,n,{errorOnInvalidContent:(l=i.errorOnInvalidContent)!==null&&l!==void 0?l:s.options.enableContentCheck});return o&&r.replaceWith(0,d.content.size,f).setMeta("preventUpdate",!e),!0}return o&&r.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:d.content.size},t,{parseOptions:n,errorOnInvalidContent:(c=i.errorOnInvalidContent)!==null&&c!==void 0?c:s.options.enableContentCheck})};function CW(t,e){const n=xu(e,t.schema),{from:i,to:s,empty:r}=t.selection,o=[];r?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(i,s,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function d0e(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function h0e(t,e){for(let n=t.depth;n>0;n-=1){const i=t.node(n);if(e(i))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:i}}}function yF(t){return e=>h0e(e.$from,t)}function f0e(t,e){const n={from:0,to:t.content.size};return fW(t,n,e)}function p0e(t,e){const n=Zi(e,t.schema),{from:i,to:s}=t.selection,r=[];t.doc.nodesBetween(i,s,a=>{r.push(a)});const o=r.reverse().find(a=>a.type.name===n.name);return o?{...o.attrs}:{}}function m0e(t,e){const n=S1(typeof e=="string"?e:e.name,t.schema);return n==="node"?p0e(t,e):n==="mark"?CW(t,e):{}}function wW(t,e,n){const i=[];return t===e?n.resolve(t).marks().forEach(s=>{const r=n.resolve(t),o=gF(r,s.type);o&&i.push({mark:s,...o})}):n.nodesBetween(t,e,(s,r)=>{!s||(s==null?void 0:s.nodeSize)===void 0||i.push(...s.marks.map(o=>({from:r,to:r+s.nodeSize,mark:o})))}),i}function Pw(t,e,n){return Object.fromEntries(Object.entries(n).filter(([i])=>{const s=t.find(r=>r.type===e&&r.name===i);return s?s.attribute.keepOnSplit:!1}))}function OP(t,e,n={}){const{empty:i,ranges:s}=t.selection,r=e?xu(e,t.schema):null;if(i)return!!(t.storedMarks||t.selection.$from.marks()).filter(f=>r?r.name===f.type.name:!0).find(f=>Db(f.attrs,n,{strict:!1}));let o=0;const a=[];if(s.forEach(({$from:f,$to:p})=>{const m=f.pos,y=p.pos;t.doc.nodesBetween(m,y,(C,x)=>{if(!C.isText&&!C.marks.length)return;const w=Math.max(m,x),M=Math.min(y,x+C.nodeSize),S=M-w;o+=S,a.push(...C.marks.map(R=>({mark:R,from:w,to:M})))})}),o===0)return!1;const l=a.filter(f=>r?r.name===f.mark.type.name:!0).filter(f=>Db(f.mark.attrs,n,{strict:!1})).reduce((f,p)=>f+p.to-p.from,0),c=a.filter(f=>r?f.mark.type!==r&&f.mark.type.excludes(r):!0).reduce((f,p)=>f+p.to-p.from,0);return(l>0?l+c:l)>=o}function g0e(t,e,n={}){if(!e)return ny(t,null,n)||OP(t,null,n);const i=S1(e,t.schema);return i==="node"?ny(t,e,n):i==="mark"?OP(t,e,n):!1}function z4(t,e){const{nodeExtensions:n}=C1(e),i=n.find(o=>o.name===t);if(!i)return!1;const s={name:i.name,options:i.options,storage:i.storage},r=Wt(pt(i,"group",s));return typeof r!="string"?!1:r.split(" ").includes("list")}function xF(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var i;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((i=t.text)!==null&&i!==void 0?i:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let s=!0;return t.content.forEach(r=>{s!==!1&&(xF(r,{ignoreWhitespace:n,checkChildren:e})||(s=!1))}),s}return!1}function v0e(t){return t instanceof bt}function y0e(t,e,n){var i;const{selection:s}=e;let r=null;if(gW(s)&&(r=s.$cursor),r){const a=(i=t.storedMarks)!==null&&i!==void 0?i:r.marks();return!!n.isInSet(a)||!a.some(l=>l.type.excludes(n))}const{ranges:o}=s;return o.some(({$from:a,$to:l})=>{let c=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,l.pos,(d,f,p)=>{if(c)return!1;if(d.isInline){const m=!p||p.type.allowsMarkType(n),y=!!n.isInSet(d.marks)||!d.marks.some(C=>C.type.excludes(n));c=m&&y}return!c}),c})}const x0e=(t,e={})=>({tr:n,state:i,dispatch:s})=>{const{selection:r}=n,{empty:o,ranges:a}=r,l=xu(t,i.schema);if(s)if(o){const c=CW(i,l);n.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const d=c.$from.pos,f=c.$to.pos;i.doc.nodesBetween(d,f,(p,m)=>{const y=Math.max(m,d),C=Math.min(m+p.nodeSize,f);p.marks.find(w=>w.type===l)?p.marks.forEach(w=>{l===w.type&&n.addMark(y,C,l.create({...w.attrs,...e}))}):n.addMark(y,C,l.create(e))})});return y0e(i,n,l)},C0e=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),w0e=(t,e={})=>({state:n,dispatch:i,chain:s})=>{const r=Zi(t,n.schema);let o;return n.selection.$anchor.sameParent(n.selection.$head)&&(o=n.selection.$anchor.parent.attrs),r.isTextblock?s().command(({commands:a})=>O4(r,{...o,...e})(n)?!0:a.clearNodes()).command(({state:a})=>O4(r,{...o,...e})(a,i)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},b0e=t=>({tr:e,dispatch:n})=>{if(n){const{doc:i}=e,s=Id(t,0,i.content.size),r=bt.create(i,s);e.setSelection(r)}return!0},S0e=t=>({tr:e,dispatch:n})=>{if(n){const{doc:i}=e,{from:s,to:r}=typeof t=="number"?{from:t,to:t}:t,o=_t.atStart(i).from,a=_t.atEnd(i).to,l=Id(s,o,a),c=Id(r,o,a),d=_t.create(i,l,c);e.setSelection(d)}return!0},E0e=t=>({state:e,dispatch:n})=>{const i=Zi(t,e.schema);return sye(i)(e,n)};function G4(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const i=n.filter(s=>e==null?void 0:e.includes(s.type.name));t.tr.ensureMarks(i)}}const M0e=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:i,editor:s})=>{const{selection:r,doc:o}=e,{$from:a,$to:l}=r,c=s.extensionManager.attributes,d=Pw(c,a.node().type.name,a.node().attrs);if(r instanceof bt&&r.node.isBlock)return!a.parentOffset||!Ol(o,a.pos)?!1:(i&&(t&&G4(n,s.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const f=l.parentOffset===l.parent.content.size,p=a.depth===0?void 0:d0e(a.node(-1).contentMatchAt(a.indexAfter(-1)));let m=f&&p?[{type:p,attrs:d}]:void 0,y=Ol(e.doc,e.mapping.map(a.pos),1,m);if(!m&&!y&&Ol(e.doc,e.mapping.map(a.pos),1,p?[{type:p}]:void 0)&&(y=!0,m=p?[{type:p,attrs:d}]:void 0),i){if(y&&(r instanceof _t&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,m),p&&!f&&!a.parentOffset&&a.parent.type!==p)){const C=e.mapping.map(a.before()),x=e.doc.resolve(C);a.node(-1).canReplaceWith(x.index(),x.index()+1,p)&&e.setNodeMarkup(e.mapping.map(a.before()),p)}t&&G4(n,s.extensionManager.splittableMarks),e.scrollIntoView()}return y},T0e=(t,e={})=>({tr:n,state:i,dispatch:s,editor:r})=>{var o;const a=Zi(t,i.schema),{$from:l,$to:c}=i.selection,d=i.selection.node;if(d&&d.isBlock||l.depth<2||!l.sameParent(c))return!1;const f=l.node(-1);if(f.type!==a)return!1;const p=r.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(s){let w=qe.empty;const M=l.index(-1)?1:l.index(-2)?2:3;for(let I=l.depth-M;I>=l.depth-3;I-=1)w=qe.from(l.node(I).copy(w));const S=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,R={...Pw(p,l.node().type.name,l.node().attrs),...e},P=((o=a.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(R))||void 0;w=w.append(qe.from(a.createAndFill(null,P)||void 0));const F=l.before(l.depth-(M-1));n.replace(F,l.after(-S),new ct(w,4-M,0));let N=-1;n.doc.nodesBetween(F,n.doc.content.size,(I,_)=>{if(N>-1)return!1;I.isTextblock&&I.content.size===0&&(N=_+1)}),N>-1&&n.setSelection(_t.near(n.doc.resolve(N))),n.scrollIntoView()}return!0}const m=c.pos===l.end()?f.contentMatchAt(0).defaultType:null,y={...Pw(p,f.type.name,f.attrs),...e},C={...Pw(p,l.node().type.name,l.node().attrs),...e};n.delete(l.pos,c.pos);const x=m?[{type:a,attrs:y},{type:m,attrs:C}]:[{type:a,attrs:y}];if(!Ol(n.doc,l.pos,2))return!1;if(s){const{selection:w,storedMarks:M}=i,{splittableMarks:S}=r.extensionManager,R=M||w.$to.parentOffset&&w.$from.marks();if(n.split(l.pos,2,x).scrollIntoView(),!R||!s)return!0;const P=R.filter(F=>S.includes(F.type.name));n.ensureMarks(P)}return!0},GR=(t,e)=>{const n=yF(o=>o.type===e)(t.selection);if(!n)return!0;const i=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(i===void 0)return!0;const s=t.doc.nodeAt(i);return n.node.type===(s==null?void 0:s.type)&&vu(t.doc,n.pos)&&t.join(n.pos),!0},UR=(t,e)=>{const n=yF(o=>o.type===e)(t.selection);if(!n)return!0;const i=t.doc.resolve(n.start).after(n.depth);if(i===void 0)return!0;const s=t.doc.nodeAt(i);return n.node.type===(s==null?void 0:s.type)&&vu(t.doc,i)&&t.join(i),!0},R0e=(t,e,n,i={})=>({editor:s,tr:r,state:o,dispatch:a,chain:l,commands:c,can:d})=>{const{extensions:f,splittableMarks:p}=s.extensionManager,m=Zi(t,o.schema),y=Zi(e,o.schema),{selection:C,storedMarks:x}=o,{$from:w,$to:M}=C,S=w.blockRange(M),R=x||C.$to.parentOffset&&C.$from.marks();if(!S)return!1;const P=yF(F=>z4(F.type.name,f))(C);if(S.depth>=1&&P&&S.depth-P.depth<=1){if(P.node.type===m)return c.liftListItem(y);if(z4(P.node.type.name,f)&&m.validContent(P.node.content)&&a)return l().command(()=>(r.setNodeMarkup(P.pos,m),!0)).command(()=>GR(r,m)).command(()=>UR(r,m)).run()}return!n||!R||!a?l().command(()=>d().wrapInList(m,i)?!0:c.clearNodes()).wrapInList(m,i).command(()=>GR(r,m)).command(()=>UR(r,m)).run():l().command(()=>{const F=d().wrapInList(m,i),N=R.filter(I=>p.includes(I.type.name));return r.ensureMarks(N),F?!0:c.clearNodes()}).wrapInList(m,i).command(()=>GR(r,m)).command(()=>UR(r,m)).run()},A0e=(t,e={},n={})=>({state:i,commands:s})=>{const{extendEmptyMarkRange:r=!1}=n,o=xu(t,i.schema);return OP(i,o,e)?s.unsetMark(o,{extendEmptyMarkRange:r}):s.setMark(o,e)},P0e=(t,e,n={})=>({state:i,commands:s})=>{const r=Zi(t,i.schema),o=Zi(e,i.schema),a=ny(i,r,n);let l;return i.selection.$anchor.sameParent(i.selection.$head)&&(l=i.selection.$anchor.parent.attrs),a?s.setNode(o,l):s.setNode(r,{...l,...n})},D0e=(t,e={})=>({state:n,commands:i})=>{const s=Zi(t,n.schema);return ny(n,s,e)?i.lift(s):i.wrapIn(s,e)},_0e=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let i=0;i<n.length;i+=1){const s=n[i];let r;if(s.spec.isInputRules&&(r=s.getState(t))){if(e){const o=t.tr,a=r.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(r.text){const l=o.doc.resolve(r.from).marks();o.replaceWith(r.from,r.to,t.schema.text(r.text,l))}else o.delete(r.from,r.to)}return!0}}return!1},F0e=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:i,ranges:s}=n;return i||e&&s.forEach(r=>{t.removeMark(r.$from.pos,r.$to.pos)}),!0},N0e=(t,e={})=>({tr:n,state:i,dispatch:s})=>{var r;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=n,l=xu(t,i.schema),{$from:c,empty:d,ranges:f}=a;if(!s)return!0;if(d&&o){let{from:p,to:m}=a;const y=(r=c.marks().find(x=>x.type===l))===null||r===void 0?void 0:r.attrs,C=gF(c,l,y);C&&(p=C.from,m=C.to),n.removeMark(p,m,l)}else f.forEach(p=>{n.removeMark(p.$from.pos,p.$to.pos,l)});return n.removeStoredMark(l),!0},I0e=(t,e={})=>({tr:n,state:i,dispatch:s})=>{let r=null,o=null;const a=S1(typeof t=="string"?t:t.name,i.schema);return a?(a==="node"&&(r=Zi(t,i.schema)),a==="mark"&&(o=xu(t,i.schema)),s&&n.selection.ranges.forEach(l=>{const c=l.$from.pos,d=l.$to.pos;let f,p,m,y;n.selection.empty?i.doc.nodesBetween(c,d,(C,x)=>{r&&r===C.type&&(m=Math.max(x,c),y=Math.min(x+C.nodeSize,d),f=x,p=C)}):i.doc.nodesBetween(c,d,(C,x)=>{x<c&&r&&r===C.type&&(m=Math.max(x,c),y=Math.min(x+C.nodeSize,d),f=x,p=C),x>=c&&x<=d&&(r&&r===C.type&&n.setNodeMarkup(x,void 0,{...C.attrs,...e}),o&&C.marks.length&&C.marks.forEach(w=>{if(o===w.type){const M=Math.max(x,c),S=Math.min(x+C.nodeSize,d);n.addMark(M,S,o.create({...w.attrs,...e}))}}))}),p&&(f!==void 0&&n.setNodeMarkup(f,void 0,{...p.attrs,...e}),o&&p.marks.length&&p.marks.forEach(C=>{o===C.type&&n.addMark(m,y,o.create({...C.attrs,...e}))}))}),!0):!1},O0e=(t,e={})=>({state:n,dispatch:i})=>{const s=Zi(t,n.schema);return Zve(s,e)(n,i)},L0e=(t,e={})=>({state:n,dispatch:i})=>{const s=Zi(t,n.schema);return Jve(s,e)(n,i)};var k0e=Object.freeze({__proto__:null,blur:wye,clearContent:bye,clearNodes:Sye,command:Eye,createParagraphNear:Mye,cut:Tye,deleteCurrentNode:Rye,deleteNode:Aye,deleteRange:Pye,deleteSelection:Dye,enter:_ye,exitCode:Fye,extendMarkRange:Nye,first:Iye,focus:Lye,forEach:kye,insertContent:Bye,insertContentAt:zye,joinBackward:jye,joinDown:Uye,joinForward:Wye,joinItemBackward:$ye,joinItemForward:qye,joinTextblockBackward:Kye,joinTextblockForward:Yye,joinUp:Gye,keyboardShortcut:Zye,lift:Jye,liftEmptyBlock:Qye,liftListItem:e0e,newlineInCode:t0e,resetAttributes:n0e,scrollIntoView:i0e,selectAll:s0e,selectNodeBackward:r0e,selectNodeForward:o0e,selectParentNode:a0e,selectTextblockEnd:l0e,selectTextblockStart:c0e,setContent:u0e,setMark:x0e,setMeta:C0e,setNode:w0e,setNodeSelection:b0e,setTextSelection:S0e,sinkListItem:E0e,splitBlock:M0e,splitListItem:T0e,toggleList:R0e,toggleMark:A0e,toggleNode:P0e,toggleWrap:D0e,undoInputRule:_0e,unsetAllMarks:F0e,unsetMark:N0e,updateAttributes:I0e,wrapIn:O0e,wrapInList:L0e});const B0e=ir.create({name:"commands",addCommands(){return{...k0e}}}),H0e=ir.create({name:"drop",addProseMirrorPlugins(){return[new Mr({key:new Ua("tiptapDrop"),props:{handleDrop:(t,e,n,i)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:i})}}})]}}),V0e=ir.create({name:"editable",addProseMirrorPlugins(){return[new Mr({key:new Ua("editable"),props:{editable:()=>this.editor.options.editable}})]}}),z0e=ir.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Mr({key:new Ua("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const i=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(i),!1},blur:(e,n)=>{t.isFocused=!1;const i=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(i),!1}}}})]}}),G0e=ir.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:d,$anchor:f}=l,{pos:p,parent:m}=f,y=f.parent.isTextblock&&p>0?a.doc.resolve(p-1):f,C=y.parent.type.spec.isolating,x=f.pos-f.parentOffset,w=C&&y.parent.childCount===1?x===f.pos:Vt.atStart(c).from===p;return!d||!m.type.isTextblock||m.textContent.length||!w||w&&f.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),i={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...i},r={...i,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return vF()||xW()?r:s},addProseMirrorPlugins(){return[new Mr({key:new Ua("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(C=>C.getMeta("composition")))return;const i=t.some(C=>C.docChanged)&&!e.doc.eq(n.doc),s=t.some(C=>C.getMeta("preventClearDocument"));if(!i||s)return;const{empty:r,from:o,to:a}=e.selection,l=Vt.atStart(e.doc).from,c=Vt.atEnd(e.doc).to;if(r||!(o===l&&a===c)||!xF(n.doc))return;const p=n.tr,m=y1({state:n,transaction:p}),{commands:y}=new x1({editor:this.editor,state:m});if(y.clearNodes(),!!p.steps.length)return p}})]}}),U0e=ir.create({name:"paste",addProseMirrorPlugins(){return[new Mr({key:new Ua("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),j0e=ir.create({name:"tabindex",addProseMirrorPlugins(){return[new Mr({key:new Ua("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class bd{get name(){return this.node.type.name}constructor(e,n,i=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=i,this.resolvedPos=e,this.editor=n,this.currentNode=s}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,i=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,i=this.to-1}this.editor.commands.insertContentAt({from:n,to:i},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new bd(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new bd(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new bd(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,i)=>{const s=n.isBlock&&!n.isTextblock,r=n.isAtom&&!n.isText,o=this.pos+i+(r?0:1),a=this.resolvedPos.doc.resolve(o);if(!s&&a.depth<=this.depth)return;const l=new bd(a,this.editor,s,s?n:null);s&&(l.actualDepth=this.depth+1),e.push(new bd(a,this.editor,s,s?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let i=null,s=this.parent;for(;s&&!i;){if(s.node.type.name===e)if(Object.keys(n).length>0){const r=s.node.attrs,o=Object.keys(n);for(let a=0;a<o.length;a+=1){const l=o[a];if(r[l]!==n[l])break}}else i=s;s=s.parent}return i}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},i=!1){let s=[];if(!this.children||this.children.length===0)return s;const r=Object.keys(n);return this.children.forEach(o=>{i&&s.length>0||(o.node.type.name===e&&r.every(l=>n[l]===o.node.attrs[l])&&s.push(o),!(i&&s.length>0)&&(s=s.concat(o.querySelectorAll(e,n,i))))}),s}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}}const W0e=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function $0e(t,e,n){const i=document.querySelector("style[data-tiptap-style]");if(i!==null)return i;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}class q0e extends rye{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:i,moved:s})=>this.options.onDrop(n,i,s)),this.on("paste",({event:n,slice:i})=>this.options.onPaste(n,i)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=$0e(W0e,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const i=hW(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],s=this.state.reconfigure({plugins:i});return this.view.updateState(s),s}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let i=n;if([].concat(e).forEach(r=>{const o=typeof r=="string"?`${r}$`:r.key;i=n.filter(a=>!a.key.startsWith(o))}),n.length===i.length)return;const s=this.state.reconfigure({plugins:i});return this.view.updateState(s),s}createExtensionManager(){var e,n;const s=[...this.options.enableCoreExtensions?[V0e,Cye.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),B0e,z0e,G0e,j0e,H0e,U0e].filter(r=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[r.name]!==!1:!0):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r==null?void 0:r.type));this.extensionManager=new tp(s,this)}createCommandManager(){this.commandManager=new x1({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let n;try{n=IP(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(o){if(!(o instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(o.message))throw o;this.emit("contentError",{editor:this,error:o,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(a=>a.name!=="collaboration"),this.createExtensionManager()}}),n=IP(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const i=vW(n,this.options.autofocus);this.view=new Pve(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:ep.create({doc:n,selection:i||void 0})});const s=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(s),this.createNodeViews(),this.prependClass();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(o)});return}const n=this.state.apply(e),i=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),i&&this.emit("selectionUpdate",{editor:this,transaction:e});const s=e.getMeta("focus"),r=e.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:e}),r&&this.emit("blur",{editor:this,event:r.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return m0e(this.state,e)}isActive(e,n){const i=typeof e=="string"?e:null,s=typeof e=="string"?n:e;return g0e(this.state,i,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return pF(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:i={}}=e||{};return f0e(this.state.doc,{blockSeparator:n,textSerializers:{...pW(this.schema),...i}})}get isEmpty(){return xF(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var i;return((i=this.$doc)===null||i===void 0?void 0:i.querySelector(e,n))||null}$nodes(e,n){var i;return((i=this.$doc)===null||i===void 0?void 0:i.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new bd(n,this)}get $doc(){return this.$pos(0)}}function _p(t){return new w1({find:t.find,handler:({state:e,range:n,match:i})=>{const s=Wt(t.getAttributes,void 0,i);if(s===!1||s===null)return null;const{tr:r}=e,o=i[i.length-1],a=i[0];if(o){const l=a.search(/\S/),c=n.from+a.indexOf(o),d=c+o.length;if(wW(n.from,n.to,e.doc).filter(m=>m.mark.type.excluded.find(C=>C===t.type&&C!==m.mark.type)).filter(m=>m.to>c).length)return null;d<n.to&&r.delete(d,n.to),c>n.from&&r.delete(n.from+l,c);const p=n.from+l+o.length;r.addMark(n.from+l,p,t.type.create(s||{})),r.removeStoredMark(t.type)}}})}function K0e(t){return new w1({find:t.find,handler:({state:e,range:n,match:i})=>{const s=Wt(t.getAttributes,void 0,i)||{},{tr:r}=e,o=n.from;let a=n.to;const l=t.type.create(s);if(i[1]){const c=i[0].lastIndexOf(i[1]);let d=o+c;d>a?d=a:a=d+i[1].length;const f=i[0][i[0].length-1];r.insertText(f,o+i[0].length-1),r.replaceWith(d,a,l)}else if(i[0]){const c=t.type.isInline?o:o-1;r.insert(c,t.type.create(s)).delete(r.mapping.map(o),r.mapping.map(a))}r.scrollIntoView()}})}function LP(t){return new w1({find:t.find,handler:({state:e,range:n,match:i})=>{const s=e.doc.resolve(n.from),r=Wt(t.getAttributes,void 0,i)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,r)}})}function iy(t){return new w1({find:t.find,handler:({state:e,range:n,match:i,chain:s})=>{const r=Wt(t.getAttributes,void 0,i)||{},o=e.tr.delete(n.from,n.to),l=o.doc.resolve(n.from).blockRange(),c=l&&J_(l,t.type,r);if(!c)return null;if(o.wrap(l,c),t.keepMarks&&t.editor){const{selection:f,storedMarks:p}=e,{splittableMarks:m}=t.editor.extensionManager,y=p||f.$to.parentOffset&&f.$from.marks();if(y){const C=y.filter(x=>m.includes(x.type.name));o.ensureMarks(C)}}if(t.keepAttributes){const f=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(f,r).run()}const d=o.doc.resolve(n.from-1).nodeBefore;d&&d.type===t.type&&vu(o.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(i,d))&&o.join(n.from-1)}})}let oa=class kP{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Wt(pt(this,"addOptions",{name:this.name}))),this.storage=Wt(pt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new kP(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>b1(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new kP(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Wt(pt(n,"addOptions",{name:n.name})),n.storage=Wt(pt(n,"addStorage",{name:n.name,options:n.options})),n}};function Fp(t){return new pye({find:t.find,handler:({state:e,range:n,match:i,pasteEvent:s})=>{const r=Wt(t.getAttributes,void 0,i,s);if(r===!1||r===null)return null;const{tr:o}=e,a=i[i.length-1],l=i[0];let c=n.to;if(a){const d=l.search(/\S/),f=n.from+l.indexOf(a),p=f+a.length;if(wW(n.from,n.to,e.doc).filter(y=>y.mark.type.excluded.find(x=>x===t.type&&x!==y.mark.type)).filter(y=>y.to>f).length)return null;p<n.to&&o.delete(p,n.to),f>n.from&&o.delete(n.from+d,f),c=n.from+d+a.length,o.addMark(n.from+d,c,t.type.create(r||{})),o.removeStoredMark(t.type)}}})}function Y0e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bW={exports:{}},jR={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U4;function X0e(){if(U4)return jR;U4=1;var t=ne;function e(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,s=t.useEffect,r=t.useLayoutEffect,o=t.useDebugValue;function a(f,p){var m=p(),y=i({inst:{value:m,getSnapshot:p}}),C=y[0].inst,x=y[1];return r(function(){C.value=m,C.getSnapshot=p,l(C)&&x({inst:C})},[f,m,p]),s(function(){return l(C)&&x({inst:C}),f(function(){l(C)&&x({inst:C})})},[f]),o(m),m}function l(f){var p=f.getSnapshot;f=f.value;try{var m=p();return!n(f,m)}catch{return!0}}function c(f,p){return p()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return jR.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,jR}bW.exports=X0e();var CF=bW.exports;const Z0e=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},J0e=({contentComponent:t})=>{const e=CF.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return ne.createElement(ne.Fragment,null,Object.values(e))};function Q0e(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,i){e={...e,[n]:qf.createPortal(i.reactElement,i.element,n)},t.forEach(s=>s())},removeRenderer(n){const i={...e};delete i[n],e=i,t.forEach(s=>s())}}}class exe extends ne.Component{constructor(e){var n;super(e),this.editorContentRef=ne.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((n=e.editor)===null||n===void 0)&&n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=Q0e(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(i=>i.hasContentComponentInitialized?i:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,innerRef:n,...i}=this.props;return ne.createElement(ne.Fragment,null,ne.createElement("div",{ref:Z0e(n,this.editorContentRef),...i}),(e==null?void 0:e.contentComponent)&&ne.createElement(J0e,{contentComponent:e.contentComponent}))}}const txe=E.forwardRef((t,e)=>{const n=ne.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return ne.createElement(exe,{key:n,innerRef:e,...t})}),nxe=ne.memo(txe);var ixe=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var i,s,r;if(Array.isArray(e)){if(i=e.length,i!=n.length)return!1;for(s=i;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(s of e.entries())if(!n.has(s[0]))return!1;for(s of e.entries())if(!t(s[1],n.get(s[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(s of e.entries())if(!n.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(i=e.length,i!=n.length)return!1;for(s=i;s--!==0;)if(e[s]!==n[s])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(r=Object.keys(e),i=r.length,i!==Object.keys(n).length)return!1;for(s=i;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,r[s]))return!1;for(s=i;s--!==0;){var o=r[s];if(!(o==="_owner"&&e.$$typeof)&&!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n},sxe=Y0e(ixe),SW={exports:{}},WR={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j4;function rxe(){if(j4)return WR;j4=1;var t=ne,e=CF;function n(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var i=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,r=t.useRef,o=t.useEffect,a=t.useMemo,l=t.useDebugValue;return WR.useSyncExternalStoreWithSelector=function(c,d,f,p,m){var y=r(null);if(y.current===null){var C={hasValue:!1,value:null};y.current=C}else C=y.current;y=a(function(){function w(F){if(!M){if(M=!0,S=F,F=p(F),m!==void 0&&C.hasValue){var N=C.value;if(m(N,F))return R=N}return R=F}if(N=R,i(S,F))return N;var I=p(F);return m!==void 0&&m(N,I)?N:(S=F,R=I)}var M=!1,S,R,P=f===void 0?null:f;return[function(){return w(d())},P===null?void 0:function(){return w(P())}]},[d,f,p,m]);var x=s(c,y[0],y[1]);return o(function(){C.hasValue=!0,C.value=x},[x]),l(x),x},WR}SW.exports=rxe();var oxe=SW.exports;const axe=typeof window<"u"?E.useLayoutEffect:E.useEffect;class lxe{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const n=()=>{this.transactionNumber+=1,this.subscribers.forEach(s=>s())},i=this.editor;return i.on("transaction",n),()=>{i.off("transaction",n)}}}}function cxe(t){var e;const[n]=E.useState(()=>new lxe(t.editor)),i=oxe.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!==null&&e!==void 0?e:sxe);return axe(()=>n.watch(t.editor),[t.editor,n]),E.useDebugValue(i),i}const uxe=!1,BP=typeof window>"u",dxe=BP||!!(typeof window<"u"&&window.next);class wF{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?BP||dxe?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...i)=>{var s,r;return(r=(s=this.options.current).onBeforeCreate)===null||r===void 0?void 0:r.call(s,...i)},onBlur:(...i)=>{var s,r;return(r=(s=this.options.current).onBlur)===null||r===void 0?void 0:r.call(s,...i)},onCreate:(...i)=>{var s,r;return(r=(s=this.options.current).onCreate)===null||r===void 0?void 0:r.call(s,...i)},onDestroy:(...i)=>{var s,r;return(r=(s=this.options.current).onDestroy)===null||r===void 0?void 0:r.call(s,...i)},onFocus:(...i)=>{var s,r;return(r=(s=this.options.current).onFocus)===null||r===void 0?void 0:r.call(s,...i)},onSelectionUpdate:(...i)=>{var s,r;return(r=(s=this.options.current).onSelectionUpdate)===null||r===void 0?void 0:r.call(s,...i)},onTransaction:(...i)=>{var s,r;return(r=(s=this.options.current).onTransaction)===null||r===void 0?void 0:r.call(s,...i)},onUpdate:(...i)=>{var s,r;return(r=(s=this.options.current).onUpdate)===null||r===void 0?void 0:r.call(s,...i)},onContentError:(...i)=>{var s,r;return(r=(s=this.options.current).onContentError)===null||r===void 0?void 0:r.call(s,...i)},onDrop:(...i)=>{var s,r;return(r=(s=this.options.current).onDrop)===null||r===void 0?void 0:r.call(s,...i)},onPaste:(...i)=>{var s,r;return(r=(s=this.options.current).onPaste)===null||r===void 0?void 0:r.call(s,...i)}};return new q0e(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(i=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(i)?!0:i==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((s,r)=>{var o;return s===((o=n.extensions)===null||o===void 0?void 0:o[r])}):e[i]===n[i])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?wF.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((i,s)=>i===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function hxe(t={},e=[]){const n=E.useRef(t);n.current=t;const[i]=E.useState(()=>new wF(n)),s=CF.useSyncExternalStore(i.subscribe,i.getEditor,i.getServerSnapshot);return E.useDebugValue(s),E.useEffect(i.onRender(e)),cxe({editor:s,selector:({transactionNumber:r})=>t.shouldRerenderOnTransaction===!1?null:t.immediatelyRender&&r===0?0:r+1}),s}const fxe=E.createContext({editor:null});fxe.Consumer;const pxe=E.createContext({onDragStart:void 0}),mxe=()=>E.useContext(pxe);ne.forwardRef((t,e)=>{const{onDragStart:n}=mxe(),i=t.as||"div";return ne.createElement(i,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});const gxe=/^\s*>\s$/,vxe=oa.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",Ds(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[iy({find:gxe,type:this.type})]}}),yxe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,xxe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Cxe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,wxe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,bxe=jl.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",Ds(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[_p({find:yxe,type:this.type}),_p({find:Cxe,type:this.type})]},addPasteRules(){return[Fp({find:xxe,type:this.type}),Fp({find:wxe,type:this.type})]}}),Sxe="listItem",W4="textStyle",$4=/^\s*([-+*])\s$/,Exe=oa.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Ds(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Sxe,this.editor.getAttributes(W4)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=iy({find:$4,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=iy({find:$4,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(W4),editor:this.editor})),[t]}}),Mxe=/(^|[^`])`([^`]+)`(?!`)/,Txe=/(^|[^`])`([^`]+)`(?!`)/g,Rxe=jl.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Ds(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[_p({find:Mxe,type:this.type})]},addPasteRules(){return[Fp({find:Txe,type:this.type})]}}),Axe=/^```([a-z]+)?[\s\n]$/,Pxe=/^~~~([a-z]+)?[\s\n]$/,Dxe=oa.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,r=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return r||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Ds(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type)return!1;const r=i.parentOffset===i.parent.nodeSize-2,o=i.parent.textContent.endsWith(`

`);return!r||!o?!1:t.chain().command(({tr:a})=>(a.delete(i.pos-2,i.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:i}=e,{$from:s,empty:r}=n;if(!r||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const a=s.after();return a===void 0?!1:i.nodeAt(a)?t.commands.command(({tr:c})=>(c.setSelection(Vt.near(i.resolve(a))),!0)):t.commands.exitCode()}}},addInputRules(){return[LP({find:Axe,type:this.type,getAttributes:t=>({language:t[1]})}),LP({find:Pxe,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Mr({key:new Ua("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),i=e.clipboardData.getData("vscode-editor-data"),s=i?JSON.parse(i):void 0,r=s==null?void 0:s.mode;if(!n||!r)return!1;const{tr:o,schema:a}=t.state,l=a.text(n.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:r},l)),o.selection.$from.parent.type!==this.type&&o.setSelection(_t.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),_xe=oa.create({name:"doc",topNode:!0,content:"block+"});function Fxe(t={}){return new Mr({view(e){return new Nxe(e,t)}})}class Nxe{constructor(e,n){var i;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(i=n.width)!==null&&i!==void 0?i:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let r=o=>{this[s](o)};return e.dom.addEventListener(s,r),{name:s,handler:r}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,i;if(n){let a=e.nodeBefore,l=e.nodeAfter;if(a||l){let c=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(c){let d=c.getBoundingClientRect(),f=a?d.bottom:d.top;a&&l&&(f=(f+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),i={left:d.left,right:d.right,top:f-this.width/2,bottom:f+this.width/2}}}}if(!i){let a=this.editorView.coordsAtPos(this.cursorPos);i={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let s=this.editorView.dom.offsetParent;this.element||(this.element=s.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let r,o;if(!s||s==document.body&&getComputedStyle(s).position=="static")r=-pageXOffset,o=-pageYOffset;else{let a=s.getBoundingClientRect();r=a.left-s.scrollLeft,o=a.top-s.scrollTop}this.element.style.left=i.left-r+"px",this.element.style.top=i.top-o+"px",this.element.style.width=i.right-i.left+"px",this.element.style.height=i.bottom-i.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),i=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=i&&i.type.spec.disableDropCursor,r=typeof s=="function"?s(this.editorView,n,e):s;if(n&&!r){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=h8(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const Ixe=ir.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Fxe(this.options)]}});class ci extends Vt{constructor(e){super(e,e)}map(e,n){let i=e.resolve(n.map(this.head));return ci.valid(i)?new ci(i):Vt.near(i)}content(){return ct.empty}eq(e){return e instanceof ci&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new ci(e.resolve(n.pos))}getBookmark(){return new bF(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!Oxe(e)||!Lxe(e))return!1;let i=n.type.spec.allowGapCursor;if(i!=null)return i;let s=n.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,n,i=!1){e:for(;;){if(!i&&ci.valid(e))return e;let s=e.pos,r=null;for(let o=e.depth;;o--){let a=e.node(o);if(n>0?e.indexAfter(o)<a.childCount:e.index(o)>0){r=a.child(n>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;s+=n;let l=e.doc.resolve(s);if(ci.valid(l))return l}for(;;){let o=n>0?r.firstChild:r.lastChild;if(!o){if(r.isAtom&&!r.isText&&!bt.isSelectable(r)){e=e.doc.resolve(s+r.nodeSize*n),i=!1;continue e}break}r=o,s+=n;let a=e.doc.resolve(s);if(ci.valid(a))return a}return null}}}ci.prototype.visible=!1;ci.findFrom=ci.findGapCursorFrom;Vt.jsonID("gapcursor",ci);class bF{constructor(e){this.pos=e}map(e){return new bF(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return ci.valid(n)?new ci(n):Vt.near(n)}}function Oxe(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),i=t.node(e);if(n==0){if(i.type.spec.isolating)return!0;continue}for(let s=i.child(n-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function Lxe(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),i=t.node(e);if(n==i.childCount){if(i.type.spec.isolating)return!0;continue}for(let s=i.child(n);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function kxe(){return new Mr({props:{decorations:zxe,createSelectionBetween(t,e,n){return e.pos==n.pos&&ci.valid(n)?new ci(n):null},handleClick:Hxe,handleKeyDown:Bxe,handleDOMEvents:{beforeinput:Vxe}}})}const Bxe=J8({ArrowLeft:Qx("horiz",-1),ArrowRight:Qx("horiz",1),ArrowUp:Qx("vert",-1),ArrowDown:Qx("vert",1)});function Qx(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(i,s,r){let o=i.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof _t){if(!r.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=i.doc.resolve(e>0?a.after():a.before())}let c=ci.findGapCursorFrom(a,e,l);return c?(s&&s(i.tr.setSelection(new ci(c))),!0):!1}}function Hxe(t,e,n){if(!t||!t.editable)return!1;let i=t.state.doc.resolve(e);if(!ci.valid(i))return!1;let s=t.posAtCoords({left:n.clientX,top:n.clientY});return s&&s.inside>-1&&bt.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new ci(i))),!0)}function Vxe(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof ci))return!1;let{$from:n}=t.state.selection,i=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!i)return!1;let s=qe.empty;for(let o=i.length-1;o>=0;o--)s=qe.from(i[o].createAndFill(null,s));let r=t.state.tr.replace(n.pos,n.pos,new ct(s,0,0));return r.setSelection(_t.near(r.doc.resolve(n.pos+1))),t.dispatch(r),!1}function zxe(t){if(!(t.selection instanceof ci))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Ii.create(t.doc,[bo.widget(t.selection.head,e,{key:"gapcursor"})])}const Gxe=ir.create({name:"gapCursor",addProseMirrorPlugins(){return[kxe()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Wt(pt(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),Uxe=oa.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Ds(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:i})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:r}=n;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=i.extensionManager,l=r||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:d})=>{if(d&&l&&o){const f=l.filter(p=>a.includes(p.type.name));c.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),jxe=oa.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Ds(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>LP({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var Fb=200,Xi=function(){};Xi.prototype.append=function(e){return e.length?(e=Xi.from(e),!this.length&&e||e.length<Fb&&this.leafAppend(e)||this.length<Fb&&e.leafPrepend(this)||this.appendInner(e)):this};Xi.prototype.prepend=function(e){return e.length?Xi.from(e).append(this):this};Xi.prototype.appendInner=function(e){return new Wxe(this,e)};Xi.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Xi.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Xi.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Xi.prototype.forEach=function(e,n,i){n===void 0&&(n=0),i===void 0&&(i=this.length),n<=i?this.forEachInner(e,n,i,0):this.forEachInvertedInner(e,n,i,0)};Xi.prototype.map=function(e,n,i){n===void 0&&(n=0),i===void 0&&(i=this.length);var s=[];return this.forEach(function(r,o){return s.push(e(r,o))},n,i),s};Xi.from=function(e){return e instanceof Xi?e:e&&e.length?new EW(e):Xi.empty};var EW=function(t){function e(i){t.call(this),this.values=i}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,r){return s==0&&r==this.length?this:new e(this.values.slice(s,r))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,r,o,a){for(var l=r;l<o;l++)if(s(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(s,r,o,a){for(var l=r-1;l>=o;l--)if(s(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=Fb)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=Fb)return new e(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Xi);Xi.empty=new EW([]);var Wxe=function(t){function e(n,i){t.call(this),this.left=n,this.right=i,this.length=n.length+i.length,this.depth=Math.max(n.depth,i.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(i){return i<this.left.length?this.left.get(i):this.right.get(i-this.left.length)},e.prototype.forEachInner=function(i,s,r,o){var a=this.left.length;if(s<a&&this.left.forEachInner(i,s,Math.min(r,a),o)===!1||r>a&&this.right.forEachInner(i,Math.max(s-a,0),Math.min(this.length,r)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,r,o){var a=this.left.length;if(s>a&&this.right.forEachInvertedInner(i,s-a,Math.max(r,a)-a,o+a)===!1||r<a&&this.left.forEachInvertedInner(i,Math.min(s,a),r,o)===!1)return!1},e.prototype.sliceInner=function(i,s){if(i==0&&s==this.length)return this;var r=this.left.length;return s<=r?this.left.slice(i,s):i>=r?this.right.slice(i-r,s-r):this.left.slice(i,r).append(this.right.slice(0,s-r))},e.prototype.leafAppend=function(i){var s=this.right.leafAppend(i);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(i){var s=this.left.leafPrepend(i);if(s)return new e(s,this.right)},e.prototype.appendInner=function(i){return this.left.depth>=Math.max(this.right.depth,i.depth)+1?new e(this.left,new e(this.right,i)):new e(this,i)},e}(Xi);const $xe=500;class jo{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let i=this.items.length;for(;;i--)if(this.items.get(i-1).selection){--i;break}let s,r;n&&(s=this.remapping(i,this.items.length),r=s.maps.length);let o=e.tr,a,l,c=[],d=[];return this.items.forEach((f,p)=>{if(!f.step){s||(s=this.remapping(i,p+1),r=s.maps.length),r--,d.push(f);return}if(s){d.push(new Ca(f.map));let m=f.step.map(s.slice(r)),y;m&&o.maybeStep(m).doc&&(y=o.mapping.maps[o.mapping.maps.length-1],c.push(new Ca(y,void 0,void 0,c.length+d.length))),r--,y&&s.appendMap(y,r)}else o.maybeStep(f.step);if(f.selection)return a=s?f.selection.map(s.slice(r)):f.selection,l=new jo(this.items.slice(0,i).append(d.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,n,i,s){let r=[],o=this.eventCount,a=this.items,l=!s&&a.length?a.get(a.length-1):null;for(let d=0;d<e.steps.length;d++){let f=e.steps[d].invert(e.docs[d]),p=new Ca(e.mapping.maps[d],f,n),m;(m=l&&l.merge(p))&&(p=m,d?r.pop():a=a.slice(0,a.length-1)),r.push(p),n&&(o++,n=void 0),s||(l=p)}let c=o-i.depth;return c>Kxe&&(a=qxe(a,c),o-=c),new jo(a.append(r),o)}remapping(e,n){let i=new Zv;return this.items.forEach((s,r)=>{let o=s.mirrorOffset!=null&&r-s.mirrorOffset>=e?i.maps.length-s.mirrorOffset:void 0;i.appendMap(s.map,o)},e,n),i}addMaps(e){return this.eventCount==0?this:new jo(this.items.append(e.map(n=>new Ca(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let i=[],s=Math.max(0,this.items.length-n),r=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(p=>{p.selection&&a--},s);let l=n;this.items.forEach(p=>{let m=r.getMirror(--l);if(m==null)return;o=Math.min(o,m);let y=r.maps[m];if(p.step){let C=e.steps[m].invert(e.docs[m]),x=p.selection&&p.selection.map(r.slice(l+1,m));x&&a++,i.push(new Ca(y,C,x))}else i.push(new Ca(y))},s);let c=[];for(let p=n;p<o;p++)c.push(new Ca(r.maps[p]));let d=this.items.slice(0,s).append(c).append(i),f=new jo(d,a);return f.emptyItemCount()>$xe&&(f=f.compress(this.items.length-i.length)),f}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),i=n.maps.length,s=[],r=0;return this.items.forEach((o,a)=>{if(a>=e)s.push(o),o.selection&&r++;else if(o.step){let l=o.step.map(n.slice(i)),c=l&&l.getMap();if(i--,c&&n.appendMap(c,i),l){let d=o.selection&&o.selection.map(n.slice(i));d&&r++;let f=new Ca(c.invert(),l,d),p,m=s.length-1;(p=s.length&&s[m].merge(f))?s[m]=p:s.push(f)}}else o.map&&i--},this.items.length,0),new jo(Xi.from(s.reverse()),r)}}jo.empty=new jo(Xi.empty,0);function qxe(t,e){let n;return t.forEach((i,s)=>{if(i.selection&&e--==0)return n=s,!1}),t.slice(n)}class Ca{constructor(e,n,i,s){this.map=e,this.step=n,this.selection=i,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Ca(n.getMap().invert(),n,this.selection)}}}class Lc{constructor(e,n,i,s,r){this.done=e,this.undone=n,this.prevRanges=i,this.prevTime=s,this.prevComposition=r}}const Kxe=20;function Yxe(t,e,n,i){let s=n.getMeta(qd),r;if(s)return s.historyState;n.getMeta(Jxe)&&(t=new Lc(t.done,t.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(o&&o.getMeta(qd))return o.getMeta(qd).redo?new Lc(t.done.addTransform(n,void 0,i,Dw(e)),t.undone,q4(n.mapping.maps),t.prevTime,t.prevComposition):new Lc(t.done,t.undone.addTransform(n,void 0,i,Dw(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=t.prevTime==0||!o&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-i.newGroupDelay||!Xxe(n,t.prevRanges)),c=o?$R(t.prevRanges,n.mapping):q4(n.mapping.maps);return new Lc(t.done.addTransform(n,l?e.selection.getBookmark():void 0,i,Dw(e)),jo.empty,c,n.time,a??t.prevComposition)}else return(r=n.getMeta("rebased"))?new Lc(t.done.rebased(n,r),t.undone.rebased(n,r),$R(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Lc(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),$R(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function Xxe(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((i,s)=>{for(let r=0;r<e.length;r+=2)i<=e[r+1]&&s>=e[r]&&(n=!0)}),n}function q4(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((i,s,r,o)=>e.push(r,o));return e}function $R(t,e){if(!t)return null;let n=[];for(let i=0;i<t.length;i+=2){let s=e.map(t[i],1),r=e.map(t[i+1],-1);s<=r&&n.push(s,r)}return n}function Zxe(t,e,n){let i=Dw(e),s=qd.get(e).spec.config,r=(n?t.undone:t.done).popEvent(e,i);if(!r)return null;let o=r.selection.resolve(r.transform.doc),a=(n?t.done:t.undone).addTransform(r.transform,e.selection.getBookmark(),s,i),l=new Lc(n?a:r.remaining,n?r.remaining:a,null,0,-1);return r.transform.setSelection(o).setMeta(qd,{redo:n,historyState:l})}let qR=!1,K4=null;function Dw(t){let e=t.plugins;if(K4!=e){qR=!1,K4=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){qR=!0;break}}return qR}const qd=new Ua("history"),Jxe=new Ua("closeHistory");function Qxe(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Mr({key:qd,state:{init(){return new Lc(jo.empty,jo.empty,null,0,-1)},apply(e,n,i){return Yxe(n,i,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let i=n.inputType,s=i=="historyUndo"?TW:i=="historyRedo"?RW:null;return s?(n.preventDefault(),s(e.state,e.dispatch)):!1}}}})}function MW(t,e){return(n,i)=>{let s=qd.getState(n);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(i){let r=Zxe(s,n,t);r&&i(e?r.scrollIntoView():r)}return!0}}const TW=MW(!1,!0),RW=MW(!0,!0),eCe=ir.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>TW(t,e),redo:()=>({state:t,dispatch:e})=>RW(t,e)}},addProseMirrorPlugins(){return[Qxe(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),tCe=oa.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Ds(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{selection:n}=e,{$from:i,$to:s}=n,r=t();return i.parentOffset===0?r.insertContentAt({from:Math.max(i.pos-1,0),to:s.pos},{type:this.name}):v0e(n)?r.insertContentAt(s.pos,{type:this.name}):r.insertContent({type:this.name}),r.command(({tr:o,dispatch:a})=>{var l;if(a){const{$to:c}=o.selection,d=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?o.setSelection(_t.create(o.doc,c.pos+1)):c.nodeAfter.isBlock?o.setSelection(bt.create(o.doc,c.pos)):o.setSelection(_t.create(o.doc,c.pos));else{const f=(l=c.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();f&&(o.insert(d,f),o.setSelection(_t.create(o.doc,d+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[K0e({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),nCe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,iCe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,sCe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,rCe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,oCe=jl.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Ds(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[_p({find:nCe,type:this.type}),_p({find:sCe,type:this.type})]},addPasteRules(){return[Fp({find:iCe,type:this.type}),Fp({find:rCe,type:this.type})]}}),aCe=oa.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Ds(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),lCe="listItem",Y4="textStyle",X4=/^(\d+)\.\s$/,cCe=oa.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Ds(this.options.HTMLAttributes,n),0]:["ol",Ds(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(lCe,this.editor.getAttributes(Y4)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=iy({find:X4,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=iy({find:X4,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Y4)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),uCe=oa.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Ds(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),dCe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,hCe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,fCe=jl.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Ds(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[_p({find:dCe,type:this.type})]},addPasteRules(){return[Fp({find:hCe,type:this.type})]}}),pCe=oa.create({name:"text",group:"inline"}),mCe=ir.create({name:"starterKit",addExtensions(){var t,e,n,i,s,r,o,a,l,c,d,f,p,m,y,C,x,w;const M=[];return this.options.bold!==!1&&M.push(bxe.configure((t=this.options)===null||t===void 0?void 0:t.bold)),this.options.blockquote!==!1&&M.push(vxe.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bulletList!==!1&&M.push(Exe.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&M.push(Rxe.configure((i=this.options)===null||i===void 0?void 0:i.code)),this.options.codeBlock!==!1&&M.push(Dxe.configure((s=this.options)===null||s===void 0?void 0:s.codeBlock)),this.options.document!==!1&&M.push(_xe.configure((r=this.options)===null||r===void 0?void 0:r.document)),this.options.dropcursor!==!1&&M.push(Ixe.configure((o=this.options)===null||o===void 0?void 0:o.dropcursor)),this.options.gapcursor!==!1&&M.push(Gxe.configure((a=this.options)===null||a===void 0?void 0:a.gapcursor)),this.options.hardBreak!==!1&&M.push(Uxe.configure((l=this.options)===null||l===void 0?void 0:l.hardBreak)),this.options.heading!==!1&&M.push(jxe.configure((c=this.options)===null||c===void 0?void 0:c.heading)),this.options.history!==!1&&M.push(eCe.configure((d=this.options)===null||d===void 0?void 0:d.history)),this.options.horizontalRule!==!1&&M.push(tCe.configure((f=this.options)===null||f===void 0?void 0:f.horizontalRule)),this.options.italic!==!1&&M.push(oCe.configure((p=this.options)===null||p===void 0?void 0:p.italic)),this.options.listItem!==!1&&M.push(aCe.configure((m=this.options)===null||m===void 0?void 0:m.listItem)),this.options.orderedList!==!1&&M.push(cCe.configure((y=this.options)===null||y===void 0?void 0:y.orderedList)),this.options.paragraph!==!1&&M.push(uCe.configure((C=this.options)===null||C===void 0?void 0:C.paragraph)),this.options.strike!==!1&&M.push(fCe.configure((x=this.options)===null||x===void 0?void 0:x.strike)),this.options.text!==!1&&M.push(pCe.configure((w=this.options)===null||w===void 0?void 0:w.text)),M}}),gCe=jl.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Ds(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),i0=({handleFileChange:t,handleTitleChange:e,handleDescriptionChange:n,handleSubmit:i,type:s})=>{const r=hxe({extensions:[mCe,gCe],content:"<p></p>",onUpdate:({editor:l})=>{n(l.getHTML())}});if(!r)return null;const o=l=>{const d=`${l.target.value}`;e(d)},a=l=>{t(l)};return v.jsxs("form",{onSubmit:i,className:"space-y-4",children:[v.jsx("input",{type:"file",accept:"image/*",onChange:a,className:"border p-2 rounded w-full ",multiple:!0}),v.jsx("input",{type:"text",className:"border p-2 font-serif font-bold w-full rounded-md",onChange:o,style:{fontSize:"1.17em",margin:"0.75em 0"},placeholder:"Write your title here"}),v.jsxs("div",{className:"flex gap-3 mb-2 place-items-center",children:[v.jsx(Hde,{className:"size-5 cursor-pointer",onClick:()=>r.chain().focus().toggleBold().run()}),v.jsx(she,{className:"size-5 cursor-pointer",onClick:()=>r.chain().focus().toggleItalic().run()}),v.jsx(dhe,{className:"size-5 cursor-pointer",onClick:()=>r.chain().focus().toggleUnderline().run()}),v.jsx(K6,{className:"size-6 cursor-pointer",onClick:()=>r.chain().focus().toggleBulletList().run()}),v.jsx(ahe,{className:"size-5 cursor-pointer",onClick:()=>r.chain().focus().toggleOrderedList().run()})]}),v.jsx(nxe,{editor:r,className:`border p-2 rounded bg-[--color-accent-1] text-[--color-dark] 
             font-serif
             [&_ul]:list-disc [&_ul]:pl-6 
             [&_ol]:list-decimal [&_ol]:pl-6
             [&_em]:font-inherit
             [&_strong]:font-bold
             [&_strong_em]:font-inherit
             [&_em_strong]:font-inherit`}),v.jsx("section",{className:"flex justify-center",children:v.jsx("button",{className:"bg-primary p-3 rounded-md cursor-pointer w-full mx-auto text-white font-avenir-black",children:"Publish"})})]})},vCe=()=>{const t=fs(),[e,n]=E.useState([]),[i,s]=E.useState(""),[r,o]=E.useState(""),a=E.useRef(),l=E.useRef(),c=m=>{n([...m.target.files])},d=m=>{s(m)},f=m=>{o(m)};E.useEffect(()=>{a.current&&(a.current.innerHTML=i,l.current.innerHTML=r)},[i,r]);const p=m=>{if(m.preventDefault(),!i.trim()||!r.trim()){alert("Please write something in the editor.");return}console.log({title:i,description:r}),console.log(e)};return v.jsxs("section",{className:"p-2 xl:p-3",children:[v.jsxs("div",{className:"lg:flex items-center justify-between hidden",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("h2",{className:"font-avenir-black",children:"Create New Blog"}),v.jsx(i1,{className:"w-4 h-4 text-gray-500"})]}),v.jsx("span",{onClick:()=>t("/app/my-blogs"),className:"font-avenir-black text-red-400 text-sm cursor-pointer",children:"Discard Blog"})]}),v.jsxs("section",{className:"p-5 rounded-lg",style:{boxShadow:"rgba(0, 0, 0, 0.08) 0px 4px 12px"},children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"w-13 h-13 mb-3",children:v.jsx("img",{src:"http://sa.kapamilya.com/absnews/abscbnnews/media/2020/tvpatrol/06/01/james-reid.jpg",alt:"Hernani",className:"w-full h-full object-cover rounded-full"})}),v.jsx("p",{className:"font-avenir-black text-center",children:"Hernani Domingo"})]}),v.jsx(i0,{handleFileChange:c,handleTitleChange:d,handleDescriptionChange:f,handleSubmit:p,type:"eblog"})]})]})},yCe={apiBaseUrl:"http://localhost:7432"},xCe=()=>{var a;const[t,e]=E.useState(null),n=Hi(),{jobId:i}=n.state,s=fs(),r=(a=n.state)==null?void 0:a.from,o=()=>{r!=null&&r.startsWith("/careers/application-form/")?(console.log("Navigating back to careers page"),s("/careers")):r?(console.log("Navigating back to:",r),s(-1)):(console.log("No previous page, going to careers"),s("/careers"))};return E.useEffect(()=>{window.scroll(0,0),(async()=>{try{console.log("Fetching job details for jobId:",i),console.log(yCe.apiBaseUrl);const c=await on.get(`/api/get-job-details/${i}`);e(c.data.data),console.log(c.data.data)}catch(c){console.error("Error fetching job details:",c)}})()},[]),E.useEffect(()=>{if(t!=null&&t.jobTitle){const l=t!=null&&t.jobTitle?`${t.jobTitle} | Join Us at FullSuite`:"Job Opportunity | Suitelifer";document.title=l}},[t,n]),v.jsxs(v.Fragment,{children:[v.jsx(wh,{isDefer:!0,title:t!=null&&t.jobTitle?`${t.jobTitle} | Join Us at FullSuite`:"Job Opportunity | Suitelifer",description:t==null?void 0:t.description}),v.jsx("div",{className:"sm:hidden",children:v.jsx(Yr,{})}),v.jsx("div",{className:"tablet-nav",children:v.jsx(Xr,{})}),v.jsx("div",{className:"desktop-nav",children:v.jsx(Zr,{})}),v.jsxs("div",{className:"px-7 max-w-4xl mx-auto lg:flex lg:flex-col lg:pt-20 lg:h-lvh",children:[v.jsxs("button",{className:"w-fit flex gap-2 text-primary no-underline text-xs cursor-pointer hover:underline!",onClick:o,children:[v.jsx(A_,{size:15}),v.jsx("span",{children:"Back"})]}),t?v.jsxs("div",{className:"flex flex-col mt-5",children:[v.jsx("p",{className:"font-avenir-black text-2xl",children:t.jobTitle}),v.jsxs("p",{className:"text-primary mb-2",children:["| ",t.industryName.toUpperCase()]}),v.jsxs("p",{className:"text-primary mb-2",children:[t.employmentType,", ",t.setupName]}),t.salaryMin!=null&&t.salaryMin!=0&&v.jsxs("p",{className:"text-xs mb-5",children:["Expected Salary: ",v.jsx("br",{}),v.jsxs("span",{className:"font-avenir-black text-xl text-primary",children:[Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",maximumFractionDigits:0}).format(t.salaryMin),t.salaryMax&&" - "+Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",maximumFractionDigits:0}).format(t.salaryMax)]})]}),v.jsx("p",{children:t.description}),v.jsx("br",{}),t.responsibility&&v.jsxs(v.Fragment,{children:[v.jsx("p",{className:"text-primary font-avenir-black",children:"Responsibilities:"}),v.jsx("ul",{children:t.responsibility.split(/\.\s+|\n/).filter(l=>l.trim()!=="").map((l,c,d)=>v.jsxs("li",{children:[l.trim(),l.trim().endsWith(".")?"":"."," "]},c))}),v.jsx("br",{})]}),t.requirement&&v.jsxs(v.Fragment,{children:[v.jsx("p",{className:"text-primary font-avenir-black",children:"Requirements:"}),v.jsx("ul",{children:t.requirement.split(/\.\s+|\n/).filter(l=>l.trim()!=="").map((l,c,d)=>v.jsxs("li",{children:[l.trim(),l.trim().endsWith(".")?"":"."," "]},c))}),v.jsx("br",{})]}),t.preferredQualification&&v.jsxs(v.Fragment,{children:[v.jsx("p",{className:"text-primary font-avenir-black",children:"Preferred Qualifications:"}),v.jsx("ul",{children:t.preferredQualification.split(/\.\s+|\n/).filter(l=>l.trim()!=="").map((l,c,d)=>v.jsxs("li",{children:[l.trim(),l.trim().endsWith(".")?"":"."," "]},c))}),v.jsx("br",{})]}),v.jsx("button",{className:"cursor-pointer mx-auto font-avenir-black bg-primary py-2 text-white rounded-2xl min-w-52 mb-10",type:"button",onClick:()=>{s(`/careers/application-form/${i}/${$r(t.jobTitle)}`)},children:"APPLY NOW"})]}):v.jsx("section",{className:"grid place-conte`nt-center h-dvh",children:v.jsx(qy,{})})]}),v.jsx(Do,{})]})},CCe="modulepreload",wCe=function(t){return"/"+t},Z4={},Sl=function(e,n,i){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=wCe(l),l in Z4)return;Z4[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":CCe,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((p,m)=>{f.addEventListener("load",p),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function r(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&r(a.reason);return e().catch(r)})},bCe=(t,e,n)=>{const i=t[e];return i?typeof i=="function"?i():Promise.resolve(i):new Promise((s,r)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(r.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})},AW=()=>{const t=fs(),e=wo(p=>p.user),[n,i]=E.useState([]),[s,r]=E.useState(""),[o,a]=E.useState(""),l=p=>{i([...p.target.files])},c=p=>{r(p)},d=p=>{a(p)},f=async p=>{var m;p.preventDefault();try{const y={title:s.trim(),article:o.trim(),created_by:e.id},C=await on.post("/api/add-news",y);if(!((m=C.data)!=null&&m.id)){Nn.error("Failed to create news. Please try again.");return}const x=C.data.id;if(n.length>0){const w=new FormData;n.forEach(M=>w.append("images",M)),await on.post(`/api/upload-save-image/cNews/news/${x}`,w,{headers:{"Content-Type":"multipart/form-data"}})}C.data.isSuccess?Nn.success(C.data.message||"News added successfully!"):Nn.error(C.data.message||"Something went wrong.")}catch(y){console.error("Error adding news:",y),Nn.error("Something went wrong. Please try again.")}};return v.jsxs("section",{className:"p-2 xl:p-3",children:[v.jsxs("div",{className:"lg:flex items-center justify-between hidden",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("h2",{className:"font-avenir-black",children:"Create News"}),v.jsx(i1,{className:"w-4 h-4 text-gray-500"})]}),v.jsx("span",{onClick:()=>t("/app/news"),className:"font-avenir-black text-red-400 text-sm cursor-pointer",children:"Discard News"})]}),v.jsx("section",{className:"p-5 rounded-lg",style:{boxShadow:"rgba(0, 0, 0, 0.08) 0px 4px 12px"},children:v.jsx(i0,{handleFileChange:l,handleTitleChange:c,handleDescriptionChange:d,handleSubmit:f,type:"news"})})]})},SCe=Object.freeze(Object.defineProperty({__proto__:null,default:AW},Symbol.toStringTag,{value:"Module"})),sy={black:"#000",white:"#fff"},vf={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},yf={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},xf={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Cf={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},wf={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},wg={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},ECe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Wl(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(i=>n.searchParams.append("args[]",i)),`Minified MUI error #${t}; visit ${n} for the full message.`}const SF="$$material";function HP(){return HP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},HP.apply(null,arguments)}function MCe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function TCe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var RCe=function(){function t(n){var i=this;this._insertTag=function(s){var r;i.tags.length===0?i.insertionPoint?r=i.insertionPoint.nextSibling:i.prepend?r=i.container.firstChild:r=i.before:r=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(s,r),i.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(TCe(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var r=MCe(s);try{r.insertRule(i,r.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){var s;return(s=i.parentNode)==null?void 0:s.removeChild(i)}),this.tags=[],this.ctr=0},t}(),ws="-ms-",Nb="-moz-",pn="-webkit-",PW="comm",EF="rule",MF="decl",ACe="@import",DW="@keyframes",PCe="@layer",DCe=Math.abs,E1=String.fromCharCode,_Ce=Object.assign;function FCe(t,e){return as(t,0)^45?(((e<<2^as(t,0))<<2^as(t,1))<<2^as(t,2))<<2^as(t,3):0}function _W(t){return t.trim()}function NCe(t,e){return(t=e.exec(t))?t[0]:t}function mn(t,e,n){return t.replace(e,n)}function VP(t,e){return t.indexOf(e)}function as(t,e){return t.charCodeAt(e)|0}function ry(t,e,n){return t.slice(e,n)}function ba(t){return t.length}function TF(t){return t.length}function eC(t,e){return e.push(t),t}function ICe(t,e){return t.map(e).join("")}var M1=1,Np=1,FW=0,Er=0,Mi=0,em="";function T1(t,e,n,i,s,r,o){return{value:t,root:e,parent:n,type:i,props:s,children:r,line:M1,column:Np,length:o,return:""}}function bg(t,e){return _Ce(T1("",null,null,"",null,null,0),t,{length:-t.length},e)}function OCe(){return Mi}function LCe(){return Mi=Er>0?as(em,--Er):0,Np--,Mi===10&&(Np=1,M1--),Mi}function Ur(){return Mi=Er<FW?as(em,Er++):0,Np++,Mi===10&&(Np=1,M1++),Mi}function Na(){return as(em,Er)}function _w(){return Er}function s0(t,e){return ry(em,t,e)}function oy(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function NW(t){return M1=Np=1,FW=ba(em=t),Er=0,[]}function IW(t){return em="",t}function Fw(t){return _W(s0(Er-1,zP(t===91?t+2:t===40?t+1:t)))}function kCe(t){for(;(Mi=Na())&&Mi<33;)Ur();return oy(t)>2||oy(Mi)>3?"":" "}function BCe(t,e){for(;--e&&Ur()&&!(Mi<48||Mi>102||Mi>57&&Mi<65||Mi>70&&Mi<97););return s0(t,_w()+(e<6&&Na()==32&&Ur()==32))}function zP(t){for(;Ur();)switch(Mi){case t:return Er;case 34:case 39:t!==34&&t!==39&&zP(Mi);break;case 40:t===41&&zP(t);break;case 92:Ur();break}return Er}function HCe(t,e){for(;Ur()&&t+Mi!==57;)if(t+Mi===84&&Na()===47)break;return"/*"+s0(e,Er-1)+"*"+E1(t===47?t:Ur())}function VCe(t){for(;!oy(Na());)Ur();return s0(t,Er)}function zCe(t){return IW(Nw("",null,null,null,[""],t=NW(t),0,[0],t))}function Nw(t,e,n,i,s,r,o,a,l){for(var c=0,d=0,f=o,p=0,m=0,y=0,C=1,x=1,w=1,M=0,S="",R=s,P=r,F=i,N=S;x;)switch(y=M,M=Ur()){case 40:if(y!=108&&as(N,f-1)==58){VP(N+=mn(Fw(M),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:N+=Fw(M);break;case 9:case 10:case 13:case 32:N+=kCe(y);break;case 92:N+=BCe(_w()-1,7);continue;case 47:switch(Na()){case 42:case 47:eC(GCe(HCe(Ur(),_w()),e,n),l);break;default:N+="/"}break;case 123*C:a[c++]=ba(N)*w;case 125*C:case 59:case 0:switch(M){case 0:case 125:x=0;case 59+d:w==-1&&(N=mn(N,/\f/g,"")),m>0&&ba(N)-f&&eC(m>32?Q4(N+";",i,n,f-1):Q4(mn(N," ","")+";",i,n,f-2),l);break;case 59:N+=";";default:if(eC(F=J4(N,e,n,c,d,s,a,S,R=[],P=[],f),r),M===123)if(d===0)Nw(N,e,F,F,R,r,f,a,P);else switch(p===99&&as(N,3)===110?100:p){case 100:case 108:case 109:case 115:Nw(t,F,F,i&&eC(J4(t,F,F,0,0,s,a,S,s,R=[],f),P),s,P,f,a,i?R:P);break;default:Nw(N,F,F,F,[""],P,0,a,P)}}c=d=m=0,C=w=1,S=N="",f=o;break;case 58:f=1+ba(N),m=y;default:if(C<1){if(M==123)--C;else if(M==125&&C++==0&&LCe()==125)continue}switch(N+=E1(M),M*C){case 38:w=d>0?1:(N+="\f",-1);break;case 44:a[c++]=(ba(N)-1)*w,w=1;break;case 64:Na()===45&&(N+=Fw(Ur())),p=Na(),d=f=ba(S=N+=VCe(_w())),M++;break;case 45:y===45&&ba(N)==2&&(C=0)}}return r}function J4(t,e,n,i,s,r,o,a,l,c,d){for(var f=s-1,p=s===0?r:[""],m=TF(p),y=0,C=0,x=0;y<i;++y)for(var w=0,M=ry(t,f+1,f=DCe(C=o[y])),S=t;w<m;++w)(S=_W(C>0?p[w]+" "+M:mn(M,/&\f/g,p[w])))&&(l[x++]=S);return T1(t,e,n,s===0?EF:a,l,c,d)}function GCe(t,e,n){return T1(t,e,n,PW,E1(OCe()),ry(t,2,-2),0)}function Q4(t,e,n,i){return T1(t,e,n,MF,ry(t,0,i),ry(t,i+1,-1),i)}function pp(t,e){for(var n="",i=TF(t),s=0;s<i;s++)n+=e(t[s],s,t,e)||"";return n}function UCe(t,e,n,i){switch(t.type){case PCe:if(t.children.length)break;case ACe:case MF:return t.return=t.return||t.value;case PW:return"";case DW:return t.return=t.value+"{"+pp(t.children,i)+"}";case EF:t.value=t.props.join(",")}return ba(n=pp(t.children,i))?t.return=t.value+"{"+n+"}":""}function jCe(t){var e=TF(t);return function(n,i,s,r){for(var o="",a=0;a<e;a++)o+=t[a](n,i,s,r)||"";return o}}function WCe(t){return function(e){e.root||(e=e.return)&&t(e)}}function OW(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var $Ce=function(e,n,i){for(var s=0,r=0;s=r,r=Na(),s===38&&r===12&&(n[i]=1),!oy(r);)Ur();return s0(e,Er)},qCe=function(e,n){var i=-1,s=44;do switch(oy(s)){case 0:s===38&&Na()===12&&(n[i]=1),e[i]+=$Ce(Er-1,n,i);break;case 2:e[i]+=Fw(s);break;case 4:if(s===44){e[++i]=Na()===58?"&\f":"",n[i]=e[i].length;break}default:e[i]+=E1(s)}while(s=Ur());return e},KCe=function(e,n){return IW(qCe(NW(e),n))},eH=new WeakMap,YCe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,i=e.parent,s=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!eH.get(i))&&!s){eH.set(e,!0);for(var r=[],o=KCe(n,r),a=i.props,l=0,c=0;l<o.length;l++)for(var d=0;d<a.length;d++,c++)e.props[c]=r[l]?o[l].replace(/&\f/g,a[d]):a[d]+" "+o[l]}}},XCe=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function LW(t,e){switch(FCe(t,e)){case 5103:return pn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return pn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return pn+t+Nb+t+ws+t+t;case 6828:case 4268:return pn+t+ws+t+t;case 6165:return pn+t+ws+"flex-"+t+t;case 5187:return pn+t+mn(t,/(\w+).+(:[^]+)/,pn+"box-$1$2"+ws+"flex-$1$2")+t;case 5443:return pn+t+ws+"flex-item-"+mn(t,/flex-|-self/,"")+t;case 4675:return pn+t+ws+"flex-line-pack"+mn(t,/align-content|flex-|-self/,"")+t;case 5548:return pn+t+ws+mn(t,"shrink","negative")+t;case 5292:return pn+t+ws+mn(t,"basis","preferred-size")+t;case 6060:return pn+"box-"+mn(t,"-grow","")+pn+t+ws+mn(t,"grow","positive")+t;case 4554:return pn+mn(t,/([^-])(transform)/g,"$1"+pn+"$2")+t;case 6187:return mn(mn(mn(t,/(zoom-|grab)/,pn+"$1"),/(image-set)/,pn+"$1"),t,"")+t;case 5495:case 3959:return mn(t,/(image-set\([^]*)/,pn+"$1$`$1");case 4968:return mn(mn(t,/(.+:)(flex-)?(.*)/,pn+"box-pack:$3"+ws+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+pn+t+t;case 4095:case 3583:case 4068:case 2532:return mn(t,/(.+)-inline(.+)/,pn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ba(t)-1-e>6)switch(as(t,e+1)){case 109:if(as(t,e+4)!==45)break;case 102:return mn(t,/(.+:)(.+)-([^]+)/,"$1"+pn+"$2-$3$1"+Nb+(as(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~VP(t,"stretch")?LW(mn(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(as(t,e+1)!==115)break;case 6444:switch(as(t,ba(t)-3-(~VP(t,"!important")&&10))){case 107:return mn(t,":",":"+pn)+t;case 101:return mn(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+pn+(as(t,14)===45?"inline-":"")+"box$3$1"+pn+"$2$3$1"+ws+"$2box$3")+t}break;case 5936:switch(as(t,e+11)){case 114:return pn+t+ws+mn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return pn+t+ws+mn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return pn+t+ws+mn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return pn+t+ws+t+t}return t}var ZCe=function(e,n,i,s){if(e.length>-1&&!e.return)switch(e.type){case MF:e.return=LW(e.value,e.length);break;case DW:return pp([bg(e,{value:mn(e.value,"@","@"+pn)})],s);case EF:if(e.length)return ICe(e.props,function(r){switch(NCe(r,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return pp([bg(e,{props:[mn(r,/:(read-\w+)/,":"+Nb+"$1")]})],s);case"::placeholder":return pp([bg(e,{props:[mn(r,/:(plac\w+)/,":"+pn+"input-$1")]}),bg(e,{props:[mn(r,/:(plac\w+)/,":"+Nb+"$1")]}),bg(e,{props:[mn(r,/:(plac\w+)/,ws+"input-$1")]})],s)}return""})}},JCe=[ZCe],QCe=function(e){var n=e.key;if(n==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(C){var x=C.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(C),C.setAttribute("data-s",""))})}var s=e.stylisPlugins||JCe,r={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(C){for(var x=C.getAttribute("data-emotion").split(" "),w=1;w<x.length;w++)r[x[w]]=!0;a.push(C)});var l,c=[YCe,XCe];{var d,f=[UCe,WCe(function(C){d.insert(C)})],p=jCe(c.concat(s,f)),m=function(x){return pp(zCe(x),p)};l=function(x,w,M,S){d=M,m(x?x+"{"+w.styles+"}":w.styles),S&&(y.inserted[w.name]=!0)}}var y={key:n,sheet:new RCe({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:r,registered:{},insert:l};return y.sheet.hydrate(a),y},KR={exports:{}},yn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tH;function ewe(){if(tH)return yn;tH=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,i=t?Symbol.for("react.fragment"):60107,s=t?Symbol.for("react.strict_mode"):60108,r=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,a=t?Symbol.for("react.context"):60110,l=t?Symbol.for("react.async_mode"):60111,c=t?Symbol.for("react.concurrent_mode"):60111,d=t?Symbol.for("react.forward_ref"):60112,f=t?Symbol.for("react.suspense"):60113,p=t?Symbol.for("react.suspense_list"):60120,m=t?Symbol.for("react.memo"):60115,y=t?Symbol.for("react.lazy"):60116,C=t?Symbol.for("react.block"):60121,x=t?Symbol.for("react.fundamental"):60117,w=t?Symbol.for("react.responder"):60118,M=t?Symbol.for("react.scope"):60119;function S(P){if(typeof P=="object"&&P!==null){var F=P.$$typeof;switch(F){case e:switch(P=P.type,P){case l:case c:case i:case r:case s:case f:return P;default:switch(P=P&&P.$$typeof,P){case a:case d:case y:case m:case o:return P;default:return F}}case n:return F}}}function R(P){return S(P)===c}return yn.AsyncMode=l,yn.ConcurrentMode=c,yn.ContextConsumer=a,yn.ContextProvider=o,yn.Element=e,yn.ForwardRef=d,yn.Fragment=i,yn.Lazy=y,yn.Memo=m,yn.Portal=n,yn.Profiler=r,yn.StrictMode=s,yn.Suspense=f,yn.isAsyncMode=function(P){return R(P)||S(P)===l},yn.isConcurrentMode=R,yn.isContextConsumer=function(P){return S(P)===a},yn.isContextProvider=function(P){return S(P)===o},yn.isElement=function(P){return typeof P=="object"&&P!==null&&P.$$typeof===e},yn.isForwardRef=function(P){return S(P)===d},yn.isFragment=function(P){return S(P)===i},yn.isLazy=function(P){return S(P)===y},yn.isMemo=function(P){return S(P)===m},yn.isPortal=function(P){return S(P)===n},yn.isProfiler=function(P){return S(P)===r},yn.isStrictMode=function(P){return S(P)===s},yn.isSuspense=function(P){return S(P)===f},yn.isValidElementType=function(P){return typeof P=="string"||typeof P=="function"||P===i||P===c||P===r||P===s||P===f||P===p||typeof P=="object"&&P!==null&&(P.$$typeof===y||P.$$typeof===m||P.$$typeof===o||P.$$typeof===a||P.$$typeof===d||P.$$typeof===x||P.$$typeof===w||P.$$typeof===M||P.$$typeof===C)},yn.typeOf=S,yn}var nH;function twe(){return nH||(nH=1,KR.exports=ewe()),KR.exports}var YR,iH;function nwe(){if(iH)return YR;iH=1;var t=twe(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},r={};r[t.ForwardRef]=i,r[t.Memo]=s;function o(y){return t.isMemo(y)?s:r[y.$$typeof]||e}var a=Object.defineProperty,l=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;function m(y,C,x){if(typeof C!="string"){if(p){var w=f(C);w&&w!==p&&m(y,w,x)}var M=l(C);c&&(M=M.concat(c(C)));for(var S=o(y),R=o(C),P=0;P<M.length;++P){var F=M[P];if(!n[F]&&!(x&&x[F])&&!(R&&R[F])&&!(S&&S[F])){var N=d(C,F);try{a(y,F,N)}catch{}}}}return y}return YR=m,YR}nwe();var iwe=!0;function kW(t,e,n){var i="";return n.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):s&&(i+=s+" ")}),i}var RF=function(e,n,i){var s=e.key+"-"+n.name;(i===!1||iwe===!1)&&e.registered[s]===void 0&&(e.registered[s]=n.styles)},AF=function(e,n,i){RF(e,n,i);var s=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var r=n;do e.insert(n===r?"."+s:"",r,e.sheet,!0),r=r.next;while(r!==void 0)}};function swe(t){for(var e=0,n,i=0,s=t.length;s>=4;++i,s-=4)n=t.charCodeAt(i)&255|(t.charCodeAt(++i)&255)<<8|(t.charCodeAt(++i)&255)<<16|(t.charCodeAt(++i)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(i+2)&255)<<16;case 2:e^=(t.charCodeAt(i+1)&255)<<8;case 1:e^=t.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var rwe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},owe=/[A-Z]|^ms/g,awe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,BW=function(e){return e.charCodeAt(1)===45},sH=function(e){return e!=null&&typeof e!="boolean"},XR=OW(function(t){return BW(t)?t:t.replace(owe,"-$&").toLowerCase()}),rH=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(awe,function(i,s,r){return Sa={name:s,styles:r,next:Sa},s})}return rwe[e]!==1&&!BW(e)&&typeof n=="number"&&n!==0?n+"px":n};function ay(t,e,n){if(n==null)return"";var i=n;if(i.__emotion_styles!==void 0)return i;switch(typeof n){case"boolean":return"";case"object":{var s=n;if(s.anim===1)return Sa={name:s.name,styles:s.styles,next:Sa},s.name;var r=n;if(r.styles!==void 0){var o=r.next;if(o!==void 0)for(;o!==void 0;)Sa={name:o.name,styles:o.styles,next:Sa},o=o.next;var a=r.styles+";";return a}return lwe(t,e,n)}case"function":{if(t!==void 0){var l=Sa,c=n(t);return Sa=l,ay(t,e,c)}break}}var d=n;if(e==null)return d;var f=e[d];return f!==void 0?f:d}function lwe(t,e,n){var i="";if(Array.isArray(n))for(var s=0;s<n.length;s++)i+=ay(t,e,n[s])+";";else for(var r in n){var o=n[r];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?i+=r+"{"+e[a]+"}":sH(a)&&(i+=XR(r)+":"+rH(r,a)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)sH(o[l])&&(i+=XR(r)+":"+rH(r,o[l])+";");else{var c=ay(t,e,o);switch(r){case"animation":case"animationName":{i+=XR(r)+":"+c+";";break}default:i+=r+"{"+c+"}"}}}return i}var oH=/label:\s*([^\s;{]+)\s*(;|$)/g,Sa;function r0(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,s="";Sa=void 0;var r=t[0];if(r==null||r.raw===void 0)i=!1,s+=ay(n,e,r);else{var o=r;s+=o[0]}for(var a=1;a<t.length;a++)if(s+=ay(n,e,t[a]),i){var l=r;s+=l[a]}oH.lastIndex=0;for(var c="",d;(d=oH.exec(s))!==null;)c+="-"+d[1];var f=swe(s)+c;return{name:f,styles:s,next:Sa}}var cwe=function(e){return e()},HW=Ov.useInsertionEffect?Ov.useInsertionEffect:!1,VW=HW||cwe,aH=HW||E.useLayoutEffect,zW=E.createContext(typeof HTMLElement<"u"?QCe({key:"css"}):null);zW.Provider;var PF=function(e){return E.forwardRef(function(n,i){var s=E.useContext(zW);return e(n,s,i)})},R1=E.createContext({}),DF={}.hasOwnProperty,GP="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",uwe=function(e,n){var i={};for(var s in n)DF.call(n,s)&&(i[s]=n[s]);return i[GP]=e,i},dwe=function(e){var n=e.cache,i=e.serialized,s=e.isStringTag;return RF(n,i,s),VW(function(){return AF(n,i,s)}),null},hwe=PF(function(t,e,n){var i=t.css;typeof i=="string"&&e.registered[i]!==void 0&&(i=e.registered[i]);var s=t[GP],r=[i],o="";typeof t.className=="string"?o=kW(e.registered,r,t.className):t.className!=null&&(o=t.className+" ");var a=r0(r,void 0,E.useContext(R1));o+=e.key+"-"+a.name;var l={};for(var c in t)DF.call(t,c)&&c!=="css"&&c!==GP&&(l[c]=t[c]);return l.className=o,n&&(l.ref=n),E.createElement(E.Fragment,null,E.createElement(dwe,{cache:e,serialized:a,isStringTag:typeof s=="string"}),E.createElement(s,l))}),fwe=hwe,lH=function(e,n){var i=arguments;if(n==null||!DF.call(n,"css"))return E.createElement.apply(void 0,i);var s=i.length,r=new Array(s);r[0]=fwe,r[1]=uwe(e,n);for(var o=2;o<s;o++)r[o]=i[o];return E.createElement.apply(null,r)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(lH||(lH={}));var pwe=PF(function(t,e){var n=t.styles,i=r0([n],void 0,E.useContext(R1)),s=E.useRef();return aH(function(){var r=e.key+"-global",o=new e.sheet.constructor({key:r,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+r+" "+i.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",r),o.hydrate([l])),s.current=[o,a],function(){o.flush()}},[e]),aH(function(){var r=s.current,o=r[0],a=r[1];if(a){r[1]=!1;return}if(i.next!==void 0&&AF(e,i.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",i,o,!1)},[e,i.name]),null});function mwe(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r0(e)}function mUe(){var t=mwe.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var gwe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,vwe=OW(function(t){return gwe.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),ywe=vwe,xwe=function(e){return e!=="theme"},cH=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?ywe:xwe},uH=function(e,n,i){var s;if(n){var r=n.shouldForwardProp;s=e.__emotion_forwardProp&&r?function(o){return e.__emotion_forwardProp(o)&&r(o)}:r}return typeof s!="function"&&i&&(s=e.__emotion_forwardProp),s},Cwe=function(e){var n=e.cache,i=e.serialized,s=e.isStringTag;return RF(n,i,s),VW(function(){return AF(n,i,s)}),null},wwe=function t(e,n){var i=e.__emotion_real===e,s=i&&e.__emotion_base||e,r,o;n!==void 0&&(r=n.label,o=n.target);var a=uH(e,n,i),l=a||cH(s),c=!l("as");return function(){var d=arguments,f=i&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(r!==void 0&&f.push("label:"+r+";"),d[0]==null||d[0].raw===void 0)f.push.apply(f,d);else{var p=d[0];f.push(p[0]);for(var m=d.length,y=1;y<m;y++)f.push(d[y],p[y])}var C=PF(function(x,w,M){var S=c&&x.as||s,R="",P=[],F=x;if(x.theme==null){F={};for(var N in x)F[N]=x[N];F.theme=E.useContext(R1)}typeof x.className=="string"?R=kW(w.registered,P,x.className):x.className!=null&&(R=x.className+" ");var I=r0(f.concat(P),w.registered,F);R+=w.key+"-"+I.name,o!==void 0&&(R+=" "+o);var _=c&&a===void 0?cH(S):l,A={};for(var O in x)c&&O==="as"||_(O)&&(A[O]=x[O]);return A.className=R,M&&(A.ref=M),E.createElement(E.Fragment,null,E.createElement(Cwe,{cache:w,serialized:I,isStringTag:typeof S=="string"}),E.createElement(S,A))});return C.displayName=r!==void 0?r:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",C.defaultProps=e.defaultProps,C.__emotion_real=C,C.__emotion_base=s,C.__emotion_styles=f,C.__emotion_forwardProp=a,Object.defineProperty(C,"toString",{value:function(){return"."+o}}),C.withComponent=function(x,w){var M=t(x,HP({},n,w,{shouldForwardProp:uH(C,w,!0)}));return M.apply(void 0,f)},C}},bwe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],UP=wwe.bind(null);bwe.forEach(function(t){UP[t]=UP(t)});function Swe(t){return t==null||Object.keys(t).length===0}function Ewe(t){const{styles:e,defaultTheme:n={}}=t,i=typeof e=="function"?s=>e(Swe(s)?n:s):e;return v.jsx(pwe,{styles:i})}/**
 * @mui/styled-engine v6.4.6
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Mwe(t,e){return UP(t,e)}function Twe(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const dH=[];function hH(t){return dH[0]=t,r0(dH)}var ZR={exports:{}},Tn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fH;function Rwe(){if(fH)return Tn;fH=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen"),m=Symbol.for("react.client.reference");function y(C){if(typeof C=="object"&&C!==null){var x=C.$$typeof;switch(x){case t:switch(C=C.type,C){case n:case s:case i:case l:case c:return C;default:switch(C=C&&C.$$typeof,C){case o:case a:case f:case d:return C;case r:return C;default:return x}}case e:return x}}}return Tn.ContextConsumer=r,Tn.ContextProvider=o,Tn.Element=t,Tn.ForwardRef=a,Tn.Fragment=n,Tn.Lazy=f,Tn.Memo=d,Tn.Portal=e,Tn.Profiler=s,Tn.StrictMode=i,Tn.Suspense=l,Tn.SuspenseList=c,Tn.isContextConsumer=function(C){return y(C)===r},Tn.isContextProvider=function(C){return y(C)===o},Tn.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===t},Tn.isForwardRef=function(C){return y(C)===a},Tn.isFragment=function(C){return y(C)===n},Tn.isLazy=function(C){return y(C)===f},Tn.isMemo=function(C){return y(C)===d},Tn.isPortal=function(C){return y(C)===e},Tn.isProfiler=function(C){return y(C)===s},Tn.isStrictMode=function(C){return y(C)===i},Tn.isSuspense=function(C){return y(C)===l},Tn.isSuspenseList=function(C){return y(C)===c},Tn.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===n||C===s||C===i||C===l||C===c||C===p||typeof C=="object"&&C!==null&&(C.$$typeof===f||C.$$typeof===d||C.$$typeof===o||C.$$typeof===r||C.$$typeof===a||C.$$typeof===m||C.getModuleId!==void 0)},Tn.typeOf=y,Tn}var pH;function Awe(){return pH||(pH=1,ZR.exports=Rwe()),ZR.exports}var GW=Awe();function Ea(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function UW(t){if(E.isValidElement(t)||GW.isValidElementType(t)||!Ea(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=UW(t[n])}),e}function As(t,e,n={clone:!0}){const i=n.clone?{...t}:t;return Ea(t)&&Ea(e)&&Object.keys(e).forEach(s=>{E.isValidElement(e[s])||GW.isValidElementType(e[s])?i[s]=e[s]:Ea(e[s])&&Object.prototype.hasOwnProperty.call(t,s)&&Ea(t[s])?i[s]=As(t[s],e[s],n):n.clone?i[s]=Ea(e[s])?UW(e[s]):e[s]:i[s]=e[s]}),i}const Pwe=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,i)=>n.val-i.val),e.reduce((n,i)=>({...n,[i.key]:i.val}),{})};function Dwe(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:i=5,...s}=t,r=Pwe(e),o=Object.keys(r);function a(p){return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${n})`}function l(p){return`@media (max-width:${(typeof e[p]=="number"?e[p]:p)-i/100}${n})`}function c(p,m){const y=o.indexOf(m);return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${n}) and (max-width:${(y!==-1&&typeof e[o[y]]=="number"?e[o[y]]:m)-i/100}${n})`}function d(p){return o.indexOf(p)+1<o.length?c(p,o[o.indexOf(p)+1]):a(p)}function f(p){const m=o.indexOf(p);return m===0?a(o[1]):m===o.length-1?l(o[m]):c(p,o[o.indexOf(p)+1]).replace("@media","@media not all and")}return{keys:o,values:r,up:a,down:l,between:c,only:d,not:f,unit:n,...s}}function _we(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(i=>i.startsWith("@container")).sort((i,s)=>{var o,a;const r=/min-width:\s*([0-9.]+)/;return+(((o=i.match(r))==null?void 0:o[1])||0)-+(((a=s.match(r))==null?void 0:a[1])||0)});return n.length?n.reduce((i,s)=>{const r=e[s];return delete i[s],i[s]=r,i},{...e}):e}function Fwe(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function Nwe(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,i,s]=n,r=Number.isNaN(+i)?i||0:+i;return t.containerQueries(s).up(r)}function Iwe(t){const e=(r,o)=>r.replace("@media",o?`@container ${o}`:"@container");function n(r,o){r.up=(...a)=>e(t.breakpoints.up(...a),o),r.down=(...a)=>e(t.breakpoints.down(...a),o),r.between=(...a)=>e(t.breakpoints.between(...a),o),r.only=(...a)=>e(t.breakpoints.only(...a),o),r.not=(...a)=>{const l=e(t.breakpoints.not(...a),o);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const i={},s=r=>(n(i,r),i);return n(s),{...t,containerQueries:s}}const Owe={borderRadius:4};function yv(t,e){return e?As(t,e,{clone:!1}):t}const A1={xs:0,sm:600,md:900,lg:1200,xl:1536},mH={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${A1[t]}px)`},Lwe={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:A1[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function $l(t,e,n){const i=t.theme||{};if(Array.isArray(e)){const r=i.breakpoints||mH;return e.reduce((o,a,l)=>(o[r.up(r.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const r=i.breakpoints||mH;return Object.keys(e).reduce((o,a)=>{if(Fwe(r.keys,a)){const l=Nwe(i.containerQueries?i:Lwe,a);l&&(o[l]=n(e[a],a))}else if(Object.keys(r.values||A1).includes(a)){const l=r.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function kwe(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((i,s)=>{const r=t.up(s);return i[r]={},i},{}))||{}}function Bwe(t,e){return t.reduce((n,i)=>{const s=n[i];return(!s||Object.keys(s).length===0)&&delete n[i],n},e)}function wn(t){if(typeof t!="string")throw new Error(Wl(7));return t.charAt(0).toUpperCase()+t.slice(1)}function P1(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const i=`vars.${e}`.split(".").reduce((s,r)=>s&&s[r]?s[r]:null,t);if(i!=null)return i}return e.split(".").reduce((i,s)=>i&&i[s]!=null?i[s]:null,t)}function Ib(t,e,n,i=n){let s;return typeof t=="function"?s=t(n):Array.isArray(t)?s=t[n]||i:s=P1(t,n)||i,e&&(s=e(s,i,t)),s}function yi(t){const{prop:e,cssProperty:n=t.prop,themeKey:i,transform:s}=t,r=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=P1(l,i)||{};return $l(o,a,f=>{let p=Ib(c,s,f);return f===p&&typeof f=="string"&&(p=Ib(c,s,`${e}${f==="default"?"":wn(f)}`,f)),n===!1?p:{[n]:p}})};return r.propTypes={},r.filterProps=[e],r}function Hwe(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const Vwe={m:"margin",p:"padding"},zwe={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},gH={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Gwe=Hwe(t=>{if(t.length>2)if(gH[t])t=gH[t];else return[t];const[e,n]=t.split(""),i=Vwe[e],s=zwe[n]||"";return Array.isArray(s)?s.map(r=>i+r):[i+s]}),_F=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],FF=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[..._F,...FF];function o0(t,e,n,i){const s=P1(t,e,!0)??n;return typeof s=="number"||typeof s=="string"?r=>typeof r=="string"?r:typeof s=="string"?`calc(${r} * ${s})`:s*r:Array.isArray(s)?r=>{if(typeof r=="string")return r;const o=Math.abs(r),a=s[o];return r>=0?a:typeof a=="number"?-a:`-${a}`}:typeof s=="function"?s:()=>{}}function NF(t){return o0(t,"spacing",8)}function a0(t,e){return typeof e=="string"||e==null?e:t(e)}function Uwe(t,e){return n=>t.reduce((i,s)=>(i[s]=a0(e,n),i),{})}function jwe(t,e,n,i){if(!e.includes(n))return null;const s=Gwe(n),r=Uwe(s,i),o=t[n];return $l(t,o,r)}function jW(t,e){const n=NF(t.theme);return Object.keys(t).map(i=>jwe(t,e,i,n)).reduce(yv,{})}function ri(t){return jW(t,_F)}ri.propTypes={};ri.filterProps=_F;function oi(t){return jW(t,FF)}oi.propTypes={};oi.filterProps=FF;function WW(t=8,e=NF({spacing:t})){if(t.mui)return t;const n=(...i)=>(i.length===0?[1]:i).map(r=>{const o=e(r);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function D1(...t){const e=t.reduce((i,s)=>(s.filterProps.forEach(r=>{i[r]=s}),i),{}),n=i=>Object.keys(i).reduce((s,r)=>e[r]?yv(s,e[r](i)):s,{});return n.propTypes={},n.filterProps=t.reduce((i,s)=>i.concat(s.filterProps),[]),n}function xo(t){return typeof t!="number"?t:`${t}px solid`}function _o(t,e){return yi({prop:t,themeKey:"borders",transform:e})}const Wwe=_o("border",xo),$we=_o("borderTop",xo),qwe=_o("borderRight",xo),Kwe=_o("borderBottom",xo),Ywe=_o("borderLeft",xo),Xwe=_o("borderColor"),Zwe=_o("borderTopColor"),Jwe=_o("borderRightColor"),Qwe=_o("borderBottomColor"),ebe=_o("borderLeftColor"),tbe=_o("outline",xo),nbe=_o("outlineColor"),_1=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=o0(t.theme,"shape.borderRadius",4),n=i=>({borderRadius:a0(e,i)});return $l(t,t.borderRadius,n)}return null};_1.propTypes={};_1.filterProps=["borderRadius"];D1(Wwe,$we,qwe,Kwe,Ywe,Xwe,Zwe,Jwe,Qwe,ebe,_1,tbe,nbe);const F1=t=>{if(t.gap!==void 0&&t.gap!==null){const e=o0(t.theme,"spacing",8),n=i=>({gap:a0(e,i)});return $l(t,t.gap,n)}return null};F1.propTypes={};F1.filterProps=["gap"];const N1=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=o0(t.theme,"spacing",8),n=i=>({columnGap:a0(e,i)});return $l(t,t.columnGap,n)}return null};N1.propTypes={};N1.filterProps=["columnGap"];const I1=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=o0(t.theme,"spacing",8),n=i=>({rowGap:a0(e,i)});return $l(t,t.rowGap,n)}return null};I1.propTypes={};I1.filterProps=["rowGap"];const ibe=yi({prop:"gridColumn"}),sbe=yi({prop:"gridRow"}),rbe=yi({prop:"gridAutoFlow"}),obe=yi({prop:"gridAutoColumns"}),abe=yi({prop:"gridAutoRows"}),lbe=yi({prop:"gridTemplateColumns"}),cbe=yi({prop:"gridTemplateRows"}),ube=yi({prop:"gridTemplateAreas"}),dbe=yi({prop:"gridArea"});D1(F1,N1,I1,ibe,sbe,rbe,obe,abe,lbe,cbe,ube,dbe);function mp(t,e){return e==="grey"?e:t}const hbe=yi({prop:"color",themeKey:"palette",transform:mp}),fbe=yi({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:mp}),pbe=yi({prop:"backgroundColor",themeKey:"palette",transform:mp});D1(hbe,fbe,pbe);function Br(t){return t<=1&&t!==0?`${t*100}%`:t}const mbe=yi({prop:"width",transform:Br}),IF=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var s,r,o,a,l;const i=((o=(r=(s=t.theme)==null?void 0:s.breakpoints)==null?void 0:r.values)==null?void 0:o[n])||A1[n];return i?((l=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${i}${t.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:Br(n)}};return $l(t,t.maxWidth,e)}return null};IF.filterProps=["maxWidth"];const gbe=yi({prop:"minWidth",transform:Br}),vbe=yi({prop:"height",transform:Br}),ybe=yi({prop:"maxHeight",transform:Br}),xbe=yi({prop:"minHeight",transform:Br});yi({prop:"size",cssProperty:"width",transform:Br});yi({prop:"size",cssProperty:"height",transform:Br});const Cbe=yi({prop:"boxSizing"});D1(mbe,IF,gbe,vbe,ybe,xbe,Cbe);const l0={border:{themeKey:"borders",transform:xo},borderTop:{themeKey:"borders",transform:xo},borderRight:{themeKey:"borders",transform:xo},borderBottom:{themeKey:"borders",transform:xo},borderLeft:{themeKey:"borders",transform:xo},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:xo},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:_1},color:{themeKey:"palette",transform:mp},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:mp},backgroundColor:{themeKey:"palette",transform:mp},p:{style:oi},pt:{style:oi},pr:{style:oi},pb:{style:oi},pl:{style:oi},px:{style:oi},py:{style:oi},padding:{style:oi},paddingTop:{style:oi},paddingRight:{style:oi},paddingBottom:{style:oi},paddingLeft:{style:oi},paddingX:{style:oi},paddingY:{style:oi},paddingInline:{style:oi},paddingInlineStart:{style:oi},paddingInlineEnd:{style:oi},paddingBlock:{style:oi},paddingBlockStart:{style:oi},paddingBlockEnd:{style:oi},m:{style:ri},mt:{style:ri},mr:{style:ri},mb:{style:ri},ml:{style:ri},mx:{style:ri},my:{style:ri},margin:{style:ri},marginTop:{style:ri},marginRight:{style:ri},marginBottom:{style:ri},marginLeft:{style:ri},marginX:{style:ri},marginY:{style:ri},marginInline:{style:ri},marginInlineStart:{style:ri},marginInlineEnd:{style:ri},marginBlock:{style:ri},marginBlockStart:{style:ri},marginBlockEnd:{style:ri},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:F1},rowGap:{style:I1},columnGap:{style:N1},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Br},maxWidth:{style:IF},minWidth:{transform:Br},height:{transform:Br},maxHeight:{transform:Br},minHeight:{transform:Br},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function wbe(...t){const e=t.reduce((i,s)=>i.concat(Object.keys(s)),[]),n=new Set(e);return t.every(i=>n.size===Object.keys(i).length)}function bbe(t,e){return typeof t=="function"?t(e):t}function Sbe(){function t(n,i,s,r){const o={[n]:i,theme:s},a=r[n];if(!a)return{[n]:i};const{cssProperty:l=n,themeKey:c,transform:d,style:f}=a;if(i==null)return null;if(c==="typography"&&i==="inherit")return{[n]:i};const p=P1(s,c)||{};return f?f(o):$l(o,i,y=>{let C=Ib(p,d,y);return y===C&&typeof y=="string"&&(C=Ib(p,d,`${n}${y==="default"?"":wn(y)}`,y)),l===!1?C:{[l]:C}})}function e(n){const{sx:i,theme:s={}}=n||{};if(!i)return null;const r=s.unstable_sxConfig??l0;function o(a){let l=a;if(typeof a=="function")l=a(s);else if(typeof a!="object")return a;if(!l)return null;const c=kwe(s.breakpoints),d=Object.keys(c);let f=c;return Object.keys(l).forEach(p=>{const m=bbe(l[p],s);if(m!=null)if(typeof m=="object")if(r[p])f=yv(f,t(p,m,s,r));else{const y=$l({theme:s},m,C=>({[p]:C}));wbe(y,m)?f[p]=e({sx:m,theme:s}):f=yv(f,y)}else f=yv(f,t(p,m,s,r))}),_we(s,Bwe(d,f))}return Array.isArray(i)?i.map(o):o(i)}return e}const Ip=Sbe();Ip.filterProps=["sx"];function Ebe(t,e){var i;const n=this;if(n.vars){if(!((i=n.colorSchemes)!=null&&i[t])||typeof n.getColorSchemeSelector!="function")return{};let s=n.getColorSchemeSelector(t);return s==="&"?e:((s.includes("data-")||s.includes("."))&&(s=`*:where(${s.replace(/\s*&$/,"")}) &`),{[s]:e})}return n.palette.mode===t?e:{}}function OF(t={},...e){const{breakpoints:n={},palette:i={},spacing:s,shape:r={},...o}=t,a=Dwe(n),l=WW(s);let c=As({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...i},spacing:l,shape:{...Owe,...r}},o);return c=Iwe(c),c.applyStyles=Ebe,c=e.reduce((d,f)=>As(d,f),c),c.unstable_sxConfig={...l0,...o==null?void 0:o.unstable_sxConfig},c.unstable_sx=function(f){return Ip({sx:f,theme:this})},c}function Mbe(t){return Object.keys(t).length===0}function Tbe(t=null){const e=E.useContext(R1);return!e||Mbe(e)?t:e}const Rbe=OF();function $W(t=Rbe){return Tbe(t)}function Abe({styles:t,themeId:e,defaultTheme:n={}}){const i=$W(n),s=typeof t=="function"?t(e&&i[e]||i):t;return v.jsx(Ewe,{styles:s})}const Pbe=t=>{var i;const e={systemProps:{},otherProps:{}},n=((i=t==null?void 0:t.theme)==null?void 0:i.unstable_sxConfig)??l0;return Object.keys(t).forEach(s=>{n[s]?e.systemProps[s]=t[s]:e.otherProps[s]=t[s]}),e};function Dbe(t){const{sx:e,...n}=t,{systemProps:i,otherProps:s}=Pbe(n);let r;return Array.isArray(e)?r=[i,...e]:typeof e=="function"?r=(...o)=>{const a=e(...o);return Ea(a)?{...i,...a}:i}:r={...i,...e},{...s,sx:r}}const vH=t=>t,_be=()=>{let t=vH;return{configure(e){t=e},generate(e){return t(e)},reset(){t=vH}}},Fbe=_be(),Nbe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Jn(t,e,n="Mui"){const i=Nbe[e];return i?`${n}-${i}`:`${Fbe.generate(t)}-${e}`}function pi(t,e,n="Mui"){const i={};return e.forEach(s=>{i[s]=Jn(t,s,n)}),i}function qW(t){const{variants:e,...n}=t,i={variants:e,style:hH(n),isProcessed:!0};return i.style===n||e&&e.forEach(s=>{typeof s.style!="function"&&(s.style=hH(s.style))}),i}const Ibe=OF();function JR(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function Obe(t){return t?(e,n)=>n[t]:null}function Lbe(t,e,n){t.theme=Hbe(t.theme)?n:t.theme[e]||t.theme}function Iw(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(i=>Iw(t,i));if(Array.isArray(n==null?void 0:n.variants)){let i;if(n.isProcessed)i=n.style;else{const{variants:s,...r}=n;i=r}return KW(t,n.variants,[i])}return n!=null&&n.isProcessed?n.style:n}function KW(t,e,n=[]){var s;let i;e:for(let r=0;r<e.length;r+=1){const o=e[r];if(typeof o.props=="function"){if(i??(i={...t,...t.ownerState,ownerState:t.ownerState}),!o.props(i))continue}else for(const a in o.props)if(t[a]!==o.props[a]&&((s=t.ownerState)==null?void 0:s[a])!==o.props[a])continue e;typeof o.style=="function"?(i??(i={...t,...t.ownerState,ownerState:t.ownerState}),n.push(o.style(i))):n.push(o.style)}return n}function kbe(t={}){const{themeId:e,defaultTheme:n=Ibe,rootShouldForwardProp:i=JR,slotShouldForwardProp:s=JR}=t;function r(a){Lbe(a,e,n)}return(a,l={})=>{Twe(a,P=>P.filter(F=>F!==Ip));const{name:c,slot:d,skipVariantsResolver:f,skipSx:p,overridesResolver:m=Obe(zbe(d)),...y}=l,C=f!==void 0?f:d&&d!=="Root"&&d!=="root"||!1,x=p||!1;let w=JR;d==="Root"||d==="root"?w=i:d?w=s:Vbe(a)&&(w=void 0);const M=Mwe(a,{shouldForwardProp:w,label:Bbe(),...y}),S=P=>{if(typeof P=="function"&&P.__emotion_real!==P)return function(N){return Iw(N,P)};if(Ea(P)){const F=qW(P);return F.variants?function(I){return Iw(I,F)}:F.style}return P},R=(...P)=>{const F=[],N=P.map(S),I=[];if(F.push(r),c&&m&&I.push(function(k){var V,Q;const W=(Q=(V=k.theme.components)==null?void 0:V[c])==null?void 0:Q.styleOverrides;if(!W)return null;const K={};for(const q in W)K[q]=Iw(k,W[q]);return m(k,K)}),c&&!C&&I.push(function(k){var K,V;const z=k.theme,W=(V=(K=z==null?void 0:z.components)==null?void 0:K[c])==null?void 0:V.variants;return W?KW(k,W):null}),x||I.push(Ip),Array.isArray(N[0])){const O=N.shift(),k=new Array(F.length).fill(""),z=new Array(I.length).fill("");let W;W=[...k,...O,...z],W.raw=[...k,...O.raw,...z],F.unshift(W)}const _=[...F,...N,...I],A=M(..._);return a.muiName&&(A.muiName=a.muiName),A};return M.withConfig&&(R.withConfig=M.withConfig),R}}function Bbe(t,e){return void 0}function Hbe(t){for(const e in t)return!1;return!0}function Vbe(t){return typeof t=="string"&&t.charCodeAt(0)>96}function zbe(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function jP(t,e){const n={...e};for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const s=i;if(s==="components"||s==="slots")n[s]={...t[s],...n[s]};else if(s==="componentsProps"||s==="slotProps"){const r=t[s],o=e[s];if(!o)n[s]=r||{};else if(!r)n[s]=o;else{n[s]={...o};for(const a in r)if(Object.prototype.hasOwnProperty.call(r,a)){const l=a;n[s][l]=jP(r[l],o[l])}}}else n[s]===void 0&&(n[s]=t[s])}return n}const uh=typeof window<"u"?E.useLayoutEffect:E.useEffect;function Gbe(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function LF(t,e=0,n=1){return Gbe(t,e,n)}function Ube(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(i=>i+i)),n?`rgb${n.length===4?"a":""}(${n.map((i,s)=>s<3?parseInt(i,16):Math.round(parseInt(i,16)/255*1e3)/1e3).join(", ")})`:""}function ou(t){if(t.type)return t;if(t.charAt(0)==="#")return ou(Ube(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Wl(9,t));let i=t.substring(e+1,t.length-1),s;if(n==="color"){if(i=i.split(" "),s=i.shift(),i.length===4&&i[3].charAt(0)==="/"&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(s))throw new Error(Wl(10,s))}else i=i.split(",");return i=i.map(r=>parseFloat(r)),{type:n,values:i,colorSpace:s}}const jbe=t=>{const e=ou(t);return e.values.slice(0,3).map((n,i)=>e.type.includes("hsl")&&i!==0?`${n}%`:n).join(" ")},Xg=(t,e)=>{try{return jbe(t)}catch{return t}};function O1(t){const{type:e,colorSpace:n}=t;let{values:i}=t;return e.includes("rgb")?i=i.map((s,r)=>r<3?parseInt(s,10):s):e.includes("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),e.includes("color")?i=`${n} ${i.join(" ")}`:i=`${i.join(", ")}`,`${e}(${i})`}function YW(t){t=ou(t);const{values:e}=t,n=e[0],i=e[1]/100,s=e[2]/100,r=i*Math.min(s,1-s),o=(c,d=(c+n/30)%12)=>s-r*Math.max(Math.min(d-3,9-d,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),O1({type:a,values:l})}function WP(t){t=ou(t);let e=t.type==="hsl"||t.type==="hsla"?ou(YW(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Wbe(t,e){const n=WP(t),i=WP(e);return(Math.max(n,i)+.05)/(Math.min(n,i)+.05)}function $P(t,e){return t=ou(t),e=LF(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,O1(t)}function tC(t,e,n){try{return $P(t,e)}catch{return t}}function kF(t,e){if(t=ou(t),e=LF(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return O1(t)}function _n(t,e,n){try{return kF(t,e)}catch{return t}}function BF(t,e){if(t=ou(t),e=LF(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return O1(t)}function Fn(t,e,n){try{return BF(t,e)}catch{return t}}function $be(t,e=.15){return WP(t)>.5?kF(t,e):BF(t,e)}function nC(t,e,n){try{return $be(t,e)}catch{return t}}function yH(...t){return t.reduce((e,n)=>n==null?e:function(...s){e.apply(this,s),n.apply(this,s)},()=>{})}function XW(t,e=166){let n;function i(...s){const r=()=>{t.apply(this,s)};clearTimeout(n),n=setTimeout(r,e)}return i.clear=()=>{clearTimeout(n)},i}function QR(t,e){var n,i,s;return E.isValidElement(t)&&e.indexOf(t.type.muiName??((s=(i=(n=t.type)==null?void 0:n._payload)==null?void 0:i.value)==null?void 0:s.muiName))!==-1}function ea(t){return t&&t.ownerDocument||document}function ql(t){return ea(t).defaultView||window}function qP(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let xH=0;function qbe(t){const[e,n]=E.useState(t),i=t||e;return E.useEffect(()=>{e==null&&(xH+=1,n(`mui-${xH}`))},[e]),i}const Kbe={...Ov},CH=Kbe.useId;function HF(t){if(CH!==void 0){const e=CH();return t??e}return qbe(t)}function wH({controlled:t,default:e,name:n,state:i="value"}){const{current:s}=E.useRef(t!==void 0),[r,o]=E.useState(e),a=s?t:r,l=E.useCallback(c=>{s||o(c)},[]);return[a,l]}function bH(t){const e=E.useRef(t);return uh(()=>{e.current=t}),E.useRef((...n)=>(0,e.current)(...n)).current}function Fo(...t){return E.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{qP(n,e)})},t)}const SH={};function Ybe(t,e){const n=E.useRef(SH);return n.current===SH&&(n.current=t(e)),n}const Xbe=[];function Zbe(t){E.useEffect(t,Xbe)}class VF{constructor(){co(this,"currentId",null);co(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});co(this,"disposeEffect",()=>this.clear)}static create(){return new VF}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function Jbe(){const t=Ybe(VF.create).current;return Zbe(t.disposeEffect),t}function ZW(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function Qn(t,e,n=void 0){const i={};for(const s in t){const r=t[s];let o="",a=!0;for(let l=0;l<r.length;l+=1){const c=r[l];c&&(o+=(a===!0?"":" ")+e(c),a=!1,n&&n[c]&&(o+=" "+n[c]))}i[s]=o}return i}function Qbe(t){return typeof t=="string"}function JW(t,e,n){return t===void 0||Qbe(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function QW(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(i=>i.match(/^on[A-Z]/)&&typeof t[i]=="function"&&!e.includes(i)).forEach(i=>{n[i]=t[i]}),n}function EH(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function e9(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:i,externalForwardedProps:s,className:r}=t;if(!e){const m=Rn(n==null?void 0:n.className,r,s==null?void 0:s.className,i==null?void 0:i.className),y={...n==null?void 0:n.style,...s==null?void 0:s.style,...i==null?void 0:i.style},C={...n,...s,...i};return m.length>0&&(C.className=m),Object.keys(y).length>0&&(C.style=y),{props:C,internalRef:void 0}}const o=QW({...s,...i}),a=EH(i),l=EH(s),c=e(o),d=Rn(c==null?void 0:c.className,n==null?void 0:n.className,r,s==null?void 0:s.className,i==null?void 0:i.className),f={...c==null?void 0:c.style,...n==null?void 0:n.style,...s==null?void 0:s.style,...i==null?void 0:i.style},p={...c,...n,...l,...a};return d.length>0&&(p.className=d),Object.keys(f).length>0&&(p.style=f),{props:p,internalRef:c.ref}}function t9(t,e,n){return typeof t=="function"?t(e,n):t}function eSe(t){var f;const{elementType:e,externalSlotProps:n,ownerState:i,skipResolvingSlotProps:s=!1,...r}=t,o=s?{}:t9(n,i),{props:a,internalRef:l}=e9({...r,externalSlotProps:o}),c=Fo(l,o==null?void 0:o.ref,(f=t.additionalProps)==null?void 0:f.ref);return JW(e,{...a,ref:c},i)}function c0(t){var e;return parseInt(E.version,10)>=19?((e=t==null?void 0:t.props)==null?void 0:e.ref)||null:(t==null?void 0:t.ref)||null}const tSe=E.createContext(),nSe=()=>E.useContext(tSe)??!1,iSe=E.createContext(void 0);function sSe(t){const{theme:e,name:n,props:i}=t;if(!e||!e.components||!e.components[n])return i;const s=e.components[n];return s.defaultProps?jP(s.defaultProps,i):!s.styleOverrides&&!s.variants?jP(s,i):i}function rSe({props:t,name:e}){const n=E.useContext(iSe);return sSe({props:t,name:e,theme:{components:n}})}const MH={theme:void 0};function oSe(t){let e,n;return function(s){let r=e;return(r===void 0||s.theme!==n)&&(MH.theme=s.theme,r=qW(t(MH)),e=r,n=s.theme),r}}function aSe(t=""){function e(...i){if(!i.length)return"";const s=i[0];return typeof s=="string"&&!s.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${s}${e(...i.slice(1))})`:`, ${s}`}return(i,...s)=>`var(--${t?`${t}-`:""}${i}${e(...s)})`}const TH=(t,e,n,i=[])=>{let s=t;e.forEach((r,o)=>{o===e.length-1?Array.isArray(s)?s[Number(r)]=n:s&&typeof s=="object"&&(s[r]=n):s&&typeof s=="object"&&(s[r]||(s[r]=i.includes(r)?[]:{}),s=s[r])})},lSe=(t,e,n)=>{function i(s,r=[],o=[]){Object.entries(s).forEach(([a,l])=>{(!n||n&&!n([...r,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?i(l,[...r,a],Array.isArray(l)?[...o,a]:o):e([...r,a],l,o))})}i(t)},cSe=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(i=>t.includes(i))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function eA(t,e){const{prefix:n,shouldSkipGeneratingVar:i}=e||{},s={},r={},o={};return lSe(t,(a,l,c)=>{if((typeof l=="string"||typeof l=="number")&&(!i||!i(a,l))){const d=`--${n?`${n}-`:""}${a.join("-")}`,f=cSe(a,l);Object.assign(s,{[d]:f}),TH(r,a,`var(${d})`,c),TH(o,a,`var(${d}, ${f})`,c)}},a=>a[0]==="vars"),{css:s,vars:r,varsWithDefaults:o}}function uSe(t,e={}){const{getSelector:n=x,disableCssColorScheme:i,colorSchemeSelector:s}=e,{colorSchemes:r={},components:o,defaultColorScheme:a="light",...l}=t,{vars:c,css:d,varsWithDefaults:f}=eA(l,e);let p=f;const m={},{[a]:y,...C}=r;if(Object.entries(C||{}).forEach(([S,R])=>{const{vars:P,css:F,varsWithDefaults:N}=eA(R,e);p=As(p,N),m[S]={css:F,vars:P}}),y){const{css:S,vars:R,varsWithDefaults:P}=eA(y,e);p=As(p,P),m[a]={css:S,vars:R}}function x(S,R){var F,N;let P=s;if(s==="class"&&(P=".%s"),s==="data"&&(P="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(P=`[${s}="%s"]`),S){if(P==="media")return t.defaultColorScheme===S?":root":{[`@media (prefers-color-scheme: ${((N=(F=r[S])==null?void 0:F.palette)==null?void 0:N.mode)||S})`]:{":root":R}};if(P)return t.defaultColorScheme===S?`:root, ${P.replace("%s",String(S))}`:P.replace("%s",String(S))}return":root"}return{vars:p,generateThemeVars:()=>{let S={...c};return Object.entries(m).forEach(([,{vars:R}])=>{S=As(S,R)}),S},generateStyleSheets:()=>{var I,_;const S=[],R=t.defaultColorScheme||"light";function P(A,O){Object.keys(O).length&&S.push(typeof A=="string"?{[A]:{...O}}:A)}P(n(void 0,{...d}),d);const{[R]:F,...N}=m;if(F){const{css:A}=F,O=(_=(I=r[R])==null?void 0:I.palette)==null?void 0:_.mode,k=!i&&O?{colorScheme:O,...A}:{...A};P(n(R,{...k}),k)}return Object.entries(N).forEach(([A,{css:O}])=>{var W,K;const k=(K=(W=r[A])==null?void 0:W.palette)==null?void 0:K.mode,z=!i&&k?{colorScheme:k,...O}:{...O};P(n(A,{...z}),z)}),S}}}function dSe(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}function n9(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:sy.white,default:sy.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const hSe=n9();function i9(){return{text:{primary:sy.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:sy.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const RH=i9();function AH(t,e,n,i){const s=i.light||i,r=i.dark||i*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=BF(t.main,s):e==="dark"&&(t.dark=kF(t.main,r)))}function fSe(t="light"){return t==="dark"?{main:xf[200],light:xf[50],dark:xf[400]}:{main:xf[700],light:xf[400],dark:xf[800]}}function pSe(t="light"){return t==="dark"?{main:yf[200],light:yf[50],dark:yf[400]}:{main:yf[500],light:yf[300],dark:yf[700]}}function mSe(t="light"){return t==="dark"?{main:vf[500],light:vf[300],dark:vf[700]}:{main:vf[700],light:vf[400],dark:vf[800]}}function gSe(t="light"){return t==="dark"?{main:Cf[400],light:Cf[300],dark:Cf[700]}:{main:Cf[700],light:Cf[500],dark:Cf[900]}}function vSe(t="light"){return t==="dark"?{main:wf[400],light:wf[300],dark:wf[700]}:{main:wf[800],light:wf[500],dark:wf[900]}}function ySe(t="light"){return t==="dark"?{main:wg[400],light:wg[300],dark:wg[700]}:{main:"#ed6c02",light:wg[500],dark:wg[900]}}function zF(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:i=.2,...s}=t,r=t.primary||fSe(e),o=t.secondary||pSe(e),a=t.error||mSe(e),l=t.info||gSe(e),c=t.success||vSe(e),d=t.warning||ySe(e);function f(C){return Wbe(C,RH.text.primary)>=n?RH.text.primary:hSe.text.primary}const p=({color:C,name:x,mainShade:w=500,lightShade:M=300,darkShade:S=700})=>{if(C={...C},!C.main&&C[w]&&(C.main=C[w]),!C.hasOwnProperty("main"))throw new Error(Wl(11,x?` (${x})`:"",w));if(typeof C.main!="string")throw new Error(Wl(12,x?` (${x})`:"",JSON.stringify(C.main)));return AH(C,"light",M,i),AH(C,"dark",S,i),C.contrastText||(C.contrastText=f(C.main)),C};let m;return e==="light"?m=n9():e==="dark"&&(m=i9()),As({common:{...sy},mode:e,primary:p({color:r,name:"primary"}),secondary:p({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:a,name:"error"}),warning:p({color:d,name:"warning"}),info:p({color:l,name:"info"}),success:p({color:c,name:"success"}),grey:ECe,contrastThreshold:n,getContrastText:f,augmentColor:p,tonalOffset:i,...m},s)}function xSe(t){const e={};return Object.entries(t).forEach(i=>{const[s,r]=i;typeof r=="object"&&(e[s]=`${r.fontStyle?`${r.fontStyle} `:""}${r.fontVariant?`${r.fontVariant} `:""}${r.fontWeight?`${r.fontWeight} `:""}${r.fontStretch?`${r.fontStretch} `:""}${r.fontSize||""}${r.lineHeight?`/${r.lineHeight} `:""}${r.fontFamily||""}`)}),e}function CSe(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function wSe(t){return Math.round(t*1e5)/1e5}const PH={textTransform:"uppercase"},DH='"Roboto", "Helvetica", "Arial", sans-serif';function bSe(t,e){const{fontFamily:n=DH,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:r=400,fontWeightMedium:o=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:c,pxToRem:d,...f}=typeof e=="function"?e(t):e,p=i/14,m=d||(x=>`${x/l*p}rem`),y=(x,w,M,S,R)=>({fontFamily:n,fontWeight:x,fontSize:m(w),lineHeight:M,...n===DH?{letterSpacing:`${wSe(S/w)}em`}:{},...R,...c}),C={h1:y(s,96,1.167,-1.5),h2:y(s,60,1.2,-.5),h3:y(r,48,1.167,0),h4:y(r,34,1.235,.25),h5:y(r,24,1.334,0),h6:y(o,20,1.6,.15),subtitle1:y(r,16,1.75,.15),subtitle2:y(o,14,1.57,.1),body1:y(r,16,1.5,.15),body2:y(r,14,1.43,.15),button:y(o,14,1.75,.4,PH),caption:y(r,12,1.66,.4),overline:y(r,12,2.66,1,PH),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return As({htmlFontSize:l,pxToRem:m,fontFamily:n,fontSize:i,fontWeightLight:s,fontWeightRegular:r,fontWeightMedium:o,fontWeightBold:a,...C},f,{clone:!1})}const SSe=.2,ESe=.14,MSe=.12;function zn(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${SSe})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${ESe})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${MSe})`].join(",")}const TSe=["none",zn(0,2,1,-1,0,1,1,0,0,1,3,0),zn(0,3,1,-2,0,2,2,0,0,1,5,0),zn(0,3,3,-2,0,3,4,0,0,1,8,0),zn(0,2,4,-1,0,4,5,0,0,1,10,0),zn(0,3,5,-1,0,5,8,0,0,1,14,0),zn(0,3,5,-1,0,6,10,0,0,1,18,0),zn(0,4,5,-2,0,7,10,1,0,2,16,1),zn(0,5,5,-3,0,8,10,1,0,3,14,2),zn(0,5,6,-3,0,9,12,1,0,3,16,2),zn(0,6,6,-3,0,10,14,1,0,4,18,3),zn(0,6,7,-4,0,11,15,1,0,4,20,3),zn(0,7,8,-4,0,12,17,2,0,5,22,4),zn(0,7,8,-4,0,13,19,2,0,5,24,4),zn(0,7,9,-4,0,14,21,2,0,5,26,4),zn(0,8,9,-5,0,15,22,2,0,6,28,5),zn(0,8,10,-5,0,16,24,2,0,6,30,5),zn(0,8,11,-5,0,17,26,2,0,6,32,5),zn(0,9,11,-5,0,18,28,2,0,7,34,6),zn(0,9,12,-6,0,19,29,2,0,7,36,6),zn(0,10,13,-6,0,20,31,3,0,8,38,7),zn(0,10,13,-6,0,21,33,3,0,8,40,7),zn(0,10,14,-6,0,22,35,3,0,8,42,7),zn(0,11,14,-7,0,23,36,3,0,9,44,8),zn(0,11,15,-7,0,24,38,3,0,9,46,8)],RSe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},ASe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function _H(t){return`${Math.round(t)}ms`}function PSe(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function DSe(t){const e={...RSe,...t.easing},n={...ASe,...t.duration};return{getAutoHeightDuration:PSe,create:(s=["all"],r={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0,...c}=r;return(Array.isArray(s)?s:[s]).map(d=>`${d} ${typeof o=="string"?o:_H(o)} ${a} ${typeof l=="string"?l:_H(l)}`).join(",")},...t,easing:e,duration:n}}const _Se={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function FSe(t){return Ea(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function s9(t={}){const e={...t};function n(i){const s=Object.entries(i);for(let r=0;r<s.length;r++){const[o,a]=s[r];!FSe(a)||o.startsWith("unstable_")?delete i[o]:Ea(a)&&(i[o]={...a},n(i[o]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function KP(t={},...e){const{breakpoints:n,mixins:i={},spacing:s,palette:r={},transitions:o={},typography:a={},shape:l,...c}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(Wl(20));const d=zF(r),f=OF(t);let p=As(f,{mixins:CSe(f.breakpoints,i),palette:d,shadows:TSe.slice(),typography:bSe(d,a),transitions:DSe(o),zIndex:{..._Se}});return p=As(p,c),p=e.reduce((m,y)=>As(m,y),p),p.unstable_sxConfig={...l0,...c==null?void 0:c.unstable_sxConfig},p.unstable_sx=function(y){return Ip({sx:y,theme:this})},p.toRuntimeSource=s9,p}function YP(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const NSe=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=YP(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function r9(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function o9(t){return t==="dark"?NSe:[]}function ISe(t){const{palette:e={mode:"light"},opacity:n,overlays:i,...s}=t,r=zF(e);return{palette:r,opacity:{...r9(r.mode),...n},overlays:i||o9(r.mode),...s}}function OSe(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const LSe=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],kSe=t=>(e,n)=>{const i=t.rootSelector||":root",s=t.colorSchemeSelector;let r=s;if(s==="class"&&(r=".%s"),s==="data"&&(r="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(r=`[${s}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const o={};return LSe(t.cssVarPrefix).forEach(a=>{o[a]=n[a],delete n[a]}),r==="media"?{[i]:n,"@media (prefers-color-scheme: dark)":{[i]:o}}:r?{[r.replace("%s",e)]:o,[`${i}, ${r.replace("%s",e)}`]:n}:{[i]:{...n,...o}}}if(r&&r!=="media")return`${i}, ${r.replace("%s",String(e))}`}else if(e){if(r==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[i]:n}};if(r)return r.replace("%s",String(e))}return i};function BSe(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function Ae(t,e,n){!t[e]&&n&&(t[e]=n)}function Zg(t){return typeof t!="string"||!t.startsWith("hsl")?t:YW(t)}function ml(t,e){`${e}Channel`in t||(t[`${e}Channel`]=Xg(Zg(t[e])))}function HSe(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const va=t=>{try{return t()}catch{}},VSe=(t="mui")=>aSe(t);function tA(t,e,n,i){if(!e)return;e=e===!0?{}:e;const s=i==="dark"?"dark":"light";if(!n){t[i]=ISe({...e,palette:{mode:s,...e==null?void 0:e.palette}});return}const{palette:r,...o}=KP({...n,palette:{mode:s,...e==null?void 0:e.palette}});return t[i]={...e,palette:r,opacity:{...r9(s),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||o9(s)},o}function zSe(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:i,disableCssColorScheme:s=!1,cssVarPrefix:r="mui",shouldSkipGeneratingVar:o=OSe,colorSchemeSelector:a=n.light&&n.dark?"media":void 0,rootSelector:l=":root",...c}=t,d=Object.keys(n)[0],f=i||(n.light&&d!=="light"?"light":d),p=VSe(r),{[f]:m,light:y,dark:C,...x}=n,w={...x};let M=m;if((f==="dark"&&!("dark"in n)||f==="light"&&!("light"in n))&&(M=!0),!M)throw new Error(Wl(21,f));const S=tA(w,M,c,f);y&&!w.light&&tA(w,y,void 0,"light"),C&&!w.dark&&tA(w,C,void 0,"dark");let R={defaultColorScheme:f,...S,cssVarPrefix:r,colorSchemeSelector:a,rootSelector:l,getCssVar:p,colorSchemes:w,font:{...xSe(S.typography),...S.font},spacing:HSe(c.spacing)};Object.keys(R.colorSchemes).forEach(_=>{const A=R.colorSchemes[_].palette,O=k=>{const z=k.split("-"),W=z[1],K=z[2];return p(k,A[W][K])};if(A.mode==="light"&&(Ae(A.common,"background","#fff"),Ae(A.common,"onBackground","#000")),A.mode==="dark"&&(Ae(A.common,"background","#000"),Ae(A.common,"onBackground","#fff")),BSe(A,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),A.mode==="light"){Ae(A.Alert,"errorColor",_n(A.error.light,.6)),Ae(A.Alert,"infoColor",_n(A.info.light,.6)),Ae(A.Alert,"successColor",_n(A.success.light,.6)),Ae(A.Alert,"warningColor",_n(A.warning.light,.6)),Ae(A.Alert,"errorFilledBg",O("palette-error-main")),Ae(A.Alert,"infoFilledBg",O("palette-info-main")),Ae(A.Alert,"successFilledBg",O("palette-success-main")),Ae(A.Alert,"warningFilledBg",O("palette-warning-main")),Ae(A.Alert,"errorFilledColor",va(()=>A.getContrastText(A.error.main))),Ae(A.Alert,"infoFilledColor",va(()=>A.getContrastText(A.info.main))),Ae(A.Alert,"successFilledColor",va(()=>A.getContrastText(A.success.main))),Ae(A.Alert,"warningFilledColor",va(()=>A.getContrastText(A.warning.main))),Ae(A.Alert,"errorStandardBg",Fn(A.error.light,.9)),Ae(A.Alert,"infoStandardBg",Fn(A.info.light,.9)),Ae(A.Alert,"successStandardBg",Fn(A.success.light,.9)),Ae(A.Alert,"warningStandardBg",Fn(A.warning.light,.9)),Ae(A.Alert,"errorIconColor",O("palette-error-main")),Ae(A.Alert,"infoIconColor",O("palette-info-main")),Ae(A.Alert,"successIconColor",O("palette-success-main")),Ae(A.Alert,"warningIconColor",O("palette-warning-main")),Ae(A.AppBar,"defaultBg",O("palette-grey-100")),Ae(A.Avatar,"defaultBg",O("palette-grey-400")),Ae(A.Button,"inheritContainedBg",O("palette-grey-300")),Ae(A.Button,"inheritContainedHoverBg",O("palette-grey-A100")),Ae(A.Chip,"defaultBorder",O("palette-grey-400")),Ae(A.Chip,"defaultAvatarColor",O("palette-grey-700")),Ae(A.Chip,"defaultIconColor",O("palette-grey-700")),Ae(A.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Ae(A.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Ae(A.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Ae(A.LinearProgress,"primaryBg",Fn(A.primary.main,.62)),Ae(A.LinearProgress,"secondaryBg",Fn(A.secondary.main,.62)),Ae(A.LinearProgress,"errorBg",Fn(A.error.main,.62)),Ae(A.LinearProgress,"infoBg",Fn(A.info.main,.62)),Ae(A.LinearProgress,"successBg",Fn(A.success.main,.62)),Ae(A.LinearProgress,"warningBg",Fn(A.warning.main,.62)),Ae(A.Skeleton,"bg",`rgba(${O("palette-text-primaryChannel")} / 0.11)`),Ae(A.Slider,"primaryTrack",Fn(A.primary.main,.62)),Ae(A.Slider,"secondaryTrack",Fn(A.secondary.main,.62)),Ae(A.Slider,"errorTrack",Fn(A.error.main,.62)),Ae(A.Slider,"infoTrack",Fn(A.info.main,.62)),Ae(A.Slider,"successTrack",Fn(A.success.main,.62)),Ae(A.Slider,"warningTrack",Fn(A.warning.main,.62));const k=nC(A.background.default,.8);Ae(A.SnackbarContent,"bg",k),Ae(A.SnackbarContent,"color",va(()=>A.getContrastText(k))),Ae(A.SpeedDialAction,"fabHoverBg",nC(A.background.paper,.15)),Ae(A.StepConnector,"border",O("palette-grey-400")),Ae(A.StepContent,"border",O("palette-grey-400")),Ae(A.Switch,"defaultColor",O("palette-common-white")),Ae(A.Switch,"defaultDisabledColor",O("palette-grey-100")),Ae(A.Switch,"primaryDisabledColor",Fn(A.primary.main,.62)),Ae(A.Switch,"secondaryDisabledColor",Fn(A.secondary.main,.62)),Ae(A.Switch,"errorDisabledColor",Fn(A.error.main,.62)),Ae(A.Switch,"infoDisabledColor",Fn(A.info.main,.62)),Ae(A.Switch,"successDisabledColor",Fn(A.success.main,.62)),Ae(A.Switch,"warningDisabledColor",Fn(A.warning.main,.62)),Ae(A.TableCell,"border",Fn(tC(A.divider,1),.88)),Ae(A.Tooltip,"bg",tC(A.grey[700],.92))}if(A.mode==="dark"){Ae(A.Alert,"errorColor",Fn(A.error.light,.6)),Ae(A.Alert,"infoColor",Fn(A.info.light,.6)),Ae(A.Alert,"successColor",Fn(A.success.light,.6)),Ae(A.Alert,"warningColor",Fn(A.warning.light,.6)),Ae(A.Alert,"errorFilledBg",O("palette-error-dark")),Ae(A.Alert,"infoFilledBg",O("palette-info-dark")),Ae(A.Alert,"successFilledBg",O("palette-success-dark")),Ae(A.Alert,"warningFilledBg",O("palette-warning-dark")),Ae(A.Alert,"errorFilledColor",va(()=>A.getContrastText(A.error.dark))),Ae(A.Alert,"infoFilledColor",va(()=>A.getContrastText(A.info.dark))),Ae(A.Alert,"successFilledColor",va(()=>A.getContrastText(A.success.dark))),Ae(A.Alert,"warningFilledColor",va(()=>A.getContrastText(A.warning.dark))),Ae(A.Alert,"errorStandardBg",_n(A.error.light,.9)),Ae(A.Alert,"infoStandardBg",_n(A.info.light,.9)),Ae(A.Alert,"successStandardBg",_n(A.success.light,.9)),Ae(A.Alert,"warningStandardBg",_n(A.warning.light,.9)),Ae(A.Alert,"errorIconColor",O("palette-error-main")),Ae(A.Alert,"infoIconColor",O("palette-info-main")),Ae(A.Alert,"successIconColor",O("palette-success-main")),Ae(A.Alert,"warningIconColor",O("palette-warning-main")),Ae(A.AppBar,"defaultBg",O("palette-grey-900")),Ae(A.AppBar,"darkBg",O("palette-background-paper")),Ae(A.AppBar,"darkColor",O("palette-text-primary")),Ae(A.Avatar,"defaultBg",O("palette-grey-600")),Ae(A.Button,"inheritContainedBg",O("palette-grey-800")),Ae(A.Button,"inheritContainedHoverBg",O("palette-grey-700")),Ae(A.Chip,"defaultBorder",O("palette-grey-700")),Ae(A.Chip,"defaultAvatarColor",O("palette-grey-300")),Ae(A.Chip,"defaultIconColor",O("palette-grey-300")),Ae(A.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Ae(A.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Ae(A.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Ae(A.LinearProgress,"primaryBg",_n(A.primary.main,.5)),Ae(A.LinearProgress,"secondaryBg",_n(A.secondary.main,.5)),Ae(A.LinearProgress,"errorBg",_n(A.error.main,.5)),Ae(A.LinearProgress,"infoBg",_n(A.info.main,.5)),Ae(A.LinearProgress,"successBg",_n(A.success.main,.5)),Ae(A.LinearProgress,"warningBg",_n(A.warning.main,.5)),Ae(A.Skeleton,"bg",`rgba(${O("palette-text-primaryChannel")} / 0.13)`),Ae(A.Slider,"primaryTrack",_n(A.primary.main,.5)),Ae(A.Slider,"secondaryTrack",_n(A.secondary.main,.5)),Ae(A.Slider,"errorTrack",_n(A.error.main,.5)),Ae(A.Slider,"infoTrack",_n(A.info.main,.5)),Ae(A.Slider,"successTrack",_n(A.success.main,.5)),Ae(A.Slider,"warningTrack",_n(A.warning.main,.5));const k=nC(A.background.default,.98);Ae(A.SnackbarContent,"bg",k),Ae(A.SnackbarContent,"color",va(()=>A.getContrastText(k))),Ae(A.SpeedDialAction,"fabHoverBg",nC(A.background.paper,.15)),Ae(A.StepConnector,"border",O("palette-grey-600")),Ae(A.StepContent,"border",O("palette-grey-600")),Ae(A.Switch,"defaultColor",O("palette-grey-300")),Ae(A.Switch,"defaultDisabledColor",O("palette-grey-600")),Ae(A.Switch,"primaryDisabledColor",_n(A.primary.main,.55)),Ae(A.Switch,"secondaryDisabledColor",_n(A.secondary.main,.55)),Ae(A.Switch,"errorDisabledColor",_n(A.error.main,.55)),Ae(A.Switch,"infoDisabledColor",_n(A.info.main,.55)),Ae(A.Switch,"successDisabledColor",_n(A.success.main,.55)),Ae(A.Switch,"warningDisabledColor",_n(A.warning.main,.55)),Ae(A.TableCell,"border",_n(tC(A.divider,1),.68)),Ae(A.Tooltip,"bg",tC(A.grey[700],.92))}ml(A.background,"default"),ml(A.background,"paper"),ml(A.common,"background"),ml(A.common,"onBackground"),ml(A,"divider"),Object.keys(A).forEach(k=>{const z=A[k];k!=="tonalOffset"&&z&&typeof z=="object"&&(z.main&&Ae(A[k],"mainChannel",Xg(Zg(z.main))),z.light&&Ae(A[k],"lightChannel",Xg(Zg(z.light))),z.dark&&Ae(A[k],"darkChannel",Xg(Zg(z.dark))),z.contrastText&&Ae(A[k],"contrastTextChannel",Xg(Zg(z.contrastText))),k==="text"&&(ml(A[k],"primary"),ml(A[k],"secondary")),k==="action"&&(z.active&&ml(A[k],"active"),z.selected&&ml(A[k],"selected")))})}),R=e.reduce((_,A)=>As(_,A),R);const P={prefix:r,disableCssColorScheme:s,shouldSkipGeneratingVar:o,getSelector:kSe(R)},{vars:F,generateThemeVars:N,generateStyleSheets:I}=uSe(R,P);return R.vars=F,Object.entries(R.colorSchemes[R.defaultColorScheme]).forEach(([_,A])=>{R[_]=A}),R.generateThemeVars=N,R.generateStyleSheets=I,R.generateSpacing=function(){return WW(c.spacing,NF(this))},R.getColorSchemeSelector=dSe(a),R.spacing=R.generateSpacing(),R.shouldSkipGeneratingVar=o,R.unstable_sxConfig={...l0,...c==null?void 0:c.unstable_sxConfig},R.unstable_sx=function(A){return Ip({sx:A,theme:this})},R.toRuntimeSource=s9,R}function FH(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:zF({...n===!0?{}:n.palette,mode:e})})}function GSe(t={},...e){const{palette:n,cssVariables:i=!1,colorSchemes:s=n?void 0:{light:!0},defaultColorScheme:r=n==null?void 0:n.mode,...o}=t,a=r||"light",l=s==null?void 0:s[a],c={...s,...n?{[a]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(i===!1){if(!("colorSchemes"in t))return KP(t,...e);let d=n;"palette"in t||c[a]&&(c[a]!==!0?d=c[a].palette:a==="dark"&&(d={mode:"dark"}));const f=KP({...t,palette:d},...e);return f.defaultColorScheme=a,f.colorSchemes=c,f.palette.mode==="light"&&(f.colorSchemes.light={...c.light!==!0&&c.light,palette:f.palette},FH(f,"dark",c.dark)),f.palette.mode==="dark"&&(f.colorSchemes.dark={...c.dark!==!0&&c.dark,palette:f.palette},FH(f,"light",c.light)),f}return!n&&!("light"in c)&&a==="light"&&(c.light=!0),zSe({...o,colorSchemes:c,defaultColorScheme:a,...typeof i!="boolean"&&i},...e)}const GF=GSe();function L1(){const t=$W(GF);return t[SF]||t}function a9(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const ja=t=>a9(t)&&t!=="classes",Ft=kbe({themeId:SF,defaultTheme:GF,rootShouldForwardProp:ja});function USe(t){return v.jsx(Abe,{...t,defaultTheme:GF,themeId:SF})}function jSe(t){return function(n){return v.jsx(USe,{styles:typeof t=="function"?i=>t({theme:i,...n}):t})}}function WSe(){return Dbe}const Vi=oSe;function xi(t){return rSe(t)}function $Se(t){return Jn("MuiSvgIcon",t)}pi("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const qSe=t=>{const{color:e,fontSize:n,classes:i}=t,s={root:["root",e!=="inherit"&&`color${wn(e)}`,`fontSize${wn(n)}`]};return Qn(s,$Se,i)},KSe=Ft("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${wn(n.color)}`],e[`fontSize${wn(n.fontSize)}`]]}})(Vi(({theme:t})=>{var e,n,i,s,r,o,a,l,c,d,f,p,m,y;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(s=(e=t.transitions)==null?void 0:e.create)==null?void 0:s.call(e,"fill",{duration:(i=(n=(t.vars??t).transitions)==null?void 0:n.duration)==null?void 0:i.shorter}),variants:[{props:C=>!C.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(r=t.typography)==null?void 0:r.pxToRem)==null?void 0:o.call(r,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(a=t.typography)==null?void 0:a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((d=(c=t.typography)==null?void 0:c.pxToRem)==null?void 0:d.call(c,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,C])=>C&&C.main).map(([C])=>{var x,w;return{props:{color:C},style:{color:(w=(x=(t.vars??t).palette)==null?void 0:x[C])==null?void 0:w.main}}}),{props:{color:"action"},style:{color:(p=(f=(t.vars??t).palette)==null?void 0:f.action)==null?void 0:p.active}},{props:{color:"disabled"},style:{color:(y=(m=(t.vars??t).palette)==null?void 0:m.action)==null?void 0:y.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),XP=E.forwardRef(function(e,n){const i=xi({props:e,name:"MuiSvgIcon"}),{children:s,className:r,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:d=!1,titleAccess:f,viewBox:p="0 0 24 24",...m}=i,y=E.isValidElement(s)&&s.type==="svg",C={...i,color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:p,hasSvgAsChild:y},x={};d||(x.viewBox=p);const w=qSe(C);return v.jsxs(KSe,{as:a,className:Rn(w.root,r),focusable:"false",color:c,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:n,...x,...m,...y&&s.props,ownerState:C,children:[y?s.props.children:s,f?v.jsx("title",{children:f}):null]})});XP.muiName="SvgIcon";function u0(t,e){function n(i,s){return v.jsx(XP,{"data-testid":`${e}Icon`,ref:s,...i,children:t})}return n.muiName=XP.muiName,E.memo(E.forwardRef(n))}function YSe(t,e){if(!t)return e;if(typeof t=="function"||typeof e=="function")return s=>{const r=typeof e=="function"?e(s):e,o=typeof t=="function"?t({...s,...r}):t,a=Rn(s==null?void 0:s.className,r==null?void 0:r.className,o==null?void 0:o.className);return{...r,...o,...!!a&&{className:a},...(r==null?void 0:r.style)&&(o==null?void 0:o.style)&&{style:{...r.style,...o.style}},...(r==null?void 0:r.sx)&&(o==null?void 0:o.sx)&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(o.sx)?o.sx:[o.sx]]}}};const n=e,i=Rn(n==null?void 0:n.className,t==null?void 0:t.className);return{...e,...t,...!!i&&{className:i},...(n==null?void 0:n.style)&&(t==null?void 0:t.style)&&{style:{...n.style,...t.style}},...(n==null?void 0:n.sx)&&(t==null?void 0:t.sx)&&{sx:[...Array.isArray(n.sx)?n.sx:[n.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}function XSe(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function ZP(t,e){return ZP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ZP(t,e)}function ZSe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ZP(t,e)}const NH={disabled:!1},l9=ne.createContext(null);var JSe=function(e){return e.scrollTop},Jg="unmounted",ud="exited",dd="entering",Wf="entered",JP="exiting",Wa=function(t){ZSe(e,t);function e(i,s){var r;r=t.call(this,i,s)||this;var o=s,a=o&&!o.isMounting?i.enter:i.appear,l;return r.appearStatus=null,i.in?a?(l=ud,r.appearStatus=dd):l=Wf:i.unmountOnExit||i.mountOnEnter?l=Jg:l=ud,r.state={status:l},r.nextCallback=null,r}e.getDerivedStateFromProps=function(s,r){var o=s.in;return o&&r.status===Jg?{status:ud}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var r=null;if(s!==this.props){var o=this.state.status;this.props.in?o!==dd&&o!==Wf&&(r=dd):(o===dd||o===Wf)&&(r=JP)}this.updateStatus(!1,r)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,r,o,a;return r=o=a=s,s!=null&&typeof s!="number"&&(r=s.exit,o=s.enter,a=s.appear!==void 0?s.appear:o),{exit:r,enter:o,appear:a}},n.updateStatus=function(s,r){if(s===void 0&&(s=!1),r!==null)if(this.cancelNextCallback(),r===dd){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:qf.findDOMNode(this);o&&JSe(o)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ud&&this.setState({status:Jg})},n.performEnter=function(s){var r=this,o=this.props.enter,a=this.context?this.context.isMounting:s,l=this.props.nodeRef?[a]:[qf.findDOMNode(this),a],c=l[0],d=l[1],f=this.getTimeouts(),p=a?f.appear:f.enter;if(!s&&!o||NH.disabled){this.safeSetState({status:Wf},function(){r.props.onEntered(c)});return}this.props.onEnter(c,d),this.safeSetState({status:dd},function(){r.props.onEntering(c,d),r.onTransitionEnd(p,function(){r.safeSetState({status:Wf},function(){r.props.onEntered(c,d)})})})},n.performExit=function(){var s=this,r=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:qf.findDOMNode(this);if(!r||NH.disabled){this.safeSetState({status:ud},function(){s.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:JP},function(){s.props.onExiting(a),s.onTransitionEnd(o.exit,function(){s.safeSetState({status:ud},function(){s.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,r){r=this.setNextCallback(r),this.setState(s,r)},n.setNextCallback=function(s){var r=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,r.nextCallback=null,s(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(s,r){this.setNextCallback(r);var o=this.props.nodeRef?this.props.nodeRef.current:qf.findDOMNode(this),a=s==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],d=l[1];this.props.addEndListener(c,d)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===Jg)return null;var r=this.props,o=r.children;r.in,r.mountOnEnter,r.unmountOnExit,r.appear,r.enter,r.exit,r.timeout,r.addEndListener,r.onEnter,r.onEntering,r.onEntered,r.onExit,r.onExiting,r.onExited,r.nodeRef;var a=XSe(r,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ne.createElement(l9.Provider,{value:null},typeof o=="function"?o(s,a):ne.cloneElement(ne.Children.only(o),a))},e}(ne.Component);Wa.contextType=l9;Wa.propTypes={};function bf(){}Wa.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:bf,onEntering:bf,onEntered:bf,onExit:bf,onExiting:bf,onExited:bf};Wa.UNMOUNTED=Jg;Wa.EXITED=ud;Wa.ENTERING=dd;Wa.ENTERED=Wf;Wa.EXITING=JP;const c9=t=>t.scrollTop;function Ob(t,e){const{timeout:n,easing:i,style:s={}}=t;return{duration:s.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:s.transitionTimingFunction??(typeof i=="object"?i[e.mode]:i),delay:s.transitionDelay}}function QSe(t){return Jn("MuiPaper",t)}pi("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const e1e=t=>{const{square:e,elevation:n,variant:i,classes:s}=t,r={root:["root",i,!e&&"rounded",i==="elevation"&&`elevation${n}`]};return Qn(r,QSe,s)},t1e=Ft("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(Vi(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),UF=E.forwardRef(function(e,n){var m;const i=xi({props:e,name:"MuiPaper"}),s=L1(),{className:r,component:o="div",elevation:a=1,square:l=!1,variant:c="elevation",...d}=i,f={...i,component:o,elevation:a,square:l,variant:c},p=e1e(f);return v.jsx(t1e,{as:o,ownerState:f,className:Rn(p.root,r),ref:n,...d,style:{...c==="elevation"&&{"--Paper-shadow":(s.vars||s).shadows[a],...s.vars&&{"--Paper-overlay":(m=s.vars.overlays)==null?void 0:m[a]},...!s.vars&&s.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${$P("#fff",YP(a))}, ${$P("#fff",YP(a))})`}},...d.style}})});function Oi(t,e){const{className:n,elementType:i,ownerState:s,externalForwardedProps:r,internalForwardedProps:o,shouldForwardComponentProp:a=!1,...l}=e,{component:c,slots:d={[t]:void 0},slotProps:f={[t]:void 0},...p}=r,m=d[t]||i,y=t9(f[t],s),{props:{component:C,...x},internalRef:w}=e9({className:n,...l,externalForwardedProps:t==="root"?p:void 0,externalSlotProps:y}),M=Fo(w,y==null?void 0:y.ref,e.ref),S=t==="root"?C||c:C,R=JW(m,{...t==="root"&&!c&&!d[t]&&o,...t!=="root"&&!d[t]&&o,...x,...S&&!a&&{as:S},...S&&a&&{component:S},ref:M},s);return[m,R]}function n1e(t){return typeof t.main=="string"}function i1e(t,e=[]){if(!n1e(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function d0(t=[]){return([,e])=>e&&i1e(e,t)}function s1e(t){return Jn("MuiTypography",t)}pi("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const r1e={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},o1e=WSe(),a1e=t=>{const{align:e,gutterBottom:n,noWrap:i,paragraph:s,variant:r,classes:o}=t,a={root:["root",r,t.align!=="inherit"&&`align${wn(e)}`,n&&"gutterBottom",i&&"noWrap",s&&"paragraph"]};return Qn(a,s1e,o)},l1e=Ft("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${wn(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(Vi(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([n,i])=>n!=="inherit"&&i&&typeof i=="object").map(([n,i])=>({props:{variant:n},style:i})),...Object.entries(t.palette).filter(d0()).map(([n])=>({props:{color:n},style:{color:(t.vars||t).palette[n].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${wn(n)}`},style:{color:(t.vars||t).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),IH={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},c1e=E.forwardRef(function(e,n){const{color:i,...s}=xi({props:e,name:"MuiTypography"}),r=!r1e[i],o=o1e({...s,...r&&{color:i}}),{align:a="inherit",className:l,component:c,gutterBottom:d=!1,noWrap:f=!1,paragraph:p=!1,variant:m="body1",variantMapping:y=IH,...C}=o,x={...o,align:a,color:i,className:l,component:c,gutterBottom:d,noWrap:f,paragraph:p,variant:m,variantMapping:y},w=c||(p?"p":y[m]||IH[m])||"span",M=a1e(x);return v.jsx(l1e,{as:w,ref:n,className:Rn(M.root,l),...C,ownerState:x,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...C.style}})});function u1e(t){return typeof t=="function"?t():t}const d1e=E.forwardRef(function(e,n){const{children:i,container:s,disablePortal:r=!1}=e,[o,a]=E.useState(null),l=Fo(E.isValidElement(i)?c0(i):null,n);if(uh(()=>{r||a(u1e(s)||document.body)},[s,r]),uh(()=>{if(o&&!r)return qP(n,o),()=>{qP(n,null)}},[n,o,r]),r){if(E.isValidElement(i)){const c={ref:l};return E.cloneElement(i,c)}return i}return o&&ky.createPortal(i,o)});function iC(t){return parseInt(t,10)||0}const h1e={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function f1e(t){for(const e in t)return!1;return!0}function p1e(t){return f1e(t)||t.outerHeightStyle===0&&!t.overflowing}const m1e=E.forwardRef(function(e,n){const{onChange:i,maxRows:s,minRows:r=1,style:o,value:a,...l}=e,{current:c}=E.useRef(a!=null),d=E.useRef(null),f=Fo(n,d),p=E.useRef(null),m=E.useRef(null),y=E.useCallback(()=>{const M=d.current,S=m.current;if(!M||!S)return;const P=ql(M).getComputedStyle(M);if(P.width==="0px")return{outerHeightStyle:0,overflowing:!1};S.style.width=P.width,S.value=M.value||e.placeholder||"x",S.value.slice(-1)===`
`&&(S.value+=" ");const F=P.boxSizing,N=iC(P.paddingBottom)+iC(P.paddingTop),I=iC(P.borderBottomWidth)+iC(P.borderTopWidth),_=S.scrollHeight;S.value="x";const A=S.scrollHeight;let O=_;r&&(O=Math.max(Number(r)*A,O)),s&&(O=Math.min(Number(s)*A,O)),O=Math.max(O,A);const k=O+(F==="border-box"?N+I:0),z=Math.abs(O-_)<=1;return{outerHeightStyle:k,overflowing:z}},[s,r,e.placeholder]),C=E.useCallback(()=>{const M=d.current,S=y();if(!M||!S||p1e(S))return;const R=S.outerHeightStyle;p.current!==R&&(p.current=R,M.style.height=`${R}px`),M.style.overflow=S.overflowing?"hidden":""},[y]),x=E.useRef(-1);uh(()=>{const M=XW(()=>C()),S=d==null?void 0:d.current;if(!S)return;const R=ql(S);R.addEventListener("resize",M);let P;return typeof ResizeObserver<"u"&&(P=new ResizeObserver(()=>{P.unobserve(S),cancelAnimationFrame(x.current),C(),x.current=requestAnimationFrame(()=>{P.observe(S)})}),P.observe(S)),()=>{M.clear(),cancelAnimationFrame(x.current),R.removeEventListener("resize",M),P&&P.disconnect()}},[y,C]),uh(()=>{C()});const w=M=>{c||C(),i&&i(M)};return v.jsxs(E.Fragment,{children:[v.jsx("textarea",{value:a,onChange:w,ref:f,rows:r,style:o,...l}),v.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:m,tabIndex:-1,style:{...h1e.shadow,...o,paddingTop:0,paddingBottom:0}})]})});function QP(t){return typeof t=="string"}function tm({props:t,states:e,muiFormControl:n}){return e.reduce((i,s)=>(i[s]=t[s],n&&typeof t[s]>"u"&&(i[s]=n[s]),i),{})}const jF=E.createContext(void 0);function nm(){return E.useContext(jF)}function OH(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function Lb(t,e=!1){return t&&(OH(t.value)&&t.value!==""||e&&OH(t.defaultValue)&&t.defaultValue!=="")}function g1e(t){return t.startAdornment}function v1e(t){return Jn("MuiInputBase",t)}const Op=pi("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var LH;const k1=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${wn(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},B1=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},y1e=t=>{const{classes:e,color:n,disabled:i,error:s,endAdornment:r,focused:o,formControl:a,fullWidth:l,hiddenLabel:c,multiline:d,readOnly:f,size:p,startAdornment:m,type:y}=t,C={root:["root",`color${wn(n)}`,i&&"disabled",s&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",p&&p!=="medium"&&`size${wn(p)}`,d&&"multiline",m&&"adornedStart",r&&"adornedEnd",c&&"hiddenLabel",f&&"readOnly"],input:["input",i&&"disabled",y==="search"&&"inputTypeSearch",d&&"inputMultiline",p==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",m&&"inputAdornedStart",r&&"inputAdornedEnd",f&&"readOnly"]};return Qn(C,v1e,e)},H1=Ft("div",{name:"MuiInputBase",slot:"Root",overridesResolver:k1})(Vi(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Op.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:n})=>e.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),V1=Ft("input",{name:"MuiInputBase",slot:"Input",overridesResolver:B1})(Vi(({theme:t})=>{const e=t.palette.mode==="light",n={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},i={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Op.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${Op.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:r})=>!r.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:r})=>r.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),kH=jSe({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),WF=E.forwardRef(function(e,n){const i=xi({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:r,autoFocus:o,className:a,color:l,components:c={},componentsProps:d={},defaultValue:f,disabled:p,disableInjectingGlobalStyles:m,endAdornment:y,error:C,fullWidth:x=!1,id:w,inputComponent:M="input",inputProps:S={},inputRef:R,margin:P,maxRows:F,minRows:N,multiline:I=!1,name:_,onBlur:A,onChange:O,onClick:k,onFocus:z,onKeyDown:W,onKeyUp:K,placeholder:V,readOnly:Q,renderSuffix:q,rows:X,size:H,slotProps:ee={},slots:ge={},startAdornment:Se,type:Z="text",value:ae,...xe}=i,Me=S.value!=null?S.value:ae,{current:Oe}=E.useRef(Me!=null),Le=E.useRef(),we=E.useCallback(Ne=>{},[]),$e=Fo(Le,R,S.ref,we),[ce,Ce]=E.useState(!1),U=nm(),ke=tm({props:i,muiFormControl:U,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ke.focused=U?U.focused:ce,E.useEffect(()=>{!U&&p&&ce&&(Ce(!1),A&&A())},[U,p,ce,A]);const De=U&&U.onFilled,Xe=U&&U.onEmpty,Ve=E.useCallback(Ne=>{Lb(Ne)?De&&De():Xe&&Xe()},[De,Xe]);uh(()=>{Oe&&Ve({value:Me})},[Me,Ve,Oe]);const at=Ne=>{z&&z(Ne),S.onFocus&&S.onFocus(Ne),U&&U.onFocus?U.onFocus(Ne):Ce(!0)},Ge=Ne=>{A&&A(Ne),S.onBlur&&S.onBlur(Ne),U&&U.onBlur?U.onBlur(Ne):Ce(!1)},$=(Ne,...et)=>{if(!Oe){const ft=Ne.target||Le.current;if(ft==null)throw new Error(Wl(1));Ve({value:ft.value})}S.onChange&&S.onChange(Ne,...et),O&&O(Ne,...et)};E.useEffect(()=>{Ve(Le.current)},[]);const B=Ne=>{Le.current&&Ne.currentTarget===Ne.target&&Le.current.focus(),k&&k(Ne)};let de=M,te=S;I&&de==="input"&&(X?te={type:void 0,minRows:X,maxRows:X,...te}:te={type:void 0,maxRows:F,minRows:N,...te},de=m1e);const fe=Ne=>{Ve(Ne.animationName==="mui-auto-fill-cancel"?Le.current:{value:"x"})};E.useEffect(()=>{U&&U.setAdornedStart(!!Se)},[U,Se]);const he={...i,color:ke.color||"primary",disabled:ke.disabled,endAdornment:y,error:ke.error,focused:ke.focused,formControl:U,fullWidth:x,hiddenLabel:ke.hiddenLabel,multiline:I,size:ke.size,startAdornment:Se,type:Z},je=y1e(he),We=ge.root||c.Root||H1,Ze=ee.root||d.root||{},Ct=ge.input||c.Input||V1;return te={...te,...ee.input??d.input},v.jsxs(E.Fragment,{children:[!m&&typeof kH=="function"&&(LH||(LH=v.jsx(kH,{}))),v.jsxs(We,{...Ze,ref:n,onClick:B,...xe,...!QP(We)&&{ownerState:{...he,...Ze.ownerState}},className:Rn(je.root,Ze.className,a,Q&&"MuiInputBase-readOnly"),children:[Se,v.jsx(jF.Provider,{value:null,children:v.jsx(Ct,{"aria-invalid":ke.error,"aria-describedby":s,autoComplete:r,autoFocus:o,defaultValue:f,disabled:ke.disabled,id:w,onAnimationStart:fe,name:_,placeholder:V,readOnly:Q,required:ke.required,rows:X,value:Me,onKeyDown:W,onKeyUp:K,type:Z,...te,...!QP(Ct)&&{as:de,ownerState:{...he,...te.ownerState}},ref:$e,className:Rn(je.input,te.className,Q&&"MuiInputBase-readOnly"),onBlur:Ge,onChange:$,onFocus:at})}),y,q?q({...ke,startAdornment:Se}):null]})]})});function x1e(t){return Jn("MuiInput",t)}const Sg={...Op,...pi("MuiInput",["root","underline","input"])};function C1e(t){return Jn("MuiOutlinedInput",t)}const ya={...Op,...pi("MuiOutlinedInput",["root","notchedOutline","input"])};function w1e(t){return Jn("MuiFilledInput",t)}const qu={...Op,...pi("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},b1e=u0(v.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),S1e={entering:{opacity:1},entered:{opacity:1}},eD=E.forwardRef(function(e,n){const i=L1(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:r,appear:o=!0,children:a,easing:l,in:c,onEnter:d,onEntered:f,onEntering:p,onExit:m,onExited:y,onExiting:C,style:x,timeout:w=s,TransitionComponent:M=Wa,...S}=e,R=E.useRef(null),P=Fo(R,c0(a),n),F=W=>K=>{if(W){const V=R.current;K===void 0?W(V):W(V,K)}},N=F(p),I=F((W,K)=>{c9(W);const V=Ob({style:x,timeout:w,easing:l},{mode:"enter"});W.style.webkitTransition=i.transitions.create("opacity",V),W.style.transition=i.transitions.create("opacity",V),d&&d(W,K)}),_=F(f),A=F(C),O=F(W=>{const K=Ob({style:x,timeout:w,easing:l},{mode:"exit"});W.style.webkitTransition=i.transitions.create("opacity",K),W.style.transition=i.transitions.create("opacity",K),m&&m(W)}),k=F(y),z=W=>{r&&r(R.current,W)};return v.jsx(M,{appear:o,in:c,nodeRef:R,onEnter:I,onEntered:_,onEntering:N,onExit:O,onExited:k,onExiting:A,addEndListener:z,timeout:w,...S,children:(W,{ownerState:K,...V})=>E.cloneElement(a,{style:{opacity:0,visibility:W==="exited"&&!c?"hidden":void 0,...S1e[W],...x,...a.props.style},ref:P,...V})})});function E1e(t){return Jn("MuiBackdrop",t)}pi("MuiBackdrop",["root","invisible"]);const M1e=t=>{const{classes:e,invisible:n}=t;return Qn({root:["root",n&&"invisible"]},E1e,e)},T1e=Ft("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),u9=E.forwardRef(function(e,n){const i=xi({props:e,name:"MuiBackdrop"}),{children:s,className:r,component:o="div",invisible:a=!1,open:l,components:c={},componentsProps:d={},slotProps:f={},slots:p={},TransitionComponent:m,transitionDuration:y,...C}=i,x={...i,component:o,invisible:a},w=M1e(x),M={transition:m,root:c.Root,...p},S={...d,...f},R={slots:M,slotProps:S},[P,F]=Oi("root",{elementType:T1e,externalForwardedProps:R,className:Rn(w.root,r),ownerState:x}),[N,I]=Oi("transition",{elementType:eD,externalForwardedProps:R,ownerState:x});return v.jsx(N,{in:l,timeout:y,...C,...I,children:v.jsx(P,{"aria-hidden":!0,...F,classes:w,ref:n,children:s})})});function R1e(t){const e=ea(t);return e.body===t?ql(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function xv(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function BH(t){return parseInt(ql(t).getComputedStyle(t).paddingRight,10)||0}function A1e(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),i=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||i}function HH(t,e,n,i,s){const r=[e,n,...i];[].forEach.call(t.children,o=>{const a=!r.includes(o),l=!A1e(o);a&&l&&xv(o,s)})}function nA(t,e){let n=-1;return t.some((i,s)=>e(i)?(n=s,!0):!1),n}function P1e(t,e){const n=[],i=t.container;if(!e.disableScrollLock){if(R1e(i)){const o=ZW(ql(i));n.push({value:i.style.paddingRight,property:"padding-right",el:i}),i.style.paddingRight=`${BH(i)+o}px`;const a=ea(i).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${BH(l)+o}px`})}let r;if(i.parentNode instanceof DocumentFragment)r=ea(i).body;else{const o=i.parentElement,a=ql(i);r=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:i}n.push({value:r.style.overflow,property:"overflow",el:r},{value:r.style.overflowX,property:"overflow-x",el:r},{value:r.style.overflowY,property:"overflow-y",el:r}),r.style.overflow="hidden"}return()=>{n.forEach(({value:r,el:o,property:a})=>{r?o.style.setProperty(a,r):o.style.removeProperty(a)})}}function D1e(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class _1e{constructor(){this.modals=[],this.containers=[]}add(e,n){let i=this.modals.indexOf(e);if(i!==-1)return i;i=this.modals.length,this.modals.push(e),e.modalRef&&xv(e.modalRef,!1);const s=D1e(n);HH(n,e.mount,e.modalRef,s,!0);const r=nA(this.containers,o=>o.container===n);return r!==-1?(this.containers[r].modals.push(e),i):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:s}),i)}mount(e,n){const i=nA(this.containers,r=>r.modals.includes(e)),s=this.containers[i];s.restore||(s.restore=P1e(s,n))}remove(e,n=!0){const i=this.modals.indexOf(e);if(i===-1)return i;const s=nA(this.containers,o=>o.modals.includes(e)),r=this.containers[s];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(i,1),r.modals.length===0)r.restore&&r.restore(),e.modalRef&&xv(e.modalRef,n),HH(r.container,e.mount,e.modalRef,r.hiddenSiblings,!1),this.containers.splice(s,1);else{const o=r.modals[r.modals.length-1];o.modalRef&&xv(o.modalRef,!1)}return i}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const F1e=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function N1e(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function I1e(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=i=>t.ownerDocument.querySelector(`input[type="radio"]${i}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function O1e(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||I1e(t))}function L1e(t){const e=[],n=[];return Array.from(t.querySelectorAll(F1e)).forEach((i,s)=>{const r=N1e(i);r===-1||!O1e(i)||(r===0?e.push(i):n.push({documentOrder:s,tabIndex:r,node:i}))}),n.sort((i,s)=>i.tabIndex===s.tabIndex?i.documentOrder-s.documentOrder:i.tabIndex-s.tabIndex).map(i=>i.node).concat(e)}function k1e(){return!0}function B1e(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:i=!1,disableRestoreFocus:s=!1,getTabbable:r=L1e,isEnabled:o=k1e,open:a}=t,l=E.useRef(!1),c=E.useRef(null),d=E.useRef(null),f=E.useRef(null),p=E.useRef(null),m=E.useRef(!1),y=E.useRef(null),C=Fo(c0(e),y),x=E.useRef(null);E.useEffect(()=>{!a||!y.current||(m.current=!n)},[n,a]),E.useEffect(()=>{if(!a||!y.current)return;const S=ea(y.current);return y.current.contains(S.activeElement)||(y.current.hasAttribute("tabIndex")||y.current.setAttribute("tabIndex","-1"),m.current&&y.current.focus()),()=>{s||(f.current&&f.current.focus&&(l.current=!0,f.current.focus()),f.current=null)}},[a]),E.useEffect(()=>{if(!a||!y.current)return;const S=ea(y.current),R=N=>{x.current=N,!(i||!o()||N.key!=="Tab")&&S.activeElement===y.current&&N.shiftKey&&(l.current=!0,d.current&&d.current.focus())},P=()=>{var _,A;const N=y.current;if(N===null)return;if(!S.hasFocus()||!o()||l.current){l.current=!1;return}if(N.contains(S.activeElement)||i&&S.activeElement!==c.current&&S.activeElement!==d.current)return;if(S.activeElement!==p.current)p.current=null;else if(p.current!==null)return;if(!m.current)return;let I=[];if((S.activeElement===c.current||S.activeElement===d.current)&&(I=r(y.current)),I.length>0){const O=!!((_=x.current)!=null&&_.shiftKey&&((A=x.current)==null?void 0:A.key)==="Tab"),k=I[0],z=I[I.length-1];typeof k!="string"&&typeof z!="string"&&(O?z.focus():k.focus())}else N.focus()};S.addEventListener("focusin",P),S.addEventListener("keydown",R,!0);const F=setInterval(()=>{S.activeElement&&S.activeElement.tagName==="BODY"&&P()},50);return()=>{clearInterval(F),S.removeEventListener("focusin",P),S.removeEventListener("keydown",R,!0)}},[n,i,s,o,a,r]);const w=S=>{f.current===null&&(f.current=S.relatedTarget),m.current=!0,p.current=S.target;const R=e.props.onFocus;R&&R(S)},M=S=>{f.current===null&&(f.current=S.relatedTarget),m.current=!0};return v.jsxs(E.Fragment,{children:[v.jsx("div",{tabIndex:a?0:-1,onFocus:M,ref:c,"data-testid":"sentinelStart"}),E.cloneElement(e,{ref:C,onFocus:w}),v.jsx("div",{tabIndex:a?0:-1,onFocus:M,ref:d,"data-testid":"sentinelEnd"})]})}function H1e(t){return typeof t=="function"?t():t}function V1e(t){return t?t.props.hasOwnProperty("in"):!1}const VH=()=>{},sC=new _1e;function z1e(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:i=!1,closeAfterTransition:s=!1,onTransitionEnter:r,onTransitionExited:o,children:a,onClose:l,open:c,rootRef:d}=t,f=E.useRef({}),p=E.useRef(null),m=E.useRef(null),y=Fo(m,d),[C,x]=E.useState(!c),w=V1e(a);let M=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(M=!1);const S=()=>ea(p.current),R=()=>(f.current.modalRef=m.current,f.current.mount=p.current,f.current),P=()=>{sC.mount(R(),{disableScrollLock:i}),m.current&&(m.current.scrollTop=0)},F=bH(()=>{const K=H1e(e)||S().body;sC.add(R(),K),m.current&&P()}),N=()=>sC.isTopModal(R()),I=bH(K=>{p.current=K,K&&(c&&N()?P():m.current&&xv(m.current,M))}),_=E.useCallback(()=>{sC.remove(R(),M)},[M]);E.useEffect(()=>()=>{_()},[_]),E.useEffect(()=>{c?F():(!w||!s)&&_()},[c,_,w,s,F]);const A=K=>V=>{var Q;(Q=K.onKeyDown)==null||Q.call(K,V),!(V.key!=="Escape"||V.which===229||!N())&&(n||(V.stopPropagation(),l&&l(V,"escapeKeyDown")))},O=K=>V=>{var Q;(Q=K.onClick)==null||Q.call(K,V),V.target===V.currentTarget&&l&&l(V,"backdropClick")};return{getRootProps:(K={})=>{const V=QW(t);delete V.onTransitionEnter,delete V.onTransitionExited;const Q={...V,...K};return{role:"presentation",...Q,onKeyDown:A(Q),ref:y}},getBackdropProps:(K={})=>{const V=K;return{"aria-hidden":!0,...V,onClick:O(V),open:c}},getTransitionProps:()=>{const K=()=>{x(!1),r&&r()},V=()=>{x(!0),o&&o(),s&&_()};return{onEnter:yH(K,(a==null?void 0:a.props.onEnter)??VH),onExited:yH(V,(a==null?void 0:a.props.onExited)??VH)}},rootRef:y,portalRef:I,isTopModal:N,exited:C,hasTransition:w}}function G1e(t){return Jn("MuiModal",t)}pi("MuiModal",["root","hidden","backdrop"]);const U1e=t=>{const{open:e,exited:n,classes:i}=t;return Qn({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},G1e,i)},j1e=Ft("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(Vi(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),W1e=Ft(u9,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),d9=E.forwardRef(function(e,n){const i=xi({name:"MuiModal",props:e}),{BackdropComponent:s=W1e,BackdropProps:r,classes:o,className:a,closeAfterTransition:l=!1,children:c,container:d,component:f,components:p={},componentsProps:m={},disableAutoFocus:y=!1,disableEnforceFocus:C=!1,disableEscapeKeyDown:x=!1,disablePortal:w=!1,disableRestoreFocus:M=!1,disableScrollLock:S=!1,hideBackdrop:R=!1,keepMounted:P=!1,onBackdropClick:F,onClose:N,onTransitionEnter:I,onTransitionExited:_,open:A,slotProps:O={},slots:k={},theme:z,...W}=i,K={...i,closeAfterTransition:l,disableAutoFocus:y,disableEnforceFocus:C,disableEscapeKeyDown:x,disablePortal:w,disableRestoreFocus:M,disableScrollLock:S,hideBackdrop:R,keepMounted:P},{getRootProps:V,getBackdropProps:Q,getTransitionProps:q,portalRef:X,isTopModal:H,exited:ee,hasTransition:ge}=z1e({...K,rootRef:n}),Se={...K,exited:ee},Z=U1e(Se),ae={};if(c.props.tabIndex===void 0&&(ae.tabIndex="-1"),ge){const{onEnter:$e,onExited:ce}=q();ae.onEnter=$e,ae.onExited=ce}const xe={slots:{root:p.Root,backdrop:p.Backdrop,...k},slotProps:{...m,...O}},[Me,Oe]=Oi("root",{ref:n,elementType:j1e,externalForwardedProps:{...xe,...W,component:f},getSlotProps:V,ownerState:Se,className:Rn(a,Z==null?void 0:Z.root,!Se.open&&Se.exited&&(Z==null?void 0:Z.hidden))}),[Le,we]=Oi("backdrop",{ref:r==null?void 0:r.ref,elementType:s,externalForwardedProps:xe,shouldForwardComponentProp:!0,additionalProps:r,getSlotProps:$e=>Q({...$e,onClick:ce=>{F&&F(ce),$e!=null&&$e.onClick&&$e.onClick(ce)}}),className:Rn(r==null?void 0:r.className,Z==null?void 0:Z.backdrop),ownerState:Se});return!P&&!A&&(!ge||ee)?null:v.jsx(d1e,{ref:X,container:d,disablePortal:w,children:v.jsxs(Me,{...Oe,children:[!R&&s?v.jsx(Le,{...we}):null,v.jsx(B1e,{disableEnforceFocus:C,disableAutoFocus:y,disableRestoreFocus:M,isEnabled:H,open:A,children:E.cloneElement(c,ae)})]})})});function $1e(t){return Jn("MuiDialog",t)}const iA=pi("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),h9=E.createContext({}),q1e=Ft(u9,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),K1e=t=>{const{classes:e,scroll:n,maxWidth:i,fullWidth:s,fullScreen:r}=t,o={root:["root"],container:["container",`scroll${wn(n)}`],paper:["paper",`paperScroll${wn(n)}`,`paperWidth${wn(String(i))}`,s&&"paperFullWidth",r&&"paperFullScreen"]};return Qn(o,$1e,e)},Y1e=Ft(d9,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),X1e=Ft("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${wn(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),Z1e=Ft(UF,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${wn(n.scroll)}`],e[`paperWidth${wn(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(Vi(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${iA.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${iA.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${iA.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),$F=E.forwardRef(function(e,n){const i=xi({props:e,name:"MuiDialog"}),s=L1(),r={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":a,"aria-modal":l=!0,BackdropComponent:c,BackdropProps:d,children:f,className:p,disableEscapeKeyDown:m=!1,fullScreen:y=!1,fullWidth:C=!1,maxWidth:x="sm",onBackdropClick:w,onClick:M,onClose:S,open:R,PaperComponent:P=UF,PaperProps:F={},scroll:N="paper",slots:I={},slotProps:_={},TransitionComponent:A=eD,transitionDuration:O=r,TransitionProps:k,...z}=i,W={...i,disableEscapeKeyDown:m,fullScreen:y,fullWidth:C,maxWidth:x,scroll:N},K=K1e(W),V=E.useRef(),Q=U=>{V.current=U.target===U.currentTarget},q=U=>{M&&M(U),V.current&&(V.current=null,w&&w(U),S&&S(U,"backdropClick"))},X=HF(a),H=E.useMemo(()=>({titleId:X}),[X]),ee={transition:A,...I},ge={transition:k,paper:F,backdrop:d,..._},Se={slots:ee,slotProps:ge},[Z,ae]=Oi("root",{elementType:Y1e,shouldForwardComponentProp:!0,externalForwardedProps:Se,ownerState:W,className:Rn(K.root,p),ref:n}),[xe,Me]=Oi("backdrop",{elementType:q1e,shouldForwardComponentProp:!0,externalForwardedProps:Se,ownerState:W}),[Oe,Le]=Oi("paper",{elementType:Z1e,shouldForwardComponentProp:!0,externalForwardedProps:Se,ownerState:W,className:Rn(K.paper,F.className)}),[we,$e]=Oi("container",{elementType:X1e,externalForwardedProps:Se,ownerState:W,className:Rn(K.container)}),[ce,Ce]=Oi("transition",{elementType:eD,externalForwardedProps:Se,ownerState:W,additionalProps:{appear:!0,in:R,timeout:O,role:"presentation"}});return v.jsx(Z,{closeAfterTransition:!0,slots:{backdrop:xe},slotProps:{backdrop:{transitionDuration:O,as:c,...Me}},disableEscapeKeyDown:m,onClose:S,open:R,onClick:q,...ae,...z,children:v.jsx(ce,{...Ce,children:v.jsx(we,{onMouseDown:Q,...$e,children:v.jsx(Oe,{as:P,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":X,"aria-modal":l,...Le,children:v.jsx(h9.Provider,{value:H,children:f})})})})})});function J1e(t){return Jn("MuiDialogContent",t)}pi("MuiDialogContent",["root","dividers"]);function Q1e(t){return Jn("MuiDialogTitle",t)}const eEe=pi("MuiDialogTitle",["root"]),tEe=t=>{const{classes:e,dividers:n}=t;return Qn({root:["root",n&&"dividers"]},J1e,e)},nEe=Ft("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(Vi(({theme:t})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${eEe.root} + &`]:{paddingTop:0}}}]}))),qF=E.forwardRef(function(e,n){const i=xi({props:e,name:"MuiDialogContent"}),{className:s,dividers:r=!1,...o}=i,a={...i,dividers:r},l=tEe(a);return v.jsx(nEe,{className:Rn(l.root,s),ownerState:a,ref:n,...o})}),iEe=t=>{const{classes:e}=t;return Qn({root:["root"]},Q1e,e)},sEe=Ft(c1e,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),KF=E.forwardRef(function(e,n){const i=xi({props:e,name:"MuiDialogTitle"}),{className:s,id:r,...o}=i,a=i,l=iEe(a),{titleId:c=r}=E.useContext(h9);return v.jsx(sEe,{component:"h2",className:Rn(l.root,s),ownerState:a,ref:n,variant:"h6",id:r??c,...o})}),rEe=t=>{const{classes:e,disableUnderline:n,startAdornment:i,endAdornment:s,size:r,hiddenLabel:o,multiline:a}=t,l={root:["root",!n&&"underline",i&&"adornedStart",s&&"adornedEnd",r==="small"&&`size${wn(r)}`,o&&"hiddenLabel",a&&"multiline"],input:["input"]},c=Qn(l,w1e,e);return{...e,...c}},oEe=Ft(H1,{shouldForwardProp:t=>ja(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...k1(t,e),!n.disableUnderline&&e.underline]}})(Vi(({theme:t})=>{const e=t.palette.mode==="light",n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",r=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i}},[`&.${qu.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i},[`&.${qu.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:r},variants:[{props:({ownerState:o})=>!o.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${qu.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${qu.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${qu.disabled}, .${qu.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${qu.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(d0()).map(([o])=>{var a;return{props:{disableUnderline:!1,color:o},style:{"&::after":{borderBottom:`2px solid ${(a=(t.vars||t).palette[o])==null?void 0:a.main}`}}}}),{props:({ownerState:o})=>o.startAdornment,style:{paddingLeft:12}},{props:({ownerState:o})=>o.endAdornment,style:{paddingRight:12}},{props:({ownerState:o})=>o.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:o,size:a})=>o.multiline&&a==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel&&o.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),aEe=Ft(V1,{name:"MuiFilledInput",slot:"Input",overridesResolver:B1})(Vi(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),YF=E.forwardRef(function(e,n){const i=xi({props:e,name:"MuiFilledInput"}),{disableUnderline:s=!1,components:r={},componentsProps:o,fullWidth:a=!1,hiddenLabel:l,inputComponent:c="input",multiline:d=!1,slotProps:f,slots:p={},type:m="text",...y}=i,C={...i,disableUnderline:s,fullWidth:a,inputComponent:c,multiline:d,type:m},x=rEe(i),w={root:{ownerState:C},input:{ownerState:C}},M=f??o?As(w,f??o):w,S=p.root??r.Root??oEe,R=p.input??r.Input??aEe;return v.jsx(WF,{slots:{root:S,input:R},slotProps:M,fullWidth:a,inputComponent:c,multiline:d,ref:n,type:m,...y,classes:x})});YF.muiName="Input";function lEe(t){return Jn("MuiFormControl",t)}pi("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const cEe=t=>{const{classes:e,margin:n,fullWidth:i}=t,s={root:["root",n!=="none"&&`margin${wn(n)}`,i&&"fullWidth"]};return Qn(s,lEe,e)},uEe=Ft("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`margin${wn(n.margin)}`],n.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),dEe=E.forwardRef(function(e,n){const i=xi({props:e,name:"MuiFormControl"}),{children:s,className:r,color:o="primary",component:a="div",disabled:l=!1,error:c=!1,focused:d,fullWidth:f=!1,hiddenLabel:p=!1,margin:m="none",required:y=!1,size:C="medium",variant:x="outlined",...w}=i,M={...i,color:o,component:a,disabled:l,error:c,fullWidth:f,hiddenLabel:p,margin:m,required:y,size:C,variant:x},S=cEe(M),[R,P]=E.useState(()=>{let K=!1;return s&&E.Children.forEach(s,V=>{if(!QR(V,["Input","Select"]))return;const Q=QR(V,["Select"])?V.props.input:V;Q&&g1e(Q.props)&&(K=!0)}),K}),[F,N]=E.useState(()=>{let K=!1;return s&&E.Children.forEach(s,V=>{QR(V,["Input","Select"])&&(Lb(V.props,!0)||Lb(V.props.inputProps,!0))&&(K=!0)}),K}),[I,_]=E.useState(!1);l&&I&&_(!1);const A=d!==void 0&&!l?d:I;let O;E.useRef(!1);const k=E.useCallback(()=>{N(!0)},[]),z=E.useCallback(()=>{N(!1)},[]),W=E.useMemo(()=>({adornedStart:R,setAdornedStart:P,color:o,disabled:l,error:c,filled:F,focused:A,fullWidth:f,hiddenLabel:p,size:C,onBlur:()=>{_(!1)},onFocus:()=>{_(!0)},onEmpty:z,onFilled:k,registerEffect:O,required:y,variant:x}),[R,o,l,c,F,A,f,p,O,z,k,y,C,x]);return v.jsx(jF.Provider,{value:W,children:v.jsx(uEe,{as:a,ownerState:M,className:Rn(S.root,r),ref:n,...w,children:s})})});function hEe(t){return Jn("MuiFormHelperText",t)}const zH=pi("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var GH;const fEe=t=>{const{classes:e,contained:n,size:i,disabled:s,error:r,filled:o,focused:a,required:l}=t,c={root:["root",s&&"disabled",r&&"error",i&&`size${wn(i)}`,n&&"contained",a&&"focused",o&&"filled",l&&"required"]};return Qn(c,hEe,e)},pEe=Ft("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${wn(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(Vi(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${zH.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${zH.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),mEe=E.forwardRef(function(e,n){const i=xi({props:e,name:"MuiFormHelperText"}),{children:s,className:r,component:o="p",disabled:a,error:l,filled:c,focused:d,margin:f,required:p,variant:m,...y}=i,C=nm(),x=tm({props:i,muiFormControl:C,states:["variant","size","disabled","error","filled","focused","required"]}),w={...i,component:o,contained:x.variant==="filled"||x.variant==="outlined",variant:x.variant,size:x.size,disabled:x.disabled,error:x.error,filled:x.filled,focused:x.focused,required:x.required};delete w.ownerState;const M=fEe(w);return v.jsx(pEe,{as:o,className:Rn(M.root,r),ref:n,...y,ownerState:w,children:s===" "?GH||(GH=v.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):s})});function gEe(t){return Jn("MuiFormLabel",t)}const Cv=pi("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),vEe=t=>{const{classes:e,color:n,focused:i,disabled:s,error:r,filled:o,required:a}=t,l={root:["root",`color${wn(n)}`,s&&"disabled",r&&"error",o&&"filled",i&&"focused",a&&"required"],asterisk:["asterisk",r&&"error"]};return Qn(l,gEe,e)},yEe=Ft("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color==="secondary"&&e.colorSecondary,n.filled&&e.filled]}})(Vi(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(d0()).map(([e])=>({props:{color:e},style:{[`&.${Cv.focused}`]:{color:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${Cv.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Cv.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),xEe=Ft("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(Vi(({theme:t})=>({[`&.${Cv.error}`]:{color:(t.vars||t).palette.error.main}}))),CEe=E.forwardRef(function(e,n){const i=xi({props:e,name:"MuiFormLabel"}),{children:s,className:r,color:o,component:a="label",disabled:l,error:c,filled:d,focused:f,required:p,...m}=i,y=nm(),C=tm({props:i,muiFormControl:y,states:["color","required","focused","disabled","error","filled"]}),x={...i,color:C.color||"primary",component:a,disabled:C.disabled,error:C.error,filled:C.filled,focused:C.focused,required:C.required},w=vEe(x);return v.jsxs(yEe,{as:a,ownerState:x,className:Rn(w.root,r),ref:n,...m,children:[s,C.required&&v.jsxs(xEe,{ownerState:x,"aria-hidden":!0,className:w.asterisk,children:[" ","*"]})]})});function tD(t){return`scale(${t}, ${t**2})`}const wEe={entering:{opacity:1,transform:tD(1)},entered:{opacity:1,transform:"none"}},sA=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),nD=E.forwardRef(function(e,n){const{addEndListener:i,appear:s=!0,children:r,easing:o,in:a,onEnter:l,onEntered:c,onEntering:d,onExit:f,onExited:p,onExiting:m,style:y,timeout:C="auto",TransitionComponent:x=Wa,...w}=e,M=Jbe(),S=E.useRef(),R=L1(),P=E.useRef(null),F=Fo(P,c0(r),n),N=K=>V=>{if(K){const Q=P.current;V===void 0?K(Q):K(Q,V)}},I=N(d),_=N((K,V)=>{c9(K);const{duration:Q,delay:q,easing:X}=Ob({style:y,timeout:C,easing:o},{mode:"enter"});let H;C==="auto"?(H=R.transitions.getAutoHeightDuration(K.clientHeight),S.current=H):H=Q,K.style.transition=[R.transitions.create("opacity",{duration:H,delay:q}),R.transitions.create("transform",{duration:sA?H:H*.666,delay:q,easing:X})].join(","),l&&l(K,V)}),A=N(c),O=N(m),k=N(K=>{const{duration:V,delay:Q,easing:q}=Ob({style:y,timeout:C,easing:o},{mode:"exit"});let X;C==="auto"?(X=R.transitions.getAutoHeightDuration(K.clientHeight),S.current=X):X=V,K.style.transition=[R.transitions.create("opacity",{duration:X,delay:Q}),R.transitions.create("transform",{duration:sA?X:X*.666,delay:sA?Q:Q||X*.333,easing:q})].join(","),K.style.opacity=0,K.style.transform=tD(.75),f&&f(K)}),z=N(p),W=K=>{C==="auto"&&M.start(S.current||0,K),i&&i(P.current,K)};return v.jsx(x,{appear:s,in:a,nodeRef:P,onEnter:_,onEntered:A,onEntering:I,onExit:k,onExited:z,onExiting:O,addEndListener:W,timeout:C==="auto"?null:C,...w,children:(K,{ownerState:V,...Q})=>E.cloneElement(r,{style:{opacity:0,transform:tD(.75),visibility:K==="exited"&&!a?"hidden":void 0,...wEe[K],...y,...r.props.style},ref:F,...Q})})});nD&&(nD.muiSupportAuto=!0);const bEe=t=>{const{classes:e,disableUnderline:n}=t,s=Qn({root:["root",!n&&"underline"],input:["input"]},x1e,e);return{...e,...s}},SEe=Ft(H1,{shouldForwardProp:t=>ja(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...k1(t,e),!n.disableUnderline&&e.underline]}})(Vi(({theme:t})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:i})=>i.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:i})=>!i.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Sg.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Sg.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Sg.disabled}, .${Sg.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Sg.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(d0()).map(([i])=>({props:{color:i,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[i].main}`}}}))]}})),EEe=Ft(V1,{name:"MuiInput",slot:"Input",overridesResolver:B1})({}),XF=E.forwardRef(function(e,n){const i=xi({props:e,name:"MuiInput"}),{disableUnderline:s=!1,components:r={},componentsProps:o,fullWidth:a=!1,inputComponent:l="input",multiline:c=!1,slotProps:d,slots:f={},type:p="text",...m}=i,y=bEe(i),x={root:{ownerState:{disableUnderline:s}}},w=d??o?As(d??o,x):x,M=f.root??r.Root??SEe,S=f.input??r.Input??EEe;return v.jsx(WF,{slots:{root:M,input:S},slotProps:w,fullWidth:a,inputComponent:l,multiline:c,ref:n,type:p,...m,classes:y})});XF.muiName="Input";function MEe(t){return Jn("MuiInputLabel",t)}pi("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const TEe=t=>{const{classes:e,formControl:n,size:i,shrink:s,disableAnimation:r,variant:o,required:a}=t,l={root:["root",n&&"formControl",!r&&"animated",s&&"shrink",i&&i!=="normal"&&`size${wn(i)}`,o],asterisk:[a&&"asterisk"]},c=Qn(l,MEe,e);return{...e,...c}},REe=Ft(CEe,{shouldForwardProp:t=>ja(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Cv.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(Vi(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:n,size:i})=>e==="filled"&&n.shrink&&i==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),AEe=E.forwardRef(function(e,n){const i=xi({name:"MuiInputLabel",props:e}),{disableAnimation:s=!1,margin:r,shrink:o,variant:a,className:l,...c}=i,d=nm();let f=o;typeof f>"u"&&d&&(f=d.filled||d.focused||d.adornedStart);const p=tm({props:i,muiFormControl:d,states:["size","variant","required","focused"]}),m={...i,disableAnimation:s,formControl:d,shrink:f,size:p.size,variant:p.variant,required:p.required,focused:p.focused},y=TEe(m);return v.jsx(REe,{"data-shrink":f,ref:n,className:Rn(y.root,l),...c,ownerState:m,classes:y})}),PEe=E.createContext({});function DEe(t){return Jn("MuiList",t)}pi("MuiList",["root","padding","dense","subheader"]);const _Ee=t=>{const{classes:e,disablePadding:n,dense:i,subheader:s}=t;return Qn({root:["root",!n&&"padding",i&&"dense",s&&"subheader"]},DEe,e)},FEe=Ft("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),NEe=E.forwardRef(function(e,n){const i=xi({props:e,name:"MuiList"}),{children:s,className:r,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:c,...d}=i,f=E.useMemo(()=>({dense:a}),[a]),p={...i,component:o,dense:a,disablePadding:l},m=_Ee(p);return v.jsx(PEe.Provider,{value:f,children:v.jsxs(FEe,{as:o,className:Rn(m.root,r),ref:n,ownerState:p,...d,children:[c,s]})})});function rA(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function UH(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function f9(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.startsWith(e.keys.join(""))}function Eg(t,e,n,i,s,r){let o=!1,a=s(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const l=i?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!f9(a,r)||l)a=s(t,a,n);else return a.focus(),!0}return!1}const IEe=E.forwardRef(function(e,n){const{actions:i,autoFocus:s=!1,autoFocusItem:r=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:d,variant:f="selectedMenu",...p}=e,m=E.useRef(null),y=E.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});uh(()=>{s&&m.current.focus()},[s]),E.useImperativeHandle(i,()=>({adjustStyleForScrollbar:(S,{direction:R})=>{const P=!m.current.style.width;if(S.clientHeight<m.current.clientHeight&&P){const F=`${ZW(ql(S))}px`;m.current.style[R==="rtl"?"paddingLeft":"paddingRight"]=F,m.current.style.width=`calc(100% + ${F})`}return m.current}}),[]);const C=S=>{const R=m.current,P=S.key;if(S.ctrlKey||S.metaKey||S.altKey){d&&d(S);return}const N=ea(R).activeElement;if(P==="ArrowDown")S.preventDefault(),Eg(R,N,c,l,rA);else if(P==="ArrowUp")S.preventDefault(),Eg(R,N,c,l,UH);else if(P==="Home")S.preventDefault(),Eg(R,null,c,l,rA);else if(P==="End")S.preventDefault(),Eg(R,null,c,l,UH);else if(P.length===1){const I=y.current,_=P.toLowerCase(),A=performance.now();I.keys.length>0&&(A-I.lastTime>500?(I.keys=[],I.repeating=!0,I.previousKeyMatched=!0):I.repeating&&_!==I.keys[0]&&(I.repeating=!1)),I.lastTime=A,I.keys.push(_);const O=N&&!I.repeating&&f9(N,I);I.previousKeyMatched&&(O||Eg(R,N,!1,l,rA,I))?S.preventDefault():I.previousKeyMatched=!1}d&&d(S)},x=Fo(m,n);let w=-1;E.Children.forEach(o,(S,R)=>{if(!E.isValidElement(S)){w===R&&(w+=1,w>=o.length&&(w=-1));return}S.props.disabled||(f==="selectedMenu"&&S.props.selected||w===-1)&&(w=R),w===R&&(S.props.disabled||S.props.muiSkipListHighlight||S.type.muiSkipListHighlight)&&(w+=1,w>=o.length&&(w=-1))});const M=E.Children.map(o,(S,R)=>{if(R===w){const P={};return r&&(P.autoFocus=!0),S.props.tabIndex===void 0&&f==="selectedMenu"&&(P.tabIndex=0),E.cloneElement(S,P)}return S});return v.jsx(NEe,{role:"menu",ref:x,className:a,onKeyDown:C,tabIndex:s?0:-1,...p,children:M})});function OEe(t){return Jn("MuiPopover",t)}pi("MuiPopover",["root","paper"]);function jH(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function WH(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function $H(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function oA(t){return typeof t=="function"?t():t}const LEe=t=>{const{classes:e}=t;return Qn({root:["root"],paper:["paper"]},OEe,e)},kEe=Ft(d9,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),p9=Ft(UF,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),BEe=E.forwardRef(function(e,n){const i=xi({props:e,name:"MuiPopover"}),{action:s,anchorEl:r,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:l="anchorEl",children:c,className:d,container:f,elevation:p=8,marginThreshold:m=16,open:y,PaperProps:C={},slots:x={},slotProps:w={},transformOrigin:M={vertical:"top",horizontal:"left"},TransitionComponent:S,transitionDuration:R="auto",TransitionProps:P={},disableScrollLock:F=!1,...N}=i,I=E.useRef(),_={...i,anchorOrigin:o,anchorReference:l,elevation:p,marginThreshold:m,transformOrigin:M,TransitionComponent:S,transitionDuration:R,TransitionProps:P},A=LEe(_),O=E.useCallback(()=>{if(l==="anchorPosition")return a;const we=oA(r),ce=(we&&we.nodeType===1?we:ea(I.current).body).getBoundingClientRect();return{top:ce.top+jH(ce,o.vertical),left:ce.left+WH(ce,o.horizontal)}},[r,o.horizontal,o.vertical,a,l]),k=E.useCallback(we=>({vertical:jH(we,M.vertical),horizontal:WH(we,M.horizontal)}),[M.horizontal,M.vertical]),z=E.useCallback(we=>{const $e={width:we.offsetWidth,height:we.offsetHeight},ce=k($e);if(l==="none")return{top:null,left:null,transformOrigin:$H(ce)};const Ce=O();let U=Ce.top-ce.vertical,ke=Ce.left-ce.horizontal;const De=U+$e.height,Xe=ke+$e.width,Ve=ql(oA(r)),at=Ve.innerHeight-m,Ge=Ve.innerWidth-m;if(m!==null&&U<m){const $=U-m;U-=$,ce.vertical+=$}else if(m!==null&&De>at){const $=De-at;U-=$,ce.vertical+=$}if(m!==null&&ke<m){const $=ke-m;ke-=$,ce.horizontal+=$}else if(Xe>Ge){const $=Xe-Ge;ke-=$,ce.horizontal+=$}return{top:`${Math.round(U)}px`,left:`${Math.round(ke)}px`,transformOrigin:$H(ce)}},[r,l,O,k,m]),[W,K]=E.useState(y),V=E.useCallback(()=>{const we=I.current;if(!we)return;const $e=z(we);$e.top!==null&&we.style.setProperty("top",$e.top),$e.left!==null&&(we.style.left=$e.left),we.style.transformOrigin=$e.transformOrigin,K(!0)},[z]);E.useEffect(()=>(F&&window.addEventListener("scroll",V),()=>window.removeEventListener("scroll",V)),[r,F,V]);const Q=()=>{V()},q=()=>{K(!1)};E.useEffect(()=>{y&&V()}),E.useImperativeHandle(s,()=>y?{updatePosition:()=>{V()}}:null,[y,V]),E.useEffect(()=>{if(!y)return;const we=XW(()=>{V()}),$e=ql(r);return $e.addEventListener("resize",we),()=>{we.clear(),$e.removeEventListener("resize",we)}},[r,y,V]);let X=R;const H={slots:{transition:S,...x},slotProps:{transition:P,paper:C,...w}},[ee,ge]=Oi("transition",{elementType:nD,externalForwardedProps:H,ownerState:_,getSlotProps:we=>({...we,onEntering:($e,ce)=>{var Ce;(Ce=we.onEntering)==null||Ce.call(we,$e,ce),Q()},onExited:$e=>{var ce;(ce=we.onExited)==null||ce.call(we,$e),q()}}),additionalProps:{appear:!0,in:y}});R==="auto"&&!ee.muiSupportAuto&&(X=void 0);const Se=f||(r?ea(oA(r)).body:void 0),[Z,{slots:ae,slotProps:xe,...Me}]=Oi("root",{ref:n,elementType:kEe,externalForwardedProps:{...H,...N},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:x.backdrop},slotProps:{backdrop:YSe(typeof w.backdrop=="function"?w.backdrop(_):w.backdrop,{invisible:!0})},container:Se,open:y},ownerState:_,className:Rn(A.root,d)}),[Oe,Le]=Oi("paper",{ref:I,className:A.paper,elementType:p9,externalForwardedProps:H,shouldForwardComponentProp:!0,additionalProps:{elevation:p,style:W?void 0:{opacity:0}},ownerState:_});return v.jsx(Z,{...Me,...!QP(Z)&&{slots:ae,slotProps:xe,disableScrollLock:F},children:v.jsx(ee,{...ge,timeout:X,children:v.jsx(Oe,{...Le,children:c})})})});function HEe(t){return Jn("MuiMenu",t)}pi("MuiMenu",["root","paper","list"]);const VEe={vertical:"top",horizontal:"right"},zEe={vertical:"top",horizontal:"left"},GEe=t=>{const{classes:e}=t;return Qn({root:["root"],paper:["paper"],list:["list"]},HEe,e)},UEe=Ft(BEe,{shouldForwardProp:t=>ja(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),jEe=Ft(p9,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),WEe=Ft(IEe,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),$Ee=E.forwardRef(function(e,n){const i=xi({props:e,name:"MuiMenu"}),{autoFocus:s=!0,children:r,className:o,disableAutoFocusItem:a=!1,MenuListProps:l={},onClose:c,open:d,PaperProps:f={},PopoverClasses:p,transitionDuration:m="auto",TransitionProps:{onEntering:y,...C}={},variant:x="selectedMenu",slots:w={},slotProps:M={},...S}=i,R=nSe(),P={...i,autoFocus:s,disableAutoFocusItem:a,MenuListProps:l,onEntering:y,PaperProps:f,transitionDuration:m,TransitionProps:C,variant:x},F=GEe(P),N=s&&!a&&d,I=E.useRef(null),_=(X,H)=>{I.current&&I.current.adjustStyleForScrollbar(X,{direction:R?"rtl":"ltr"}),y&&y(X,H)},A=X=>{X.key==="Tab"&&(X.preventDefault(),c&&c(X,"tabKeyDown"))};let O=-1;E.Children.map(r,(X,H)=>{E.isValidElement(X)&&(X.props.disabled||(x==="selectedMenu"&&X.props.selected||O===-1)&&(O=H))});const k={slots:w,slotProps:{list:l,transition:C,paper:f,...M}},z=eSe({elementType:w.root,externalSlotProps:M.root,ownerState:P,className:[F.root,o]}),[W,K]=Oi("paper",{className:F.paper,elementType:jEe,externalForwardedProps:k,shouldForwardComponentProp:!0,ownerState:P}),[V,Q]=Oi("list",{className:Rn(F.list,l.className),elementType:WEe,shouldForwardComponentProp:!0,externalForwardedProps:k,getSlotProps:X=>({...X,onKeyDown:H=>{var ee;A(H),(ee=X.onKeyDown)==null||ee.call(X,H)}}),ownerState:P}),q=typeof k.slotProps.transition=="function"?k.slotProps.transition(P):k.slotProps.transition;return v.jsx(UEe,{onClose:c,anchorOrigin:{vertical:"bottom",horizontal:R?"right":"left"},transformOrigin:R?VEe:zEe,slots:{root:w.root,paper:W,backdrop:w.backdrop,...w.transition&&{transition:w.transition}},slotProps:{root:z,paper:K,backdrop:typeof M.backdrop=="function"?M.backdrop(P):M.backdrop,transition:{...q,onEntering:(...X)=>{var H;_(...X),(H=q==null?void 0:q.onEntering)==null||H.call(q,...X)}}},open:d,ref:n,transitionDuration:m,ownerState:P,...S,classes:p,children:v.jsx(V,{actions:I,autoFocus:s&&(O===-1||a),autoFocusItem:N,variant:x,...Q,children:r})})});function qEe(t){return Jn("MuiNativeSelect",t)}const ZF=pi("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),KEe=t=>{const{classes:e,variant:n,disabled:i,multiple:s,open:r,error:o}=t,a={select:["select",n,i&&"disabled",s&&"multiple",o&&"error"],icon:["icon",`icon${wn(n)}`,r&&"iconOpen",i&&"disabled"]};return Qn(a,qEe,e)},m9=Ft("select")(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${ZF.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),YEe=Ft(m9,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:ja,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${ZF.multiple}`]:e.multiple}]}})({}),g9=Ft("svg")(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${ZF.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),XEe=Ft(g9,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${wn(n.variant)}`],n.open&&e.iconOpen]}})({}),ZEe=E.forwardRef(function(e,n){const{className:i,disabled:s,error:r,IconComponent:o,inputRef:a,variant:l="standard",...c}=e,d={...e,disabled:s,variant:l,error:r},f=KEe(d);return v.jsxs(E.Fragment,{children:[v.jsx(YEe,{ownerState:d,className:Rn(f.select,i),disabled:s,ref:a||n,...c}),e.multiple?null:v.jsx(XEe,{as:o,ownerState:d,className:f.icon})]})});var qH;const JEe=Ft("fieldset",{shouldForwardProp:ja})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),QEe=Ft("legend",{shouldForwardProp:ja})(Vi(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function eMe(t){const{children:e,classes:n,className:i,label:s,notched:r,...o}=t,a=s!=null&&s!=="",l={...t,notched:r,withLabel:a};return v.jsx(JEe,{"aria-hidden":!0,className:i,ownerState:l,...o,children:v.jsx(QEe,{ownerState:l,children:a?v.jsx("span",{children:s}):qH||(qH=v.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const tMe=t=>{const{classes:e}=t,i=Qn({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},C1e,e);return{...e,...i}},nMe=Ft(H1,{shouldForwardProp:t=>ja(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:k1})(Vi(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${ya.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${ya.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${ya.focused} .${ya.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(d0()).map(([n])=>({props:{color:n},style:{[`&.${ya.focused} .${ya.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}})),{props:{},style:{[`&.${ya.error} .${ya.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${ya.disabled} .${ya.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:i})=>n.multiline&&i==="small",style:{padding:"8.5px 14px"}}]}})),iMe=Ft(eMe,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(Vi(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),sMe=Ft(V1,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:B1})(Vi(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),JF=E.forwardRef(function(e,n){var i;const s=xi({props:e,name:"MuiOutlinedInput"}),{components:r={},fullWidth:o=!1,inputComponent:a="input",label:l,multiline:c=!1,notched:d,slots:f={},type:p="text",...m}=s,y=tMe(s),C=nm(),x=tm({props:s,muiFormControl:C,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),w={...s,color:x.color||"primary",disabled:x.disabled,error:x.error,focused:x.focused,formControl:C,fullWidth:o,hiddenLabel:x.hiddenLabel,multiline:c,size:x.size,type:p},M=f.root??r.Root??nMe,S=f.input??r.Input??sMe;return v.jsx(WF,{slots:{root:M,input:S},renderSuffix:R=>v.jsx(iMe,{ownerState:w,className:y.notchedOutline,label:l!=null&&l!==""&&x.required?i||(i=v.jsxs(E.Fragment,{children:[l," ","*"]})):l,notched:typeof d<"u"?d:!!(R.startAdornment||R.filled||R.focused)}),fullWidth:o,inputComponent:a,multiline:c,ref:n,type:p,...m,classes:{...y,notchedOutline:null}})});JF.muiName="Input";function v9(t){return Jn("MuiSelect",t)}const Mg=pi("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var KH;const rMe=Ft(m9,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Mg.select}`]:e.select},{[`&.${Mg.select}`]:e[n.variant]},{[`&.${Mg.error}`]:e.error},{[`&.${Mg.multiple}`]:e.multiple}]}})({[`&.${Mg.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),oMe=Ft(g9,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${wn(n.variant)}`],n.open&&e.iconOpen]}})({}),aMe=Ft("input",{shouldForwardProp:t=>a9(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function YH(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function lMe(t){return t==null||typeof t=="string"&&!t.trim()}const cMe=t=>{const{classes:e,variant:n,disabled:i,multiple:s,open:r,error:o}=t,a={select:["select",n,i&&"disabled",s&&"multiple",o&&"error"],icon:["icon",`icon${wn(n)}`,r&&"iconOpen",i&&"disabled"],nativeInput:["nativeInput"]};return Qn(a,v9,e)},uMe=E.forwardRef(function(e,n){var dt;const{"aria-describedby":i,"aria-label":s,autoFocus:r,autoWidth:o,children:a,className:l,defaultOpen:c,defaultValue:d,disabled:f,displayEmpty:p,error:m=!1,IconComponent:y,inputRef:C,labelId:x,MenuProps:w={},multiple:M,name:S,onBlur:R,onChange:P,onClose:F,onFocus:N,onOpen:I,open:_,readOnly:A,renderValue:O,required:k,SelectDisplayProps:z={},tabIndex:W,type:K,value:V,variant:Q="standard",...q}=e,[X,H]=wH({controlled:V,default:d,name:"Select"}),[ee,ge]=wH({controlled:_,default:c,name:"Select"}),Se=E.useRef(null),Z=E.useRef(null),[ae,xe]=E.useState(null),{current:Me}=E.useRef(_!=null),[Oe,Le]=E.useState(),we=Fo(n,C),$e=E.useCallback(Ie=>{Z.current=Ie,Ie&&xe(Ie)},[]),ce=ae==null?void 0:ae.parentNode;E.useImperativeHandle(we,()=>({focus:()=>{Z.current.focus()},node:Se.current,value:X}),[X]),E.useEffect(()=>{c&&ee&&ae&&!Me&&(Le(o?null:ce.clientWidth),Z.current.focus())},[ae,o]),E.useEffect(()=>{r&&Z.current.focus()},[r]),E.useEffect(()=>{if(!x)return;const Ie=ea(Z.current).getElementById(x);if(Ie){const rt=()=>{getSelection().isCollapsed&&Z.current.focus()};return Ie.addEventListener("click",rt),()=>{Ie.removeEventListener("click",rt)}}},[x]);const Ce=(Ie,rt)=>{Ie?I&&I(rt):F&&F(rt),Me||(Le(o?null:ce.clientWidth),ge(Ie))},U=Ie=>{Ie.button===0&&(Ie.preventDefault(),Z.current.focus(),Ce(!0,Ie))},ke=Ie=>{Ce(!1,Ie)},De=E.Children.toArray(a),Xe=Ie=>{const rt=De.find(tt=>tt.props.value===Ie.target.value);rt!==void 0&&(H(rt.props.value),P&&P(Ie,rt))},Ve=Ie=>rt=>{let tt;if(rt.currentTarget.hasAttribute("tabindex")){if(M){tt=Array.isArray(X)?X.slice():[];const Gt=X.indexOf(Ie.props.value);Gt===-1?tt.push(Ie.props.value):tt.splice(Gt,1)}else tt=Ie.props.value;if(Ie.props.onClick&&Ie.props.onClick(rt),X!==tt&&(H(tt),P)){const Gt=rt.nativeEvent||rt,se=new Gt.constructor(Gt.type,Gt);Object.defineProperty(se,"target",{writable:!0,value:{value:tt,name:S}}),P(se,Ie)}M||Ce(!1,rt)}},at=Ie=>{A||[" ","ArrowUp","ArrowDown","Enter"].includes(Ie.key)&&(Ie.preventDefault(),Ce(!0,Ie))},Ge=ae!==null&&ee,$=Ie=>{!Ge&&R&&(Object.defineProperty(Ie,"target",{writable:!0,value:{value:X,name:S}}),R(Ie))};delete q["aria-invalid"];let B,de;const te=[];let fe=!1;(Lb({value:X})||p)&&(O?B=O(X):fe=!0);const he=De.map(Ie=>{if(!E.isValidElement(Ie))return null;let rt;if(M){if(!Array.isArray(X))throw new Error(Wl(2));rt=X.some(tt=>YH(tt,Ie.props.value)),rt&&fe&&te.push(Ie.props.children)}else rt=YH(X,Ie.props.value),rt&&fe&&(de=Ie.props.children);return E.cloneElement(Ie,{"aria-selected":rt?"true":"false",onClick:Ve(Ie),onKeyUp:tt=>{tt.key===" "&&tt.preventDefault(),Ie.props.onKeyUp&&Ie.props.onKeyUp(tt)},role:"option",selected:rt,value:void 0,"data-value":Ie.props.value})});fe&&(M?te.length===0?B=null:B=te.reduce((Ie,rt,tt)=>(Ie.push(rt),tt<te.length-1&&Ie.push(", "),Ie),[]):B=de);let je=Oe;!o&&Me&&ae&&(je=ce.clientWidth);let We;typeof W<"u"?We=W:We=f?null:0;const Ze=z.id||(S?`mui-component-select-${S}`:void 0),Ct={...e,variant:Q,value:X,open:Ge,error:m},Ne=cMe(Ct),et={...w.PaperProps,...(dt=w.slotProps)==null?void 0:dt.paper},ft=HF();return v.jsxs(E.Fragment,{children:[v.jsx(rMe,{as:"div",ref:$e,tabIndex:We,role:"combobox","aria-controls":Ge?ft:void 0,"aria-disabled":f?"true":void 0,"aria-expanded":Ge?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[x,Ze].filter(Boolean).join(" ")||void 0,"aria-describedby":i,"aria-required":k?"true":void 0,"aria-invalid":m?"true":void 0,onKeyDown:at,onMouseDown:f||A?null:U,onBlur:$,onFocus:N,...z,ownerState:Ct,className:Rn(z.className,Ne.select,l),id:Ze,children:lMe(B)?KH||(KH=v.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):B}),v.jsx(aMe,{"aria-invalid":m,value:Array.isArray(X)?X.join(","):X,name:S,ref:Se,"aria-hidden":!0,onChange:Xe,tabIndex:-1,disabled:f,className:Ne.nativeInput,autoFocus:r,required:k,...q,ownerState:Ct}),v.jsx(oMe,{as:y,className:Ne.icon,ownerState:Ct}),v.jsx($Ee,{id:`menu-${S||""}`,anchorEl:ce,open:Ge,onClose:ke,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...w,slotProps:{...w.slotProps,list:{"aria-labelledby":x,role:"listbox","aria-multiselectable":M?"true":void 0,disableListWrap:!0,id:ft,...w.MenuListProps},paper:{...et,style:{minWidth:je,...et!=null?et.style:null}}},children:he})]})}),dMe=t=>{const{classes:e}=t,i=Qn({root:["root"]},v9,e);return{...e,...i}},QF={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>ja(t)&&t!=="variant",slot:"Root"},hMe=Ft(XF,QF)(""),fMe=Ft(JF,QF)(""),pMe=Ft(YF,QF)(""),y9=E.forwardRef(function(e,n){const i=xi({name:"MuiSelect",props:e}),{autoWidth:s=!1,children:r,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:d=b1e,id:f,input:p,inputProps:m,label:y,labelId:C,MenuProps:x,multiple:w=!1,native:M=!1,onClose:S,onOpen:R,open:P,renderValue:F,SelectDisplayProps:N,variant:I="outlined",..._}=i,A=M?ZEe:uMe,O=nm(),k=tm({props:i,muiFormControl:O,states:["variant","error"]}),z=k.variant||I,W={...i,variant:z,classes:o},K=dMe(W),{root:V,...Q}=K,q=p||{standard:v.jsx(hMe,{ownerState:W}),outlined:v.jsx(fMe,{label:y,ownerState:W}),filled:v.jsx(pMe,{ownerState:W})}[z],X=Fo(n,c0(q));return v.jsx(E.Fragment,{children:E.cloneElement(q,{inputComponent:A,inputProps:{children:r,error:k.error,IconComponent:d,variant:z,type:void 0,multiple:w,...M?{id:f}:{autoWidth:s,defaultOpen:l,displayEmpty:c,labelId:C,MenuProps:x,onClose:S,onOpen:R,open:P,renderValue:F,SelectDisplayProps:{id:f,...N}},...m,classes:m?As(Q,m.classes):Q,...p?p.props.inputProps:{}},...(w&&M||c)&&z==="outlined"?{notched:!0}:{},ref:X,className:Rn(q.props.className,a,K.root),...!p&&{variant:z},..._})})});y9.muiName="Select";function mMe(t){return Jn("MuiTextField",t)}pi("MuiTextField",["root"]);const gMe={standard:XF,filled:YF,outlined:JF},vMe=t=>{const{classes:e}=t;return Qn({root:["root"]},mMe,e)},yMe=Ft(dEe,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),x9=E.forwardRef(function(e,n){const i=xi({props:e,name:"MuiTextField"}),{autoComplete:s,autoFocus:r=!1,children:o,className:a,color:l="primary",defaultValue:c,disabled:d=!1,error:f=!1,FormHelperTextProps:p,fullWidth:m=!1,helperText:y,id:C,InputLabelProps:x,inputProps:w,InputProps:M,inputRef:S,label:R,maxRows:P,minRows:F,multiline:N=!1,name:I,onBlur:_,onChange:A,onFocus:O,placeholder:k,required:z=!1,rows:W,select:K=!1,SelectProps:V,slots:Q={},slotProps:q={},type:X,value:H,variant:ee="outlined",...ge}=i,Se={...i,autoFocus:r,color:l,disabled:d,error:f,fullWidth:m,multiline:N,required:z,select:K,variant:ee},Z=vMe(Se),ae=HF(C),xe=y&&ae?`${ae}-helper-text`:void 0,Me=R&&ae?`${ae}-label`:void 0,Oe=gMe[ee],Le={slots:Q,slotProps:{input:M,inputLabel:x,htmlInput:w,formHelperText:p,select:V,...q}},we={},$e=Le.slotProps.inputLabel;ee==="outlined"&&($e&&typeof $e.shrink<"u"&&(we.notched=$e.shrink),we.label=R),K&&((!V||!V.native)&&(we.id=void 0),we["aria-describedby"]=void 0);const[ce,Ce]=Oi("input",{elementType:Oe,externalForwardedProps:Le,additionalProps:we,ownerState:Se}),[U,ke]=Oi("inputLabel",{elementType:AEe,externalForwardedProps:Le,ownerState:Se}),[De,Xe]=Oi("htmlInput",{elementType:"input",externalForwardedProps:Le,ownerState:Se}),[Ve,at]=Oi("formHelperText",{elementType:mEe,externalForwardedProps:Le,ownerState:Se}),[Ge,$]=Oi("select",{elementType:y9,externalForwardedProps:Le,ownerState:Se}),B=v.jsx(ce,{"aria-describedby":xe,autoComplete:s,autoFocus:r,defaultValue:c,fullWidth:m,multiline:N,name:I,rows:W,maxRows:P,minRows:F,type:X,value:H,id:ae,inputRef:S,onBlur:_,onChange:A,onFocus:O,placeholder:k,inputProps:Xe,slots:{input:Q.htmlInput?De:void 0},...Ce});return v.jsxs(yMe,{className:Rn(Z.root,a),disabled:d,error:f,fullWidth:m,ref:n,required:z,color:l,variant:ee,ownerState:Se,...ge,children:[R!=null&&R!==""&&v.jsx(U,{htmlFor:ae,id:Me,...ke,children:R}),K?v.jsx(Ge,{"aria-describedby":xe,id:ae,labelId:Me,value:H,input:B,...$,children:o}):B,y&&v.jsx(Ve,{id:xe,...at,children:y})]})});var im=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(t){this.frameworkOverrides=t}getListeners(t,e,n){const i=e?this.allAsyncListeners:this.allSyncListeners;let s=i.get(t);return!s&&n&&(s=new Set,i.set(t,s)),s}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(t,e,n=!1){this.getListeners(t,n,!0).add(e)}removeEventListener(t,e,n=!1){const i=this.getListeners(t,n,!1);i&&(i.delete(e),i.size===0&&(n?this.allAsyncListeners:this.allSyncListeners).delete(t))}addGlobalListener(t,e=!1){(e?this.globalAsyncListeners:this.globalSyncListeners).add(t)}removeGlobalListener(t,e=!1){(e?this.globalAsyncListeners:this.globalSyncListeners).delete(t)}dispatchEvent(t){const e=t;this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0}dispatchEventOnce(t){this.firedEvents[t.type]||this.dispatchEvent(t)}dispatchToListeners(t,e){const n=t.type;if(e&&"event"in t){const a=t.event;a instanceof Event&&(t.eventPath=a.composedPath())}const i=(a,l)=>a.forEach(c=>{if(!l.has(c))return;const d=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>c(t)):()=>c(t);e?this.dispatchAsync(d):d()}),s=this.getListeners(n,e,!1)??new Set,r=new Set(s);r.size>0&&i(r,s),new Set(e?this.globalAsyncListeners:this.globalSyncListeners).forEach(a=>{const l=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>a(n,t)):()=>a(n,t);e?this.dispatchAsync(l):l()})}dispatchAsync(t){if(this.asyncFunctionsQueue.push(t),!this.scheduled){const e=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(e):e(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const t=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],t.forEach(e=>e())}},h0=(t=>(t.CommunityCoreModule="@ag-grid-community/core",t.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",t.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",t.CsvExportModule="@ag-grid-community/csv-export",t.EnterpriseCoreModule="@ag-grid-enterprise/core",t.RowGroupingModule="@ag-grid-enterprise/row-grouping",t.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",t.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",t.MenuModule="@ag-grid-enterprise/menu",t.SetFilterModule="@ag-grid-enterprise/set-filter",t.MultiFilterModule="@ag-grid-enterprise/multi-filter",t.StatusBarModule="@ag-grid-enterprise/status-bar",t.SideBarModule="@ag-grid-enterprise/side-bar",t.RangeSelectionModule="@ag-grid-enterprise/range-selection",t.MasterDetailModule="@ag-grid-enterprise/master-detail",t.RichSelectModule="@ag-grid-enterprise/rich-select",t.GridChartsModule="@ag-grid-enterprise/charts",t.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",t.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",t.ExcelExportModule="@ag-grid-enterprise/excel-export",t.ClipboardModule="@ag-grid-enterprise/clipboard",t.SparklinesModule="@ag-grid-enterprise/sparklines",t.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",t.AngularModule="@ag-grid-community/angular",t.ReactModule="@ag-grid-community/react",t.VueModule="@ag-grid-community/vue",t))(h0||{}),XH={};function eN(t,e){XH[e]||(t(),XH[e]=!0)}function Kc(t,...e){console.log("AG Grid: "+t,...e)}function Fe(t,...e){eN(()=>console.warn("AG Grid: "+t,...e),t+(e==null?void 0:e.join("")))}function gn(t,...e){eN(()=>console.error("AG Grid: "+t,...e),t+(e==null?void 0:e.join("")))}function tN(t){return!!(t&&t.constructor&&t.call&&t.apply)}function xMe(t){CMe(t,400)}var aA=[],lA=!1;function ZH(t){aA.push(t),!lA&&(lA=!0,window.setTimeout(()=>{const e=aA.slice();aA.length=0,lA=!1,e.forEach(n=>n())},0))}function CMe(t,e=0){t.length>0&&window.setTimeout(()=>t.forEach(n=>n()),e)}function vr(t,e){let n;return function(...i){const s=this;window.clearTimeout(n),n=window.setTimeout(function(){t.apply(s,i)},e)}}function JH(t,e){let n=0;return function(...i){const s=this,r=new Date().getTime();r-n<e||(n=r,t.apply(s,i))}}function wMe(t,e,n=100,i){const s=new Date().getTime();let r=null,o=!1;const a=()=>{const l=new Date().getTime()-s>n;(t()||l)&&(e(),o=!0,r!=null&&(window.clearInterval(r),r=null))};a(),o||(r=window.setInterval(a,10))}function kl(t){return t==null||t===""?null:t}function Ke(t,e=!1){return t!=null&&(t!==""||e)}function Yt(t){return!Ke(t)}function jr(t){return t==null||t.length===0}function iD(t){return t!=null&&typeof t.toString=="function"?t.toString():null}function Kd(t){if(t===void 0)return;if(t===null||t==="")return null;if(typeof t=="number")return isNaN(t)?void 0:t;const e=parseInt(t,10);return isNaN(e)?void 0:e}function sD(t){if(t!==void 0)return t===null||t===""?!1:rD(t)}function rD(t){return typeof t=="boolean"?t:typeof t=="string"?t.toUpperCase()==="TRUE"||t=="":!1}function kb(t,e){const n=t?JSON.stringify(t):null,i=e?JSON.stringify(e):null;return n===i}function bMe(t,e,n=!1){const i=t==null,s=e==null;if(t&&t.toNumber&&(t=t.toNumber()),e&&e.toNumber&&(e=e.toNumber()),i&&s)return 0;if(i)return-1;if(s)return 1;function r(o,a){return o>a?1:o<a?-1:0}if(typeof t!="string"||!n)return r(t,e);try{return t.localeCompare(e)}catch{return r(t,e)}}function Ow(t){if(t instanceof Set||t instanceof Map){const e=[];return t.forEach(n=>e.push(n)),e}return Object.values(t)}function C9(t,e){return t.get("rowModelType")===e}function Gn(t){return C9(t,"clientSide")}function Th(t){return C9(t,"serverSide")}function ds(t,e){return t.get("domLayout")===e}function Bb(t){return zb(t)!==void 0}function Hb(t){return!t.get("suppressAsyncEvents")}function w9(t){return typeof t.get("getRowHeight")=="function"}function SMe(t,e){return e?!t.get("enableStrictPivotColumnOrder"):t.get("maintainColumnOrder")}function au(t,e,n=!1,i){if(i==null&&(i=t.environment.getDefaultRowHeight()),w9(t)){if(n)return{height:i,estimated:!0};const o={node:e,data:e.data},a=t.getCallback("getRowHeight")(o);if(oD(a))return a===0&&Fe("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,a),estimated:!1}}if(e.detail&&t.get("masterDetail"))return EMe(t);const s=t.get("rowHeight");return{height:s&&oD(s)?s:i,estimated:!1}}function EMe(t){if(t.get("detailRowAutoHeight"))return{height:1,estimated:!1};const e=t.get("detailRowHeight");return oD(e)?{height:e,estimated:!1}:{height:300,estimated:!1}}function z1(t){const{environment:e}=t,n=t.get("rowHeight");if(!n||Yt(n))return e.getDefaultRowHeight();const i=e.refreshRowHeightVariable();return i!==-1?i:(Fe("row height must be a number if not using standard row model"),e.getDefaultRowHeight())}function oD(t){return!isNaN(t)&&typeof t=="number"&&isFinite(t)}function ly(t,e,n){const i=e[t.getDomDataKey()];return i?i[n]:void 0}function dh(t,e,n,i){const s=t.getDomDataKey();let r=e[s];Yt(r)&&(r={},e[s]=r),r[n]=i}function di(t){let e=null;const n=t.get("getDocument");return n&&Ke(n)?e=n():t.eGridDiv&&(e=t.eGridDiv.ownerDocument),e&&Ke(e)?e:document}function b9(t){return di(t).defaultView||window}function cy(t){return t.eGridDiv.getRootNode()}function Zn(t){return cy(t).activeElement}function S9(t){const e=di(t),n=Zn(t);return n===null||n===e.body}function gp(t){return t.get("ensureDomOrder")?!1:t.get("animateRows")}function G1(t){return!(t.get("paginateChildRows")||t.get("groupHideOpenParents")||ds(t,"print"))}function Ma(t){const e=t.get("autoGroupColumnDef");return!(e!=null&&e.comparator)&&!t.get("treeData")}function aD(t){const e=t.get("groupAggFiltering");if(typeof e=="function")return t.getCallback("groupAggFiltering");if(e===!0)return()=>!0}function E9(t){const e=t.get("grandTotalRow");if(e)return e;if(t.get("groupIncludeTotalFooter"))return"bottom"}function M9(t){const e=t.get("groupTotalRow");if(typeof e=="function")return t.getCallback("groupTotalRow");if(e)return()=>e;const n=t.get("groupIncludeFooter");if(typeof n=="function"){const i=t.getCallback("groupIncludeFooter");return s=>i(s)?"bottom":void 0}return()=>n?"bottom":void 0}function MMe(t){return t.exists("groupDisplayType")?t.get("groupDisplayType")==="multipleColumns":t.get("groupHideOpenParents")}function nN(t,e){return e?!1:t.get("groupDisplayType")==="groupRows"}function f0(t){const e=t.getCallback("getRowId");return e===void 0?e:n=>{let i=e(n);return typeof i!="string"&&(Fe("The getRowId callback must return a string. The ID ",i," is being cast to a string."),i=String(i)),i}}function Lp(t){return(t==null?void 0:t.checkboxes)??!0}function Vb(t){return(t==null?void 0:t.mode)==="multiRow"&&(t.headerCheckbox??!0)}function TMe(t){return(t==null?void 0:t.hideDisabledCheckboxes)??!1}function RMe(t){return typeof t.get("rowSelection")!="string"}function AMe(t){return t.get("cellSelection")!==void 0}function PMe(t){const e=t.get("cellSelection");return e!==void 0?typeof e!="boolean"?(e==null?void 0:e.suppressMultiRanges)??!1:!1:t.get("suppressMultiRangeSelection")}function Kl(t){const e=t.get("cellSelection");return e!==void 0?!!e:t.get("enableRangeSelection")}function DMe(t){var i;const e=t.get("cellSelection");return e!==void 0?typeof e!="boolean"?((i=e.handle)==null?void 0:i.mode)==="range":!1:t.get("enableRangeHandle")}function QH(t){var i;const e=t.get("cellSelection");return e!==void 0?typeof e!="boolean"?((i=e.handle)==null?void 0:i.mode)==="fill":!1:t.get("enableFillHandle")}function T9(t){const e=t.get("rowSelection")??"single";if(typeof e=="string"){const n=t.get("suppressRowClickSelection"),i=t.get("suppressRowDeselection");return n&&i?!1:n?"enableDeselection":i?"enableSelection":!0}return e.mode==="singleRow"||e.mode==="multiRow"?e.enableClickSelection??!1:!1}function _Me(t){const e=T9(t);return e===!0||e==="enableSelection"}function eV(t){const e=T9(t);return e===!0||e==="enableDeselection"}function iN(t){const e=t.get("rowSelection");return typeof e=="string"?t.get("isRowSelectable"):e==null?void 0:e.isRowSelectable}function zb(t){const e=t.get("rowSelection");if(typeof e=="string")switch(e){case"multiple":return"multiRow";case"single":return"singleRow";default:return}return e==null?void 0:e.mode}function R9(t){return zb(t)==="multiRow"}function FMe(t){const e=t.get("rowSelection");return typeof e=="string"?t.get("rowMultiSelectWithClick"):(e==null?void 0:e.enableSelectionWithoutKeys)??!1}function sN(t){const e=t.get("rowSelection");if(typeof e=="string"){const n=t.get("groupSelectsChildren"),i=t.get("groupSelectsFiltered");return n&&i?"filteredDescendants":n?"descendants":"self"}return(e==null?void 0:e.mode)==="multiRow"?e.groupSelects:void 0}function hh(t){const e=sN(t);return e==="descendants"||e==="filteredDescendants"}function cA(t){return t.isModuleRegistered("@ag-grid-enterprise/set-filter")&&!t.get("suppressSetFilterByDefault")}function Kt(t){if(!(!t||!t.length))return t[t.length-1]}function Cu(t,e,n){return t==null&&e==null?!0:t!=null&&e!=null&&t.length===e.length&&t.every((i,s)=>n?n(i,e[s]):e[s]===i)}function NMe(t){return t.sort((e,n)=>e-n)}function A9(t,e){const n=t.indexOf(e);n>=0&&(t[n]=t[t.length-1],t.pop())}function yr(t,e){const n=t.indexOf(e);n>=0&&t.splice(n,1)}function IMe(t,e){for(let n=0;n<e.length;n++)A9(t,e[n])}function OMe(t,e){for(let n=0;n<e.length;n++)yr(t,e[n])}function Gb(t,e,n){t.splice(n,0,e)}function P9(t,e,n){OMe(t,e),e.slice().reverse().forEach(i=>Gb(t,i,n))}function Yd(t,e){return t.indexOf(e)>-1}function LMe(t){return(t==null?void 0:t.flatMap(e=>e))??[]}function tV(t,e){e==null||t==null||e.forEach(n=>t.push(n))}var D9="__ag_Grid_Stop_Propagation",kMe=["touchstart","touchend","touchmove","touchcancel","scroll"],uA={};function kp(t){t[D9]=!0}function Bl(t){return t[D9]===!0}var _9=(()=>{const t={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return n=>{if(typeof uA[n]=="boolean")return uA[n];const i=document.createElement(t[n]||"div");return n="on"+n,uA[n]=n in i}})();function lD(t,e,n){let i=e;for(;i;){const s=ly(t,i,n);if(s)return s;i=i.parentElement}return null}function BMe(t,e){return!e||!t?!1:VMe(e).indexOf(t)>=0}function HMe(t){const e=[];let n=t.target;for(;n;)e.push(n),n=n.parentElement;return e}function VMe(t){const e=t;return e.path?e.path:e.composedPath?e.composedPath():HMe(e)}function zMe(t,e,n,i){const r=Yd(kMe,n)?{passive:!0}:void 0;t&&t.addEventListener&&t.addEventListener(e,n,i,r)}var Ee=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(t){this.frameworkOverrides=t.frameworkOverrides,this.stubContext=t.context,this.eventService=t.eventService,this.gos=t.gos,this.localeService=t.localeService}getFrameworkOverrides(){return this.frameworkOverrides}destroy(){for(let t=0;t<this.destroyFunctions.length;t++)this.destroyFunctions[t]();this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(t,e,n){this.localEventService||(this.localEventService=new im),this.localEventService.addEventListener(t,e,n)}removeEventListener(t,e,n){this.localEventService&&this.localEventService.removeEventListener(t,e,n)}dispatchLocalEvent(t){this.localEventService&&this.localEventService.dispatchEvent(t)}addManagedElementListeners(t,e){return this._setupListeners(t,e)}addManagedEventListeners(t){return this._setupListeners(this.eventService,t)}addManagedListeners(t,e){return this._setupListeners(t,e)}_setupListeners(t,e){const n=[];for(const i in e){const s=e[i];s&&n.push(this._setupListener(t,i,s))}return n}_setupListener(t,e,n){if(this.destroyed)return()=>null;t instanceof HTMLElement?zMe(this.getFrameworkOverrides(),t,e,n):t.addEventListener(e,n);const i=()=>(t.removeEventListener(e,n),null);return this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(s=>s!==i),null)}setupGridOptionListener(t,e){this.gos.addPropertyEventListener(t,e);const n=()=>(this.gos.removePropertyEventListener(t,e),null);return this.destroyFunctions.push(n),()=>(n(),this.destroyFunctions=this.destroyFunctions.filter(i=>i!==n),null)}addManagedPropertyListener(t,e){return this.destroyed?()=>null:this.setupGridOptionListener(t,e)}addManagedPropertyListeners(t,e){if(this.destroyed)return;const n=t.join("-")+this.propertyListenerId++,i=s=>{if(s.changeSet){if(s.changeSet&&s.changeSet.id===this.lastChangeSetIdLookup[n])return;this.lastChangeSetIdLookup[n]=s.changeSet.id}const r={type:"gridPropertyChanged",changeSet:s.changeSet,source:s.source};e(r)};t.forEach(s=>this.setupGridOptionListener(s,i))}addDestroyFunc(t){this.isAlive()?this.destroyFunctions.push(t):t()}createManagedBean(t,e){const n=this.createBean(t,e);return this.addDestroyFunc(this.destroyBean.bind(this,t,e)),n}createBean(t,e,n){return(e||this.stubContext).createBean(t,n)}destroyBean(t,e){return(e||this.stubContext).destroyBean(t)}destroyBeans(t,e){return(e||this.stubContext).destroyBeans(t)}};function Ws(t){return t instanceof Lw}var Lw=class extends Ee{constructor(t,e,n,i){super(),this.isColumn=!1,this.expandable=!1,this.instanceId=I9(),this.expandableListenerRemoveCallback=null,this.colGroupDef=t,this.groupId=e,this.expanded=!!t&&!!t.openByDefault,this.padding=n,this.level=i}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(t,e){this.colGroupDef=t,this.level=e,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(t){this.originalParent=t}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(t=>t.isVisible()):!1}isPadding(){return this.padding}setExpanded(t){this.expanded=t===void 0?!1:t,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(t){this.children=t}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const t=[];return this.addLeafColumns(t),t}addLeafColumns(t){this.children&&this.children.forEach(e=>{lu(e)?t.push(e):Ws(e)&&e.addLeafColumns(t)})}getColumnGroupShow(){const t=this.colGroupDef;if(t)return t.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const t=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(e=>e.addEventListener("visibleChanged",t)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(e=>e.removeEventListener("visibleChanged",t)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let t=!1,e=!1,n=!1;const i=this.findChildrenRemovingPadding();for(let r=0,o=i.length;r<o;r++){const a=i[r];if(!a.isVisible())continue;const l=a.getColumnGroupShow();l==="open"?(t=!0,n=!0):l==="closed"?(e=!0,n=!0):(t=!0,e=!0)}const s=t&&e&&n;this.expandable!==s&&(this.expandable=s,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const t=[],e=n=>{n.forEach(i=>{Ws(i)&&i.isPadding()?e(i.children):t.push(i)})};return e(this.children),t}onColumnVisibilityChanged(){this.setExpandable()}},F9="ag-Grid-ControlsColumn",GMe=class extends Ee{constructor(){super(...arguments),this.beanName="controlsColService"}createControlsCols(){const{gos:t}=this,e=t.get("rowSelection");if(!e||typeof e!="object")return[];const n=Lp(e),i=Vb(e);if(n||i){const s=t.get("selectionColumnDef"),o={maxWidth:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:t.get("enableRtl")?"right":"left",comparator(l,c,d,f){const p=d.isSelected(),m=f.isSelected();return p&&m?0:p?1:-1},editable:!1,suppressFillHandle:!0,...s,colId:`${F9}`},a=new lN(o,null,o.colId,!1);return this.createBean(a),[a]}return[]}},U1="ag-Grid-AutoColumn";function rN(t){const e=[],n=i=>{for(let s=0;s<i.length;s++){const r=i[s];lu(r)?e.push(r):Ws(r)&&n(r.getChildren())}};return n(t),e}function Ml(t){return t.reduce((e,n)=>e+n.getActualWidth(),0)}function kc(t,e,n){const i={};if(!e)return;Yl(null,e,r=>{i[r.getInstanceId()]=r}),n&&Yl(null,n,r=>{i[r.getInstanceId()]=null});const s=Object.values(i).filter(r=>r!=null);t.destroyBeans(s)}function nV(t){return t.getId().startsWith(U1)}function j1(t){return t.getColId().startsWith(F9)}function kw(t){let e=[];return t instanceof Array?t.some(i=>typeof i!="string")?Fe("if colDef.type is supplied an array it should be of type 'string[]'"):e=t:typeof t=="string"?e=t.split(","):Fe("colDef.type should be of type 'string' | 'string[]'"),e}var oN=class{constructor(t){this.frameworkOverrides=t,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(t){let e=t;return this.frameworkOverrides.shouldWrapOutgoing&&(e=n=>{this.frameworkOverrides.wrapOutgoing(()=>t(n))},this.wrappedListeners.set(t,e)),e}wrapGlobal(t){let e=t;return this.frameworkOverrides.shouldWrapOutgoing&&(e=(n,i)=>{this.frameworkOverrides.wrapOutgoing(()=>t(n,i))},this.wrappedGlobalListeners.set(t,e)),e}unwrap(t){return this.wrappedListeners.get(t)??t}unwrapGlobal(t){return this.wrappedGlobalListeners.get(t)??t}},aN=new Set(["__proto__","constructor","prototype"]);function Wo(t,e){if(t!=null){if(Array.isArray(t)){for(let n=0;n<t.length;n++)e(n.toString(),t[n]);return}for(const[n,i]of Object.entries(t))e(n,i)}}function N9(t){const e={},n=Object.keys(t);for(let i=0;i<n.length;i++){if(aN.has(n[i]))continue;const s=n[i],r=t[s];e[s]=r}return e}function cD(t,e){if(!t)return;const n=t,i={};return Object.keys(n).forEach(s=>{if(e&&e.indexOf(s)>=0||aN.has(s))return;const r=n[s];uD(r)&&r.constructor===Object?i[s]=cD(r):i[s]=r}),i}function iV(t){if(!t)return[];const e=Object;if(typeof e.values=="function")return e.values(t);const n=[];for(const i in t)t.hasOwnProperty(i)&&t.propertyIsEnumerable(i)&&n.push(t[i]);return n}function $s(t,e,n=!0,i=!1){Ke(e)&&Wo(e,(s,r)=>{if(aN.has(s))return;let o=t[s];o!==r&&(i&&o==null&&r!=null&&typeof r=="object"&&r.constructor===Object&&(o={},t[s]=o),uD(r)&&uD(o)&&!Array.isArray(o)?$s(o,r,n,i):(n||r!==void 0)&&(t[s]=r))})}function wv(t,e,n){if(!e||!t)return;if(!n)return t[e];const i=e.split(".");let s=t;for(let r=0;r<i.length;r++){if(s==null)return;s=s[i[r]]}return s}function uD(t){return typeof t=="object"&&t!==null}var UMe={resizable:!0,sortable:!0},jMe=0;function I9(){return jMe++}function lu(t){return t instanceof lN}var lN=class extends Ee{constructor(t,e,n,i){super(),this.isColumn=!0,this.instanceId=I9(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.columnEventService=new im,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=t,this.userProvidedColDef=e,this.colId=n,this.primary=i,this.setState(t)}wireBeans(t){this.columnHoverService=t.columnHoverService}getInstanceId(){return this.instanceId}setState(t){t.sort!==void 0?(t.sort==="asc"||t.sort==="desc")&&(this.sort=t.sort):(t.initialSort==="asc"||t.initialSort==="desc")&&(this.sort=t.initialSort);const e=t.sortIndex,n=t.initialSortIndex;e!==void 0?e!==null&&(this.sortIndex=e):n!==null&&(this.sortIndex=n);const i=t.hide,s=t.initialHide;i!==void 0?this.visible=!i:this.visible=!s,t.pinned!==void 0?this.setPinned(t.pinned):this.setPinned(t.initialPinned);const r=t.flex,o=t.initialFlex;r!==void 0?this.flex=r:o!==void 0&&(this.flex=o)}setColDef(t,e,n){this.colDef=t,this.userProvidedColDef=e,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.columnEventService.dispatchEvent(this.createColumnEvent("colDefChanged",n))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(t){this.parent=t}getParent(){return this.parent}setOriginalParent(t){this.originalParent=t}getOriginalParent(){return this.originalParent}postConstruct(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){const t=this.gos.get("suppressFieldDotNotation");this.fieldContainsDots=Ke(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!t,this.tooltipFieldContainsDots=Ke(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!t}initMinAndMaxWidths(){const t=this.colDef;this.minWidth=t.minWidth??this.gos.environment.getDefaultColumnMinWidth(),this.maxWidth=t.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.tooltipEnabled=Ke(this.colDef.tooltipField)||Ke(this.colDef.tooltipValueGetter)||Ke(this.colDef.tooltipComponent)}resetActualWidth(t){const e=this.calculateColInitialWidth(this.colDef);this.setActualWidth(e,t,!0)}calculateColInitialWidth(t){let e;const n=Kd(t.width),i=Kd(t.initialWidth);return n!=null?e=n:i!=null?e=i:e=200,Math.max(Math.min(e,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(t){if(Yt(this.colDef)||Yt(this.colDef.showRowGroup))return!1;const e=this.colDef.showRowGroup===!0,n=this.colDef.showRowGroup===t;return e||n}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}addEventListener(t,e){var i;this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.columnEventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new oN(this.frameworkOverrides));const n=((i=this.frameworkEventListenerService)==null?void 0:i.wrap(e))??e;this.columnEventService.addEventListener(t,n)}removeEventListener(t,e){var i;const n=((i=this.frameworkEventListenerService)==null?void 0:i.unwrap(e))??e;this.columnEventService.removeEventListener(t,n)}createColumnFunctionCallbackParams(t){return this.gos.addGridCommonParams({node:t,data:t.data,column:this,colDef:this.colDef})}isSuppressNavigable(t){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){const e=this.createColumnFunctionCallbackParams(t),n=this.colDef.suppressNavigable;return n(e)}return!1}isCellEditable(t){if(t.group){if(this.gos.get("treeData")){if(!t.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return this.isColumnFunc(t,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(t){return this.isColumnFunc(t,this.colDef.rowDrag)}isDndSource(t){return this.isColumnFunc(t,this.colDef.dndSource)}isCellCheckboxSelection(t){const e=this.gos.get("rowSelection");if(e&&typeof e!="string"){const n=j1(this)&&Lp(e);return this.isColumnFunc(t,n)}else return this.isColumnFunc(t,this.colDef.checkboxSelection)}isSuppressPaste(t){return this.isColumnFunc(t,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(t){return this.colDef[t]??UMe[t]}isColumnFunc(t,e){if(typeof e=="boolean")return e;if(typeof e=="function"){const n=this.createColumnFunctionCallbackParams(t);return e(n)}return!1}setHighlighted(t){this.highlighted!==t&&(this.highlighted=t,this.columnEventService.dispatchEvent(this.createColumnEvent("headerHighlightChanged","uiColumnMoved")))}setMoving(t,e){this.moving=t,this.columnEventService.dispatchEvent(this.createColumnEvent("movingChanged",e))}createColumnEvent(t,e){return this.gos.addGridCommonParams({type:t,column:this,columns:[this],source:e})}isMoving(){return this.moving}getSort(){return this.sort}setSort(t,e){this.sort!==t&&(this.sort=t,this.columnEventService.dispatchEvent(this.createColumnEvent("sortChanged",e))),this.dispatchStateUpdatedEvent("sort")}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return Yt(this.sort)}isSorting(){return Ke(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(t){this.sortIndex=t,this.dispatchStateUpdatedEvent("sortIndex")}setMenuVisible(t,e){this.menuVisible!==t&&(this.menuVisible=t,this.columnEventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",e)))}isMenuVisible(){return this.menuVisible}setAggFunc(t){this.aggFunc=t,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(t,e){this.oldLeft=this.left,this.left!==t&&(this.left=t,this.columnEventService.dispatchEvent(this.createColumnEvent("leftChanged",e)))}isFilterActive(){return this.filterActive}setFilterActive(t,e,n){this.filterActive!==t&&(this.filterActive=t,this.columnEventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",e)));const i=this.createColumnEvent("filterChanged",e);n&&$s(i,n),this.columnEventService.dispatchEvent(i)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(t){t===!0||t==="left"?this.pinned="left":t==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(t,e){this.firstRightPinned!==t&&(this.firstRightPinned=t,this.columnEventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",e)))}setLastLeftPinned(t,e){this.lastLeftPinned!==t&&(this.lastLeftPinned=t,this.columnEventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",e)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(t,e){const n=t===!0;this.visible!==n&&(this.visible=n,this.columnEventService.dispatchEvent(this.createColumnEvent("visibleChanged",e))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getColumnGroupPaddingInfo(){let t=this.getParent();if(!t||!t.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const e=t.getPaddingLevel()+1;let n=!0;for(;t;){if(!t.isPadding()){n=!1;break}t=t.getParent()}return{numberOfParents:e,isSpanningTotal:n}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(t){const e=t!==this.autoHeaderHeight;return this.autoHeaderHeight=t,e}createBaseColDefParams(t){return this.gos.addGridCommonParams({node:t,data:t.data,colDef:this.colDef,column:this})}getColSpan(t){if(Yt(this.colDef.colSpan))return 1;const e=this.createBaseColDefParams(t),n=this.colDef.colSpan(e);return Math.max(n,1)}getRowSpan(t){if(Yt(this.colDef.rowSpan))return 1;const e=this.createBaseColDefParams(t),n=this.colDef.rowSpan(e);return Math.max(n,1)}setActualWidth(t,e,n=!1){t=Math.max(t,this.minWidth),t=Math.min(t,this.maxWidth),this.actualWidth!==t&&(this.actualWidth=t,this.flex&&e!=="flex"&&e!=="gridInitializing"&&(this.flex=null),n||this.fireColumnWidthChangedEvent(e)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(t){this.columnEventService.dispatchEvent(this.createColumnEvent("widthChanged",t))}isGreaterThanMax(t){return t>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(t){this.flex!==t&&(this.flex=t),this.dispatchStateUpdatedEvent("flex")}setMinimum(t){this.setActualWidth(this.minWidth,t)}setRowGroupActive(t,e){this.rowGroupActive!==t&&(this.rowGroupActive=t,this.columnEventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",e))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(t,e){this.pivotActive!==t&&(this.pivotActive=t,this.columnEventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",e))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(t,e){this.aggregationActive!==t&&(this.aggregationActive=t,this.columnEventService.dispatchEvent(this.createColumnEvent("columnValueChanged",e)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchStateUpdatedEvent(t){this.columnEventService.dispatchEvent({type:"columnStateUpdated",key:t})}},WMe={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},$Me=class{constructor(){this.existingKeys={}}addExistingKeys(t){for(let e=0;e<t.length;e++)this.existingKeys[t[e]]=!0}getUniqueKey(t,e){t=iD(t);let n=0;for(;;){let i;if(t?(i=t,n!==0&&(i+="_"+n)):e?(i=e,n!==0&&(i+="_"+n)):i=n,!this.existingKeys[i])return this.existingKeys[i]=!0,String(i);n++}}},qMe=class extends Ee{constructor(){super(...arguments),this.beanName="columnFactory"}wireBeans(t){this.dataTypeService=t.dataTypeService}createColumnTree(t,e,n,i){const s=new $Me,{existingCols:r,existingGroups:o,existingColKeys:a}=this.extractExistingTreeData(n);s.addExistingKeys(a);const l=this.recursivelyCreateColumns(t,0,e,r,s,o,i),c=this.findMaxDept(l,0),d=this.balanceColumnTree(l,0,c,s);return Yl(null,d,(p,m)=>{Ws(p)&&p.setupExpandable(),p.setOriginalParent(m)}),{columnTree:d,treeDept:c}}extractExistingTreeData(t){const e=[],n=[],i=[];return t&&Yl(null,t,s=>{if(Ws(s)){const r=s;n.push(r)}else{const r=s;i.push(r.getId()),e.push(r)}}),{existingCols:e,existingGroups:n,existingColKeys:i}}balanceTreeForAutoCols(t,e){const n=[],i=this.findDepth(e);return t.forEach(s=>{let r=s;for(let o=i-1;o>=0;o--){const a=new Lw(null,`FAKE_PATH_${s.getId()}}_${o}`,!0,o);this.createBean(a),a.setChildren([r]),r.setOriginalParent(a),r=a}i===0&&s.setOriginalParent(null),n.push(r)}),[n,i]}findDepth(t){let e=0,n=t;for(;n&&n[0]&&Ws(n[0]);)e++,n=n[0].getChildren();return e}balanceColumnTree(t,e,n,i){const s=[];for(let r=0;r<t.length;r++){const o=t[r];if(Ws(o)){const a=o,l=this.balanceColumnTree(a.getChildren(),e+1,n,i);a.setChildren(l),s.push(a)}else{let a,l;for(let c=n-1;c>=e;c--){const d=i.getUniqueKey(null,null),f=this.createMergedColGroupDef(null),p=new Lw(f,d,!0,e);this.createBean(p),l&&l.setChildren([p]),l=p,a||(a=l)}if(a&&l)if(s.push(a),t.some(d=>Ws(d))){l.setChildren([o]);continue}else{l.setChildren(t);break}s.push(o)}}return s}findMaxDept(t,e){let n=e;for(let i=0;i<t.length;i++){const s=t[i];if(Ws(s)){const r=s,o=this.findMaxDept(r.getChildren(),e+1);n<o&&(n=o)}}return n}recursivelyCreateColumns(t,e,n,i,s,r,o){if(!t)return[];const a=new Array(t.length);for(let l=0;l<a.length;l++){const c=t[l];this.isColumnGroup(c)?a[l]=this.createColumnGroup(n,c,e,i,s,r,o):a[l]=this.createColumn(n,c,i,s,o)}return a}createColumnGroup(t,e,n,i,s,r,o){const a=this.createMergedColGroupDef(e),l=s.getUniqueKey(a.groupId||null,null),c=new Lw(a,l,!1,n);this.createBean(c);const d=this.findExistingGroup(e,r);d&&r.splice(d.idx,1);const f=d==null?void 0:d.group;f&&c.setExpanded(f.isExpanded());const p=this.recursivelyCreateColumns(a.children,n+1,t,i,s,r,o);return c.setChildren(p),c}createMergedColGroupDef(t){const e={};return Object.assign(e,this.gos.get("defaultColGroupDef")),Object.assign(e,t),e}createColumn(t,e,n,i,s){var a;const r=this.findExistingColumn(e,n);r&&(n==null||n.splice(r.idx,1));let o=r==null?void 0:r.column;if(o){const l=this.addColumnDefaultAndTypes(e,o.getColId());o.setColDef(l,e,s),this.applyColumnState(o,l,s)}else{const l=i.getUniqueKey(e.colId,e.field),c=this.addColumnDefaultAndTypes(e,l);o=new lN(c,e,l,t),this.createBean(o)}return(a=this.dataTypeService)==null||a.addColumnListeners(o),o}applyColumnState(t,e,n){const i=Kd(e.flex);if(i!==void 0&&t.setFlex(i),t.getFlex()<=0){const a=Kd(e.width);if(a!=null)t.setActualWidth(a,n);else{const l=t.getActualWidth();t.setActualWidth(l,n)}}e.sort!==void 0&&(e.sort=="asc"||e.sort=="desc"?t.setSort(e.sort,n):t.setSort(void 0,n));const r=Kd(e.sortIndex);r!==void 0&&t.setSortIndex(r);const o=sD(e.hide);o!==void 0&&t.setVisible(!o,n),e.pinned!==void 0&&t.setPinned(e.pinned)}findExistingColumn(t,e){if(e)for(let n=0;n<e.length;n++){const i=e[n].getUserProvidedColDef();if(!i)continue;if(t.colId!=null){if(e[n].getId()===t.colId)return{idx:n,column:e[n]};continue}if(t.field!=null){if(i.field===t.field)return{idx:n,column:e[n]};continue}if(i===t)return{idx:n,column:e[n]}}}findExistingGroup(t,e){if(t.groupId!=null)for(let i=0;i<e.length;i++){const s=e[i];if(s.getColGroupDef()&&s.getId()===t.groupId)return{idx:i,group:s}}}addColumnDefaultAndTypes(t,e){var a;const n={},i=this.gos.get("defaultColDef");$s(n,i,!1,!0);const s=this.updateColDefAndGetColumnType(n,t,e);s&&this.assignColumnTypes(s,n),$s(n,t,!1,!0);const r=this.gos.get("autoGroupColumnDef"),o=Ma(this.gos);return t.rowGroup&&r&&o&&$s(n,{sort:r.sort,initialSort:r.initialSort},!1,!0),(a=this.dataTypeService)==null||a.validateColDef(n),n}updateColDefAndGetColumnType(t,e,n){var r;const i=(r=this.dataTypeService)==null?void 0:r.updateColDefAndGetColumnType(t,e,n),s=e.type??i??t.type;return t.type=s,s?kw(s):void 0}assignColumnTypes(t,e){if(!t.length)return;const n=Object.assign({},WMe),i=this.gos.get("columnTypes")||{};Wo(i,(s,r)=>{s in n?Fe(`the column type '${s}' is a default column type and cannot be overridden.`):(r.type&&Fe("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),n[s]=r)}),t.forEach(s=>{const r=n[s.trim()];r?$s(e,r,!1,!0):Fe("colDef.type '"+s+"' does not correspond to defined gridOptions.columnTypes")})}isColumnGroup(t){return t.children!==void 0}};function Yl(t,e,n){if(e)for(let i=0;i<e.length;i++){const s=e[i];Ws(s)&&Yl(s,s.getChildren(),n),n(s,t)}}var KMe=class extends Ee{constructor(){super(...arguments),this.beanName="columnModel",this.pivotMode=!1,this.autoHeightActiveAtLeastOnce=!1,this.ready=!1,this.changeEventsDispatching=!1,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}wireBeans(t){this.context=t.context,this.ctrlsService=t.ctrlsService,this.columnFactory=t.columnFactory,this.columnSizeService=t.columnSizeService,this.visibleColsService=t.visibleColsService,this.columnViewportService=t.columnViewportService,this.pivotResultColsService=t.pivotResultColsService,this.columnAnimationService=t.columnAnimationService,this.autoColService=t.autoColService,this.controlsColService=t.controlsColService,this.valueCache=t.valueCache,this.columnDefFactory=t.columnDefFactory,this.columnApplyStateService=t.columnApplyStateService,this.columnGroupStateService=t.columnGroupStateService,this.eventDispatcher=t.columnEventDispatcher,this.columnMoveService=t.columnMoveService,this.columnAutosizeService=t.columnAutosizeService,this.funcColsService=t.funcColsService,this.quickFilterService=t.quickFilterService,this.showRowGroupColsService=t.showRowGroupColsService,this.environment=t.environment}postConstruct(){const t=this.gos.get("pivotMode");this.isPivotSettingAllowed(t)&&(this.pivotMode=t),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],e=>this.refreshAll(Sd(e.source))),this.addManagedPropertyListener("rowSelection",e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,Sd(e.source))}),this.addManagedPropertyListener("autoGroupColumnDef",e=>this.onAutoGroupColumnDefChanged(Sd(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],e=>this.recreateColumnDefs(Sd(e.source))),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),Sd(e.source))),this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}createColsFromColDefs(t){var c,d,f;const e=this.colDefs?this.columnApplyStateService.compareColumnStatesAndDispatchEvents(t):void 0;this.valueCache.expire();const n=(c=this.colDefCols)==null?void 0:c.list,i=(d=this.colDefCols)==null?void 0:d.tree,s=this.columnFactory.createColumnTree(this.colDefs,!0,i,t);kc(this.context,(f=this.colDefCols)==null?void 0:f.tree,s.columnTree);const r=s.columnTree,o=s.treeDept,a=rN(r),l={};a.forEach(p=>l[p.getId()]=p),this.colDefCols={tree:r,treeDepth:o,list:a,map:l},this.funcColsService.extractCols(t,n),this.ready=!0,this.refreshCols(!0),this.visibleColsService.refresh(t),this.columnViewportService.checkViewportColumns(),this.eventDispatcher.everythingChanged(t),e&&(this.changeEventsDispatching=!0,e(),this.changeEventsDispatching=!1),this.eventDispatcher.newColumnsLoaded(t),t==="gridInitializing"&&this.columnSizeService.applyAutosizeStrategy()}refreshCols(t){var s,r,o;if(!this.colDefCols)return;const e=(s=this.cols)==null?void 0:s.tree;this.saveColOrder(),this.selectCols(),this.createAutoCols(),this.addAutoCols(),this.createControlsCols(),this.addControlsCols();const n=SMe(this.gos,this.showingPivotResult);(!t||n)&&this.restoreColOrder(),this.positionLockedCols(),(r=this.showRowGroupColsService)==null||r.refresh(),(o=this.quickFilterService)==null||o.refreshQuickFilterCols(),this.setColSpanActive(),this.setAutoHeightActive(),this.visibleColsService.clear(),this.columnViewportService.clear(),!Cu(e,this.cols.tree)&&this.eventDispatcher.gridColumns()}selectCols(){const t=this.pivotResultColsService.getPivotResultCols();if(this.showingPivotResult=t!=null,t){const{map:e,list:n,tree:i,treeDepth:s}=t;this.cols={list:n.slice(),map:{...e},tree:i.slice(),treeDepth:s},t.list.some(o=>{var a;return((a=this.cols)==null?void 0:a.map[o.getColId()])!==void 0})||(this.lastPivotOrder=null)}else{const{map:e,list:n,tree:i,treeDepth:s}=this.colDefCols;this.cols={list:n.slice(),map:{...e},tree:i.slice(),treeDepth:s}}}getColsToShow(){const t=this.isPivotMode()&&!this.isShowingPivotResult(),e=this.funcColsService.getValueColumns();return this.cols.list.filter(i=>{const s=nV(i);if(t){const r=e&&Yd(e,i);return s||r}else return s||i.isVisible()})}addAutoCols(){this.autoCols!=null&&(this.cols.list=this.autoCols.list.concat(this.cols.list),this.cols.tree=this.autoCols.tree.concat(this.cols.tree),sV(this.cols))}createAutoCols(){var y;const t=nN(this.gos,this.pivotMode),e=this.pivotMode?this.gos.get("pivotSuppressAutoColumn"):this.isSuppressAutoCol(),n=this.funcColsService.getRowGroupColumns(),s=!(n.length>0||this.gos.get("treeData"))||e||t,r=()=>{this.autoCols&&(kc(this.context,this.autoCols.tree),this.autoCols=null)};if(s||!this.autoColService){r();return}const o=this.autoColService.createAutoCols(n)??[],a=oV(o,((y=this.autoCols)==null?void 0:y.list)||null),l=this.cols.treeDepth,d=(this.autoCols?this.autoCols.treeDepth:-1)==l;if(a&&d)return;r();const[f,p]=this.columnFactory.balanceTreeForAutoCols(o,this.cols.tree);this.autoCols={list:o,tree:f,treeDepth:p,map:{}};const m=C=>{if(!C)return null;const x=C.filter(w=>!nV(w));return[...o,...x]};this.lastOrder=m(this.lastOrder),this.lastPivotOrder=m(this.lastPivotOrder)}createControlsCols(){var c,d,f;const t=()=>{var p;kc(this.context,(p=this.controlsCols)==null?void 0:p.tree),this.controlsCols=null};this.controlsColService||t();const e=this.cols.treeDepth,i=(((c=this.controlsCols)==null?void 0:c.treeDepth)??-1)==e,s=((d=this.controlsColService)==null?void 0:d.createControlsCols())??[];if(oV(s,((f=this.controlsCols)==null?void 0:f.list)??[])&&i)return;t();const[o,a]=this.columnFactory.balanceTreeForAutoCols(s,this.cols.tree);this.controlsCols={list:s,tree:o,treeDepth:a,map:{}};const l=p=>{if(!p)return null;const m=p.filter(y=>!j1(y));return[...s,...m]};this.lastOrder=l(this.lastOrder),this.lastPivotOrder=l(this.lastPivotOrder)}addControlsCols(){this.controlsCols!=null&&(this.cols.list=this.controlsCols.list.concat(this.cols.list),this.cols.tree=this.controlsCols.tree.concat(this.cols.tree),sV(this.cols))}refreshAll(t){this.isReady()&&(this.refreshCols(!1),this.visibleColsService.refresh(t))}setColsVisible(t,e=!1,n){this.columnApplyStateService.applyColumnState({state:t.map(i=>({colId:typeof i=="string"?i:i.getColId(),hide:!e}))},n)}setColsPinned(t,e,n){if(!this.cols||jr(t))return;if(ds(this.gos,"print")){Fe("Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();let i;e===!0||e==="left"?i="left":e==="right"?i="right":i=null;const s=[];t.forEach(r=>{if(!r)return;const o=this.getCol(r);o&&o.getPinned()!==i&&(o.setPinned(i),s.push(o))}),s.length&&(this.visibleColsService.refresh(n),this.eventDispatcher.columnPinned(s,n)),this.columnAnimationService.finish()}setColumnGroupOpened(t,e,n){let i;Ws(t)?i=t.getId():i=t||"",this.columnGroupStateService.setColumnGroupState([{groupId:i,open:e}],n)}getProvidedColGroup(t){var n;let e=null;return Yl(null,(n=this.cols)==null?void 0:n.tree,i=>{Ws(i)&&i.getId()===t&&(e=i)}),e}isColGroupLocked(t){const e=this.gos.get("groupLockGroupColumns");if(!t.isRowGroupActive()||e===0)return!1;if(e===-1)return!0;const i=this.funcColsService.getRowGroupColumns().findIndex(s=>s.getColId()===t.getColId());return e>i}isSuppressAutoCol(){return this.gos.get("groupDisplayType")==="custom"?!0:this.gos.get("treeDataDisplayType")==="custom"}setAutoHeightActive(){this.autoHeightActive=this.cols.list.some(t=>t.isVisible()&&t.isAutoHeight()),this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,Gn(this.gos)||Th(this.gos)||Fe("autoHeight columns only work with Client Side Row Model and Server Side Row Model."))}restoreColOrder(){const t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;const e=new Map(t.map((l,c)=>[l,c]));if(!this.cols.list.some(l=>e.has(l)))return;const i=new Map(this.cols.list.map(l=>[l,!0])),s=t.filter(l=>i.has(l)),r=new Map(s.map(l=>[l,!0])),o=this.cols.list.filter(l=>!r.has(l)),a=s.slice();o.forEach(l=>{let c=l.getOriginalParent();if(!c){a.push(l);return}const d=[];for(;!d.length&&c;)c.getLeafColumns().forEach(y=>{const C=a.indexOf(y)>=0,x=d.indexOf(y)<0;C&&x&&d.push(y)}),c=c.getOriginalParent();if(!d.length){a.push(l);return}const f=d.map(m=>a.indexOf(m)),p=Math.max(...f);Gb(a,l,p+1)}),this.cols.list=a}sortColsLikeKeys(t){if(this.cols==null)return;let e=[];const n={};t.forEach(s=>{if(n[s])return;const r=this.cols.map[s];r&&(e.push(r),n[s]=!0)});let i=0;if(this.cols.list.forEach(s=>{const r=s.getColId();if(n[r]!=null)return;r.startsWith(U1)?Gb(e,s,i++):e.push(s)}),e=this.columnMoveService.placeLockedColumns(e),!this.columnMoveService.doesMovePassMarryChildren(e)){Fe("Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.cols.list=e}sortColsLikeCols(t){!t||t.length<=1||t.filter(n=>this.cols.list.indexOf(n)<0).length>0||t.sort((n,i)=>{const s=this.cols.list.indexOf(n),r=this.cols.list.indexOf(i);return s-r})}resetColDefIntoCol(t,e){const n=t.getUserProvidedColDef();if(!n)return!1;const i=this.columnFactory.addColumnDefaultAndTypes(n,t.getColId());return t.setColDef(i,n,e),!0}queueResizeOperations(){this.shouldQueueResizeOperations=!0}isShouldQueueResizeOperations(){return this.shouldQueueResizeOperations}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(t=>t()),this.resizeOperationQueue=[]}pushResizeOperation(t){this.resizeOperationQueue.push(t)}moveInCols(t,e,n){var i;P9((i=this.cols)==null?void 0:i.list,t,e),this.visibleColsService.refresh(n)}positionLockedCols(){this.cols.list=this.columnMoveService.placeLockedColumns(this.cols.list)}saveColOrder(){var t,e;this.showingPivotResult?this.lastPivotOrder=(t=this.cols)==null?void 0:t.list:this.lastOrder=(e=this.cols)==null?void 0:e.list}getColumnDefs(){if(!this.colDefCols)return;const t=this.colDefCols.list.slice();this.showingPivotResult?t.sort((i,s)=>this.lastOrder.indexOf(i)-this.lastOrder.indexOf(s)):this.lastOrder&&t.sort((i,s)=>this.cols.list.indexOf(i)-this.cols.list.indexOf(s));const e=this.funcColsService.getRowGroupColumns(),n=this.funcColsService.getPivotColumns();return this.columnDefFactory.buildColumnDefs(t,e,n)}isShowingPivotResult(){return this.showingPivotResult}isChangeEventsDispatching(){return this.changeEventsDispatching}isColSpanActive(){return this.colSpanActive}isProvidedColGroupsPresent(){var t;return((t=this.colDefCols)==null?void 0:t.treeDepth)>0}setColSpanActive(){this.colSpanActive=this.cols.list.some(t=>t.getColDef().colSpan!=null)}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}getHeaderRowCount(){return this.cols?this.cols.treeDepth+1:-1}isReady(){return this.ready}isPivotMode(){return this.pivotMode}setPivotMode(t,e){t===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode)||(this.pivotMode=t,this.ready&&(this.refreshCols(!1),this.visibleColsService.refresh(e),this.eventDispatcher.pivotModeChanged()))}isPivotSettingAllowed(t){return t&&this.gos.get("treeData")?(Fe("Pivot mode not available with treeData."),!1):!0}isPivotActive(){const t=this.funcColsService.getPivotColumns();return this.pivotMode&&!jr(t)}recreateColumnDefs(t){this.cols&&(this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,t),this.createColsFromColDefs(t))}setColumnDefs(t,e){this.colDefs=t,this.createColsFromColDefs(e)}destroy(){var t,e,n;kc(this.context,(t=this.colDefCols)==null?void 0:t.tree),kc(this.context,(e=this.autoCols)==null?void 0:e.tree),kc(this.context,(n=this.controlsCols)==null?void 0:n.tree),super.destroy()}getColTree(){return this.cols.tree}getColDefColTree(){return this.colDefCols.tree}getColDefCols(){var t;return(t=this.colDefCols)!=null&&t.list?this.colDefCols.list:null}getCols(){var t;return((t=this.cols)==null?void 0:t.list)??[]}getAllCols(){var n,i,s;const t=this.pivotResultColsService.getPivotResultCols(),e=t==null?void 0:t.list;return[((n=this.colDefCols)==null?void 0:n.list)??[],((i=this.autoCols)==null?void 0:i.list)??[],((s=this.controlsCols)==null?void 0:s.list)??[],e??[]].flat()}getColsForKeys(t){return t?t.map(e=>this.getCol(e)).filter(e=>e!=null):[]}getColDefCol(t){var e;return(e=this.colDefCols)!=null&&e.list?this.getColFromCollection(t,this.colDefCols):null}getCol(t){return t==null?null:this.getColFromCollection(t,this.cols)}getColFromCollection(t,e){if(e==null)return null;const{map:n,list:i}=e;if(typeof t=="string"&&n[t])return n[t];for(let s=0;s<i.length;s++)if(rV(i[s],t))return i[s];return this.getAutoCol(t)}getAutoCol(t){var e;return((e=this.autoCols)==null?void 0:e.list.find(n=>rV(n,t)))??null}getAutoCols(){var t;return((t=this.autoCols)==null?void 0:t.list)??null}setColHeaderHeight(t,e){t.setAutoHeaderHeight(e)&&(t.isColumn?this.eventDispatcher.headerHeight(t):this.eventDispatcher.groupHeaderHeight(t))}getGroupRowsHeight(){const t=[],e=this.ctrlsService.getHeaderRowContainerCtrls();for(const n of e){if(!n)continue;const i=n.getGroupRowCount()||0;for(let s=0;s<i;s++){const r=n.getGroupRowCtrlAtIndex(s),o=t[s];if(r){const a=this.getColumnGroupHeaderRowHeight(r);(o==null||a>o)&&(t[s]=a)}}}return t}getColumnGroupHeaderRowHeight(t){const e=this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight();let n=0;const i=t.getHeaderCtrls();for(const s of i){const r=s.getColumn();if(r.isAutoHeaderHeight()){const o=r.getAutoHeaderHeight();o!=null&&o>n&&(n=o)}}return Math.max(e,n)}getColumnHeaderRowHeight(){const t=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),n=this.visibleColsService.getAllCols().filter(i=>i.isAutoHeaderHeight()).map(i=>i.getAutoHeaderHeight()||0);return Math.max(t,...n)}getHeaderHeight(){return this.gos.get("headerHeight")??this.environment.getDefaultHeaderHeight()}getFloatingFiltersHeight(){return this.gos.get("floatingFiltersHeight")??this.getHeaderHeight()}getGroupHeaderHeight(){return this.gos.get("groupHeaderHeight")??this.getHeaderHeight()}getPivotHeaderHeight(){return this.gos.get("pivotHeaderHeight")??this.getHeaderHeight()}getPivotGroupHeaderHeight(){return this.gos.get("pivotGroupHeaderHeight")??this.getGroupHeaderHeight()}onFirstDataRendered(){const t=this.gos.get("autoSizeStrategy");if((t==null?void 0:t.type)!=="fitCellContents")return;const{colIds:e,skipHeader:n}=t;setTimeout(()=>{e?this.columnAutosizeService.autoSizeCols({colKeys:e,skipHeader:n,source:"autosizeColumns"}):this.columnAutosizeService.autoSizeAllColumns("autosizeColumns",n)})}onAutoGroupColumnDefChanged(t){this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,t)}onSelectionOptionsChanged(t,e,n){const i=e&&typeof e!="string"?Lp(e):void 0,s=t&&typeof t!="string"?Lp(t):void 0,r=i!==s,o=e&&typeof e!="string"?Vb(e):void 0,a=t&&typeof t!="string"?Vb(t):void 0;(r||o!==a)&&this.refreshAll(n)}};function Sd(t){return t==="gridOptionsUpdated"?"gridOptionsChanged":t}function sV(t){t.map={},t.list.forEach(e=>t.map[e.getId()]=e)}function rV(t,e){const n=t===e,i=t.getColDef()===e,s=t.getColId()==e;return n||i||s}function oV(t,e){return Cu(t,e,(n,i)=>n.getColId()===i.getColId())}var YMe=class extends Ee{constructor(){super(...arguments),this.beanName="columnAutosizeService",this.timesDelayed=0}wireBeans(t){this.columnModel=t.columnModel,this.visibleColsService=t.visibleColsService,this.animationFrameService=t.animationFrameService,this.autoWidthCalculator=t.autoWidthCalculator,this.eventDispatcher=t.columnEventDispatcher,this.ctrlsService=t.ctrlsService,this.renderStatusService=t.renderStatusService}autoSizeCols(t){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.autoSizeCols(t));return}const{colKeys:e,skipHeader:n,skipHeaderGroups:i,stopAtGroup:s,source:r="api"}=t;if(this.animationFrameService.flushAllFrames(),this.timesDelayed<5&&this.renderStatusService&&!this.renderStatusService.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>this.autoSizeCols(t));return}this.timesDelayed=0;const o=[];let a=-1;const l=n??this.gos.get("skipHeaderOnAutoSize"),c=i??l;for(;a!==0;){a=0;const d=[];e.forEach(f=>{if(!f)return;const p=this.columnModel.getCol(f);if(!p||o.indexOf(p)>=0)return;const m=this.autoWidthCalculator.getPreferredWidthForColumn(p,l);if(m>0){const y=this.normaliseColumnWidth(p,m);p.setActualWidth(y,r),o.push(p),a++}d.push(p)}),d.length&&this.visibleColsService.refresh(r)}c||this.autoSizeColumnGroupsByColumns(e,r,s),this.eventDispatcher.columnResized(o,!0,"autosizeColumns")}autoSizeColumn(t,e,n){t&&this.autoSizeCols({colKeys:[t],skipHeader:n,skipHeaderGroups:!0,source:e})}autoSizeColumnGroupsByColumns(t,e,n){const i=new Set;this.columnModel.getColsForKeys(t).forEach(a=>{let l=a.getParent();for(;l&&l!=n;)l.isPadding()||i.add(l),l=l.getParent()});let r;const o=[];for(const a of i){for(const l of this.ctrlsService.getHeaderRowContainerCtrls())if(r=l.getHeaderCtrlForColumn(a),r)break;r&&r.resizeLeafColumnsToFit(e)}return o}autoSizeAllColumns(t,e){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.autoSizeAllColumns(t,e));return}const n=this.visibleColsService.getAllCols();this.autoSizeCols({colKeys:n,skipHeader:e,source:t})}normaliseColumnWidth(t,e){const n=t.getMinWidth();e<n&&(e=n);const i=t.getMaxWidth();return t.isGreaterThanMax(e)&&(e=i),e}},XMe=class extends Ee{constructor(){super(...arguments),this.beanName="funcColsService",this.rowGroupCols=[],this.valueCols=[],this.pivotCols=[]}wireBeans(t){this.columnModel=t.columnModel,this.eventDispatcher=t.columnEventDispatcher,this.aggFuncService=t.aggFuncService,this.visibleColsService=t.visibleColsService}getModifyColumnsNoEventsCallbacks(){return{addGroupCol:t=>this.rowGroupCols.push(t),removeGroupCol:t=>yr(this.rowGroupCols,t),addPivotCol:t=>this.pivotCols.push(t),removePivotCol:t=>yr(this.pivotCols,t),addValueCol:t=>this.valueCols.push(t),removeValueCol:t=>yr(this.valueCols,t)}}getSourceColumnsForGroupColumn(t){const e=t.getColDef().showRowGroup;if(!e)return null;if(e===!0)return this.rowGroupCols.slice(0);const n=this.columnModel.getColDefCol(e);return n?[n]:null}sortRowGroupColumns(t){this.rowGroupCols.sort(t)}sortPivotColumns(t){this.pivotCols.sort(t)}getValueColumns(){return this.valueCols?this.valueCols:[]}getPivotColumns(){return this.pivotCols?this.pivotCols:[]}getRowGroupColumns(){return this.rowGroupCols?this.rowGroupCols:[]}isRowGroupEmpty(){return jr(this.rowGroupCols)}setColumnAggFunc(t,e,n){if(!t)return;const i=this.columnModel.getColDefCol(t);i&&(i.setAggFunc(e),this.eventDispatcher.columnChanged("columnValueChanged",[i],n))}setRowGroupColumns(t,e){this.setColList(t,this.rowGroupCols,"columnRowGroupChanged",!0,!0,(n,i)=>this.setRowGroupActive(n,i,e),e)}setRowGroupActive(t,e,n){t!==e.isRowGroupActive()&&(e.setRowGroupActive(t,n),t&&!this.gos.get("suppressRowGroupHidesColumns")&&this.columnModel.setColsVisible([e],!1,n),!t&&!this.gos.get("suppressMakeColumnVisibleAfterUnGroup")&&this.columnModel.setColsVisible([e],!0,n))}addRowGroupColumns(t,e){this.updateColList(t,this.rowGroupCols,!0,!0,n=>this.setRowGroupActive(!0,n,e),"columnRowGroupChanged",e)}removeRowGroupColumns(t,e){this.updateColList(t,this.rowGroupCols,!1,!0,n=>this.setRowGroupActive(!1,n,e),"columnRowGroupChanged",e)}addPivotColumns(t,e){this.updateColList(t,this.pivotCols,!0,!1,n=>n.setPivotActive(!0,e),"columnPivotChanged",e)}setPivotColumns(t,e){this.setColList(t,this.pivotCols,"columnPivotChanged",!0,!1,(n,i)=>{i.setPivotActive(n,e)},e)}removePivotColumns(t,e){this.updateColList(t,this.pivotCols,!1,!1,n=>n.setPivotActive(!1,e),"columnPivotChanged",e)}setValueColumns(t,e){this.setColList(t,this.valueCols,"columnValueChanged",!1,!1,(n,i)=>this.setValueActive(n,i,e),e)}setValueActive(t,e,n){if(t!==e.isValueActive()&&(e.setValueActive(t,n),t&&!e.getAggFunc()&&this.aggFuncService)){const i=this.aggFuncService.getDefaultAggFunc(e);e.setAggFunc(i)}}addValueColumns(t,e){this.updateColList(t,this.valueCols,!0,!1,n=>this.setValueActive(!0,n,e),"columnValueChanged",e)}removeValueColumns(t,e){this.updateColList(t,this.valueCols,!1,!1,n=>this.setValueActive(!1,n,e),"columnValueChanged",e)}moveRowGroupColumn(t,e,n){if(this.isRowGroupEmpty())return;const i=this.rowGroupCols[t],s=this.rowGroupCols.slice(t,e);this.rowGroupCols.splice(t,1),this.rowGroupCols.splice(e,0,i),this.eventDispatcher.rowGroupChanged(s,n)}setColList(t,e,n,i,s,r,o){if(!this.columnModel.getCols())return;const a=new Map;e.forEach((c,d)=>a.set(c,d)),e.length=0,Ke(t)&&t.forEach(c=>{const d=this.columnModel.getColDefCol(c);d&&e.push(d)}),e.forEach((c,d)=>{const f=a.get(c);if(f===void 0){a.set(c,0);return}i&&f!==d||a.delete(c)}),(this.columnModel.getColDefCols()||[]).forEach(c=>{const d=e.indexOf(c)>=0;r(d,c)}),s&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(o),this.eventDispatcher.columnChanged(n,[...a.keys()],o)}updateColList(t,e,n,i,s,r,o){if(!t||jr(t))return;let a=!1;const l=new Set;t.forEach(c=>{if(!c)return;const d=this.columnModel.getColDefCol(c);if(d){if(l.add(d),n){if(e.indexOf(d)>=0)return;e.push(d)}else{const f=e.indexOf(d);if(f<0)return;for(let p=f+1;p<e.length;p++)l.add(e[p]);yr(e,d)}s(d),a=!0}}),a&&(i&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(o),this.eventDispatcher.genericColumnEvent(r,Array.from(l),o))}extractCols(t,e){this.extractRowGroupCols(t,e),this.extractPivotCols(t,e),this.extractValueCols(t,e)}extractValueCols(t,e){this.valueCols=this.extractColsCommon(e,this.valueCols,(n,i)=>n.setValueActive(i,t),()=>{},()=>{},n=>{const i=n.aggFunc;if(i===null||i==="")return null;if(i!==void 0)return!!i},n=>n.initialAggFunc!=null&&n.initialAggFunc!=""),this.valueCols.forEach(n=>{const i=n.getColDef();i.aggFunc!=null&&i.aggFunc!=""?n.setAggFunc(i.aggFunc):n.getAggFunc()||n.setAggFunc(i.initialAggFunc)})}extractRowGroupCols(t,e){this.rowGroupCols=this.extractColsCommon(e,this.rowGroupCols,(n,i)=>n.setRowGroupActive(i,t),n=>n.rowGroupIndex,n=>n.initialRowGroupIndex,n=>n.rowGroup,n=>n.initialRowGroup)}extractPivotCols(t,e){this.pivotCols=this.extractColsCommon(e,this.pivotCols,(n,i)=>n.setPivotActive(i,t),n=>n.pivotIndex,n=>n.initialPivotIndex,n=>n.pivot,n=>n.initialPivot)}extractColsCommon(t=[],e=[],n,i,s,r,o){const a=[],l=[];(this.columnModel.getColDefCols()||[]).forEach(p=>{const m=t.indexOf(p)<0,y=p.getColDef(),C=sD(r(y)),x=sD(o(y)),w=Kd(i(y)),M=Kd(s(y));let S;C!==void 0?S=C:w!==void 0?w===null?S=!1:S=w>=0:m?x!==void 0?S=x:M!==void 0?S=M!=null&&M>=0:S=!1:S=e.indexOf(p)>=0,S&&((m?w!=null||M!=null:w!=null)?a.push(p):l.push(p))});const d=p=>{const m=i(p.getColDef()),y=s(p.getColDef());return m??y};a.sort((p,m)=>{const y=d(p),C=d(m);return y===C?0:y<C?-1:1});const f=[].concat(a);return e.forEach(p=>{l.indexOf(p)>=0&&f.push(p)}),l.forEach(p=>{f.indexOf(p)<0&&f.push(p)}),e.forEach(p=>{f.indexOf(p)<0&&n(p,!1)}),f.forEach(p=>{e.indexOf(p)<0&&n(p,!0)}),f}generateColumnStateForRowGroupAndPivotIndexes(t,e){const n={},i=(s,r,o,a,l,c)=>{const d=this.columnModel.getColDefCols();if(!r.length||!d)return[];const f=Object.keys(s),p=new Set(f),m=new Set(f),y=new Set(r.map(F=>{const N=F.getColId();return m.delete(N),N}).concat(f)),C=[],x={};let w=0;for(let F=0;F<d.length;F++){const N=d[F].getColId();y.has(N)&&(C.push(N),x[N]=w++)}let M=1e3,S=!1,R=0;const P=F=>{const N=x[F];for(let I=R;I<N;I++){const _=C[I];m.has(_)&&(s[_][l]=M++,m.delete(_))}R=N};r.forEach(F=>{const N=F.getColId();if(p.has(N))P(N),s[N][l]=M++;else{const I=F.getColDef();(I[l]===null||I[l]===void 0&&I[c]==null)&&(S||(I[o]||I[o]===void 0&&I[a]?P(N):(m.forEach(O=>{s[O][l]=M+x[O]}),M+=C.length,S=!0)),n[N]||(n[N]={colId:N}),n[N][l]=M++)}})};return i(t,this.rowGroupCols,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),i(e,this.pivotCols,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(n)}},ZMe=class extends Ee{constructor(){super(...arguments),this.beanName="columnApplyStateService"}wireBeans(t){this.columnModel=t.columnModel,this.eventDispatcher=t.columnEventDispatcher,this.sortController=t.sortController,this.columnGetStateService=t.columnGetStateService,this.funcColsService=t.funcColsService,this.visibleColsService=t.visibleColsService,this.columnAnimationService=t.columnAnimationService,this.pivotResultColsService=t.pivotResultColsService}applyColumnState(t,e){const n=this.columnModel.getColDefCols()||[];if(jr(n))return!1;if(t&&t.state&&!t.state.forEach)return Fe("applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const i=this.funcColsService.getModifyColumnsNoEventsCallbacks(),s=(a,l,c)=>{const d=this.compareColumnStatesAndDispatchEvents(e),f=l.slice(),p={},m={},y=[],C=[];let x=0;const w=this.funcColsService.getRowGroupColumns().slice(),M=this.funcColsService.getPivotColumns().slice();a.forEach(F=>{const N=F.colId||"";if(N.startsWith(U1)){y.push(F),C.push(F);return}const _=c(N);_?(this.syncColumnWithStateItem(_,F,t.defaultState,p,m,!1,e,i),yr(f,_)):(C.push(F),x+=1)});const S=F=>this.syncColumnWithStateItem(F,null,t.defaultState,p,m,!1,e,i);f.forEach(S),this.funcColsService.sortRowGroupColumns(aV.bind(this,p,w)),this.funcColsService.sortPivotColumns(aV.bind(this,m,M)),this.columnModel.refreshCols(!1);const P=(this.columnModel.getAutoCols()||[]).slice();return y.forEach(F=>{const N=this.columnModel.getAutoCol(F.colId);yr(P,N),this.syncColumnWithStateItem(N,F,t.defaultState,null,null,!0,e,i)}),P.forEach(S),this.orderLiveColsLikeState(t),this.visibleColsService.refresh(e),this.eventDispatcher.everythingChanged(e),d(),{unmatchedAndAutoStates:C,unmatchedCount:x}};this.columnAnimationService.start();let{unmatchedAndAutoStates:r,unmatchedCount:o}=s(t.state||[],n,a=>this.columnModel.getColDefCol(a));if(r.length>0||Ke(t.defaultState)){const a=this.pivotResultColsService.getPivotResultCols(),l=a==null?void 0:a.list;o=s(r,l||[],c=>this.pivotResultColsService.getPivotResultCol(c)).unmatchedCount}return this.columnAnimationService.finish(),o===0}resetColumnState(t){const e=this.columnModel.getColDefCols();if(jr(e))return;const n=this.columnModel.getColDefColTree(),i=rN(n),s=[];let r=1e3,o=1e3,a=[];const l=this.columnModel.getAutoCols();l&&(a=a.concat(l)),i&&(a=a.concat(i)),a.forEach(c=>{const d=this.getColumnStateFromColDef(c);Yt(d.rowGroupIndex)&&d.rowGroup&&(d.rowGroupIndex=r++),Yt(d.pivotIndex)&&d.pivot&&(d.pivotIndex=o++),s.push(d)}),this.applyColumnState({state:s,applyOrder:!0},t)}getColumnStateFromColDef(t){const e=(y,C)=>y??C??null,n=t.getColDef(),i=e(n.sort,n.initialSort),s=e(n.sortIndex,n.initialSortIndex),r=e(n.hide,n.initialHide),o=e(n.pinned,n.initialPinned),a=e(n.width,n.initialWidth),l=e(n.flex,n.initialFlex);let c=e(n.rowGroupIndex,n.initialRowGroupIndex),d=e(n.rowGroup,n.initialRowGroup);c==null&&(d==null||d==!1)&&(c=null,d=null);let f=e(n.pivotIndex,n.initialPivotIndex),p=e(n.pivot,n.initialPivot);f==null&&(p==null||p==!1)&&(f=null,p=null);const m=e(n.aggFunc,n.initialAggFunc);return{colId:t.getColId(),sort:i,sortIndex:s,hide:r,pinned:o,width:a,flex:l,rowGroup:d,rowGroupIndex:c,pivot:p,pivotIndex:f,aggFunc:m}}syncColumnWithStateItem(t,e,n,i,s,r,o,a){if(!t)return;const l=(R,P)=>{const F={value1:void 0,value2:void 0};let N=!1;return e&&(e[R]!==void 0&&(F.value1=e[R],N=!0),Ke(P)&&e[P]!==void 0&&(F.value2=e[P],N=!0)),!N&&n&&(n[R]!==void 0&&(F.value1=n[R]),Ke(P)&&n[P]!==void 0&&(F.value2=n[P])),F},c=l("hide").value1;c!==void 0&&t.setVisible(!c,o);const d=l("pinned").value1;d!==void 0&&t.setPinned(d);const f=t.getColDef().minWidth??this.gos.environment.getDefaultColumnMinWidth(),p=l("flex").value1;if(p!==void 0&&t.setFlex(p),p==null){const R=l("width").value1;R!=null&&f!=null&&R>=f&&t.setActualWidth(R,o)}const m=l("sort").value1;m!==void 0&&(m==="desc"||m==="asc"?t.setSort(m,o):t.setSort(void 0,o));const y=l("sortIndex").value1;if(y!==void 0&&t.setSortIndex(y),r||!t.isPrimary())return;const C=l("aggFunc").value1;C!==void 0&&(typeof C=="string"?(t.setAggFunc(C),t.isValueActive()||(t.setValueActive(!0,o),a.addValueCol(t))):(Ke(C)&&Fe("stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),t.isValueActive()&&(t.setValueActive(!1,o),a.removeValueCol(t))));const{value1:x,value2:w}=l("rowGroup","rowGroupIndex");(x!==void 0||w!==void 0)&&(typeof w=="number"||x?(t.isRowGroupActive()||(t.setRowGroupActive(!0,o),a.addGroupCol(t)),i&&typeof w=="number"&&(i[t.getId()]=w)):t.isRowGroupActive()&&(t.setRowGroupActive(!1,o),a.removeGroupCol(t)));const{value1:M,value2:S}=l("pivot","pivotIndex");(M!==void 0||S!==void 0)&&(typeof S=="number"||M?(t.isPivotActive()||(t.setPivotActive(!0,o),a.addPivotCol(t)),s&&typeof S=="number"&&(s[t.getId()]=S)):t.isPivotActive()&&(t.setPivotActive(!1,o),a.removePivotCol(t)))}orderLiveColsLikeState(t){if(!t.applyOrder||!t.state)return;const e=[];t.state.forEach(n=>{n.colId!=null&&e.push(n.colId)}),this.columnModel.sortColsLikeKeys(e)}compareColumnStatesAndDispatchEvents(t){const e={rowGroupColumns:this.funcColsService.getRowGroupColumns().slice(),pivotColumns:this.funcColsService.getPivotColumns().slice(),valueColumns:this.funcColsService.getValueColumns().slice()},n=this.columnGetStateService.getColumnState(),i={};return n.forEach(s=>{i[s.colId]=s}),()=>{const s=this.columnModel.getAllCols(),r=(C,x,w,M)=>{const S=x.map(M),R=w.map(M);if(Cu(S,R))return;const F=new Set(x);w.forEach(I=>{F.delete(I)||F.add(I)});const N=[...F];this.eventService.dispatchEvent({type:C,columns:N,column:N.length===1?N[0]:null,source:t})},o=C=>{const x=[];return s.forEach(w=>{const M=i[w.getColId()];M&&C(M,w)&&x.push(w)}),x},a=C=>C.getColId();r("columnRowGroupChanged",e.rowGroupColumns,this.funcColsService.getRowGroupColumns(),a),r("columnPivotChanged",e.pivotColumns,this.funcColsService.getPivotColumns(),a);const c=o((C,x)=>{const w=C.aggFunc!=null,M=w!=x.isValueActive(),S=w&&C.aggFunc!=x.getAggFunc();return M||S});c.length>0&&this.eventDispatcher.columnChanged("columnValueChanged",c,t);const d=(C,x)=>C.width!=x.getActualWidth();this.eventDispatcher.columnResized(o(d),!0,t);const f=(C,x)=>C.pinned!=x.getPinned();this.eventDispatcher.columnPinned(o(f),t);const p=(C,x)=>C.hide==x.isVisible();this.eventDispatcher.columnVisible(o(p),t);const y=o((C,x)=>C.sort!=x.getSort()||C.sortIndex!=x.getSortIndex());y.length>0&&this.sortController.dispatchSortChangedEvents(t,y),this.normaliseColumnMovedEventForColumnState(n,t)}}normaliseColumnMovedEventForColumnState(t,e){const n=this.columnGetStateService.getColumnState(),i={};n.forEach(l=>i[l.colId]=l);const s={};t.forEach(l=>{i[l.colId]&&(s[l.colId]=!0)});const r=t.filter(l=>s[l.colId]),o=n.filter(l=>s[l.colId]),a=[];o.forEach((l,c)=>{const d=r&&r[c];if(d&&d.colId!==l.colId){const f=this.columnModel.getCol(d.colId);f&&a.push(f)}}),a.length&&this.eventDispatcher.columnMoved({movedColumns:a,source:e,finished:!0})}},aV=(t,e,n,i)=>{const s=t[n.getId()],r=t[i.getId()],o=s!=null,a=r!=null;if(o&&a)return s-r;if(o)return-1;if(a)return 1;const l=e.indexOf(n),c=e.indexOf(i),d=l>=0,f=c>=0;return d&&f?l-c:d?-1:1},JMe=class extends Ee{constructor(){super(...arguments),this.beanName="columnMoveService"}wireBeans(t){this.columnModel=t.columnModel,this.columnAnimationService=t.columnAnimationService,this.eventDispatcher=t.columnEventDispatcher}moveColumnByIndex(t,e,n){const i=this.columnModel.getCols();if(!i)return;const s=i[t];this.moveColumns([s],e,n)}moveColumns(t,e,n,i=!0){const s=this.columnModel.getCols();if(!s)return;if(e>s.length-t.length){Fe("tried to insert columns in invalid location, toIndex = ",e),Fe("remember that you should not count the moving columns when calculating the new index");return}this.columnAnimationService.start();const r=this.columnModel.getColsForKeys(t);this.doesMovePassRules(r,e)&&(this.columnModel.moveInCols(r,e,n),this.eventDispatcher.columnMoved({movedColumns:r,source:n,toIndex:e,finished:i})),this.columnAnimationService.finish()}doesMovePassRules(t,e){const n=this.getProposedColumnOrder(t,e);return this.doesOrderPassRules(n)}doesOrderPassRules(t){return!(!this.doesMovePassMarryChildren(t)||!this.doesMovePassLockedPositions(t))}getProposedColumnOrder(t,e){const i=this.columnModel.getCols().slice();return P9(i,t,e),i}doesMovePassLockedPositions(t){const e=r=>r?r==="left"||r===!0?-1:1:0,n=this.gos.get("enableRtl");let i=n?1:-1,s=!0;return t.forEach(r=>{const o=e(r.getColDef().lockPosition);n?o>i&&(s=!1):o<i&&(s=!1),i=o}),s}doesMovePassMarryChildren(t){let e=!0;const n=this.columnModel.getColTree();return Yl(null,n,i=>{if(!Ws(i))return;const s=i,r=s.getColGroupDef();if(!(r&&r.marryChildren))return;const a=[];s.getLeafColumns().forEach(p=>{const m=t.indexOf(p);a.push(m)});const l=Math.max.apply(Math,a),c=Math.min.apply(Math,a),d=l-c,f=s.getLeafColumns().length-1;d>f&&(e=!1)}),e}placeLockedColumns(t){const e=[],n=[],i=[];return t.forEach(r=>{const o=r.getColDef().lockPosition;o==="right"?i.push(r):o==="left"||o===!0?e.push(r):n.push(r)}),this.gos.get("enableRtl")?[...i,...n,...e]:[...e,...n,...i]}},QMe=/[&<>"']/g,eTe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Ia(t,e){if(t==null)return null;const n=t.toString().toString();return e?n:n.replace(QMe,i=>eTe[i])}function tTe(t){if(!t||t==null)return null;const e=/([a-z])([A-Z])/g,n=/([A-Z]+)([A-Z])([a-z])/g;return t.replace(e,"$1 $2").replace(n,"$1 $2$3").replace(/\./g," ").split(" ").map(s=>s.substring(0,1).toUpperCase()+(s.length>1?s.substring(1,s.length):"")).join(" ")}var nTe=class extends Ee{constructor(){super(...arguments),this.beanName="columnNameService"}wireBeans(t){this.expressionService=t.expressionService,this.funcColsService=t.funcColsService,this.columnModel=t.columnModel}getDisplayNameForColumn(t,e,n=!1){if(!t)return null;const i=this.getHeaderName(t.getColDef(),t,null,null,e);return n?this.wrapHeaderNameWithAggFunc(t,i):i}getDisplayNameForProvidedColumnGroup(t,e,n){const i=e?e.getColGroupDef():null;return i?this.getHeaderName(i,null,t,e,n):null}getDisplayNameForColumnGroup(t,e){return this.getDisplayNameForProvidedColumnGroup(t,t.getProvidedColumnGroup(),e)}getHeaderName(t,e,n,i,s){const r=t.headerValueGetter;if(r){const o=this.gos.addGridCommonParams({colDef:t,column:e,columnGroup:n,providedColumnGroup:i,location:s});return typeof r=="function"?r(o):typeof r=="string"?this.expressionService.evaluate(r,o):(Fe("headerValueGetter must be a function or a string"),"")}else{if(t.headerName!=null)return t.headerName;if(t.field)return tTe(t.field)}return""}wrapHeaderNameWithAggFunc(t,e){if(this.gos.get("suppressAggFuncInHeader"))return e;const n=t.getColDef().pivotValueColumn,i=Ke(n);let s=null,r;if(i){const o=this.funcColsService.getValueColumns(),a=this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&o.length===1,l=t.getColDef().pivotTotalColumnIds!==void 0;if(a&&!l)return e;s=n?n.getAggFunc():null,r=!0}else{const o=t.isValueActive(),a=this.columnModel.isPivotMode()||!this.funcColsService.isRowGroupEmpty();o&&a?(s=t.getAggFunc(),r=!0):r=!1}if(r){const o=typeof s=="string"?s:"func";return`${this.localeService.getLocaleTextFunc()(o,o)}(${e})`}return e}},iTe=class extends Ee{constructor(){super(...arguments),this.beanName="pivotResultColsService"}wireBeans(t){this.context=t.context,this.columnModel=t.columnModel,this.columnFactory=t.columnFactory,this.visibleColsService=t.visibleColsService}destroy(){var t;kc(this.context,(t=this.pivotResultCols)==null?void 0:t.tree),super.destroy()}isPivotResultColsPresent(){return this.pivotResultCols!=null}lookupPivotResultCol(t,e){if(this.pivotResultCols==null)return null;const n=this.columnModel.getColDefCol(e);let i=null;return this.pivotResultCols.list.forEach(s=>{const r=s.getColDef().pivotKeys,o=s.getColDef().pivotValueColumn;Cu(r,t)&&o===n&&(i=s)}),i}getPivotResultCols(){return this.pivotResultCols}getPivotResultCol(t){return this.pivotResultCols?this.columnModel.getColFromCollection(t,this.pivotResultCols):null}setPivotResultCols(t,e){var n,i;if(this.columnModel.isReady()&&!(t==null&&this.pivotResultCols==null)){if(t){this.processPivotResultColDef(t);const s=this.columnFactory.createColumnTree(t,!1,((n=this.pivotResultCols)==null?void 0:n.tree)||this.previousPivotResultCols||void 0,e);kc(this.context,(i=this.pivotResultCols)==null?void 0:i.tree,s.columnTree);const r=s.columnTree,o=s.treeDept,a=rN(r),l={};this.pivotResultCols={tree:r,treeDepth:o,list:a,map:l},this.pivotResultCols.list.forEach(d=>this.pivotResultCols.map[d.getId()]=d);const c=!!this.previousPivotResultCols;this.previousPivotResultCols=null,this.columnModel.refreshCols(!c)}else this.previousPivotResultCols=this.pivotResultCols?this.pivotResultCols.tree:null,this.pivotResultCols=null,this.columnModel.refreshCols(!1);this.visibleColsService.refresh(e)}}processPivotResultColDef(t){const e=this.gos.get("processPivotResultColDef"),n=this.gos.get("processPivotResultColGroupDef");if(!e&&!n)return;const i=s=>{s.forEach(r=>{if(Ke(r.children)){const a=r;n&&n(a),i(a.children)}else e&&e(r)})};t&&i(t)}},sTe=class extends Ee{constructor(){super(...arguments),this.beanName="columnSizeService"}wireBeans(t){this.columnModel=t.columnModel,this.columnViewportService=t.columnViewportService,this.eventDispatcher=t.columnEventDispatcher,this.visibleColsService=t.visibleColsService,this.ctrlsService=t.ctrlsService}setColumnWidths(t,e,n,i){const s=[];t.forEach(r=>{const o=this.columnModel.getColDefCol(r.key)||this.columnModel.getCol(r.key);if(!o)return;if(s.push({width:r.newWidth,ratios:[1],columns:[o]}),this.gos.get("colResizeDefault")==="shift"&&(e=!e),e){const l=this.visibleColsService.getColAfter(o);if(!l)return;const c=o.getActualWidth()-r.newWidth,d=l.getActualWidth()+c;s.push({width:d,ratios:[1],columns:[l]})}}),s.length!==0&&this.resizeColumnSets({resizeSets:s,finished:n,source:i})}resizeColumnSets(t){const{resizeSets:e,finished:n,source:i}=t;if(!(!e||e.every(d=>this.checkMinAndMaxWidthsForSet(d)))){if(n){const d=e&&e.length>0?e[0].columns:null;this.eventDispatcher.columnResized(d,n,i)}return}const r=[],o=[];e.forEach(d=>{const{width:f,columns:p,ratios:m}=d,y={},C={};p.forEach(M=>o.push(M));let x=!0,w=0;for(;x;){if(w++,w>1e3){gn("infinite loop in resizeColumnSets");break}x=!1;const M=[];let S=0,R=f;p.forEach((F,N)=>{if(C[F.getId()])R-=y[F.getId()];else{M.push(F);const _=m[N];S+=_}});const P=1/S;M.forEach((F,N)=>{const I=N===M.length-1;let _;I?_=R:(_=Math.round(m[N]*f*P),R-=_);const A=F.getMinWidth(),O=F.getMaxWidth();_<A?(_=A,C[F.getId()]=!0,x=!0):O>0&&_>O&&(_=O,C[F.getId()]=!0,x=!0),y[F.getId()]=_})}p.forEach(M=>{const S=y[M.getId()];M.getActualWidth()!==S&&(M.setActualWidth(S,i),r.push(M))})});const a=r.length>0;let l=[];a&&(l=this.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0}),this.visibleColsService.setLeftValues(i),this.visibleColsService.updateBodyWidths(),this.columnViewportService.checkViewportColumns());const c=o.concat(l);(a||n)&&this.eventDispatcher.columnResized(c,n,i,l)}checkMinAndMaxWidthsForSet(t){const{columns:e,width:n}=t;let i=0,s=0,r=!0;e.forEach(l=>{const c=l.getMinWidth();i+=c||0;const d=l.getMaxWidth();d>0?s+=d:r=!1});const o=n>=i,a=!r||n<=s;return o&&a}refreshFlexedColumns(t={}){const e=t.source?t.source:"flex";if(t.viewportWidth!=null&&(this.flexViewportWidth=t.viewportWidth),!this.flexViewportWidth)return[];const n=this.visibleColsService.getCenterCols();let i=-1;if(t.resizingCols){const p=new Set(t.resizingCols);for(let m=n.length-1;m>=0;m--)if(p.has(n[m])){i=m;break}}let s=0,r=[],o=0,a=0;for(let p=0;p<n.length;p++)n[p].getFlex()&&p>i?(r.push(n[p]),a+=n[p].getFlex(),o+=n[p].getMinWidth()):s+=n[p].getActualWidth();if(!r.length)return[];let l=[];s+o>this.flexViewportWidth&&(r.forEach(p=>p.setActualWidth(p.getMinWidth(),e)),l=r,r=[]);const c=[];let d;e:for(;;){d=this.flexViewportWidth-s;const p=d/a;for(let m=0;m<r.length;m++){const y=r[m],C=p*y.getFlex();let x=0;const w=y.getMinWidth(),M=y.getMaxWidth();if(C<w?x=w:C>M&&(x=M),x){y.setActualWidth(x,e),A9(r,y),a-=y.getFlex(),l.push(y),s+=y.getActualWidth();continue e}c[m]=Math.floor(C)}break}let f=d;return r.forEach((p,m)=>{const y=m<r.length-1?Math.min(c[m],f):Math.max(c[m],f);p.setActualWidth(y,e),l.push(p),f-=c[m]}),t.skipSetLeft||this.visibleColsService.setLeftValues(e),t.updateBodyWidths&&this.visibleColsService.updateBodyWidths(),t.fireResizedEvent&&this.eventDispatcher.columnResized(l,!0,e,r),r}sizeColumnsToFit(t,e="sizeColumnsToFit",n,i){var p;if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.sizeColumnsToFit(t,e,n,i));return}const s={};i&&((p=i==null?void 0:i.columnLimits)==null||p.forEach(({key:m,...y})=>{s[typeof m=="string"?m:m.getColId()]=y}));const r=this.visibleColsService.getAllCols(),o=t===Ml(r);if(t<=0||!r.length||o)return;const a=[],l=[];r.forEach(m=>{m.getColDef().suppressSizeToFit===!0?l.push(m):a.push(m)});const c=a.slice(0);let d=!1;const f=m=>{yr(a,m),l.push(m)};for(a.forEach(m=>{m.resetActualWidth(e);const y=s==null?void 0:s[m.getId()],C=(y==null?void 0:y.minWidth)??(i==null?void 0:i.defaultMinWidth),x=(y==null?void 0:y.maxWidth)??(i==null?void 0:i.defaultMaxWidth),w=m.getActualWidth();typeof C=="number"&&w<C?m.setActualWidth(C,e,!0):typeof x=="number"&&w>x&&m.setActualWidth(x,e,!0)});!d;){d=!0;const m=t-Ml(l);if(m<=0)a.forEach(y=>{var x;const C=((x=s==null?void 0:s[y.getId()])==null?void 0:x.minWidth)??(i==null?void 0:i.defaultMinWidth);if(typeof C=="number"){y.setActualWidth(C,e,!0);return}y.setMinimum(e)});else{const y=m/Ml(a);let C=m;for(let x=a.length-1;x>=0;x--){const w=a[x],M=s==null?void 0:s[w.getId()],S=(M==null?void 0:M.minWidth)??(i==null?void 0:i.defaultMinWidth),R=(M==null?void 0:M.maxWidth)??(i==null?void 0:i.defaultMaxWidth),P=w.getMinWidth(),F=w.getMaxWidth(),N=typeof S=="number"&&S>P?S:P,I=typeof R=="number"&&R<F?R:F;let _=Math.round(w.getActualWidth()*y);_<N?(_=N,f(w),d=!1):_>I?(_=I,f(w),d=!1):x===0&&(_=C),w.setActualWidth(_,e,!0),C-=_}}}c.forEach(m=>{m.fireColumnWidthChangedEvent(e)}),this.visibleColsService.setLeftValues(e),this.visibleColsService.updateBodyWidths(),!n&&this.eventDispatcher.columnResized(c,!0,e)}applyAutosizeStrategy(){const t=this.gos.get("autoSizeStrategy");if(!t)return;const{type:e}=t;setTimeout(()=>{if(e==="fitGridWidth"){const{columnLimits:n,defaultMinWidth:i,defaultMaxWidth:s}=t,r=n==null?void 0:n.map(({colId:o,minWidth:a,maxWidth:l})=>({key:o,minWidth:a,maxWidth:l}));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:i,defaultMaxWidth:s,columnLimits:r})}else e==="fitProvidedWidth"&&this.sizeColumnsToFit(t.width,"sizeColumnsToFit")})}};function O9(t,e){return t+"_"+e}function Ei(t){return t instanceof L9}var L9=class extends Ee{constructor(t,e,n,i){super(),this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null,this.groupId=e,this.partId=n,this.providedColumnGroup=t,this.pinned=i}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(t){this.parent=t}getUniqueId(){return O9(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const t=this.getProvidedColumnGroup().getLeafColumns();return!t||t.length===0?!1:t.every(e=>e.isMoving())}checkLeft(){if(this.displayedChildren.forEach(t=>{Ei(t)&&t.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const e=Kt(this.displayedChildren).getLeft();this.setLeft(e)}else{const t=this.displayedChildren[0].getLeft();this.setLeft(t)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(t){this.oldLeft=this.left,this.left!==t&&(this.left=t,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let t=0;return this.displayedChildren&&this.displayedChildren.forEach(e=>{t+=e.getActualWidth()}),t}isResizable(){if(!this.displayedChildren)return!1;let t=!1;return this.displayedChildren.forEach(e=>{e.isResizable()&&(t=!0)}),t}getMinWidth(){let t=0;return this.displayedChildren.forEach(e=>{t+=e.getMinWidth()}),t}addChild(t){this.children||(this.children=[]),this.children.push(t)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const t=[];return this.addLeafColumns(t),t}getDisplayedLeafColumns(){const t=[];return this.addDisplayedLeafColumns(t),t}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(t){this.providedColumnGroup.setExpanded(t)}isAutoHeaderHeight(){var t;return!!((t=this.getColGroupDef())!=null&&t.autoHeaderHeight)}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(t){const e=t!==this.autoHeaderHeight;return this.autoHeaderHeight=t,e}addDisplayedLeafColumns(t){this.displayedChildren.forEach(e=>{lu(e)?t.push(e):Ei(e)&&e.addDisplayedLeafColumns(t)})}addLeafColumns(t){this.children.forEach(e=>{lu(e)?t.push(e):Ei(e)&&e.addLeafColumns(t)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const t=this.getParent();return!this.isPadding()||!t||!t.isPadding()?0:1+t.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let t=this;for(;t!=null&&t.isPadding();)t=t.getParent();if(!(t?t.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(n=>{if(Ei(n)&&(!n.displayedChildren||!n.displayedChildren.length))return;switch(n.getColumnGroupShow()){case"open":t.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(n);break;case"closed":t.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(n);break;default:this.displayedChildren.push(n);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},rTe=class{constructor(){this.existingIds={}}getInstanceIdForKey(t){const e=this.existingIds[t];let n;return typeof e!="number"?n=0:n=e+1,this.existingIds[t]=n,n}},oTe=class extends Ee{constructor(){super(...arguments),this.beanName="visibleColsService",this.colsAndGroupsMap={},this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0}wireBeans(t){this.columnModel=t.columnModel,this.columnSizeService=t.columnSizeService,this.columnViewportService=t.columnViewportService,this.eventDispatcher=t.columnEventDispatcher}refresh(t,e=!1){e||this.buildTrees(),this.updateOpenClosedVisibilityInColumnGroups(),this.columnsLeft=dA(this.treeLeft),this.columnsCenter=dA(this.treeCenter),this.columnsRight=dA(this.treeRight),this.joinColsAriaOrder(),this.joinCols(),this.setLeftValues(t),this.autoHeightCols=this.columns.filter(n=>n.isAutoHeight()),this.columnSizeService.refreshFlexedColumns(),this.updateBodyWidths(),this.columnViewportService.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(t),this.eventDispatcher.visibleCols(t)}updateBodyWidths(){const t=Ml(this.columnsCenter),e=Ml(this.columnsLeft),n=Ml(this.columnsRight);this.bodyWidthDirty=this.bodyWidth!==t,(this.bodyWidth!==t||this.leftWidth!==e||this.rightWidth!==n)&&(this.bodyWidth=t,this.leftWidth=e,this.rightWidth=n,this.eventService.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventService.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(t){this.setLeftValuesOfCols(t),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(t){let e,n;this.gos.get("enableRtl")?(e=this.columnsLeft?this.columnsLeft[0]:null,n=this.columnsRight?Kt(this.columnsRight):null):(e=this.columnsLeft?Kt(this.columnsLeft):null,n=this.columnsRight?this.columnsRight[0]:null),this.columnModel.getCols().forEach(i=>{i.setLastLeftPinned(i===e,t),i.setFirstRightPinned(i===n,t)})}buildTrees(){const t=this.columnModel.getColsToShow(),e=t.filter(r=>r.getPinned()=="left"),n=t.filter(r=>r.getPinned()=="right"),i=t.filter(r=>r.getPinned()!="left"&&r.getPinned()!="right"),s=new rTe;this.treeLeft=this.createGroups({columns:e,idCreator:s,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=this.createGroups({columns:n,idCreator:s,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=this.createGroups({columns:i,idCreator:s,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.ariaOrderColumns=[]}joinColsAriaOrder(){const t=this.columnModel.getCols(),e=[],n=[],i=[];for(const s of t){const r=s.getPinned();r?r===!0||r==="left"?e.push(s):i.push(s):n.push(s)}this.ariaOrderColumns=e.concat(n).concat(i)}getAriaColIndex(t){let e;return Ei(t)?e=t.getLeafColumns()[0]:e=t,this.ariaOrderColumns.indexOf(e)+1}getAllAutoHeightCols(){return this.autoHeightCols}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(t=>{t.forEach(e=>{Ei(e)&&e.checkLeft()})})}setLeftValuesOfCols(t){if(!this.columnModel.getColDefCols())return;const n=this.columnModel.getCols().slice(0),i=this.gos.get("enableRtl");[this.columnsLeft,this.columnsRight,this.columnsCenter].forEach(s=>{if(i){let r=Ml(s);s.forEach(o=>{r-=o.getActualWidth(),o.setLeft(r,t)})}else{let r=0;s.forEach(o=>{o.setLeft(r,t),r+=o.getActualWidth()})}IMe(n,s)}),n.forEach(s=>{s.setLeft(null,t)})}joinCols(){this.gos.get("enableRtl")?this.columns=this.columnsRight.concat(this.columnsCenter).concat(this.columnsLeft):this.columns=this.columnsLeft.concat(this.columnsCenter).concat(this.columnsRight)}getColsCenter(){return this.columnsCenter}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}getTreeLeft(){return this.treeLeft}getTreeRight(){return this.treeRight}getTreeCenter(){return this.treeCenter}getAllCols(){return this.columns}isColDisplayed(t){return this.getAllCols().indexOf(t)>=0}getLeftColsForRow(t){return this.columnModel.isColSpanActive()?this.getColsForRow(t,this.columnsLeft):this.columnsLeft}getRightColsForRow(t){return this.columnModel.isColSpanActive()?this.getColsForRow(t,this.columnsRight):this.columnsRight}getColsForRow(t,e,n,i){const s=[];let r=null;for(let o=0;o<e.length;o++){const a=e[o],l=e.length-o,c=Math.min(a.getColSpan(t),l),d=[a];if(c>1){const p=c-1;for(let m=1;m<=p;m++)d.push(e[o+m]);o+=p}let f;n?(f=!1,d.forEach(p=>{n(p)&&(f=!0)})):f=!0,f&&(s.length===0&&r&&(i&&i(a))&&s.push(r),s.push(a)),r=a}return s}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(t){switch(t){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getCenterCols(){return this.columnsCenter}getLeftCols(){return this.columnsLeft}getRightCols(){return this.columnsRight}getColBefore(t){const e=this.getAllCols(),n=e.indexOf(t);return n>0?e[n-1]:null}getGroupAtDirection(t,e){const n=t.getProvidedColumnGroup().getLevel()+t.getPaddingLevel(),i=t.getDisplayedLeafColumns(),s=e==="After"?Kt(i):i[0],r=`getCol${e}`;for(;;){const o=this[r](s);if(!o)return null;const a=this.getColGroupAtLevel(o,n);if(a!==t)return a}}getColGroupAtLevel(t,e){let n=t.getParent(),i,s;for(;i=n.getProvidedColumnGroup().getLevel(),s=n.getPaddingLevel(),!(i+s<=e);)n=n.getParent();return n}isPinningLeft(){return this.columnsLeft.length>0}isPinningRight(){return this.columnsRight.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const t=e=>{this.colsAndGroupsMap[e.getUniqueId()]=e};Ed(this.treeCenter,!1,t),Ed(this.treeLeft,!1,t),Ed(this.treeRight,!1,t)}isVisible(t){return this.colsAndGroupsMap[t.getUniqueId()]===t}updateOpenClosedVisibilityInColumnGroups(){const t=this.getAllTrees();Ed(t,!1,e=>{Ei(e)&&e.calculateDisplayedColumns()})}getFirstColumn(){const t=this.gos.get("enableRtl"),e=["getLeftCols","getCenterCols","getRightCols"];t&&e.reverse();for(let n=0;n<e.length;n++){const i=this[e[n]]();if(i.length)return t?Kt(i):i[0]}return null}getColumnGroup(t,e){if(!t)return null;if(Ei(t))return t;const n=this.getAllTrees(),i=typeof e=="number";let s=null;return Ed(n,!1,r=>{if(Ei(r)){const o=r;let a;i?a=t===o.getGroupId()&&e===o.getPartId():a=t===o.getGroupId(),a&&(s=o)}}),s}getColAfter(t){const e=this.getAllCols(),n=e.indexOf(t);return n<e.length-1?e[n+1]:null}isBodyWidthDirty(){return this.bodyWidthDirty}setBodyWidthDirty(){this.bodyWidthDirty=!0}getColsLeftWidth(){return Ml(this.columnsLeft)}getDisplayedColumnsRightWidth(){return Ml(this.columnsRight)}isColAtEdge(t,e){const n=this.getAllCols();if(!n.length)return!1;const i=e==="first";let s;if(Ei(t)){const r=t.getDisplayedLeafColumns();if(!r.length)return!1;s=i?r[0]:Kt(r)}else s=t;return(i?n[0]:Kt(n))===s}createGroups(t){const{columns:e,idCreator:n,pinned:i,oldDisplayedGroups:s,isStandaloneStructure:r}=t,o=this.mapOldGroupsById(s),a=[];let l=e;for(;l.length;){const c=l;l=[];let d=0;const f=p=>{const m=d;d=p;const y=c[m],x=(Ei(y)?y.getProvidedColumnGroup():y).getOriginalParent();if(x==null){for(let M=m;M<p;M++)a.push(c[M]);return}const w=this.createColGroup(x,n,o,i,r);for(let M=m;M<p;M++)w.addChild(c[M]);l.push(w)};for(let p=1;p<c.length;p++){const m=c[p],C=(Ei(m)?m.getProvidedColumnGroup():m).getOriginalParent(),x=c[d],M=(Ei(x)?x.getProvidedColumnGroup():x).getOriginalParent();C!==M&&f(p)}d<c.length&&f(c.length)}return r||this.setupParentsIntoCols(a,null),a}createColGroup(t,e,n,i,s){const r=t.getGroupId(),o=e.getInstanceIdForKey(r),a=O9(r,o);let l=n[a];return l&&l.getProvidedColumnGroup()!==t&&(l=null),Ke(l)?l.reset():(l=new L9(t,r,o,i),s||this.createBean(l)),l}mapOldGroupsById(t){const e={},n=i=>{i.forEach(s=>{if(Ei(s)){const r=s;e[s.getUniqueId()]=r,n(r.getChildren())}})};return t&&n(t),e}setupParentsIntoCols(t,e){t.forEach(n=>{if(n.setParent(e),Ei(n)){const i=n;this.setupParentsIntoCols(i.getChildren(),i)}})}};function Ed(t,e,n){if(t)for(let i=0;i<t.length;i++){const s=t[i];if(Ei(s)){const r=e?s.getDisplayedChildren():s.getChildren();Ed(r,e,n)}n(s)}}function dA(t){const e=[];return Ed(t,!0,n=>{lu(n)&&e.push(n)}),e}var k9=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel"],aTe=["scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","scrollGapChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged"],lTe=[...k9,...aTe],cTe={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0,suppressSetFilterByDefault:!0},Es=class{};Es.STRING_PROPERTIES=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow"];Es.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","theme","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","cellSelection","selectionColumnDef"];Es.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"];Es.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"];Es.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault"];Es.OTHER_PROPERTIES=["suppressStickyTotalRow","loadThemeGoogleFonts","rowSelection"];Es.FUNCTION_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems","groupTotalRow"];Es.ALL_PROPERTIES=[...Es.ARRAY_PROPERTIES,...Es.OBJECT_PROPERTIES,...Es.STRING_PROPERTIES,...Es.NUMBER_PROPERTIES,...Es.FUNCTION_PROPERTIES,...Es.BOOLEAN_PROPERTIES,...Es.OTHER_PROPERTIES];var uy=Es,To=class{static getCallbackForEvent(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}};To.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY";To.PUBLIC_EVENTS=k9;To.EVENT_CALLBACKS=lTe.map(t=>To.getCallbackForEvent(t));To.BOOLEAN_PROPERTIES=uy.BOOLEAN_PROPERTIES;To.ALL_PROPERTIES=uy.ALL_PROPERTIES;To.ALL_PROPERTIES_AND_CALLBACKS=[...To.ALL_PROPERTIES,...To.EVENT_CALLBACKS];To.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(To.ALL_PROPERTIES_AND_CALLBACKS);var dy=To;function uTe(t,e){typeof t!="object"&&(t={});const n={...t};return dy.ALL_PROPERTIES_AND_CALLBACKS.forEach(s=>{const r=e[s];typeof r<"u"&&r!==dy.VUE_OMITTED_PROPERTY&&(n[s]=r)}),n}function dTe(t,e){if(!t)return;const n={};let i=!1;if(Object.keys(t).filter(o=>dy.ALL_PROPERTIES_AND_CALLBACKS_SET.has(o)).forEach(o=>{n[o]=t[o],i=!0}),!i)return;const s={type:"gridOptionsChanged",options:n};e.dispatchEvent(s);const r={type:"componentStateChanged"};Wo(n,(o,a)=>{r[o]=a}),e.dispatchEvent(r)}var sm=class extends Ee{};function p0(t,e,n){return n&&t.addDestroyFunc(()=>e.destroyBean(n)),n??t}var m0=class{constructor(t){this.cssClassStates={},this.getGui=t}addCssClass(t){const e=(t||"").split(" ");if(e.length>1){e.forEach(i=>this.addCssClass(i));return}if(this.cssClassStates[t]!==!0&&t.length){const i=this.getGui();i&&i.classList.add(t),this.cssClassStates[t]=!0}}removeCssClass(t){const e=(t||"").split(" ");if(e.length>1){e.forEach(i=>this.removeCssClass(i));return}if(this.cssClassStates[t]!==!1&&t.length){const i=this.getGui();i&&i.classList.remove(t),this.cssClassStates[t]=!1}}containsCssClass(t){const e=this.getGui();return e?e.classList.contains(t):!1}addOrRemoveCssClass(t,e){if(!t)return;if(t.indexOf(" ")>=0){const i=(t||"").split(" ");if(i.length>1){i.forEach(s=>this.addOrRemoveCssClass(s,e));return}}if(this.cssClassStates[t]!==e&&t.length){const i=this.getGui();i&&i.classList.toggle(t,e),this.cssClassStates[t]=e}}};function ec(t,e,n){n==null||typeof n=="string"&&n==""?B9(t,e):$a(t,e,n)}function $a(t,e,n){t.setAttribute(H9(e),n.toString())}function B9(t,e){t.removeAttribute(H9(e))}function H9(t){return`aria-${t}`}function ta(t,e){e?t.setAttribute("role",e):t.removeAttribute("role")}function hTe(t){let e;return t==="asc"?e="ascending":t==="desc"?e="descending":t==="mixed"?e="other":e="none",e}function fTe(t){return t.getAttribute("aria-label")}function Bp(t,e){ec(t,"label",e)}function hy(t,e){ec(t,"labelledby",e)}function V9(t,e){ec(t,"live",e)}function pTe(t,e){ec(t,"atomic",e)}function mTe(t,e){ec(t,"relevant",e)}function gTe(t,e){ec(t,"disabled",e)}function z9(t,e){ec(t,"hidden",e)}function Ub(t,e){$a(t,"expanded",e)}function vTe(t,e){$a(t,"setsize",e)}function yTe(t,e){$a(t,"posinset",e)}function xTe(t,e){$a(t,"rowcount",e)}function CTe(t,e){$a(t,"rowindex",e)}function wTe(t,e){$a(t,"colcount",e)}function G9(t,e){$a(t,"colindex",e)}function bTe(t,e){$a(t,"colspan",e)}function STe(t,e){$a(t,"sort",e)}function ETe(t){B9(t,"sort")}function jb(t,e){ec(t,"selected",e)}function MTe(t,e){ec(t,"controls",e.id),hy(e,t.id)}function cN(t,e){return e===void 0?t("ariaIndeterminate","indeterminate"):e===!0?t("ariaChecked","checked"):t("ariaUnchecked","unchecked")}var hA,rC,fA,pA,mA,gA,dD,hD,vA;function Ha(){return hA===void 0&&(hA=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),hA}function U9(){if(rC===void 0)if(Ha()){const t=navigator.userAgent.match(/version\/(\d+)/i);t&&(rC=t[1]!=null?parseFloat(t[1]):0)}else rC=0;return rC}function uN(){if(fA===void 0){const t=window;fA=!!t.chrome&&(!!t.chrome.webstore||!!t.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return fA}function dN(){return pA===void 0&&(pA=/(firefox)/i.test(navigator.userAgent)),pA}function j9(){return mA===void 0&&(mA=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),mA}function wu(){return gA===void 0&&(gA=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),gA}function lV(){return!Ha()||U9()>=15}function fD(t){if(!t)return null;const e=t.tabIndex,n=t.getAttribute("tabIndex");return e===-1&&(n===null||n===""&&!dN())?null:e.toString()}function TTe(){if(vA!==void 0)return vA;if(!document.body)return-1;let t=1e6;const e=dN()?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){const i=t*2;if(n.style.height=i+"px",i>e||n.clientHeight!==i)break;t=i}return document.body.removeChild(n),vA=t,t}function RTe(){var t,e;return((t=document.body)==null?void 0:t.clientWidth)??(window.innerHeight||((e=document.documentElement)==null?void 0:e.clientWidth)||-1)}function ATe(){var t,e;return((t=document.body)==null?void 0:t.clientHeight)??(window.innerHeight||((e=document.documentElement)==null?void 0:e.clientHeight)||-1)}function PTe(){return hD==null&&W9(),hD}function W9(){const t=document.body,e=document.createElement("div");e.style.width=e.style.height="100px",e.style.opacity="0",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",e.style.position="absolute",t.appendChild(e);let n=e.offsetWidth-e.clientWidth;n===0&&e.clientWidth===0&&(n=null),e.parentNode&&e.parentNode.removeChild(e),n!=null&&(hD=n,dD=n===0)}function $9(){return dD==null&&W9(),dD}var oC,DTe="[tabindex], input, select, button, textarea, [href]",q9="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function hN(t){const e=Element.prototype.matches||Element.prototype.msMatchesSelector,i=e.call(t,"input, select, button, textarea"),s=e.call(t,q9),r=Va(t);return i&&!s&&r}function Kn(t,e,n={}){const{skipAriaHidden:i}=n;t.classList.toggle("ag-hidden",!e),i||z9(t,!e)}function _Te(t,e,n={}){const{skipAriaHidden:i}=n;t.classList.toggle("ag-invisible",!e),i||z9(t,!e)}function fy(t,e){const n="disabled",i=e?s=>s.setAttribute(n,""):s=>s.removeAttribute(n);i(t),Z9(t.querySelectorAll("input"),s=>i(s))}function vp(t,e,n){let i=0;for(;t;){if(t.classList.contains(e))return!0;if(t=t.parentElement,typeof n=="number"){if(++i>n)break}else if(t===n)break}return!1}function Rh(t){const{height:e,width:n,borderTopWidth:i,borderRightWidth:s,borderBottomWidth:r,borderLeftWidth:o,paddingTop:a,paddingRight:l,paddingBottom:c,paddingLeft:d,marginTop:f,marginRight:p,marginBottom:m,marginLeft:y,boxSizing:C}=window.getComputedStyle(t);return{height:parseFloat(e||"0"),width:parseFloat(n||"0"),borderTopWidth:parseFloat(i||"0"),borderRightWidth:parseFloat(s||"0"),borderBottomWidth:parseFloat(r||"0"),borderLeftWidth:parseFloat(o||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(c||"0"),paddingLeft:parseFloat(d||"0"),marginTop:parseFloat(f||"0"),marginRight:parseFloat(p||"0"),marginBottom:parseFloat(m||"0"),marginLeft:parseFloat(y||"0"),boxSizing:C}}function fN(t){const e=Rh(t);return e.boxSizing==="border-box"?e.height-e.paddingTop-e.paddingBottom:e.height}function g0(t){const e=Rh(t);return e.boxSizing==="border-box"?e.width-e.paddingLeft-e.paddingRight:e.width}function K9(t){const{height:e,marginBottom:n,marginTop:i}=Rh(t);return Math.floor(e+n+i)}function Wb(t){const{width:e,marginLeft:n,marginRight:i}=Rh(t);return Math.floor(e+n+i)}function Y9(t){const e=t.getBoundingClientRect(),{borderTopWidth:n,borderLeftWidth:i,borderRightWidth:s,borderBottomWidth:r}=Rh(t);return{top:e.top+(n||0),left:e.left+(i||0),right:e.right+(s||0),bottom:e.bottom+(r||0)}}function $b(){if(typeof oC=="boolean")return oC;const t=document.createElement("div");return t.style.direction="rtl",t.style.width="1px",t.style.height="1px",t.style.position="fixed",t.style.top="0px",t.style.overflow="hidden",t.dir="rtl",t.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(t),t.scrollLeft=1,oC=Math.floor(t.scrollLeft)===0,document.body.removeChild(t),oC}function qb(t,e){let n=t.scrollLeft;return e&&(n=Math.abs(n),uN()&&!$b()&&(n=t.scrollWidth-t.getBoundingClientRect().width-n)),n}function Kb(t,e,n){n&&($b()?e*=-1:(Ha()||uN())&&(e=t.scrollWidth-t.getBoundingClientRect().width-e)),t.scrollLeft=e}function qr(t){for(;t&&t.firstChild;)t.removeChild(t.firstChild)}function fh(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function X9(t){return!!t.offsetParent}function Va(t){const e=t;return e.checkVisibility?e.checkVisibility({checkVisibilityCSS:!0}):!(!X9(t)||window.getComputedStyle(t).visibility!=="visible")}function py(t){const e=document.createElement("div");return e.innerHTML=(t||"").trim(),e.firstChild}function FTe(t){return t.clientWidth<t.scrollWidth}function NTe(t){return t.clientHeight<t.scrollHeight}function Yb(t,e){e==="flex"?(t.style.removeProperty("width"),t.style.removeProperty("minWidth"),t.style.removeProperty("maxWidth"),t.style.flex="1 1 auto"):Yo(t,e)}function Yo(t,e){e=pN(e),t.style.width=e.toString(),t.style.maxWidth=e.toString(),t.style.minWidth=e.toString()}function bv(t,e){e=pN(e),t.style.height=e.toString(),t.style.maxHeight=e.toString(),t.style.minHeight=e.toString()}function pN(t){return typeof t=="number"?`${t}px`:t}function mN(t){return t instanceof Node||t instanceof HTMLElement}function ITe(t){if(t==null)return[];const e=[];return Z9(t,n=>e.push(n)),e}function OTe(t,e){if(t)for(let n=0;n<t.length;n++){const i=t[n];e(i.name,i.value)}}function Ro(t,e,n){n==null||n===""?t.removeAttribute(e):t.setAttribute(e,n.toString())}function Z9(t,e){if(t!=null)for(let n=0;n<t.length;n++)e(t[n])}var gN=class{constructor(t=0,e=1){this.nextValue=t,this.step=e}next(){const t=this.nextValue;return this.nextValue+=this.step,t}peek(){return this.nextValue}skip(t){this.nextValue+=t}},LTe=1e3,kTe=1e3,cV=100,J9=class hd extends Ee{constructor(e,n,i,s){super(),this.parentComp=e,this.tooltipShowDelayOverride=n,this.tooltipHideDelayOverride=i,this.shouldDisplayTooltip=s,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupService=e.popupService,this.userComponentFactory=e.userComponentFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const e=this.parentComp.getGui();this.tooltipTrigger===0&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){const n=this.gos.get(e);return n<0&&Fe(`${e} should not be lower than 0`),Math.max(200,n)}getTooltipDelay(e){return e==="show"?this.tooltipShowDelayOverride??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipHideDelayOverride??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gos.get("tooltipTrigger");return!e||e==="hover"?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!wu()&&(hd.isLocked?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},cV):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){var r;const n=e.relatedTarget,i=this.parentComp.getGui(),s=(r=this.tooltipComp)==null?void 0:r.getGui();this.isInteractingWithTooltip||i.contains(n)||this.interactionEnabled&&(s!=null&&s.contains(n))||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||hd.isLocked)return;let n=0;e&&(n=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),n),this.state=1}isLastTooltipHiddenRecently(){const e=new Date().getTime(),n=hd.lastTooltipHideTime;return e-n<LTe}setToDoNothing(e){!e&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const e={...this.parentComp.getTooltipParams()};if(!Ke(e.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip()){this.setToDoNothing();return}this.state=2,this.tooltipInstanceCount++;const n=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(e).newAgStackInstance().then(n)}hideTooltip(e){!e&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),hd.lastTooltipHideTime=new Date().getTime()),this.eventService.dispatchEvent({type:"tooltipHide",parentGui:this.parentComp.getGui()}),e&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,n){if(this.state!==2||this.tooltipInstanceCount!==e){this.destroyBean(n);return}const s=n.getGui();this.tooltipComp=n,s.classList.contains("ag-tooltip")||s.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&s.classList.add("ag-tooltip-animate"),this.interactionEnabled&&s.classList.add("ag-tooltip-interactive");const r=this.localeService.getLocaleTextFunc(),o=this.popupService.addPopup({eChild:s,ariaLabel:r("ariaLabelTooltip","Tooltip")});if(o&&(this.tooltipPopupDestroyFunc=o.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const a=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:a,columnMoved:a})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(s,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(di(this.gos),{keydown:a=>{s.contains(a==null?void 0:a.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(s,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventService.dispatchEvent({type:"tooltipShow",tooltipGui:s,parentGui:this.parentComp.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){var i;const e=(i=this.tooltipComp)==null?void 0:i.getGui(),n=Zn(this.gos);return!!e&&e.contains(n)}onTooltipFocusOut(e){const n=this.parentComp.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,n.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent({...e,mouseEvent:this.lastMouseEvent}):this.popupService.positionPopupByComponent({...e,eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,n=this.tooltipComp,i=this.tooltipTrigger===0?kTe:0;window.setTimeout(()=>{e(),this.destroyBean(n)},i),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(e=>{e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){hd.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},cV)}unlockService(){hd.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};J9.isLocked=!1;var BTe=J9,rm=class extends Ee{constructor(t,e){super(),this.ctrl=t,e&&(this.beans=e)}wireBeans(t){this.beans=t}postConstruct(){this.refreshToolTip()}setBrowserTooltip(t){const e="title",n=this.ctrl.getGui();n&&(t!=null&&t!=""?n.setAttribute(e,t):n.removeAttribute(e))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){var e,n,i,s;if(this.tooltipManager!=null)return;const t={getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()};this.tooltipManager=this.createBean(new BTe(t,(n=(e=this.ctrl).getTooltipShowDelayOverride)==null?void 0:n.call(e),(s=(i=this.ctrl).getTooltipHideDelayOverride)==null?void 0:s.call(i),this.ctrl.shouldDisplayTooltip),this.beans.context)}refreshToolTip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){var s,r,o,a,l;const t=this.ctrl,e=(s=t.getColumn)==null?void 0:s.call(t),n=(r=t.getColDef)==null?void 0:r.call(t),i=(o=t.getRowNode)==null?void 0:o.call(t);return{location:t.getLocation(),colDef:n,column:e,rowIndex:(a=t.getRowIndex)==null?void 0:a.call(t),node:i,data:i==null?void 0:i.data,value:this.getTooltipText(),valueFormatted:(l=t.getValueFormatted)==null?void 0:l.call(t),hideTooltipCallback:()=>{var c;return(c=this.tooltipManager)==null?void 0:c.hideTooltip(!0)}}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}},HTe=new gN,vt=null,On=class Q9 extends Ee{constructor(e,n){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=HTe.next(),this.cssClassManager=new m0(()=>this.eGui),this.componentSelectors=new Map((n??[]).map(i=>[i.selector,i])),e&&this.setTemplate(e)}preWireBeans(e){super.preWireBeans(e)}preConstruct(){this.usingBrowserTooltips=this.gos.get("enableBrowserTooltips"),this.wireTemplate(this.getGui())}wireTemplate(e,n){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,n))}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(e){const{newTooltipText:n,showDelayOverride:i,hideDelayOverride:s,location:r,shouldDisplayTooltip:o}=e||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==n&&(this.tooltipText=n);const a=()=>this.tooltipText;n!=null&&(this.tooltipFeature=this.createBean(new rm({getTooltipValue:a,getGui:()=>this.getGui(),getLocation:()=>r??"UNKNOWN",getColDef:e==null?void 0:e.getColDef,getColumn:e==null?void 0:e.getColumn,getTooltipShowDelayOverride:i!=null?()=>i:void 0,getTooltipHideDelayOverride:s!=null?()=>s:void 0,shouldDisplayTooltip:o})))}getDataRefAttribute(e){return e.getAttribute?e.getAttribute("data-ref"):null}applyElementsToComponent(e,n,i,s=null){if(n===void 0&&(n=this.getDataRefAttribute(e)),n){const r=this[n];if(r===vt)this[n]=s??e;else{const o=i&&i[n];!this.suppressDataRefValidation&&!o&&Fe(`Issue with data-ref: ${n} on ${this.constructor.name} with ${r}`)}}}createChildComponentsFromTags(e,n){ITe(e.childNodes).forEach(s=>{if(!(s instanceof HTMLElement))return;const r=this.createComponentFromElement(s,o=>{o.getGui()&&this.copyAttributesFromNode(s,o.getGui())},n);if(r){if(r.addItems&&s.children.length){this.createChildComponentsFromTags(s,n);const o=Array.prototype.slice.call(s.children);r.addItems(o)}this.swapComponentForNode(r,e,s)}else s.childNodes&&this.createChildComponentsFromTags(s,n)})}createComponentFromElement(e,n,i){const s=e.nodeName,r=this.getDataRefAttribute(e),o=s.indexOf("AG-")===0,a=o?this.componentSelectors.get(s):null;let l=null;if(a){Q9.elementGettingCreated=e;const c=i&&r?i[r]:void 0;l=new a.component(c),l.setParentComponent(this),this.createBean(l,null,n)}else o&&Fe(`Missing selector: ${s}`);return this.applyElementsToComponent(e,r,i,l),l}copyAttributesFromNode(e,n){OTe(e.attributes,(i,s)=>n.setAttribute(i,s))}swapComponentForNode(e,n,i){const s=e.getGui();n.replaceChild(s,i),n.insertBefore(document.createComment(i.nodeName),s),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){const n=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(i=>i.setAttribute("tabindex",n.toString()))}setTemplate(e,n,i){const s=py(e);this.setTemplateFromElement(s,n,i)}setTemplateFromElement(e,n,i,s=!1){if(this.eGui=e,this.suppressDataRefValidation=s,n)for(let r=0;r<n.length;r++){const o=n[r];this.componentSelectors.set(o.selector,o)}this.wireTemplate(e,i)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,n){let i=n;return e==null?null:(i||(i=this.eGui),mN(e)?{element:e,parent:i}:{element:e.getGui(),parent:i})}prependChild(e,n){const{element:i,parent:s}=this.getContainerAndElement(e,n)||{};!i||!s||s.insertAdjacentElement("afterbegin",i)}appendChild(e,n){const{element:i,parent:s}=this.getContainerAndElement(e,n)||{};!i||!s||s.appendChild(i)}isDisplayed(){return this.displayed}setVisible(e,n={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:i}=n;_Te(this.eGui,e,{skipAriaHidden:i})}}setDisplayed(e,n={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:i}=n;Kn(this.eGui,e,{skipAriaHidden:i});const s={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(s)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}addGuiEventListener(e,n,i){this.eGui.addEventListener(e,n,i),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,n))}addCssClass(e){this.cssClassManager.addCssClass(e)}removeCssClass(e){this.cssClassManager.removeCssClass(e)}containsCssClass(e){return this.cssClassManager.containsCssClass(e)}addOrRemoveCssClass(e,n){this.cssClassManager.addOrRemoveCssClass(e,n)}},e$={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus",checkboxChecked:"checkbox-checked",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off"},VTe=(()=>{const t=new Set(Object.values(e$));return t.add("eye"),t})();function zTe(t,e,n){const i=Hr(t,e,n);if(i){const{className:r}=i;if(typeof r=="string"&&r.indexOf("ag-icon")>-1||typeof r=="object"&&r["ag-icon"])return i}const s=document.createElement("span");return s.appendChild(i),s}function Hr(t,e,n,i){let s=null;const r=n&&n.getColDef().icons;if(r&&(s=r[t]),e&&!s){const o=e.get("icons");o&&(s=o[t])}if(s){let o;if(typeof s=="function")o=s();else if(typeof s=="string")o=s;else throw new Error("icon from grid options needs to be a string or a function");if(typeof o=="string")return py(o);if(mN(o))return o;Fe("iconRenderer should return back a string or a dom object")}else{const o=document.createElement("span");let a=e$[t]??(VTe.has(t)?t:void 0);return a||(Fe(`Did not find icon ${t}`),a=""),o.setAttribute("class",`ag-icon ag-icon-${a}`),o.setAttribute("unselectable","on"),ta(o,"presentation"),o}}var GTe=class extends On{constructor(){super(...arguments),this.dragSource=null,this.eIcon=vt,this.eLabel=vt}postConstruct(){const t=e=>zTe(e,this.gos,null);this.dropIconMap={pinned:t("columnMovePin"),hide:t("columnMoveHide"),move:t("columnMoveMove"),left:t("columnMoveLeft"),right:t("columnMoveRight"),group:t("columnMoveGroup"),aggregate:t("columnMoveValue"),pivot:t("columnMovePivot"),notAllowed:t("dropNotAllowed")}}init(t){this.dragSource=t.dragSource,this.setTemplate(`<div class="ag-dnd-ghost ag-unselectable">
                <span data-ref="eIcon" class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
                <div data-ref="eLabel" class="ag-dnd-ghost-label"></div>
            </div>`)}destroy(){this.dragSource=null,super.destroy()}setIcon(t,e=!1){var i,s;qr(this.eIcon);let n=null;t||(t=(i=this.dragSource)!=null&&i.getDefaultIconName?(s=this.dragSource)==null?void 0:s.getDefaultIconName():"notAllowed"),n=this.dropIconMap[t],this.eIcon.classList.toggle("ag-shake-left-to-right",e),!(n===this.dropIconMap.hide&&this.gos.get("suppressDragLeaveHidesColumns"))&&n&&this.eIcon.appendChild(n)}setLabel(t){this.eLabel.textContent=Ia(t)}};function t$(t,e,n){if(n===0)return!1;const i=Math.abs(t.clientX-e.clientX),s=Math.abs(t.clientY-e.clientY);return Math.max(i,s)<=n}var tu=class{constructor(t,e=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new im,this.eElement=t,this.preventMouseClick=e;const n=this.onTouchStart.bind(this),i=this.onTouchMove.bind(this),s=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",n,{passive:!0}),this.eElement.addEventListener("touchmove",i,{passive:!0}),this.eElement.addEventListener("touchend",s,{passive:!1}),this.destroyFuncs.push(()=>{this.eElement.removeEventListener("touchstart",n,{passive:!0}),this.eElement.removeEventListener("touchmove",i,{passive:!0}),this.eElement.removeEventListener("touchend",s,{passive:!1})})}getActiveTouch(t){for(let e=0;e<t.length;e++)if(t[e].identifier===this.touchStart.identifier)return t[e];return null}addEventListener(t,e){this.localEventService.addEventListener(t,e)}removeEventListener(t,e){this.localEventService.removeEventListener(t,e)}onTouchStart(t){if(this.touching)return;this.touchStart=t.touches[0],this.touching=!0,this.moved=!1;const e=this.touchStart;window.setTimeout(()=>{const n=this.touchStart===e;if(this.touching&&n&&!this.moved){this.moved=!0;const i={type:"longTap",touchStart:this.touchStart,touchEvent:t};this.localEventService.dispatchEvent(i)}},500)}onTouchMove(t){if(!this.touching)return;const e=this.getActiveTouch(t.touches);if(!e)return;!t$(e,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(t){if(this.touching){if(!this.moved){const e={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(e),this.checkForDoubleTap()}this.preventMouseClick&&t.cancelable&&t.preventDefault(),this.touching=!1}}checkForDoubleTap(){const t=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0)if(t-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const n={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(n),this.lastTapTime=null}else this.lastTapTime=t;else this.lastTapTime=t}destroy(){this.destroyFuncs.forEach(t=>t())}};function Tg(t,e){return`<span data-ref="eSort${t}" class="ag-sort-indicator-icon ag-sort-${e} ag-hidden" aria-hidden="true"></span>`}var UTe=`<span class="ag-sort-indicator-container">
        ${Tg("Order","order")}
        ${Tg("Asc","ascending-icon")}
        ${Tg("Desc","descending-icon")}
        ${Tg("Mixed","mixed-icon")}
        ${Tg("None","none-icon")}
    </span>`,vN=class extends On{constructor(t){super(),this.eSortOrder=vt,this.eSortAsc=vt,this.eSortDesc=vt,this.eSortMixed=vt,this.eSortNone=vt,t||this.setTemplate(UTe)}wireBeans(t){this.sortController=t.sortController}attachCustomElements(t,e,n,i,s){this.eSortOrder=t,this.eSortAsc=e,this.eSortDesc=n,this.eSortMixed=i,this.eSortNone=s}setupSort(t,e=!1){if(this.column=t,this.suppressOrder=e,this.setupMultiSortIndicator(),!this.column.isSortable()&&!this.column.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,t),this.addInIcon("sortDescending",this.eSortDesc,t),this.addInIcon("sortUnSort",this.eSortNone,t);const n=this.updateIcons.bind(this),i=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",n),this.addManagedEventListeners({newColumnsLoaded:n,sortChanged:i,columnRowGroupChanged:i}),this.onSortChanged()}addInIcon(t,e,n){if(e==null)return;const i=Hr(t,this.gos,n);i&&e.appendChild(i)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const t=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){const e=t==="asc";Kn(this.eSortAsc,e,{skipAriaHidden:!0})}if(this.eSortDesc){const e=t==="desc";Kn(this.eSortDesc,e,{skipAriaHidden:!0})}if(this.eSortNone){const e=!this.column.getColDef().unSortIcon&&!this.gos.get("unSortIcon"),n=t==null;Kn(this.eSortNone,!e&&n,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const t=this.column.getColDef().showRowGroup;Ma(this.gos)&&t&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const t=this.sortController.getDisplaySortForColumn(this.column)==="mixed";Kn(this.eSortMixed,t,{skipAriaHidden:!0})}}updateSortOrder(){if(!this.eSortOrder)return;const t=this.sortController.getColumnsWithSortingOrdered(),e=this.sortController.getDisplaySortIndexForColumn(this.column)??-1,n=t.some(s=>this.sortController.getDisplaySortIndexForColumn(s)??!1),i=e>=0&&n;Kn(this.eSortOrder,i,{skipAriaHidden:!0}),e>=0?this.eSortOrder.textContent=(e+1).toString():qr(this.eSortOrder)}},jTe={selector:"AG-SORT-INDICATOR",component:vN},WTe=`<div class="ag-cell-label-container" role="presentation">
        <span data-ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
        <span data-ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
        <div data-ref="eLabel" class="ag-header-cell-label" role="presentation">
            <span data-ref="eText" class="ag-header-cell-text"></span>
            <span data-ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
            <ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>
        </div>
    </div>`,pD=class extends On{constructor(){super(...arguments),this.eFilter=vt,this.eFilterButton=vt,this.eSortIndicator=vt,this.eMenu=vt,this.eLabel=vt,this.eText=vt,this.eSortOrder=vt,this.eSortAsc=vt,this.eSortDesc=vt,this.eSortMixed=vt,this.eSortNone=vt,this.lastMovingChanged=0}wireBeans(t){this.sortController=t.sortController,this.menuService=t.menuService,this.funcColsService=t.funcColsService}destroy(){super.destroy()}refresh(t){const e=this.params;return this.params=t,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort||this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||e.enableFilterButton!=t.enableFilterButton||e.enableFilterIcon!=t.enableFilterIcon?!1:(this.setDisplayName(t),!0)}workOutTemplate(){let t=this.params.template??WTe;return t=t&&t.trim?t.trim():t,t}init(t){this.params=t,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate,[jTe]),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(t)}setDisplayName(t){if(this.currentDisplayName!=t.displayName){this.currentDisplayName=t.displayName;const e=Ia(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=e)}}addInIcon(t,e,n){if(e==null)return;const i=Hr(t,this.gos,n);i&&e.appendChild(i)}setupTap(){const{gos:t}=this;if(t.get("suppressTouch"))return;const e=new tu(this.getGui(),!0),n=this.shouldSuppressMenuHide(),i=n&&Ke(this.eMenu),s=i?new tu(this.eMenu,!0):e;if(this.params.enableMenu){const r=i?"tap":"longTap",o=a=>this.params.showColumnMenuAfterMouseClick(a.touchStart);this.addManagedListeners(s,{[r]:o})}if(this.params.enableSorting){const r=o=>{var l,c;const a=o.touchStart.target;n&&((l=this.eMenu)!=null&&l.contains(a)||(c=this.eFilterButton)!=null&&c.contains(a))||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")};this.addManagedListeners(e,{tap:r})}if(this.params.enableFilterButton){const r=new tu(this.eFilterButton,!0);this.addManagedListeners(r,{tap:()=>this.params.showFilter(this.eFilterButton)}),this.addDestroyFunc(()=>r.destroy())}this.addDestroyFunc(()=>e.destroy()),i&&this.addDestroyFunc(()=>s.destroy())}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){fh(this.eMenu),this.eMenu=void 0;return}const t=this.menuService.isLegacyMenuEnabled();this.addInIcon(t?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!t),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedElementListeners(this.eMenu,{click:()=>this.params.showColumnMenu(this.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(t){const e=this.params.column,n=this.menuService.isLegacyMenuEnabled();if(t&&!n){if(this.menuService.isFilterMenuInHeaderEnabled(e))return this.params.showFilter(this.eFilterButton??this.eMenu??this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu(this.eMenu??this.eFilterButton??this.getGui()),!0;return!1}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.createBean(new vN(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;this.addManagedListeners(this.params.column,{movingChanged:()=>{this.lastMovingChanged=new Date().getTime()}}),this.eLabel&&this.addManagedElementListeners(this.eLabel,{click:e=>{const n=this.params.column.isMoving(),s=new Date().getTime()-this.lastMovingChanged<50;if(!(n||s)){const a=this.gos.get("multiSortKey")==="ctrl"?e.ctrlKey||e.metaKey:e.shiftKey;this.params.progressSort(a)}}});const t=()=>{const e=this.params.column.getSort();if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",e==="asc"),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",e==="desc"),this.addOrRemoveCssClass("ag-header-cell-sorted-none",!e),this.params.column.getColDef().showRowGroup){const n=this.funcColsService.getSourceColumnsForGroupColumn(this.params.column),s=!(n==null?void 0:n.every(r=>this.params.column.getSort()==r.getSort()));this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",s)}};this.addManagedEventListeners({sortChanged:t,columnRowGroupChanged:t})}setupFilterIcon(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){if(!this.eFilterButton)return;this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedElementListeners(this.eFilterButton,{click:()=>this.params.showFilter(this.eFilterButton)}):this.eFilterButton=void 0}configureFilter(t,e,n){if(!t)return fh(e),!1;const i=this.params.column;return this.addInIcon("filter",e,i),this.addManagedListeners(i,{filterChanged:n}),n(),!0}onFilterChangedIcon(){const t=this.params.column.isFilterActive();Kn(this.eFilter,t,{skipAriaHidden:!0})}onFilterChangedButton(){const t=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",t)}getAnchorElementForMenu(t){return t?this.eFilterButton??this.eMenu??this.getGui():this.eMenu??this.eFilterButton??this.getGui()}},$Te=class extends On{constructor(){super(`<div class="ag-header-group-cell-label" role="presentation">
            <span data-ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span data-ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span data-ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`),this.agOpened=vt,this.agClosed=vt,this.agLabel=vt}wireBeans(t){this.columnModel=t.columnModel}destroy(){super.destroy()}init(t){this.params=t,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){this.params.template&&Fe("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}setupExpandIcons(){this.addInIcon("columnGroupOpened",this.agOpened),this.addInIcon("columnGroupClosed",this.agClosed);const t=s=>{if(Bl(s))return;const r=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),r,"uiColumnExpanded")};this.addTouchAndClickListeners(this.agClosed,t),this.addTouchAndClickListeners(this.agOpened,t);const e=s=>{kp(s)};this.addManagedElementListeners(this.agClosed,{dblclick:e}),this.addManagedElementListeners(this.agOpened,{dblclick:e}),this.addManagedElementListeners(this.getGui(),{dblclick:t}),this.updateIconVisibility();const n=this.params.columnGroup.getProvidedColumnGroup(),i=this.updateIconVisibility.bind(this);this.addManagedListeners(n,{expandedChanged:i,expandableChanged:i})}addTouchAndClickListeners(t,e){const n=new tu(t,!0);this.addManagedListeners(n,{tap:e}),this.addDestroyFunc(()=>n.destroy()),this.addManagedElementListeners(t,{click:e})}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const e=this.params.columnGroup.isExpanded();Kn(this.agOpened,e),Kn(this.agClosed,!e)}else Kn(this.agOpened,!1),Kn(this.agClosed,!1)}addInIcon(t,e){const n=Hr(t,this.gos,null);n&&e.appendChild(n)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable()){Kn(this.agOpened,!1),Kn(this.agClosed,!1);return}}setupLabel(){var n;const{displayName:t,columnGroup:e}=this.params;if(Ke(t)){const i=Ia(t,!0);this.agLabel.textContent=i}this.addOrRemoveCssClass("ag-sticky-label",!((n=e.getColGroupDef())!=null&&n.suppressStickyLabel))}},qTe="↑",KTe="↓",YTe=class extends On{constructor(){super(),this.refreshCount=0;const t=document.createElement("span"),e=document.createElement("span");e.setAttribute("class","ag-value-change-delta");const n=document.createElement("span");n.setAttribute("class","ag-value-change-value"),t.appendChild(e),t.appendChild(n),this.setTemplateFromElement(t)}wireBeans(t){this.filterManager=t.filterManager}init(t){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(t,!0)}showDelta(t,e){const n=Math.abs(e),i=t.formatValue(n),s=Ke(i)?i:n,r=e>=0;r?this.eDelta.textContent=qTe+s:this.eDelta.textContent=KTe+s,this.eDelta.classList.toggle("ag-value-change-delta-up",r),this.eDelta.classList.toggle("ag-value-change-delta-down",!r)}setTimerToRemoveDelta(){this.refreshCount++;const t=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{t===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),qr(this.eDelta)}refresh(t,e=!1){var i;const n=t.value;if(n===this.lastValue||(Ke(t.valueFormatted)?this.eValue.textContent=t.valueFormatted:Ke(t.value)?this.eValue.textContent=n:qr(this.eValue),(i=this.filterManager)!=null&&i.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof n=="number"&&typeof this.lastValue=="number"){const s=n-this.lastValue;this.showDelta(t,s)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),e||this.setTimerToRemoveDelta(),this.lastValue=n,!0}},XTe=class extends On{constructor(){super(),this.refreshCount=0;const t=document.createElement("span"),e=document.createElement("span");e.setAttribute("class","ag-value-slide-current"),t.appendChild(e),this.setTemplateFromElement(t),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}wireBeans(t){this.filterManager=t.filterManager}init(t){this.refresh(t,!0)}addSlideAnimation(){this.refreshCount++;const t=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const e=document.createElement("span");e.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=e,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{t===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{t===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(t,e=!1){var i;let n=t.value;return Yt(n)&&(n=""),n===this.lastValue||(i=this.filterManager)!=null&&i.isSuppressFlashingCellsBecauseFiltering()?!1:(e||this.addSlideAnimation(),this.lastValue=n,Ke(t.valueFormatted)?this.eCurrent.textContent=t.valueFormatted:Ke(t.value)?this.eCurrent.textContent=n:qr(this.eCurrent),!0)}},ve=class{};ve.BACKSPACE="Backspace";ve.TAB="Tab";ve.ENTER="Enter";ve.ESCAPE="Escape";ve.SPACE=" ";ve.LEFT="ArrowLeft";ve.UP="ArrowUp";ve.RIGHT="ArrowRight";ve.DOWN="ArrowDown";ve.DELETE="Delete";ve.F2="F2";ve.PAGE_UP="PageUp";ve.PAGE_DOWN="PageDown";ve.PAGE_HOME="Home";ve.PAGE_END="End";ve.A="KeyA";ve.C="KeyC";ve.D="KeyD";ve.V="KeyV";ve.X="KeyX";ve.Y="KeyY";ve.Z="KeyZ";var ZTe=class extends On{constructor(t,e,n){super(e,n),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=t||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:t,label:e,labelWidth:n,labelAlignment:i,disabled:s}=this.config;s!=null&&this.setDisabled(s),t!=null&&this.setLabelSeparator(t),e!=null&&this.setLabel(e),n!=null&&this.setLabelWidth(n),this.setLabelAlignment(i||this.labelAlignment),this.refreshLabel()}refreshLabel(){qr(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(Kn(this.eLabel,!1),ta(this.eLabel,"presentation")):(Kn(this.eLabel,!0),ta(this.eLabel,null))}setLabelSeparator(t){return this.labelSeparator===t?this:(this.labelSeparator=t,this.label!=null&&this.refreshLabel(),this)}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(t){return this.label===t?this:(this.label=t,this.refreshLabel(),this)}setLabelAlignment(t){const n=this.getGui().classList;return n.toggle("ag-label-align-left",t==="left"),n.toggle("ag-label-align-right",t==="right"),n.toggle("ag-label-align-top",t==="top"),this}setLabelEllipsis(t){return this.eLabel.classList.toggle("ag-label-ellipsis",t),this}setLabelWidth(t){return this.label==null?this:(Yb(this.eLabel,t),this)}setDisabled(t){t=!!t;const e=this.getGui();return fy(e,t),e.classList.toggle("ag-disabled",t),this.disabled=t,this}isDisabled(){return!!this.disabled}},n$=class extends ZTe{constructor(t,e,n,i){super(t,e,n),this.className=i}postConstruct(){super.postConstruct();const{width:t,value:e,onValueChange:n}=this.config;t!=null&&this.setWidth(t),e!=null&&this.setValue(e),n!=null&&this.onValueChange(n),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(t){return super.setLabel(t),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const t=this.getAriaElement(),e=this.getLabelId(),n=this.getLabel();n==null||n==""||fTe(t)!==null?hy(t,""):hy(t,e??"")}setAriaLabel(t){return Bp(this.getAriaElement(),t),this.refreshAriaLabelledBy(),this}onValueChange(t){return this.addManagedListeners(this,{fieldValueChanged:()=>t(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(t){return Yo(this.getGui(),t),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(t,e){return this.value===t?this:(this.previousValue=this.value,this.value=t,e||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}},Od=class extends n${constructor(t,e,n="text",i="input"){super(t,(t==null?void 0:t.template)??`
            <div role="presentation">
                <div data-ref="eLabel" class="ag-input-field-label"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <${i} data-ref="eInput" class="ag-input-field-input"></${i}>
                </div>
            </div>`,[],e),this.inputType=n,this.displayFieldTag=i,this.eLabel=vt,this.eWrapper=vt,this.eInput=vt}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;const{inputName:t,inputWidth:e}=this.config;t!=null&&this.setInputName(t),e!=null&&this.setInputWidth(e),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:t=>this.setValue(t.target.value)})}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(t){return Yb(this.eWrapper,t),this}setInputName(t){return this.getInputElement().setAttribute("name",t),this}getFocusableElement(){return this.eInput}setMaxLength(t){const e=this.eInput;return e.maxLength=t,this}setInputPlaceholder(t){return Ro(this.eInput,"placeholder",t),this}setInputAriaLabel(t){return Bp(this.eInput,t),this.refreshAriaLabelledBy(),this}setDisabled(t){return fy(this.eInput,t),super.setDisabled(t)}setAutoComplete(t){if(t===!0)Ro(this.eInput,"autocomplete",null);else{const e=typeof t=="string"?t:"off";Ro(this.eInput,"autocomplete",e)}return this}},yN=class extends Od{constructor(t,e="ag-checkbox",n="checkbox"){super(t,e,n),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:t,passive:e}=this.config;typeof t=="boolean"&&this.setReadOnly(t),typeof e=="boolean"&&this.setPassive(e)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(t){this.passive=t}isReadOnly(){return this.readOnly}setReadOnly(t){this.eWrapper.classList.toggle("ag-disabled",t),this.eInput.disabled=t,this.readOnly=t}setDisabled(t){return this.eWrapper.classList.toggle("ag-disabled",t),super.setDisabled(t)}toggle(){if(this.eInput.disabled)return;const t=this.isSelected(),e=this.getNextValue();this.passive?this.dispatchChange(e,t):this.setValue(e)}getValue(){return this.isSelected()}setValue(t,e){return this.refreshSelectedClass(t),this.setSelected(t,e),this}setName(t){const e=this.getInputElement();return e.name=t,this}isSelected(){return this.selected}setSelected(t,e){this.isSelected()!==t&&(this.previousValue=this.isSelected(),t=this.selected=typeof t=="boolean"?t:void 0,this.eInput.checked=t,this.eInput.indeterminate=t===void 0,e||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(t,e,n){this.dispatchLocalEvent({type:"fieldValueChanged",selected:t,previousValue:e,event:n});const i=this.getInputElement();this.eventService.dispatchEvent({type:"checkboxChanged",id:i.id,name:i.name,selected:t,previousValue:e})}onCheckboxClick(t){if(this.passive||this.eInput.disabled)return;const e=this.isSelected(),n=this.selected=t.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,e,t)}refreshSelectedClass(t){this.eWrapper.classList.toggle("ag-checked",t===!0),this.eWrapper.classList.toggle("ag-indeterminate",t==null)}},xN={selector:"AG-CHECKBOX",component:yN},JTe=class extends On{constructor(){super(`
            <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[xN]),this.eCheckbox=vt}init(t){this.refresh(t);const e=this.eCheckbox.getInputElement();e.setAttribute("tabindex","-1"),V9(e,"polite"),this.addManagedListeners(e,{click:n=>{if(kp(n),this.eCheckbox.isDisabled())return;const i=this.eCheckbox.getValue();this.onCheckboxChanged(i)},dblclick:n=>{kp(n)}}),this.addManagedElementListeners(this.params.eGridCell,{keydown:n=>{if(n.key===ve.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===Zn(this.gos)&&this.eCheckbox.toggle();const i=this.eCheckbox.getValue();this.onCheckboxChanged(i),n.preventDefault()}}})}refresh(t){return this.params=t,this.updateCheckbox(t),!0}updateCheckbox(t){var a;let e,n=!0;if(t.node.group&&t.column)if(typeof t.value=="boolean")e=t.value;else{const l=t.column.getColId();l.startsWith(U1)?e=t.value==null||t.value===""?void 0:t.value==="true":t.node.aggData&&t.node.aggData[l]!==void 0?e=t.value??void 0:n=!1}else e=t.value??void 0;if(!n){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(e);const i=t.disabled!=null?t.disabled:!((a=t.column)!=null&&a.isCellEditable(t.node));this.eCheckbox.setDisabled(i);const s=this.localeService.getLocaleTextFunc(),r=cN(s,e),o=i?r:`${s("ariaToggleCellValue","Press SPACE to toggle cell value")} (${r})`;this.eCheckbox.setInputAriaLabel(o)}onCheckboxChanged(t){const{column:e,node:n,value:i}=this.params;this.eventService.dispatchEvent({type:"cellEditingStarted",column:e,colDef:e==null?void 0:e.getColDef(),data:n.data,node:n,rowIndex:n.rowIndex,rowPinned:n.rowPinned,value:i});const s=this.params.node.setDataValue(this.params.column,t,"edit");this.eventService.dispatchEvent({type:"cellEditingStopped",column:e,colDef:e==null?void 0:e.getColDef(),data:n.data,node:n,rowIndex:n.rowIndex,rowPinned:n.rowPinned,value:i,oldValue:i,newValue:t,valueChanged:s}),s||this.updateCheckbox(this.params)}},QTe=class extends On{constructor(){super(`<div class="ag-loading">
            <span class="ag-loading-icon" data-ref="eLoadingIcon"></span>
            <span class="ag-loading-text" data-ref="eLoadingText"></span>
        </div>`),this.eLoadingIcon=vt,this.eLoadingText=vt}init(t){t.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingError","ERR")}setupLoading(){const t=Hr("groupLoading",this.gos,null);t&&this.eLoadingIcon.appendChild(t);const e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingOoo","Loading")}refresh(t){return!1}destroy(){super.destroy()}},eRe=class extends On{constructor(){super('<div class="ag-skeleton-container"></div>')}init(t){const e=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",e),this.addDestroyFunc(()=>hy(t.eParentOfValue)),hy(t.eParentOfValue,e),t.node.failedLoad?this.setupFailed():this.setupLoading(t)}setupFailed(){const t=this.localeService.getLocaleTextFunc();this.getGui().innerText=t("loadingError","ERR");const e=t("ariaSkeletonCellLoadingFailed","Row failed to load");Bp(this.getGui(),e)}setupLoading(t){const n=di(this.gos).createElement("div");n.classList.add("ag-skeleton-effect");const i=t.node.rowIndex;if(i!=null){const o=75+25*(i%2===0?Math.sin(i):Math.cos(i));n.style.width=`${o}%`}this.getGui().appendChild(n);const r=this.localeService.getLocaleTextFunc()("ariaSkeletonCellLoading","Row data is loading");Bp(this.getGui(),r)}refresh(t){return!1}destroy(){super.destroy()}},i$=class extends On{constructor(){super()}destroy(){super.destroy()}},tRe=class extends i${init(){var e;const t=kl((e=this.gos.get("overlayLoadingTemplate"))==null?void 0:e.trim());if(this.setTemplate(t??'<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>'),!t){const n=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=n("loadingOoo","Loading...")})}}},nRe=class extends i${init(){var e;const t=kl((e=this.gos.get("overlayNoRowsTemplate"))==null?void 0:e.trim());if(this.setTemplate(t??'<span class="ag-overlay-no-rows-center"></span>'),!t){const n=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=n("noRowsToShow","No Rows To Show")})}}},om=class extends On{isPopup(){return!0}setParentComponent(t){t.addCssClass("ag-has-popup"),super.setParentComponent(t)}destroy(){const t=this.parentComponent;t&&t.isAlive()&&t.getGui().classList.remove("ag-has-popup"),super.destroy()}},iRe=class extends om{constructor(){super('<div class="ag-tooltip"></div>')}init(t){const{value:e}=t;this.getGui().textContent=Ia(e,!0)}};function s$(t){const{inputValue:e,allSuggestions:n,hideIrrelevant:i,filterByPercentageOfBestMatch:s,addSequentialWeight:r}=t;let o=n.map((c,d)=>({value:c,relevance:rRe(e.toLowerCase(),c.toLocaleLowerCase(),r),idx:d}));if(o.sort((c,d)=>d.relevance-c.relevance),i&&(o=o.filter(c=>c.relevance!==0)),o.length>0&&s&&s>0){const d=o[0].relevance*s;o=o.filter(f=>d-f.relevance<0)}const a=[],l=[];for(const c of o)a.push(c.value),l.push(c.idx);return{values:a,indices:l}}function sRe(t){const e=[],n=t.length;for(let i=1;i<=n;i++)for(let s=0;s<=n-i;s++){const r=s+i-1;e.push(t.slice(s,r+1))}return e}function rRe(t,e,n=!1){const i=t.replace(/\s/g,""),s=e.replace(/\s/g,""),r=i.length,o=s.length,a=new Array(r+1).fill(null).map(()=>new Array(o+1).fill(0));for(let f=0;f<=r;f+=1)a[f][0]=f;for(let f=0;f<=o;f+=1)a[0][f]=f;for(let f=1;f<=r;f++)for(let p=1;p<=o;p++)i[f-1]===s[p-1]?a[f][p]=a[f-1][p-1]:a[f][p]=1+Math.min(a[f][p-1],Math.min(a[f-1][p],a[f-1][p-1]));const l=a[r][o];let d=Math.max(r,o)-l;if(n){const f=sRe(i);for(let p=0;p<f.length;p++){const m=f[p];s.indexOf(m)!==-1&&(d+=1,d*=m.length)}}return d}var oRe=class extends Ee{constructor(){super(...arguments),this.beanName="userComponentRegistry",this.agGridDefaults={agDragAndDropImage:GTe,agColumnHeader:pD,agColumnGroupHeader:$Te,agSortIndicator:vN,agAnimateShowChangeCellRenderer:YTe,agAnimateSlideCellRenderer:XTe,agLoadingCellRenderer:QTe,agSkeletonCellRenderer:eRe,agCheckboxCellRenderer:JTe,agLoadingOverlay:tRe,agNoRowsOverlay:nRe,agTooltipComponent:iRe},this.agGridDefaultParams={},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agGroupCellRenderer:"@ag-grid-enterprise/row-grouping",agGroupRowRenderer:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},this.jsComps={}}postConstruct(){const t=this.gos.get("components");t!=null&&Wo(t,(e,n)=>this.registerJsComponent(e,n))}registerDefaultComponent(t,e,n){this.agGridDefaults[t]=e,n&&(this.agGridDefaultParams[t]=n)}registerJsComponent(t,e){this.jsComps[t]=e}retrieve(t,e){const n=(a,l,c)=>({componentFromFramework:l,component:a,params:c}),i=this.getFrameworkOverrides().frameworkComponent(e,this.gos.get("components"));if(i!=null)return n(i,!0);const s=this.jsComps[e];if(s){const a=this.getFrameworkOverrides().isFrameworkComponent(s);return n(s,a)}const r=this.agGridDefaults[e];if(r)return n(r,!1,this.agGridDefaultParams[e]);const o=this.enterpriseAgDefaultCompsModule[e];return o?this.gos.assertModuleRegistered(o,`AG Grid '${t}' component: ${e}`):eN(()=>{this.warnAboutMissingComponent(t,e)},"MissingComp"+e),null}warnAboutMissingComponent(t,e){const n=[...Object.keys(this.agGridDefaults).filter(s=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(s)),...Object.keys(this.jsComps)],i=s$({inputValue:e,allSuggestions:n,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;Fe(`Could not find '${e}' component. It was configured as "${t}: '${e}'" but it wasn't found in the list of registered components.`),i.length>0&&Fe(`         Did you mean: [${i.slice(0,3)}]?`),Fe(`If using a custom component check it has been registered as described in: ${this.getFrameworkOverrides().getDocLink("components/")}`)}},ui=class Qg{constructor(e){this.status=0,this.resolution=null,this.waiters=[],e(n=>this.onDone(n),n=>this.onReject(n))}static all(e){return e.length?new Qg(n=>{let i=e.length;const s=new Array(i);e.forEach((r,o)=>{r.then(a=>{s[o]=a,i--,i===0&&n(s)})})}):Qg.resolve()}static resolve(e=null){return new Qg(n=>n(e))}then(e){return new Qg(n=>{this.status===1?n(e(this.resolution)):this.waiters.push(i=>n(e(i)))})}onDone(e){this.status=1,this.resolution=e,this.waiters.forEach(n=>n(e))}onReject(e){}},aRe={propertyName:"dateComponent",cellRenderer:!1},lRe={propertyName:"dragAndDropImageComponent",cellRenderer:!1},cRe={propertyName:"headerComponent",cellRenderer:!1},uRe={propertyName:"headerGroupComponent",cellRenderer:!1},uV={propertyName:"cellRenderer",cellRenderer:!0},dRe={propertyName:"cellRenderer",cellRenderer:!1},hRe={propertyName:"loadingCellRenderer",cellRenderer:!0},fRe={propertyName:"cellEditor",cellRenderer:!1},dV={propertyName:"innerRenderer",cellRenderer:!0},pRe={propertyName:"loadingOverlayComponent",cellRenderer:!1},mRe={propertyName:"noRowsOverlayComponent",cellRenderer:!1},gRe={propertyName:"tooltipComponent",cellRenderer:!1},CN={propertyName:"filter",cellRenderer:!1},vRe={propertyName:"floatingFilterComponent",cellRenderer:!1},yRe={propertyName:"toolPanel",cellRenderer:!1},xRe={propertyName:"statusPanel",cellRenderer:!1},CRe={propertyName:"fullWidthCellRenderer",cellRenderer:!0},wRe={propertyName:"loadingCellRenderer",cellRenderer:!0},bRe={propertyName:"groupRowRenderer",cellRenderer:!0},SRe={propertyName:"detailCellRenderer",cellRenderer:!0},ERe={propertyName:"menuItem",cellRenderer:!1},r$=class o$ extends Ee{constructor(){super(...arguments),this.beanName="userComponentFactory"}wireBeans(e){this.agComponentUtils=e.agComponentUtils,this.componentMetadataProvider=e.componentMetadataProvider,this.userComponentRegistry=e.userComponentRegistry,this.frameworkComponentWrapper=e.frameworkComponentWrapper,this.gridOptions=e.gridOptions}getDragAndDropImageCompDetails(e){return this.getCompDetails(this.gridOptions,lRe,"agDragAndDropImage",e,!0)}getHeaderCompDetails(e,n){return this.getCompDetails(e,cRe,"agColumnHeader",n)}getHeaderGroupCompDetails(e){const n=e.columnGroup.getColGroupDef();return this.getCompDetails(n,uRe,"agColumnGroupHeader",e)}getFullWidthCellRendererDetails(e){return this.getCompDetails(this.gridOptions,CRe,null,e,!0)}getFullWidthLoadingCellRendererDetails(e){return this.getCompDetails(this.gridOptions,wRe,"agLoadingCellRenderer",e,!0)}getFullWidthGroupCellRendererDetails(e){return this.getCompDetails(this.gridOptions,bRe,"agGroupRowRenderer",e,!0)}getFullWidthDetailCellRendererDetails(e){return this.getCompDetails(this.gridOptions,SRe,"agDetailCellRenderer",e,!0)}getInnerRendererDetails(e,n){return this.getCompDetails(e,dV,null,n)}getFullWidthGroupRowInnerCellRenderer(e,n){return this.getCompDetails(e,dV,null,n)}getCellRendererDetails(e,n){return this.getCompDetails(e,uV,null,n)}getEditorRendererDetails(e,n){return this.getCompDetails(e,dRe,null,n)}getLoadingCellRendererDetails(e,n){return this.getCompDetails(e,hRe,"agSkeletonCellRenderer",n,!0)}getCellEditorDetails(e,n){return this.getCompDetails(e,fRe,"agCellEditor",n,!0)}getFilterDetails(e,n,i){return this.getCompDetails(e,CN,i,n,!0)}getDateCompDetails(e){return this.getCompDetails(this.gridOptions,aRe,"agDateInput",e,!0)}getLoadingOverlayCompDetails(e){return this.getCompDetails(this.gridOptions,pRe,"agLoadingOverlay",e,!0)}getNoRowsOverlayCompDetails(e){return this.getCompDetails(this.gridOptions,mRe,"agNoRowsOverlay",e,!0)}getTooltipCompDetails(e){return this.getCompDetails(e.colDef,gRe,"agTooltipComponent",e,!0)}getSetFilterCellRendererDetails(e,n){return this.getCompDetails(e,uV,null,n)}getFloatingFilterCompDetails(e,n,i){return this.getCompDetails(e,vRe,i,n)}getToolPanelCompDetails(e,n){return this.getCompDetails(e,yRe,null,n,!0)}getStatusPanelCompDetails(e,n){return this.getCompDetails(e,xRe,null,n,!0)}getMenuItemCompDetails(e,n){return this.getCompDetails(e,ERe,"agMenuItem",n,!0)}getCompDetails(e,n,i,s,r=!1){const{propertyName:o,cellRenderer:a}=n;let{compName:l,jsComp:c,fwComp:d,paramsFromSelector:f,popupFromSelector:p,popupPositionFromSelector:m}=o$.getCompKeys(this.frameworkOverrides,e,n,s),y;const C=S=>{const R=this.userComponentRegistry.retrieve(o,S);R&&(c=R.componentFromFramework?void 0:R.component,d=R.componentFromFramework?R.component:void 0,y=R.params)};if(l!=null&&C(l),c==null&&d==null&&i!=null&&C(i),c&&a&&!this.agComponentUtils.doesImplementIComponent(c)&&(c=this.agComponentUtils.adaptFunction(o,c)),!c&&!d){r&&gn(`Could not find component ${l}, did you forget to configure this component?`);return}const x=this.mergeParamsWithApplicationProvidedParams(e,n,s,f,y),w=c==null,M=c||d;return{componentFromFramework:w,componentClass:M,params:x,type:n,popupFromSelector:p,popupPositionFromSelector:m,newAgStackInstance:()=>this.newAgStackInstance(M,w,x,n)}}static getCompKeys(e,n,i,s){const{propertyName:r}=i;let o,a,l,c,d,f;if(n){const p=n,m=p[r+"Selector"],y=m?m(s):null,C=x=>{typeof x=="string"?o=x:x!=null&&x!==!0&&(e.isFrameworkComponent(x)?l=x:a=x)};y?(C(y.component),c=y.params,d=y.popup,f=y.popupPosition):C(p[r])}return{compName:o,jsComp:a,fwComp:l,paramsFromSelector:c,popupFromSelector:d,popupPositionFromSelector:f}}newAgStackInstance(e,n,i,s){const r=s.propertyName,o=!n;let a;if(o)a=new e;else{const c=this.componentMetadataProvider.retrieve(r);a=this.frameworkComponentWrapper.wrap(e,c.mandatoryMethodList,c.optionalMethodList,s)}const l=this.initComponent(a,i);return l==null?ui.resolve(a):l.then(()=>a)}mergeParamsWithApplicationProvidedParams(e,n,i,s=null,r){const o=this.gos.getGridCommonParams();$s(o,i),r&&$s(o,r);const a=e,l=a&&a[n.propertyName+"Params"];if(typeof l=="function"){const c=l(i);$s(o,c)}else typeof l=="object"&&$s(o,l);return $s(o,s),o}initComponent(e,n){if(this.createBean(e),e.init!=null)return e.init(n)}};function Sv(t){const e=t;return e!=null&&e.getFrameworkComponentInstance!=null?e.getFrameworkComponentInstance():t}var W1=class hn{static register(e){hn.__register(e,!0,void 0)}static registerModules(e){hn.__registerModules(e,!0,void 0)}static __register(e,n,i){hn.runVersionChecks(e),i!==void 0?(hn.areGridScopedModules=!0,hn.gridModulesMap[i]===void 0&&(hn.gridModulesMap[i]={}),hn.gridModulesMap[i][e.moduleName]=e):hn.globalModulesMap[e.moduleName]=e,hn.setModuleBased(n)}static __unRegisterGridModules(e){delete hn.gridModulesMap[e]}static __registerModules(e,n,i){hn.setModuleBased(n),e&&e.forEach(s=>hn.__register(s,n,i))}static isValidModuleVersion(e){const[n,i]=e.version.split(".")||[],[s,r]=hn.currentModuleVersion.split(".")||[];return n===s&&i===r}static runVersionChecks(e){hn.currentModuleVersion||(hn.currentModuleVersion=e.version);const n=i=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${i} Please update all modules to the same version.`;if(e.version?hn.isValidModuleVersion(e)||gn(n(`'${e.moduleName}' is version ${e.version} but the other modules are version ${hn.currentModuleVersion}.`)):gn(n(`'${e.moduleName}' is incompatible.`)),e.validate){const i=e.validate();i.isValid||gn(`${i.message}`)}}static setModuleBased(e){hn.moduleBased===void 0?hn.moduleBased=e:hn.moduleBased!==e&&(gn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),gn("Please see https://www.ag-grid.com/javascript-grid/modules/ for more information."))}static __setIsBundled(){hn.isBundled=!0}static __assertRegistered(e,n,i){var r;if(this.__isRegistered(e,i))return!0;let s;if(hn.isBundled)s=`AG Grid: unable to use ${n} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(hn.moduleBased||hn.moduleBased===void 0){const o=(r=Object.entries(h0).find(([a,l])=>l===e))==null?void 0:r[0];s=`AG Grid: unable to use ${n} as the ${o} is not registered${hn.areGridScopedModules?` for gridId: ${i}`:""}. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { ${o} } from '${e}';
    
    ModuleRegistry.registerModules([ ${o} ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`}else s=`AG Grid: unable to use ${n} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';`;return gn(s),!1}static __isRegistered(e,n){var i;return!!hn.globalModulesMap[e]||!!((i=hn.gridModulesMap[n])!=null&&i[e])}static __getRegisteredModules(e){return[...Ow(hn.globalModulesMap),...Ow(hn.gridModulesMap[e]||{})]}static __getGridRegisteredModules(e){return Ow(hn.gridModulesMap[e]??{})||[]}static __isPackageBased(){return!hn.moduleBased}};W1.globalModulesMap={};W1.gridModulesMap={};W1.areGridScopedModules=!1;var $o=W1,MRe=class{constructor(t){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!t||!t.beanClasses)&&(this.beanDestroyComparator=t.beanDestroyComparator,this.init(t))}init(t){var e;Object.entries(t.providedBeanInstances).forEach(([n,i])=>{this.beans[n]=i}),t.beanClasses.forEach(n=>{const i=new n;i.beanName?this.beans[i.beanName]=i:console.error(`Bean ${n.name} is missing beanName`),this.createdBeans.push(i)}),(e=t.derivedBeans)==null||e.forEach(n=>{const{beanName:i,bean:s}=n(this);this.beans[i]=s,this.createdBeans.push(s)}),t.beanInitComparator&&this.createdBeans.sort(t.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(t,e){if(!t)throw Error("Can't wire to bean since it is null");return this.initBeans([t],e),t}initBeans(t,e){t.forEach(n=>{var i,s;(i=n.preWireBeans)==null||i.call(n,this.beans),(s=n.wireBeans)==null||s.call(n,this.beans)}),t.forEach(n=>{var i;return(i=n.preConstruct)==null?void 0:i.call(n)}),e&&t.forEach(e),t.forEach(n=>{var i;return(i=n.postConstruct)==null?void 0:i.call(n)})}getBeans(){return this.beans}getBean(t){return this.beans[t]}destroy(){if(this.destroyed)return;this.destroyed=!0;const t=this.getBeanInstances();this.beanDestroyComparator&&t.sort(this.beanDestroyComparator),this.destroyBeans(t),this.beans={},this.createdBeans=[]}destroyBean(t){var e;(e=t==null?void 0:t.destroy)==null||e.call(t)}destroyBeans(t){if(t)for(let e=0;e<t.length;e++)this.destroyBean(t[e]);return[]}isDestroyed(){return this.destroyed}},TRe=class extends MRe{init(t){this.gridId=t.gridId,this.beans.context=this,super.init(t)}destroy(){super.destroy(),$o.__unRegisterGridModules(this.gridId)}getGridId(){return this.gridId}},a$=(t=>(t[t.Left=0]="Left",t[t.Right=1]="Right",t))(a$||{}),RRe=class extends Ee{constructor(){super(...arguments),this.beanName="dragAndDropService",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(t){this.ctrlsService=t.ctrlsService,this.dragService=t.dragService,this.mouseEventService=t.mouseEventService,this.environment=t.environment,this.userComponentFactory=t.userComponentFactory}addDragSource(t,e=!1){const n={eElement:t.eElement,dragStartPixels:t.dragStartPixels,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:e};this.dragSourceAndParamsList.push({params:n,dragSource:t}),this.dragService.addDragSource(n)}getDragAndDropImageComponent(){const{dragAndDropImageComp:t}=this;return!t||!t.comp?null:t.comp}removeDragSource(t){const e=this.dragSourceAndParamsList.find(n=>n.dragSource===t);e&&(this.dragService.removeDragSource(e.params),yr(this.dragSourceAndParamsList,e))}destroy(){this.dragSourceAndParamsList.forEach(t=>this.dragService.removeDragSource(t.params)),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(t,e){var n,i;this.dragging=!0,this.dragSource=t,this.eventLastTime=e,this.dragItem=this.dragSource.getDragItem(),(i=(n=this.dragSource).onDragStarted)==null||i.call(n),this.createDragAndDropImageComponent()}onDragStop(t){var e,n,i;if((n=(e=this.dragSource)==null?void 0:e.onDragStopped)==null||n.call(e),(i=this.lastDropTarget)!=null&&i.onDragStop){const s=this.createDropTargetEvent(this.lastDropTarget,t,null,null,!1);this.lastDropTarget.onDragStop(s)}this.clearDragAndDropProperties()}onDragCancel(){var t,e,n;(e=(t=this.dragSource)==null?void 0:t.onDragCancelled)==null||e.call(t),(n=this.lastDropTarget)!=null&&n.onDragCancel&&this.lastDropTarget.onDragCancel(this.createDropTargetEvent(this.lastDropTarget,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(t,e=!1){var o,a,l,c;const n=this.getHorizontalDirection(t),i=this.getVerticalDirection(t);this.eventLastTime=t,this.positionDragAndDropImageComp(t);const s=this.dropTargets.filter(d=>this.isMouseOnDropTarget(t,d)),r=this.findCurrentDropTarget(t,s);if(r!==this.lastDropTarget){if(this.leaveLastTargetIfExists(t,n,i,e),this.lastDropTarget!==null&&r===null&&((a=(o=this.dragSource)==null?void 0:o.onGridExit)==null||a.call(o,this.dragItem)),this.lastDropTarget===null&&r!==null&&((c=(l=this.dragSource)==null?void 0:l.onGridEnter)==null||c.call(l,this.dragItem)),this.enterDragTargetIfExists(r,t,n,i,e),r&&this.dragAndDropImageComp){const{comp:d,promise:f}=this.dragAndDropImageComp;d?d.setIcon(r.getIconName?r.getIconName():null):f.then(p=>{p&&p.setIcon(r.getIconName?r.getIconName():null)})}this.lastDropTarget=r}else if(r&&r.onDragging){const d=this.createDropTargetEvent(r,t,n,i,e);r.onDragging(d)}}getAllContainersFromDropTarget(t){const e=t.getSecondaryContainers?t.getSecondaryContainers():null,n=[[t.getContainer()]];return e?n.concat(e):n}allContainersIntersect(t,e){for(const n of e){const{width:i,height:s,left:r,right:o,top:a,bottom:l}=n.getBoundingClientRect();if(i===0||s===0)return!1;const c=t.clientX>=r&&t.clientX<o,d=t.clientY>=a&&t.clientY<l;if(!c||!d)return!1}return!0}isMouseOnDropTarget(t,e){const n=this.getAllContainersFromDropTarget(e);let i=!1;for(const o of n)if(this.allContainersIntersect(t,o)){i=!0;break}const{eElement:s,type:r}=this.dragSource;return e.targetContainsSource&&!e.getContainer().contains(s)?!1:i&&e.isInterestedIn(r,s)}findCurrentDropTarget(t,e){const n=e.length;if(n===0)return null;if(n===1)return e[0];const s=cy(this.gos).elementsFromPoint(t.clientX,t.clientY);for(const r of s)for(const o of e)if(LMe(this.getAllContainersFromDropTarget(o)).indexOf(r)!==-1)return o;return null}enterDragTargetIfExists(t,e,n,i,s){if(t&&t.onDragEnter){const r=this.createDropTargetEvent(t,e,n,i,s);t.onDragEnter(r)}}leaveLastTargetIfExists(t,e,n,i){if(!this.lastDropTarget)return;if(this.lastDropTarget.onDragLeave){const r=this.createDropTargetEvent(this.lastDropTarget,t,e,n,i);this.lastDropTarget.onDragLeave(r)}const s=this.getDragAndDropImageComponent();s&&s.setIcon(null)}addDropTarget(t){this.dropTargets.push(t)}removeDropTarget(t){this.dropTargets=this.dropTargets.filter(e=>e.getContainer()!==t.getContainer())}hasExternalDropZones(){return this.dropTargets.some(t=>t.external)}findExternalZone(t){return this.dropTargets.filter(n=>n.external).find(n=>n.getContainer()===t.getContainer())||null}isDropZoneWithinThisGrid(t){const n=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:i}=t;return n.contains(i)}getHorizontalDirection(t){const e=this.eventLastTime&&this.eventLastTime.clientX,n=t.clientX;return e===n?null:e>n?0:1}getVerticalDirection(t){const e=this.eventLastTime&&this.eventLastTime.clientY,n=t.clientY;return e===n?null:e>n?0:1}createDropTargetEvent(t,e,n,i,s){const r=t.getContainer(),o=r.getBoundingClientRect(),{dragItem:a,dragSource:l}=this,c=e.clientX-o.left,d=e.clientY-o.top;return this.gos.addGridCommonParams({event:e,x:c,y:d,vDirection:i,hDirection:n,dragSource:l,fromNudge:s,dragItem:a,dropZoneTarget:r})}positionDragAndDropImageComp(t){const e=this.getDragAndDropImageComponent();if(!e)return;const n=e.getGui(),s=n.getBoundingClientRect().height,r=RTe()-2,o=ATe()-2;if(!n.offsetParent)return;const l=Y9(n.offsetParent),{clientY:c,clientX:d}=t;let f=c-l.top-s/2,p=d-l.left-10;const m=di(this.gos),y=m.defaultView||window,C=y.pageYOffset||m.documentElement.scrollTop,x=y.pageXOffset||m.documentElement.scrollLeft;r>0&&p+n.clientWidth>r+x&&(p=r+x-n.clientWidth),p<0&&(p=0),o>0&&f+n.clientHeight>o+C&&(f=o+C-n.clientHeight),f<0&&(f=0),n.style.left=`${p}px`,n.style.top=`${f}px`}removeDragAndDropImageComponent(){if(this.dragAndDropImageComp){const{comp:t}=this.dragAndDropImageComp;if(t){const e=t.getGui();this.dragAndDropImageParent&&this.dragAndDropImageParent.removeChild(e),this.destroyBean(t)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:t}=this;if(!t)return;const n=this.userComponentFactory.getDragAndDropImageCompDetails({dragSource:t}).newAgStackInstance();this.dragAndDropImageComp={promise:n},n.then(i=>{!i||!this.isAlive()||(this.processDragAndDropImageComponent(i),this.dragAndDropImageComp.comp=i)})}processDragAndDropImageComponent(t){const{dragSource:e,mouseEventService:n,environment:i}=this;if(!e)return;const s=t.getGui();s.style.setProperty("position","absolute"),s.style.setProperty("z-index","9999"),n.stampTopLevelGridCompWithGridInstance(s),i.applyThemeClasses(s),t.setIcon(null);let{dragItemName:r}=e;tN(r)&&(r=r()),t.setLabel(r||""),s.style.top="20px",s.style.left="20px";const o=di(this.gos);let a=null,l=null;try{a=o.fullscreenElement}catch{}finally{a||(a=cy(this.gos));const c=a.querySelector("body");c?l=c:a instanceof ShadowRoot?l=a:a instanceof Document?l=a==null?void 0:a.documentElement:l=a}this.dragAndDropImageParent=l,l?l.appendChild(s):Fe("Could not find document body, it is needed for drag and drop.")}},ARe=class{constructor(t){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=t.scrollContainer,this.scrollHorizontally=t.scrollAxis.indexOf("x")!==-1,this.scrollVertically=t.scrollAxis.indexOf("y")!==-1,this.scrollByTick=t.scrollByTick!=null?t.scrollByTick:20,t.onScrollCallback&&(this.onScrollCallback=t.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=t.getVerticalPosition,this.setVerticalPosition=t.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=t.getHorizontalPosition,this.setHorizontalPosition=t.setHorizontalPosition),this.shouldSkipVerticalScroll=t.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=t.shouldSkipHorizontalScroll||(()=>!1)}check(t,e=!1){const n=e||this.shouldSkipVerticalScroll();if(n&&this.shouldSkipHorizontalScroll())return;const i=this.scrollContainer.getBoundingClientRect(),s=this.scrollByTick;this.tickLeft=t.clientX<i.left+s,this.tickRight=t.clientX>i.right-s,this.tickUp=t.clientY<i.top+s&&!n,this.tickDown=t.clientY>i.bottom-s&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const t=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const e=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(e-t),this.tickDown&&this.setVerticalPosition(e+t)}if(this.scrollHorizontally){const e=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(e-t),this.tickRight&&this.setHorizontalPosition(e+t)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},ev=(t=>(t[t.Above=0]="Above",t[t.Below=1]="Below",t))(ev||{}),PRe=class extends Ee{wireBeans(t){this.dragAndDropService=t.dragAndDropService,this.rowModel=t.rowModel,this.pageBoundsService=t.pageBoundsService,this.focusService=t.focusService,this.sortController=t.sortController,this.filterManager=t.filterManager,this.selectionService=t.selectionService,this.mouseEventService=t.mouseEventService,this.ctrlsService=t.ctrlsService,this.funcColsService=t.funcColsService,this.rangeService=t.rangeService}constructor(t){super(),this.eContainer=t}postConstruct(){Gn(this.gos)&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(this,t=>{const e=t.gridBodyCtrl;this.autoScrollService=new ARe({scrollContainer:e.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>e.getScrollFeature().getVScrollPosition().top,setVerticalPosition:n=>e.getScrollFeature().setVerticalScrollPosition(n),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(t){return t===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){var i;return!!(this.funcColsService.getRowGroupColumns().length||((i=this.filterManager)==null?void 0:i.isAnyFilterPresent())||this.sortController.isSortActive())}getRowNodes(t){if(!this.isFromThisGrid(t))return t.dragItem.rowNodes||[];const e=t.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const i=[...this.selectionService.getSelectedNodes()].sort((s,r)=>s.rowIndex==null||r.rowIndex==null?0:this.getRowIndexNumber(s)-this.getRowIndexNumber(r));if(i.indexOf(e)!==-1)return i}return[e]}onDragEnter(t){t.dragItem.rowNodes=this.getRowNodes(t),this.dispatchGridEvent("rowDragEnter",t),this.getRowNodes(t).forEach(e=>{e.setDragging(!0)}),this.onEnterOrDragging(t)}onDragging(t){this.onEnterOrDragging(t)}isFromThisGrid(t){const{dragSourceDomDataKey:e}=t.dragSource;return e===this.gos.getDomDataKey()}onEnterOrDragging(t){this.dispatchGridEvent("rowDragMove",t),this.lastDraggingEvent=t;const e=this.mouseEventService.getNormalisedPosition(t).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(t,e),this.autoScrollService.check(t.event)}doManagedDrag(t,e){const n=this.isFromThisGrid(t),i=this.gos.get("rowDragManaged"),s=t.dragItem.rowNodes;i&&this.shouldPreventRowMove()||(this.gos.get("suppressMoveWhenRowDragging")||!n?this.dragAndDropService.isDropZoneWithinThisGrid(t)&&this.clientSideRowModel.highlightRowAtPixel(s[0],e):this.moveRows(s,e))}getRowIndexNumber(t){const e=t.getRowIndexString();return parseInt(Kt(e.split("-")),10)}moveRowAndClearHighlight(t){const e=this.clientSideRowModel.getLastHighlightedRowNode(),n=e&&e.highlighted===1,i=this.mouseEventService.getNormalisedPosition(t).y,s=t.dragItem.rowNodes;let r=n?1:0;if(this.isFromThisGrid(t))s.forEach(o=>{o.rowTop<i&&(r-=1)}),this.moveRows(s,i,r);else{const o=f0(this.gos);let a=this.clientSideRowModel.getRowIndexAtPixel(i)+1;this.clientSideRowModel.getHighlightPosition(i)===0&&a--,this.clientSideRowModel.updateRowData({add:s.filter(l=>!this.clientSideRowModel.getRowNode((o==null?void 0:o({data:l.data,level:0,rowPinned:l.rowPinned}))??l.data.id)).map(l=>l.data),addIndex:a})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(t,e,n=0){var s;this.clientSideRowModel.ensureRowsAtPixel(t,e,n)&&(this.focusService.clearFocusedCell(),(s=this.rangeService)==null||s.removeAllCellRanges())}addRowDropZone(t){if(!t.getContainer()){Fe("addRowDropZone - A container target needs to be provided");return}if(this.dragAndDropService.findExternalZone(t)){Fe("addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}let e={getContainer:t.getContainer};t.fromGrid?e=t:(t.onDragEnter&&(e.onDragEnter=i=>{t.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",i))}),t.onDragLeave&&(e.onDragLeave=i=>{t.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",i))}),t.onDragging&&(e.onDragging=i=>{t.onDragging(this.draggingToRowDragEvent("rowDragMove",i))}),t.onDragStop&&(e.onDragStop=i=>{t.onDragStop(this.draggingToRowDragEvent("rowDragEnd",i))}),t.onDragCancel&&(e.onDragCancel=i=>{t.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",i))}));const n={isInterestedIn:i=>i===2,getIconName:()=>"move",external:!0,...e};this.dragAndDropService.addDropTarget(n),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(n))}getRowDropZone(t){const e=this.getContainer.bind(this),n=this.onDragEnter.bind(this),i=this.onDragLeave.bind(this),s=this.onDragging.bind(this),r=this.onDragStop.bind(this),o=this.onDragCancel.bind(this);let a;return t?a={getContainer:e,onDragEnter:t.onDragEnter?l=>{n(l),t.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",l))}:n,onDragLeave:t.onDragLeave?l=>{i(l),t.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",l))}:i,onDragging:t.onDragging?l=>{s(l),t.onDragging(this.draggingToRowDragEvent("rowDragMove",l))}:s,onDragStop:t.onDragStop?l=>{r(l),t.onDragStop(this.draggingToRowDragEvent("rowDragEnd",l))}:r,onDragCancel:t.onDragCancel?l=>{o(l),t.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",l))}:o,fromGrid:!0}:a={getContainer:e,onDragEnter:n,onDragLeave:i,onDragging:s,onDragStop:r,onDragCancel:o,fromGrid:!0},a}draggingToRowDragEvent(t,e){const n=this.mouseEventService.getNormalisedPosition(e).y,i=n>this.pageBoundsService.getCurrentPageHeight();let s=-1,r;i||(s=this.rowModel.getRowIndexAtPixel(n),r=this.rowModel.getRow(s));let o;switch(e.vDirection){case 1:o="down";break;case 0:o="up";break;default:o=null;break}return this.gos.addGridCommonParams({type:t,event:e.event,node:e.dragItem.rowNode,nodes:e.dragItem.rowNodes,overIndex:s,overNode:r,y:n,vDirection:o})}dispatchGridEvent(t,e){const n=this.draggingToRowDragEvent(t,e);this.eventService.dispatchEvent(n)}onDragLeave(t){this.dispatchGridEvent("rowDragLeave",t),this.stopDragging(t),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(t){this.dispatchGridEvent("rowDragEnd",t),this.stopDragging(t),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(t))&&this.dragAndDropService.isDropZoneWithinThisGrid(t)&&this.moveRowAndClearHighlight(t)}onDragCancel(t){this.dispatchGridEvent("rowDragCancel",t),this.stopDragging(t),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(t))&&this.dragAndDropService.isDropZoneWithinThisGrid(t)&&this.clearRowHighlight()}stopDragging(t){this.autoScrollService.ensureCleared(),this.getRowNodes(t).forEach(e=>{e.setDragging(!1)})}},DRe=class extends Ee{constructor(){super(...arguments),this.beanName="dragService",this.dragEndFunctions=[],this.dragSources=[]}wireBeans(t){this.mouseEventService=t.mouseEventService}destroy(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0,super.destroy()}removeListener(t){const e=t.dragSource.eElement,n=t.mouseDownListener;if(e.removeEventListener("mousedown",n),t.touchEnabled){const i=t.touchStartListener;e.removeEventListener("touchstart",i,{passive:!0})}}removeDragSource(t){const e=this.dragSources.find(n=>n.dragSource===t);e&&(this.removeListener(e),yr(this.dragSources,e))}isDragging(){return this.dragging}addDragSource(t){const e=this.onMouseDown.bind(this,t),{eElement:n,includeTouch:i,stopPropagationForTouch:s}=t;n.addEventListener("mousedown",e);let r=null;const o=this.gos.get("suppressTouch");i&&!o&&(r=a=>{hN(a.target)||(s&&a.stopPropagation(),this.onTouchStart(t,a))},n.addEventListener("touchstart",r,{passive:!1})),this.dragSources.push({dragSource:t,mouseDownListener:e,touchStartListener:r,touchEnabled:!!i})}getStartTarget(){return this.startTarget}onTouchStart(t,e){this.currentDragParams=t,this.dragging=!1;const n=e.touches[0];this.touchLastTime=n,this.touchStart=n;const i=l=>this.onTouchMove(l,t.eElement),s=l=>this.onTouchUp(l,t.eElement),r=l=>{l.cancelable&&l.preventDefault()},o=e.target,a=[{target:cy(this.gos),type:"touchmove",listener:r,options:{passive:!1}},{target:o,type:"touchmove",listener:i,options:{passive:!0}},{target:o,type:"touchend",listener:s,options:{passive:!0}},{target:o,type:"touchcancel",listener:s,options:{passive:!0}}];this.addTemporaryEvents(a),t.dragStartPixels===0&&this.onCommonMove(n,this.touchStart,t.eElement)}onMouseDown(t,e){const n=e;if(t.skipMouseEvent&&t.skipMouseEvent(e)||n._alreadyProcessedByDragService||(n._alreadyProcessedByDragService=!0,e.button!==0))return;this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.currentDragParams=t,this.dragging=!1,this.mouseStartEvent=e,this.startTarget=e.target;const i=c=>this.onMouseMove(c,t.eElement),s=c=>this.onMouseUp(c,t.eElement),r=c=>c.preventDefault(),o=c=>{c.key===ve.ESCAPE&&this.cancelDrag(t.eElement)},a=cy(this.gos),l=[{target:a,type:"mousemove",listener:i},{target:a,type:"mouseup",listener:s},{target:a,type:"contextmenu",listener:r},{target:a,type:"keydown",listener:o}];this.addTemporaryEvents(l),t.dragStartPixels===0&&this.onMouseMove(e,t.eElement)}addTemporaryEvents(t){t.forEach(e=>{const{target:n,type:i,listener:s,options:r}=e;n.addEventListener(i,s,r)}),this.dragEndFunctions.push(()=>{t.forEach(e=>{const{target:n,type:i,listener:s,options:r}=e;n.removeEventListener(i,s,r)})})}isEventNearStartEvent(t,e){const{dragStartPixels:n}=this.currentDragParams,i=Ke(n)?n:4;return t$(t,e,i)}getFirstActiveTouch(t){for(let e=0;e<t.length;e++)if(t[e].identifier===this.touchStart.identifier)return t[e];return null}onCommonMove(t,e,n){var i;if(!this.dragging){if(this.isEventNearStartEvent(t,e))return;if(this.dragging=!0,this.eventService.dispatchEvent({type:"dragStarted",target:n}),this.currentDragParams.onDragStart(e),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(e)}(i=this.currentDragParams)==null||i.onDragging(t)}onTouchMove(t,e){const n=this.getFirstActiveTouch(t.touches);n&&this.onCommonMove(n,this.touchStart,e)}onMouseMove(t,e){var n;Ha()&&((n=di(this.gos).getSelection())==null||n.removeAllRanges()),this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.onCommonMove(t,this.mouseStartEvent,e)}shouldPreventMouseEvent(t){const e=this.gos.get("enableCellTextSelection"),n=t.type==="mousemove";return e&&n&&t.cancelable&&this.mouseEventService.isEventFromThisGrid(t)&&!this.isOverFormFieldElement(t)}isOverFormFieldElement(t){const e=t.target,n=e==null?void 0:e.tagName.toLocaleLowerCase();return!!(n!=null&&n.match("^a$|textarea|input|select|button"))}onTouchUp(t,e){let n=this.getFirstActiveTouch(t.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,e)}onMouseUp(t,e){this.onUpCommon(t,e)}onUpCommon(t,e){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(t),this.eventService.dispatchEvent({type:"dragStopped",target:e})),this.resetDragProperties()}cancelDrag(t){var e,n;this.eventService.dispatchEvent({type:"dragCancelled",target:t}),(n=(e=this.currentDragParams)==null?void 0:e.onDragCancel)==null||n.call(e),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(t=>t()),this.dragEndFunctions.length=0}},mD=class extends On{constructor(t,e,n,i,s,r){super(),this.cellValueFn=t,this.rowNode=e,this.column=n,this.customGui=i,this.dragStartPixels=s,this.suppressVisibilityChange=r,this.dragSource=null}wireBeans(t){this.beans=t}isCustomGui(){return this.customGui!=null}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Hr("rowDrag",this.gos,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const t=this.gos.get("rowDragManaged")?new FRe(this,this.beans,this.rowNode,this.column):new _Re(this,this.beans,this.rowNode,this.column);this.createManagedBean(t,this.beans.context)}}setDragElement(t,e){this.setTemplateFromElement(t,void 0,void 0,!0),this.addDragSource(e)}getSelectedNodes(){if(!this.gos.get("rowDragMultiRow"))return[this.rowNode];const e=this.beans.selectionService.getSelectedNodes();return e.indexOf(this.rowNode)!==-1?e:[this.rowNode]}checkCompatibility(){const t=this.gos.get("rowDragManaged");this.gos.get("treeData")&&t&&Fe("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(t){if(t){const e=t.getColDef();if(e.rowDragText)return e.rowDragText}return this.gos.get("rowDragText")}addDragSource(t=4){this.dragSource&&this.removeDragSource();const e=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(e,{mousedown:i=>{i==null||i.preventDefault()}})[0]);const n=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:e,dragItemName:()=>{var o;const i=this.getDragItem(),s=((o=i.rowNodes)==null?void 0:o.length)||1,r=this.getRowDragText(this.column);return r?r(i,s):s===1?this.cellValueFn():`${s} ${n("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:t,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},l$=class extends Ee{constructor(t,e,n){super(),this.parent=t,this.rowNode=e,this.column=n}setDisplayedOrVisible(t){const e={skipAriaHidden:!0};if(t)this.parent.setDisplayed(!1,e);else{let n=!0,i=!1;this.column&&(n=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),i=tN(this.column.getColDef().rowDrag)),i?(this.parent.setDisplayed(!0,e),this.parent.setVisible(n,e)):(this.parent.setDisplayed(n,e),this.parent.setVisible(!0,e))}}},_Re=class extends l${constructor(t,e,n,i){super(t,n,i),this.beans=e}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const t=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:t,cellChanged:t}),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:t}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const t=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(t)}},FRe=class extends l${constructor(t,e,n,i){super(t,n,i),this.beans=e}postConstruct(){const t=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventService,{sortChanged:t,filterChanged:t,columnRowGroupChanged:t,newColumnsLoaded:t}),this.addManagedListeners(this.rowNode,{dataChanged:t,cellChanged:t}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),n=e&&e.shouldPreventRowMove(),i=this.gos.get("suppressRowDrag"),s=this.beans.dragAndDropService.hasExternalDropZones(),r=n&&!s||i;this.setDisplayedOrVisible(r)}},NRe=new Set(["localEventService","__objectId","sticky","__autoHeights","checkAutoHeightsDebounced"]),v0=class Ic{constructor(e){this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped={},this.treeNode=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=Ic.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,n){var r;const i=this.data;this.data=e,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const s=this.createDataChangedEvent(e,i,n);(r=this.localEventService)==null||r.dispatchEvent(s)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,n,i){return{type:"dataChanged",node:this,oldData:n,newData:e,update:i}}getRowIndexString(){return this.rowIndex==null?(gn("Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid."),null):this.rowPinned==="top"?Ic.ID_PREFIX_TOP_PINNED+this.rowIndex:this.rowPinned==="bottom"?Ic.ID_PREFIX_BOTTOM_PINNED+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const e=new Ic(this.beans);return e.id=this.id,e.data=this.data,e.__daemon=!0,e.selected=this.selected,e.level=this.level,e}setDataAndId(e,n){var o;const i=Ke(this.id)?this.createDaemonNode():null,s=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(n),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,i);const r=this.createDataChangedEvent(e,s,!1);(o=this.localEventService)==null||o.dispatchEvent(r)}checkRowSelectable(){const e=iN(this.beans.gos);this.setRowSelectable(e?e(this):!0)}setRowSelectable(e,n){if(this.selectable!==e){if(this.selectable=e,this.dispatchRowEvent("selectableChanged"),n)return;if(hh(this.beans.gos)){const s=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:s??!1,source:"selectableChanged"});return}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(e){var i;const n=f0(this.beans.gos);if(n)if(this.data){const s=((i=this.parent)==null?void 0:i.getRoute())??[];this.id=n({data:this.data,parentKeys:s.length>0?s:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(Ic.ID_PREFIX_ROW_GROUP)&&gn(`Row IDs cannot start with ${Ic.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`)}else this.id=void 0;else this.id=e}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.dispatchRowEvent("topChanged"),this.setDisplayed(e!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setMaster(e){this.master!==e&&(this.master&&!e&&(this.expanded=!1),this.master=e,this.dispatchRowEvent("masterChanged"))}setGroup(e){this.group!==e&&(this.group&&!e&&(this.expanded=!1),this.group=e,this.updateHasChildren(),this.checkRowSelectable(),this.dispatchRowEvent("groupChanged"))}setRowHeight(e,n=!1){this.rowHeight=e,this.rowHeightEstimated=n,this.dispatchRowEvent("heightChanged")}setRowAutoHeight(e,n){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[n.getId()]=e,e!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=vr(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){var a;let e=!1,n=!0,i=0;const s=this.__autoHeights;if(s==null||(this.beans.visibleColsService.getAllAutoHeightCols().forEach(l=>{let c=s[l.getId()];if(c==null)if(this.beans.columnModel.isColSpanActive()){let d=[];switch(l.getPinned()){case"left":d=this.beans.visibleColsService.getLeftColsForRow(this);break;case"right":d=this.beans.visibleColsService.getRightColsForRow(this);break;case null:d=this.beans.columnViewportService.getColsWithinViewport(this);break}if(d.includes(l)){e=!0;return}c=-1}else{e=!0;return}else n=!1;c>i&&(i=c)}),e)||((n||i<10)&&(i=au(this.beans.gos,this).height),i==this.rowHeight))return;this.setRowHeight(i);const o=this.beans.rowModel;(a=o.onRowHeightChangedDebounced)==null||a.call(o)}setExpanded(e,n,i){if(this.expanded===e)return;this.expanded=e,this.dispatchRowEvent("expandedChanged");const s={...this.createGlobalRowEvent("rowGroupOpened"),expanded:e,event:n||null};this.beans.rowNodeEventThrottle.dispatchExpanded(s,i),this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(e){return this.beans.gos.addGridCommonParams({type:e,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}setDataValue(e,n,i){const r=typeof e!="string"?e:this.beans.columnModel.getCol(e)??this.beans.columnModel.getColDefCol(e),o=this.beans.valueService.getValueForDisplay(r,this);if(this.beans.gos.get("readOnlyEdit"))return this.beans.eventService.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:r,colDef:r.getColDef(),data:this.data,node:this,oldValue:o,newValue:n,value:n,source:i}),!1;const a=this.beans.valueService.setValue(this,r,n,i);return this.dispatchCellChangedEvent(r,n,o),this.checkRowSelectable(),a}setGroupValue(e,n){const i=this.beans.columnModel.getCol(e);Yt(this.groupData)&&(this.groupData={});const s=i.getColId(),r=this.groupData[s];r!==n&&(this.groupData[s]=n,this.dispatchCellChangedEvent(i,n,r))}setAggData(e){const n=this.aggData;if(this.aggData=e,this.localEventService){const i=s=>{const r=this.aggData?this.aggData[s]:void 0,o=n?n[s]:void 0;if(r===o)return;const a=this.beans.columnModel.getCol(s);a&&this.dispatchCellChangedEvent(a,r,o)};for(const s in n)i(s);for(const s in e)(!n||!(s in n))&&i(s)}}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(Th(this.beans.gos)){const i=this.beans.gos.get("treeData"),s=this.beans.gos.get("isServerSideGroup");e=!this.stub&&!this.footer&&(i?!!s&&s(this.data):!!this.group)}e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,n,i){var r;const s={type:"cellChanged",node:this,column:e,newValue:n,oldValue:i};(r=this.localEventService)==null||r.dispatchEvent(s)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.footer?!1:this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(e){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(n=>n.depthFirstSearch(e)),e(this)}calculateSelectedFromChildren(){var i;let e=!1,n=!1;if(!((i=this.childrenAfterGroup)!=null&&i.length))return this.selectable?this.selected:null;for(let s=0;s<this.childrenAfterGroup.length;s++){const r=this.childrenAfterGroup[s];let o=r.isSelected();if(!r.selectable){const a=r.calculateSelectedFromChildren();if(a===null)continue;o=a}switch(o){case!0:e=!0;break;case!1:n=!0;break;default:return}}if(!(e&&n))return e?!0:n?!1:this.selectable?this.selected:null}setSelectedInitialValue(e){this.selected=e}dispatchRowEvent(e){var n;(n=this.localEventService)==null||n.dispatchEvent({type:e,node:this})}selectThisNode(e,n,i="api"){const s=!this.selectable&&e,r=this.selected===e;if(s||r)return!1;this.selected=e,this.dispatchRowEvent("rowSelected");const o=this.sibling;return o&&o.footer&&o.localEventService&&o.dispatchRowEvent("rowSelected"),this.beans.eventService.dispatchEvent({...this.createGlobalRowEvent("rowSelected"),event:n||null,source:i}),!0}setSelected(e,n=!1,i="api"){if(typeof i=="boolean"){Fe("since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:e,clearSelection:n,rangeSelect:!1,source:i})}setSelectedParams(e){return this.rowPinned?(Fe("cannot select pinned rows"),0):this.id===void 0?(Fe("cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected({...e,nodes:[this.footer?this.sibling:this]})}isRowPinned(){return!!this.rowPinned}addEventListener(e,n){var s;this.localEventService||(this.localEventService=new im),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.localEventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new oN(this.beans.frameworkOverrides));const i=((s=this.frameworkEventListenerService)==null?void 0:s.wrap(n))??n;this.localEventService.addEventListener(e,i)}removeEventListener(e,n){var s;if(!this.localEventService)return;const i=((s=this.frameworkEventListenerService)==null?void 0:s.unwrap(n))??n;this.localEventService.removeEventListener(e,i),this.localEventService.noRegisteredListenersExist()&&(this.localEventService=null)}onMouseEnter(){this.dispatchRowEvent("mouseEnter")}onMouseLeave(){this.dispatchRowEvent("mouseLeave")}isFullWidthCell(){if(Fe("since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option."),this.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const e=[];let n=this;for(;n&&n.key!=null;)e.push(n.key),n=n.parent;return e.reverse()}createFooter(){if(this.sibling)return;const e=new Ic(this.beans);Object.keys(this).forEach(n=>{NRe.has(n)||(e[n]=this[n])}),e.footer=!0,e.setRowTop(null),e.setRowIndex(null),e.oldRowTop=null,e.id="rowGroupFooter_"+this.id,e.sibling=this,this.sibling=e}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.dispatchRowEvent("firstChildChanged"))}setLastChild(e){this.lastChild!==e&&(this.lastChild=e,this.dispatchRowEvent("lastChildChanged"))}setChildIndex(e){this.childIndex!==e&&(this.childIndex=e,this.dispatchRowEvent("childIndexChanged"))}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.dispatchRowEvent("displayedChanged"))}setDragging(e){this.dragging!==e&&(this.dragging=e,this.dispatchRowEvent("draggingChanged"))}setHighlighted(e){this.highlighted!==e&&(this.highlighted=e,this.dispatchRowEvent("rowHighlightChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}};v0.ID_PREFIX_ROW_GROUP="row-group-";v0.ID_PREFIX_TOP_PINNED="t-";v0.ID_PREFIX_BOTTOM_PINNED="b-";v0.OBJECT_ID_SEQUENCE=0;var Xd=v0,IRe=class extends Ee{constructor(){super(...arguments),this.beanName="filterManager",this.advancedFilterModelUpdateQueue=[]}wireBeans(t){this.columnModel=t.columnModel,this.dataTypeService=t.dataTypeService,this.quickFilterService=t.quickFilterService,this.advancedFilterService=t.advancedFilterService,this.columnFilterService=t.columnFilterService}postConstruct(){const t=this.refreshFiltersForAggregations.bind(this),e=this.updateAdvancedFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:t,columnPivotChanged:t,columnPivotModeChanged:t,newColumnsLoaded:e,columnVisible:e,advancedFilterEnabledChanged:({enabled:n})=>this.onAdvancedFilterEnabledChanged(n),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",n=>this.setAdvancedFilterModel(n.currentValue)),this.quickFilterService&&this.addManagedListeners(this.quickFilterService,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})})}isExternalFilterPresentCallback(){const t=this.gos.getCallback("isExternalFilterPresent");return typeof t=="function"?t({}):!1}doesExternalFilterPass(t){const e=this.gos.get("doesExternalFilterPass");return typeof e=="function"?e(t):!1}setFilterModel(t,e="api"){var n;if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}(n=this.columnFilterService)==null||n.setFilterModel(t,e)}getFilterModel(){var t;return((t=this.columnFilterService)==null?void 0:t.getFilterModel())??{}}isColumnFilterPresent(){var t;return!!((t=this.columnFilterService)!=null&&t.isColumnFilterPresent())}isAggregateFilterPresent(){var t;return!!((t=this.columnFilterService)!=null&&t.isAggregateFilterPresent())}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(t){var e,n;t?(e=this.columnFilterService)!=null&&e.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):(n=this.advancedFilterService)!=null&&n.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){var t;return!!((t=this.advancedFilterService)!=null&&t.isEnabled())}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}resetQuickFilterCache(){var t;(t=this.quickFilterService)==null||t.resetQuickFilterCache()}refreshFiltersForAggregations(){aD(this.gos)&&this.onFilterChanged()}onFilterChanged(t={}){const{source:e,additionalEventAttributes:n,columns:i=[]}=t;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.columnFilterService?this.columnFilterService.updateBeforeFilterChanged(t):ui.resolve()).then(()=>{var r;const s={source:e,type:"filterChanged",columns:i};n&&$s(s,n),this.eventService.dispatchEvent(s),(r=this.columnFilterService)==null||r.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){var t;return!!((t=this.columnFilterService)!=null&&t.isSuppressFlashingCellsBecauseFiltering())}isQuickFilterPresent(){var t;return!!((t=this.quickFilterService)!=null&&t.isQuickFilterPresent())}updateAggFiltering(){this.aggFiltering=!!aD(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.columnModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(t,e){return this.doesRowPassFilter({rowNode:e,filterInstanceToSkip:t})}doesRowPassAggregateFilters(t){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(t.rowNode)||this.isAggregateFilterPresent()&&!this.columnFilterService.doAggregateFiltersPass(t.rowNode,t.filterInstanceToSkip))}doesRowPassFilter(t){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(t.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(t.rowNode)||this.isColumnFilterPresent()&&!this.columnFilterService.doColumnFiltersPass(t.rowNode,t.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(t.rowNode))}isFilterActive(t){var e;return!!((e=this.columnFilterService)!=null&&e.isFilterActive(t))}getOrCreateFilterWrapper(t){var e;return((e=this.columnFilterService)==null?void 0:e.getOrCreateFilterWrapper(t))??null}getDefaultFloatingFilter(t){return this.columnFilterService.getDefaultFloatingFilter(t)}createFilterParams(t,e){return this.columnFilterService.createFilterParams(t,e)}isFilterAllowed(t){var e;return this.isAdvancedFilterEnabled()?!1:!!((e=this.columnFilterService)!=null&&e.isFilterAllowed(t))}getFloatingFilterCompDetails(t,e){var n;return(n=this.columnFilterService)==null?void 0:n.getFloatingFilterCompDetails(t,e)}getCurrentFloatingFilterParentModel(t){var e;return(e=this.columnFilterService)==null?void 0:e.getCurrentFloatingFilterParentModel(t)}destroyFilter(t,e="api"){var n;(n=this.columnFilterService)==null||n.destroyFilter(t,e)}areFilterCompsDifferent(t,e){var n;return!!((n=this.columnFilterService)!=null&&n.areFilterCompsDifferent(t,e))}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(t){var e;if(this.isAdvancedFilterEnabled()){if((e=this.dataTypeService)!=null&&e.isPendingInference()){this.advancedFilterModelUpdateQueue.push(t);return}this.advancedFilterService.setModel(t??null),this.onFilterChanged({source:"advancedFilter"})}}toggleAdvancedFilterBuilder(t,e){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder({source:e,force:t})}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){var t;return this.isAdvancedFilterEnabled()?!1:!!((t=this.columnFilterService)!=null&&t.hasFloatingFilters())}getFilterInstance(t,e){var n;if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}return(n=this.columnFilterService)==null?void 0:n.getFilterInstance(t,e)}getColumnFilterInstance(t){var e;return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve(void 0)):((e=this.columnFilterService)==null?void 0:e.getColumnFilterInstance(t))??Promise.resolve(void 0)}warnAdvancedFilters(){Fe("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(t){var e;(e=this.advancedFilterService)==null||e.getCtrl().setupHeaderComp(t)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advancedFilterModelUpdateQueue.forEach(t=>this.setAdvancedFilterModel(t)),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(t){var e;return(e=this.columnFilterService)==null?void 0:e.getColumnFilterModel(t)}setColumnFilterModel(t,e){var n;return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve()):((n=this.columnFilterService)==null?void 0:n.setColumnFilterModel(t,e))??Promise.resolve()}setColDefPropertiesForDataType(t,e,n){var i;(i=this.columnFilterService)==null||i.setColDefPropertiesForDataType(t,e,n)}},ORe=class extends On{constructor(t,e){super('<div class="ag-filter"></div>'),this.column=t,this.source=e,this.filterWrapper=null}wireBeans(t){this.filterManager=t.filterManager,this.columnModel=t.columnModel}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){var t;return((t=this.filterWrapper)==null?void 0:t.filterPromise)??null}afterInit(){var t,e;return((e=(t=this.filterWrapper)==null?void 0:t.filterPromise)==null?void 0:e.then(()=>{}))??ui.resolve()}afterGuiAttached(t){var e,n;(n=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null||n.then(i=>{var s;(s=i==null?void 0:i.afterGuiAttached)==null||s.call(i,t)})}afterGuiDetached(){var t,e;(e=(t=this.filterWrapper)==null?void 0:t.filterPromise)==null||e.then(n=>{var i;(i=n==null?void 0:n.afterGuiDetached)==null||i.call(n)})}createFilter(t){var i,s;const{column:e,source:n}=this;this.filterWrapper=((i=this.filterManager)==null?void 0:i.getOrCreateFilterWrapper(e))??null,(s=this.filterWrapper)!=null&&s.filterPromise&&this.filterWrapper.filterPromise.then(r=>{const o=r.getGui();Ke(o)||Fe(`getGui method from filter returned ${o}; it should be a DOM element.`),this.appendChild(o),t&&this.eventService.dispatchEvent({type:"filterOpened",column:e,source:n,eGui:this.getGui()})})}onFilterDestroyed(t){(t.source==="api"||t.source==="paramsUpdated")&&t.column.getId()===this.column.getId()&&this.columnModel.getColDefCol(this.column)&&(qr(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},c$="ag-resizer-wrapper",bc=(t,e)=>`<div data-ref="${t}Resizer" class="ag-resizer ag-resizer-${e}"></div>`,LRe=`<div class="${c$}">
        ${bc("eTopLeft","topLeft")}
        ${bc("eTop","top")}
        ${bc("eTopRight","topRight")}
        ${bc("eRight","right")}
        ${bc("eBottomRight","bottomRight")}
        ${bc("eBottom","bottom")}
        ${bc("eBottomLeft","bottomLeft")}
        ${bc("eLeft","left")}
    </div>`,kRe=class extends Ee{constructor(t,e){super(),this.element=t,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},e)}wireBeans(t){this.popupService=t.popupService,this.resizeObserverService=t.resizeObserverService,this.dragService=t.dragService}center(){const{clientHeight:t,clientWidth:e}=this.offsetParent,n=e/2-this.getWidth()/2,i=t/2-this.getHeight()/2;this.offsetElement(n,i)}initialisePosition(){if(this.positioned)return;const{centered:t,forcePopupParentAsOffsetParent:e,minWidth:n,width:i,minHeight:s,height:r,x:o,y:a}=this.config;this.offsetParent||this.setOffsetParent();let l=0,c=0;const d=Va(this.element);if(d){const f=this.findBoundaryElement(),p=window.getComputedStyle(f);if(p.minWidth!=null){const m=f.offsetWidth-this.element.offsetWidth;c=parseInt(p.minWidth,10)-m}if(p.minHeight!=null){const m=f.offsetHeight-this.element.offsetHeight;l=parseInt(p.minHeight,10)-m}}if(this.minHeight=s||l,this.minWidth=n||c,i&&this.setWidth(i),r&&this.setHeight(r),(!i||!r)&&this.refreshSize(),t)this.center();else if(o||a)this.offsetElement(o,a);else if(d&&e){let f=this.boundaryEl,p=!0;if(f||(f=this.findBoundaryElement(),p=!1),f){const m=parseFloat(f.style.top),y=parseFloat(f.style.left);p?this.offsetElement(isNaN(y)?0:y,isNaN(m)?0:m):this.setPosition(y,m)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(t,e){if(!this.config.popup||t===this.movable)return;this.movable=t;const n=this.moveElementDragListener||{eElement:e,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};t?(this.dragService.addDragSource(n),this.moveElementDragListener=n):(this.dragService.removeDragSource(n),this.moveElementDragListener=void 0)}setResizable(t){if(this.clearResizeListeners(),t?this.addResizers():this.removeResizers(),typeof t=="boolean"){if(t===!1)return;t={topLeft:t,top:t,topRight:t,right:t,bottomRight:t,bottom:t,bottomLeft:t,left:t}}Object.keys(t).forEach(e=>{const i=!!t[e],s=this.getResizerElement(e),r={dragStartPixels:0,eElement:s,onDragStart:o=>this.onResizeStart(o,e),onDragging:this.onResize.bind(this),onDragStop:o=>this.onResizeEnd(o,e)};(i||!this.isAlive()&&!i)&&(i?(this.dragService.addDragSource(r),this.resizeListeners.push(r),s.style.pointerEvents="all"):s.style.pointerEvents="none",this.resizable[e]=i)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:t,width:e}=this.lastSize;e!==-1&&(this.element.style.width=`${e}px`),t!==-1&&(this.element.style.height=`${t}px`)}getHeight(){return this.element.offsetHeight}setHeight(t){const{popup:e}=this.config,n=this.element;let i=!1;if(typeof t=="string"&&t.indexOf("%")!==-1)bv(n,t),t=K9(n),i=!0;else if(t=Math.max(this.minHeight,t),this.positioned){const s=this.getAvailableHeight();s&&t>s&&(t=s)}this.getHeight()!==t&&(i?(n.style.maxHeight="unset",n.style.minHeight="unset"):e?bv(n,t):(n.style.height=`${t}px`,n.style.flex="0 0 auto",this.lastSize.height=typeof t=="number"?t:parseFloat(t)))}getAvailableHeight(){const{popup:t,forcePopupParentAsOffsetParent:e}=this.config;this.positioned||this.initialisePosition();const{clientHeight:n}=this.offsetParent;if(!n)return null;const i=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),r=t?this.position.y:i.top,o=t?0:s.top;let a=0;if(e){const c=this.element.parentElement;if(c){const{bottom:d}=c.getBoundingClientRect();a=d-i.bottom}}return n+o-r-a}getWidth(){return this.element.offsetWidth}setWidth(t){const e=this.element,{popup:n}=this.config;let i=!1;if(typeof t=="string"&&t.indexOf("%")!==-1)Yo(e,t),t=Wb(e),i=!0;else if(this.positioned){t=Math.max(this.minWidth,t);const{clientWidth:s}=this.offsetParent,r=n?this.position.x:this.element.getBoundingClientRect().left;s&&t+r>s&&(t=s-r)}this.getWidth()!==t&&(i?(e.style.maxWidth="unset",e.style.minWidth="unset"):this.config.popup?Yo(e,t):(e.style.width=`${t}px`,e.style.flex=" unset",this.lastSize.width=typeof t=="number"?t:parseFloat(t)))}offsetElement(t=0,e=0){const{forcePopupParentAsOffsetParent:n}=this.config,i=n?this.boundaryEl:this.element;i&&(this.popupService.positionPopup({ePopup:i,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:t,y:e})}),this.setPosition(parseFloat(i.style.left),parseFloat(i.style.top)))}constrainSizeToAvailableHeight(t){if(!this.config.forcePopupParentAsOffsetParent)return;const e=()=>{const n=this.getAvailableHeight();this.element.style.setProperty("max-height",`${n}px`)};t?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),e):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(t,e){this.position.x=t,this.position.y=e}updateDragStartPosition(t,e){this.dragStartPosition={x:t,y:e}}calculateMouseMovement(t){const{e,isLeft:n,isTop:i,anywhereWithin:s,topBuffer:r}=t,o=e.clientX-this.dragStartPosition.x,a=e.clientY-this.dragStartPosition.y,l=this.shouldSkipX(e,!!n,!!s,o)?0:o,c=this.shouldSkipY(e,!!i,r,a)?0:a;return{movementX:l,movementY:c}}shouldSkipX(t,e,n,i){const s=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:s.left;let l=a<=0&&r.left>=t.clientX||r.right<=t.clientX&&r.right<=o.right;return l?!0:(e?l=i<0&&t.clientX>a+r.left||i>0&&t.clientX<a+r.left:n?l=i<0&&t.clientX>o.right||i>0&&t.clientX<a+r.left:l=i<0&&t.clientX>o.right||i>0&&t.clientX<o.right,l)}shouldSkipY(t,e,n=0,i){const s=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:s.top;let l=a<=0&&r.top>=t.clientY||r.bottom<=t.clientY&&r.bottom<=o.bottom;return l?!0:(e?l=i<0&&t.clientY>a+r.top+n||i>0&&t.clientY<a+r.top:l=i<0&&t.clientY>o.bottom||i>0&&t.clientY<o.bottom,l)}createResizeMap(){const t=this.element;this.resizerMap={topLeft:{element:t.querySelector("[data-ref=eTopLeftResizer]")},top:{element:t.querySelector("[data-ref=eTopResizer]")},topRight:{element:t.querySelector("[data-ref=eTopRightResizer]")},right:{element:t.querySelector("[data-ref=eRightResizer]")},bottomRight:{element:t.querySelector("[data-ref=eBottomRightResizer]")},bottom:{element:t.querySelector("[data-ref=eBottomResizer]")},bottomLeft:{element:t.querySelector("[data-ref=eBottomLeftResizer]")},left:{element:t.querySelector("[data-ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const t=this.element;if(!t)return;const n=new DOMParser().parseFromString(LRe,"text/html").body;t.appendChild(n.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const t=this.element.querySelector(`.${c$}`);t&&this.element.removeChild(t),this.resizersAdded=!1}getResizerElement(t){return this.resizerMap[t].element}onResizeStart(t,e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!e.match(/top/i),isRight:!!e.match(/right/i),isBottom:!!e.match(/bottom/i),isLeft:!!e.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[e].element.classList.add("ag-active");const{popup:n,forcePopupParentAsOffsetParent:i}=this.config;!n&&!i&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(t.clientX,t.clientY)}getSiblings(){const e=this.element.parentElement;return e?Array.prototype.slice.call(e.children).filter(n=>!n.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const t=this.getSiblings()||[];let e=0,n=0;for(let i=0;i<t.length;i++){const s=t[i],r=!!s.style.flex&&s.style.flex!=="0 0 auto";if(s===this.element)continue;let o=this.minHeight||0,a=this.minWidth||0;if(r){const l=window.getComputedStyle(s);l.minHeight&&(o=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else o=s.offsetHeight,a=s.offsetWidth;e+=o,n+=a}return{height:e,width:n}}applySizeToSiblings(t){let e=null;const n=this.getSiblings();if(n){for(let i=0;i<n.length;i++){const s=n[i];s!==e&&(t?s.style.height=`${s.offsetHeight}px`:s.style.width=`${s.offsetWidth}px`,s.style.flex="0 0 auto",s===this.element&&(e=n[i+1]))}e&&(e.style.removeProperty("height"),e.style.removeProperty("min-height"),e.style.removeProperty("max-height"),e.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(t=>t)}onResize(t){if(!this.isResizing||!this.currentResizer)return;const{popup:e,forcePopupParentAsOffsetParent:n}=this.config,{isTop:i,isRight:s,isBottom:r,isLeft:o}=this.currentResizer,a=s||o,l=r||i,{movementX:c,movementY:d}=this.calculateMouseMovement({e:t,isLeft:o,isTop:i}),f=this.position.x,p=this.position.y;let m=0,y=0;if(a&&c){const C=o?-1:1,x=this.getWidth(),w=x+c*C;let M=!1;o&&(m=x-w,(f+m<=0||w<=this.minWidth)&&(M=!0,m=0)),M||this.setWidth(w)}if(l&&d){const C=i?-1:1,x=this.getHeight(),w=x+d*C;let M=!1;i?(y=x-w,(p+y<=0||w<=this.minHeight)&&(M=!0,y=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&x<w&&this.getMinSizeOfSiblings().height+w>this.element.parentElement.offsetHeight&&(M=!0),M||this.setHeight(w)}this.updateDragStartPosition(t.clientX,t.clientY),((e||n)&&m||y)&&this.offsetElement(f+m,p+y)}onResizeEnd(t,e){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[e].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const t=this.element;this.config.popup&&(this.config.width||this.setWidth(t.offsetWidth),this.config.height||this.setHeight(t.offsetHeight))}onMoveStart(t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(t.clientX,t.clientY)}onMove(t){if(!this.isMoving)return;const{x:e,y:n}=this.position;let i;this.config.calculateTopBuffer&&(i=this.config.calculateTopBuffer());const{movementX:s,movementY:r}=this.calculateMouseMovement({e:t,isTop:!0,anywhereWithin:!0,topBuffer:i});this.offsetElement(e+s,n+r),this.updateDragStartPosition(t.clientX,t.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let t=this.element;for(;t;){if(window.getComputedStyle(t).position!=="static")return t;t=t.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const t=this.resizeListeners.pop();this.dragService.removeDragSource(t)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},u$=class d$ extends Ee{constructor(e,n={}){super(),this.eFocusableElement=e,this.callbacks=n,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:i=>{if(i.defaultPrevented)return;const s=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,i.shiftKey);s&&(s.focus(),i.preventDefault())},...n}}wireBeans(e){this.focusService=e.focusService}postConstruct(){this.eFocusableElement.classList.add(d$.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedElementListeners(this.eFocusableElement,{focusin:this.callbacks.onFocusIn}),this.callbacks.onFocusOut&&this.addManagedElementListeners(this.eFocusableElement,{focusout:this.callbacks.onFocusOut})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:n=>{if(!(n.defaultPrevented||Bl(n))){if(this.callbacks.shouldStopEventPropagation(n)){kp(n);return}n.key===ve.TAB?this.callbacks.onTabKeyDown(n):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(n)}}})}};u$.FOCUS_MANAGED_CLASS="ag-focus-managed";var Ah=u$,h$={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function wN(t,e){return Xb(t)?(t.debounceMs!=null&&Fe("debounceMs is ignored when apply button is present"),0):t.debounceMs!=null?t.debounceMs:e}function Xb(t){return!!t.buttons&&t.buttons.indexOf("apply")>=0}var BRe=class extends On{constructor(t){super(),this.filterNameKey=t,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=vt,this.buttonListeners=[]}wireBeans(t){this.rowModel=t.rowModel}postConstruct(){this.resetTemplate(),this.createManagedBean(new Ah(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new kRe(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(t){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(t){let e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit);const n=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" data-ref="eFilterBody">
                    ${this.createBodyTemplate()}
                </div>
            </form>`;this.setTemplate(n,this.getAgComponents(),t),e=this.getGui(),e&&e.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(t){this.setParams(t),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(t){this.providedFilterParams=t,this.applyActive=Xb(t),this.resetButtonsPanel(t)}updateParams(t){this.providedFilterParams=t,this.applyActive=Xb(t),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(t,e){const{buttons:n,readOnly:i}=e??{},{buttons:s,readOnly:r}=t;if(i===r&&kb(n,s))return;const o=s&&s.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(qr(this.eButtonsPanel),this.buttonListeners.forEach(c=>c()),this.buttonListeners=[]):o&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!o){this.eButtonsPanel&&fh(this.eButtonsPanel);return}const a=document.createDocumentFragment(),l=c=>{let d,f;switch(c){case"apply":d=this.translate("applyFilter"),f=y=>this.onBtApply(!1,!1,y);break;case"clear":d=this.translate("clearFilter"),f=()=>this.onBtClear();break;case"reset":d=this.translate("resetFilter"),f=()=>this.onBtReset();break;case"cancel":d=this.translate("cancelFilter"),f=y=>{this.onBtCancel(y)};break;default:Fe("Unknown button type specified");return}const m=py(`<button
                    type="${c==="apply"?"submit":"button"}"
                    data-ref="${c}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${d}
                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(m,{click:f})),a.append(m)};s.forEach(c=>l(c)),this.eButtonsPanel.append(a),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const t=wN(this.providedFilterParams,this.getDefaultDebounceMs()),e=vr(this.checkApplyDebounce.bind(this),t);this.onBtApplyDebounce=()=>{this.debouncePending=!0,e()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(t){return(t!=null?this.setModelIntoUi(t):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(t){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(t)})}handleCancelEnd(t){this.providedFilterParams.closeOnApply&&this.close(t)}resetUiToActiveModel(t,e){const n=()=>{this.onUiChanged(!1,"prevent"),e==null||e()};t!=null?this.setModelIntoUi(t).then(n):this.resetUiToDefaults().then(n)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(t="api"){const e=this.getModelFromUi();if(!this.isModelValid(e))return!1;const n=this.appliedModel;return this.appliedModel=e,!this.areModelsEqual(n,e)}isModelValid(t){return!0}onFormSubmit(t){t.preventDefault()}onBtApply(t=!1,e=!1,n){n&&n.preventDefault(),this.applyModel(e?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:t,afterDataChange:e,source:"columnFilter"});const{closeOnApply:i}=this.providedFilterParams;i&&this.applyActive&&!t&&!e&&this.close(n)}onNewRowsLoaded(){}close(t){if(!this.hidePopup)return;const e=t,n=e&&e.key;let i;(n==="Enter"||n==="Space")&&(i={keyboardEvent:e}),this.hidePopup(i),this.hidePopup=null}onUiChanged(t=!1,e){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const n=this.isModelValid(this.getModelFromUi()),i=this.queryForHtmlElement('[data-ref="applyFilterButton"]');i&&fy(i,!n)}t&&!e||e==="immediately"?this.onBtApply(t):(!this.applyActive&&!e||e==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(t){t&&(this.hidePopup=t.hidePopup),this.refreshFilterResizer(t==null?void 0:t.container)}refreshFilterResizer(t){if(!this.positionableFeature||t==="toolPanel")return;const e=t==="floatingFilter"||t==="columnFilter",{positionableFeature:n,gos:i}=this;e?(n.restoreLastSize(),n.setResizable(i.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}refresh(t){const e=this.providedFilterParams;return this.providedFilterParams=t,this.resetButtonsPanel(t,e),!0}destroy(){const t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(t){return this.localeService.getLocaleTextFunc()(t,h$[t])}getCellValue(t){return this.providedFilterParams.getValue(t)}getPositionableElement(){return this.eFilterBody}},HRe=class extends yN{constructor(t){super(t,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(t){t.selected&&t.name&&this.eInput.name&&this.eInput.name===t.name&&t.id&&this.eInput.id!==t.id&&this.setValue(!1,!0)}},VRe=class extends On{constructor(t="default",e=!1){super(`<div class="ag-list ag-${t}-list" role="listbox"></div>`),this.cssIdentifier=t,this.unFocusable=e,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const t=this.getGui();this.addManagedElementListeners(t,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(t,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(t){const e=t.key;switch(e){case ve.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const n=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(n)}break;case ve.DOWN:case ve.UP:t.preventDefault(),this.navigate(e);break;case ve.PAGE_DOWN:case ve.PAGE_UP:case ve.PAGE_HOME:case ve.PAGE_END:t.preventDefault(),this.navigateToPage(e);break}}navigate(t){const e=t===ve.DOWN;let n;if(!this.highlightedEl)n=this.itemEls[e?0:this.itemEls.length-1];else{let s=this.itemEls.indexOf(this.highlightedEl)+(e?1:-1);s=Math.min(Math.max(s,0),this.itemEls.length-1),n=this.itemEls[s]}this.highlightItem(n)}navigateToPage(t){if(!this.highlightedEl||this.itemEls.length===0)return;const e=this.itemEls.indexOf(this.highlightedEl),n=this.options.length-1,i=this.itemEls[0].clientHeight,s=Math.floor(this.getGui().clientHeight/i);let r=-1;t===ve.PAGE_HOME?r=0:t===ve.PAGE_END?r=n:t===ve.PAGE_DOWN?r=Math.min(e+s,n):t===ve.PAGE_UP&&(r=Math.max(e-s,0)),r!==-1&&this.highlightItem(this.itemEls[r])}addOptions(t){return t.forEach(e=>this.addOption(e)),this}addOption(t){const{value:e,text:n}=t,i=n||e;return this.options.push({value:e,text:i}),this.renderOption(e,i),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(t=>{fh(t)}),this.itemEls=[]}updateIndices(){const t=this.getGui().querySelectorAll(".ag-list-item");t.forEach((e,n)=>{yTe(e,n+1),vTe(e,t.length)})}renderOption(t,e){const n=di(this.gos),i=n.createElement("div");ta(i,"option"),i.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const s=n.createElement("span");i.appendChild(s),s.textContent=e,this.unFocusable||(i.tabIndex=-1),this.itemEls.push(i),this.addManagedListeners(i,{mouseover:()=>this.highlightItem(i),mousedown:r=>{r.preventDefault(),r.stopPropagation(),this.setValue(t)}}),this.createManagedBean(new rm({getTooltipValue:()=>e,getGui:()=>i,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>s.scrollWidth>s.clientWidth})),this.getGui().appendChild(i)}setValue(t,e){if(this.value===t)return this.fireItemSelected(),this;if(t==null)return this.reset(e),this;const n=this.options.findIndex(i=>i.value===t);if(n!==-1){const i=this.options[n];this.value=i.value,this.displayValue=i.text,this.highlightItem(this.itemEls[n]),e||this.fireChangeEvent()}return this}setValueByIndex(t){return this.setValue(this.options[t].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const t=this.options.findIndex(e=>e.value===this.value);t!==-1&&this.highlightItem(this.itemEls[t])}reset(t){this.value=null,this.displayValue=null,this.clearHighlighted(),t||this.fireChangeEvent()}highlightItem(t){if(!Va(t))return;this.clearHighlighted(),this.highlightedEl=t,this.highlightedEl.classList.add(this.activeClass),jb(this.highlightedEl,!0);const e=this.getGui(),{scrollTop:n,clientHeight:i}=e,{offsetTop:s,offsetHeight:r}=t;(s+r>n+i||s<n)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){!this.highlightedEl||!Va(this.highlightedEl)||(this.highlightedEl.classList.remove(this.activeClass),jb(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},zRe=class extends n${constructor(t){if(super(t,(t==null?void 0:t.template)||`
            <div class="ag-picker-field" role="presentation">
                <div data-ref="eLabel"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
                    <div data-ref="eDisplayField" class="ag-picker-field-display"></div>
                    <div data-ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                </div>
            </div>`,(t==null?void 0:t.agComponents)||[],t==null?void 0:t.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=vt,this.eWrapper=vt,this.eDisplayField=vt,this.eIcon=vt,this.ariaRole=t==null?void 0:t.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!t)return;const{pickerGap:e,maxPickerHeight:n,variableWidth:i,minPickerWidth:s,maxPickerWidth:r}=t;e!=null&&(this.pickerGap=e),this.variableWidth=!!i,n!=null&&this.setPickerMaxHeight(n),s!=null&&this.setPickerMinWidth(s),r!=null&&this.setPickerMaxWidth(r)}wireBeans(t){this.popupService=t.popupService}postConstruct(){super.postConstruct(),this.setupAria();const t=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",t);const e=this.getAriaElement();this.addManagedElementListeners(e,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:n,inputWidth:i}=this.config;if(n){const s=Hr(n,this.gos);s&&this.eIcon.appendChild(s)}i!=null&&this.setInputWidth(i)}setupAria(){const t=this.getAriaElement();t.setAttribute("tabindex",this.gos.get("tabIndex").toString()),Ub(t,!1),this.ariaRole&&ta(t,this.ariaRole)}onLabelOrWrapperMouseDown(t){if(t){const e=this.getFocusableElement();if(e!==this.eWrapper&&(t==null?void 0:t.target)===e)return;t.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(t){switch(t.key){case ve.UP:case ve.DOWN:case ve.ENTER:case ve.SPACE:t.preventDefault(),this.onLabelOrWrapperMouseDown();break;case ve.ESCAPE:this.isPickerDisplayed&&(t.preventDefault(),t.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const t=this.pickerComponent.getGui();t.addEventListener("focusin",this.onPickerFocusIn),t.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const t=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const e=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey:n,pickerAriaLabelValue:i,modalPicker:s=!0}=this.config,r={modal:s,eChild:t,closeOnEsc:!0,closedCallback:()=>{const p=S9(this.gos);this.beforeHidePicker(),p&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:e(n,i),anchorToElement:this.eWrapper};t.style.position="absolute";const o=this.popupService.addPopup(r),{maxPickerHeight:a,minPickerWidth:l,maxPickerWidth:c,variableWidth:d}=this;d?(l&&(t.style.minWidth=l),t.style.width=pN(Wb(this.eWrapper)),c&&(t.style.maxWidth=c)):Yb(t,c??Wb(this.eWrapper));const f=a??`${fN(this.popupService.getPopupParent())}px`;return t.style.setProperty("max-height",f),this.alignPickerToComponent(),o.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerType:t}=this.config,{pickerGap:e}=this,n=this.gos.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:t,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:n,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const t=this.pickerComponent.getGui();t.removeEventListener("focusin",this.onPickerFocusIn),t.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(t){if(!this.isAlive())return;const e=this.getAriaElement();Ub(e,t),this.eWrapper.classList.toggle("ag-picker-expanded",t),this.eWrapper.classList.toggle("ag-picker-collapsed",!t)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(t){var e;(e=this.pickerComponent)!=null&&e.getGui().contains(t.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(t){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",t)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(t){return Yb(this.eWrapper,t),this}getFocusableElement(){return this.eWrapper}setPickerGap(t){return this.pickerGap=t,this}setPickerMinWidth(t){return typeof t=="number"&&(t=`${t}px`),this.minPickerWidth=t??void 0,this}setPickerMaxWidth(t){return typeof t=="number"&&(t=`${t}px`),this.maxPickerWidth=t??void 0,this}setPickerMaxHeight(t){return typeof t=="number"&&(t=`${t}px`),this.maxPickerHeight=t??void 0,this}destroy(){this.hidePicker(),super.destroy()}},bN=class extends zRe{constructor(t){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox",...t})}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:t,value:e,placeholder:n}=this.config;t!=null&&this.addOptions(t),e!=null&&this.setValue(e,!0),n&&e==null&&(this.eDisplayField.textContent=n),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(t){this.eWrapper.contains(t.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new VRe("select",!0)),this.listComponent.setParentComponent(this);const t=this.listComponent.getAriaElement(),e=`ag-select-list-${this.listComponent.getCompId()}`;t.setAttribute("id",e),MTe(this.getAriaElement(),t),this.listComponent.addManagedListeners(this.listComponent,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})}}),this.listComponent.addManagedListeners(this.listComponent,{fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(t){var n;const{key:e}=t;switch(e===ve.TAB&&this.hidePicker(),e){case ve.ENTER:case ve.UP:case ve.DOWN:case ve.PAGE_UP:case ve.PAGE_DOWN:case ve.PAGE_HOME:case ve.PAGE_END:t.preventDefault(),this.isPickerDisplayed?(n=this.listComponent)==null||n.handleKeyDown(t):super.onKeyDown(t);break;case ve.ESCAPE:super.onKeyDown(t);break;case ve.SPACE:this.isPickerDisplayed?t.preventDefault():super.onKeyDown(t);break}}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(t){return t.forEach(e=>this.addOption(e)),this}addOption(t){return this.listComponent.addOption(t),this}clearOptions(){var t;return(t=this.listComponent)==null||t.clearOptions(),this}setValue(t,e,n){if(this.value===t||!this.listComponent)return this;if(n||this.listComponent.setValue(t,!0),this.listComponent.getValue()===this.getValue())return this;let s=this.listComponent.getDisplayValue();return s==null&&this.config.placeholder&&(s=this.config.placeholder),this.eDisplayField.textContent=s,this.setTooltip({newTooltipText:s??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(t,e)}destroy(){this.listComponent&&(this.listComponent=this.destroyBean(this.listComponent)),super.destroy()}},GRe={selector:"AG-SELECT",component:bN},f$=class{constructor(){this.customFilterOptions={}}init(t,e){this.filterOptions=t.filterOptions||e,this.mapCustomOptions(),this.selectDefaultItem(t)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach(t=>{if(typeof t=="string")return;const e=[["displayKey"],["displayName"],["predicate","test"]],n=i=>i.some(s=>t[s]!=null)?!0:(Fe(`ignoring FilterOptionDef as it doesn't contain one of '${i}'`),!1);if(!e.every(n)){this.filterOptions=this.filterOptions.filter(i=>i===t)||[];return}this.customFilterOptions[t.displayKey]=t})}selectDefaultItem(t){if(t.defaultOption)this.defaultOption=t.defaultOption;else if(this.filterOptions.length>=1){const e=this.filterOptions[0];typeof e=="string"?this.defaultOption=e:e.displayKey?this.defaultOption=e.displayKey:Fe("invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else Fe("no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(t){return this.customFilterOptions[t]}},p$=class extends BRe{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(t){const e=this.optionsFactory.getCustomOption(t);if(e){const{numberOfInputs:i}=e;return i??1}return t&&["empty","notBlank","blank"].indexOf(t)>=0?0:t==="inRange"?2:1}onFloatingFilterChanged(t,e){this.setTypeFromFloatingFilter(t),this.setValueFromFloatingFilter(e),this.onUiChanged(!0)}setTypeFromFloatingFilter(t){this.eTypes.forEach((e,n)=>{n===0?e.setValue(t,!0):e.setValue(this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){const t=this.getUiCompleteConditions();return t.length===0?null:this.maxNumConditions>1&&t.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),conditions:t}:t[0]}getConditionTypes(){return this.eTypes.map(t=>t.getValue())}getConditionType(t){return this.eTypes[t].getValue()}getJoinOperator(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"}areModelsEqual(t,e){if(!t&&!e)return!0;if(!t&&e||t&&!e)return!1;const n=!t.operator,i=!e.operator;if(!n&&i||n&&!i)return!1;let r;if(n){const o=t,a=e;r=this.areSimpleModelsEqual(o,a)}else{const o=t,a=e;r=o.operator===a.operator&&Cu(o.conditions,a.conditions,(l,c)=>this.areSimpleModelsEqual(l,c))}return r}shouldRefresh(t){var r;const e=this.getModel(),n=e?e.conditions??[e]:null,i=((r=t.filterOptions)==null?void 0:r.map(o=>typeof o=="string"?o:o.displayKey))??this.getDefaultFilterOptions();return!(!(!n||n.every(o=>i.find(a=>a===o.type)!==void 0))||typeof t.maxNumConditions=="number"&&n&&n.length>t.maxNumConditions)}refresh(t){return!this.shouldRefresh(t)||!super.refresh(t)?!1:(this.setParams(t),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(t){if(t.operator){const n=t;let i=n.conditions;i==null&&(i=[],Fe("Filter model is missing 'conditions'"));const s=this.validateAndUpdateConditions(i),r=this.getNumConditions();if(s<r)this.removeConditionsAndOperators(s);else if(s>r)for(let a=r;a<s;a++)this.createJoinOperatorPanel(),this.createOption();const o=n.operator==="OR";this.eJoinOperatorsAnd.forEach(a=>a.setValue(!o,!0)),this.eJoinOperatorsOr.forEach(a=>a.setValue(o,!0)),i.forEach((a,l)=>{this.eTypes[l].setValue(a.type,!0),this.setConditionIntoUi(a,l)})}else{const n=t;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(n.type,!0),this.setConditionIntoUi(n,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),ui.resolve()}validateAndUpdateConditions(t){let e=t.length;return e>this.maxNumConditions&&(t.splice(this.maxNumConditions),Fe('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),e=this.maxNumConditions),e}doesFilterPass(t){const e=this.getModel();if(e==null)return!0;const{operator:n}=e,i=[];if(n){const r=e;i.push(...r.conditions??[])}else i.push(e);return i[n&&n==="OR"?"some":"every"](r=>this.individualConditionPasses(t,r))}setParams(t){super.setParams(t),this.setNumConditions(t),this.defaultJoinOperator=this.getDefaultJoinOperator(t.defaultJoinOperator),this.filterPlaceholder=t.filterPlaceholder,this.optionsFactory=new f$,this.optionsFactory.init(t,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(t){this.maxNumConditions=t.maxNumConditions??2,this.maxNumConditions<1&&(Fe('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=t.numAlwaysVisibleConditions??1,this.numAlwaysVisibleConditions<1&&(Fe('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(Fe('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const t=this.createManagedBean(new bN);this.eTypes.push(t),t.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(t.getGui());const e=this.createValueElement();this.eConditionBodies.push(e),this.eFilterBody.appendChild(e),this.putOptionsIntoDropdown(t),this.resetType(t);const n=this.getNumConditions()-1;this.forEachPositionInput(n,i=>this.resetInput(i)),this.addChangedListeners(t,n)}createJoinOperatorPanel(){const t=document.createElement("div");this.eJoinOperatorPanels.push(t),t.classList.add("ag-filter-condition");const e=this.createJoinOperator(this.eJoinOperatorsAnd,t,"and"),n=this.createJoinOperator(this.eJoinOperatorsOr,t,"or");this.eFilterBody.appendChild(t);const i=this.eJoinOperatorPanels.length-1,s=this.joinOperatorId++;this.resetJoinOperatorAnd(e,i,s),this.resetJoinOperatorOr(n,i,s),this.isReadOnly()||(e.onValueChange(this.listener),n.onValueChange(this.listener))}createJoinOperator(t,e,n){const i=this.createManagedBean(new HRe);return t.push(i),i.addCssClass("ag-filter-condition-operator"),i.addCssClass(`ag-filter-condition-operator-${n}`),e.appendChild(i.getGui()),i}getDefaultJoinOperator(t){return t==="AND"||t==="OR"?t:"AND"}createFilterListOptions(){const t=this.optionsFactory.getFilterOptions();this.filterListOptions=t.map(e=>typeof e=="string"?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(t){this.filterListOptions.forEach(e=>{t.addOption(e)}),t.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(t){return{value:t,text:this.translate(t)}}createCustomListOption(t){const{displayKey:e}=t,n=this.optionsFactory.getCustomOption(t.displayKey);return{value:e,text:n?this.localeService.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(e)}}createBodyTemplate(){return""}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const t=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,t)}updateNumConditions(){let t=-1,e=!0;for(let n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)?t=n:e=!1;if(this.shouldAddNewConditionAtEnd(e))this.createJoinOperatorPanel(),this.createOption();else{const n=this.lastUiCompletePosition??this.getNumConditions()-2;if(t<n){this.removeConditionsAndOperators(n+1);const i=t+1,s=n-i;s>0&&this.removeConditionsAndOperators(i,s),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=t}updateConditionStatusesAndValues(t,e){this.eTypes.forEach((i,s)=>{const r=this.isConditionDisabled(s,t);i.setDisabled(r||this.filterListOptions.length<=1),s===1&&(fy(this.eJoinOperatorPanels[0],r),this.eJoinOperatorsAnd[0].setDisabled(r),this.eJoinOperatorsOr[0].setDisabled(r))}),this.eConditionBodies.forEach((i,s)=>{Kn(i,this.isConditionBodyVisible(s))});const n=(e??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(i=>{i.setValue(!n,!0)}),this.eJoinOperatorsOr.forEach(i=>{i.setValue(n,!0)}),this.forEachInput((i,s,r,o)=>{this.setElementDisplayed(i,s<o),this.setElementDisabled(i,this.isConditionDisabled(r,t))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(t){return t&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(t,e){if(t>=this.getNumConditions())return;this.removeComponents(this.eTypes,t,e),this.removeElements(this.eConditionBodies,t,e),this.removeValueElements(t,e);const n=Math.max(t-1,0);this.removeElements(this.eJoinOperatorPanels,n,e),this.removeComponents(this.eJoinOperatorsAnd,n,e),this.removeComponents(this.eJoinOperatorsOr,n,e)}removeElements(t,e,n){this.removeItems(t,e,n).forEach(s=>fh(s))}removeComponents(t,e,n){this.removeItems(t,e,n).forEach(s=>{fh(s.getGui()),this.destroyBean(s)})}removeItems(t,e,n){return n==null?t.splice(e):t.splice(e,n)}afterGuiAttached(t){if(super.afterGuiAttached(t),this.resetPlaceholder(),!(t!=null&&t.suppressFocus))if(this.isReadOnly())this.eFilterBody.focus();else{const e=this.getInputs(0)[0];if(!e)return;e instanceof Od&&e.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const t=this.getModel();this.resetUiToActiveModel(t);let e=-1,n=-1,i=!1;const s=this.getJoinOperator();for(let o=this.getNumConditions()-1;o>=0;o--)if(this.isConditionUiComplete(o))e===-1&&(e=o,n=o);else{const a=o>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(o-1),l=o<e;(a||l)&&(this.removeConditionsAndOperators(o,1),i=!0,l&&n--)}let r=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),r=!0),this.shouldAddNewConditionAtEnd(n===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),r=!0),r&&this.updateConditionStatusesAndValues(n,s),i&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=n}getPlaceholderText(t,e){let n=this.translate(t);if(tN(this.filterPlaceholder)){const i=this.filterPlaceholder,s=this.eTypes[e].getValue(),r=this.translate(s);n=i({filterOptionKey:s,filterOption:r,placeholder:n})}else typeof this.filterPlaceholder=="string"&&(n=this.filterPlaceholder);return n}resetPlaceholder(){const t=this.localeService.getLocaleTextFunc();this.forEachInput((e,n,i,s)=>{if(!(e instanceof Od))return;const r=n===0&&s>1?"inRangeStart":n===0?"filterOoo":"inRangeEnd",o=n===0&&s>1?t("ariaFilterFromValue","Filter from value"):n===0?t("ariaFilterValue","Filter Value"):t("ariaFilterToValue","Filter to Value");e.setInputPlaceholder(this.getPlaceholderText(r,i)),e.setInputAriaLabel(o)})}setElementValue(t,e,n){t instanceof Od&&t.setValue(e!=null?String(e):null,!0)}setElementDisplayed(t,e){t instanceof On&&Kn(t.getGui(),e)}setElementDisabled(t,e){t instanceof On&&fy(t.getGui(),e)}attachElementOnChange(t,e){t instanceof Od&&t.onValueChange(e)}forEachInput(t){this.getConditionTypes().forEach((e,n)=>{this.forEachPositionTypeInput(n,e,t)})}forEachPositionInput(t,e){const n=this.getConditionType(t);this.forEachPositionTypeInput(t,n,e)}forEachPositionTypeInput(t,e,n){const i=this.getNumberOfInputs(e),s=this.getInputs(t);for(let r=0;r<s.length;r++){const o=s[r];o!=null&&n(o,r,t,i)}}isConditionDisabled(t,e){return this.isReadOnly()?!0:t===0?!1:t>e+1}isConditionBodyVisible(t){const e=this.getConditionType(t);return this.getNumberOfInputs(e)>0}isConditionUiComplete(t){return!(t>=this.getNumConditions()||this.getConditionType(t)==="empty"||this.getValues(t).some(n=>n==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const t=[];for(let e=0;e<this.getNumConditions();e++)this.isConditionUiComplete(e)&&t.push(this.createCondition(e));return t}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let t=this.getNumConditions();t<this.numAlwaysVisibleConditions;t++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(t){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(e=>this.resetType(e)),this.eJoinOperatorsAnd.forEach((e,n)=>this.resetJoinOperatorAnd(e,n,this.joinOperatorId+n)),this.eJoinOperatorsOr.forEach((e,n)=>this.resetJoinOperatorOr(e,n,this.joinOperatorId+n)),this.joinOperatorId++,this.forEachInput(e=>this.resetInput(e)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,t||this.onUiChanged(),ui.resolve()}resetType(t){const n=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");t.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(n).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(t,e,n){this.resetJoinOperator(t,e,this.isDefaultOperator("AND"),this.translate("andCondition"),n)}resetJoinOperatorOr(t,e,n){this.resetJoinOperator(t,e,this.isDefaultOperator("OR"),this.translate("orCondition"),n)}resetJoinOperator(t,e,n,i,s){this.updateJoinOperatorDisabled(t.setValue(n,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${s}`).setLabel(i),e)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((t,e)=>this.updateJoinOperatorDisabled(t,e)),this.eJoinOperatorsOr.forEach((t,e)=>this.updateJoinOperatorDisabled(t,e))}updateJoinOperatorDisabled(t,e){t.setDisabled(this.isReadOnly()||e>0)}resetInput(t){this.setElementValue(t,null),this.setElementDisabled(t,this.isReadOnly())}setConditionIntoUi(t,e){const n=this.mapValuesFromModel(t);this.forEachInput((i,s,r)=>{r===e&&this.setElementValue(i,n[s]!=null?n[s]:null)})}setValueFromFloatingFilter(t){this.forEachInput((e,n,i)=>{this.setElementValue(e,n===0&&i===0?t:null,!0)})}isDefaultOperator(t){return t===this.defaultJoinOperator}addChangedListeners(t,e){this.isReadOnly()||(t.onValueChange(this.listener),this.forEachPositionInput(e,n=>{this.attachElementOnChange(n,this.listener)}))}individualConditionPasses(t,e){const n=this.getCellValue(t.node),i=this.mapValuesFromModel(e),s=this.optionsFactory.getCustomOption(e.type),r=this.evaluateCustomFilter(s,i,n);return r??(n==null?this.evaluateNullValue(e.type):this.evaluateNonNullValue(i,n,e,t))}evaluateCustomFilter(t,e,n){if(t==null)return;const{predicate:i}=t;if(i!=null&&!e.some(s=>s==null))return i(e,n)}isBlank(t){return t==null||typeof t=="string"&&t.trim().length===0}hasInvalidInputs(){return!1}},m$=class extends p${setParams(t){super.setParams(t),this.scalarFilterParams=t}evaluateNullValue(t){switch(t){case"equals":if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case"notEqual":if(this.scalarFilterParams.includeBlanksInNotEqual)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case"lessThan":case"lessThanOrEqual":if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case"inRange":if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(t,e,n){const i=this.comparator(),s=t[0]!=null?i(t[0],e):0;switch(n.type){case"equals":return s===0;case"notEqual":return s!==0;case"greaterThan":return s>0;case"greaterThanOrEqual":return s>=0;case"lessThan":return s<0;case"lessThanOrEqual":return s<=0;case"inRange":{const r=i(t[1],e);return this.scalarFilterParams.inRangeInclusive?s>=0&&r<=0:s>0&&r<0}case"blank":return this.isBlank(e);case"notBlank":return!this.isBlank(e);default:return Fe('Unexpected type of filter "'+n.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}},URe=65,jRe=67,WRe=86,$Re=68,qRe=90,KRe=89;function g$(t){var n;return t.altKey||t.ctrlKey||t.metaKey?!1:((n=t.key)==null?void 0:n.length)===1}function gD(t,e,n,i,s){const r=i?i.getColDef().suppressKeyboardEvent:void 0;if(!r)return!1;const o=t.addGridCommonParams({event:e,editing:s,column:i,node:n,data:n.data,colDef:i.getColDef()});return!!(r&&r(o))}function YRe(t,e,n,i){const s=i.getDefinition(),r=s&&s.suppressHeaderKeyboardEvent;if(!Ke(r))return!1;const o=t.addGridCommonParams({colDef:s,column:i,headerRowIndex:n,event:e});return!!r(o)}function XRe(t){const{keyCode:e}=t;let n;switch(e){case URe:n=ve.A;break;case jRe:n=ve.C;break;case WRe:n=ve.V;break;case $Re:n=ve.D;break;case qRe:n=ve.Z;break;case KRe:n=ve.Y;break;default:n=t.code}return n}function ZRe(t,e=!1){return t===ve.DELETE?!0:!e&&t===ve.BACKSPACE?j9():!1}var Ph=class extends Od{constructor(t,e="ag-text-field",n="text"){super(t,e,n)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(t,e){return this.eInput.value!==t&&(this.eInput.value=Ke(t)?t:""),super.setValue(t,e)}setStartValue(t){this.setValue(t,!0)}preventDisallowedCharacters(){const t=new RegExp(`[${this.config.allowedCharPattern}]`),e=n=>{g$(n)&&n.key&&!t.test(n.key)&&n.preventDefault()};this.addManagedListeners(this.eInput,{keydown:e,paste:n=>{var s;const i=(s=n.clipboardData)==null?void 0:s.getData("text");i&&i.split("").some(r=>!t.test(r))&&n.preventDefault()}})}},$1={selector:"AG-INPUT-TEXT-FIELD",component:Ph},SN=class extends Ph{constructor(t){super(t,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListeners(this.eInput,{blur:()=>{const s=parseFloat(this.eInput.value),r=isNaN(s)?"":this.normalizeValue(s.toString());this.value!==r&&this.setValue(r)},wheel:this.onWheel.bind(this)}),this.eInput.step="any";const{precision:t,min:e,max:n,step:i}=this.config;typeof t=="number"&&this.setPrecision(t),typeof e=="number"&&this.setMin(e),typeof n=="number"&&this.setMax(n),typeof i=="number"&&this.setStep(i)}onWheel(t){Zn(this.gos)===this.eInput&&t.preventDefault()}normalizeValue(t){if(t==="")return"";this.precision!=null&&(t=this.adjustPrecision(t));const e=parseFloat(t);return this.min!=null&&e<this.min?t=this.min.toString():this.max!=null&&e>this.max&&(t=this.max.toString()),t}adjustPrecision(t,e){if(this.precision==null)return t;if(e){const i=parseFloat(t).toFixed(this.precision);return parseFloat(i).toString()}const n=String(t).split(".");if(n.length>1){if(n[1].length<=this.precision)return t;if(this.precision>0)return`${n[0]}.${n[1].slice(0,this.precision)}`}return n[0]}setMin(t){return this.min===t?this:(this.min=t,Ro(this.eInput,"min",t),this)}setMax(t){return this.max===t?this:(this.max=t,Ro(this.eInput,"max",t),this)}setPrecision(t){return this.precision=t,this}setStep(t){return this.step===t?this:(this.step=t,Ro(this.eInput,"step",t),this)}setValue(t,e){return this.setValueOrInputValue(n=>super.setValue(n,e),()=>this,t)}setStartValue(t){return this.setValueOrInputValue(e=>super.setValue(e,!0),e=>{this.eInput.value=e},t)}setValueOrInputValue(t,e,n){if(Ke(n)){let i=this.isScientificNotation(n);if(i&&this.eInput.validity.valid)return t(n);if(!i){n=this.adjustPrecision(n);const s=this.normalizeValue(n);i=n!=s}if(i)return e(n)}return t(n)}getValue(){if(!this.eInput.validity.valid)return;const t=this.eInput.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):super.getValue()}isScientificNotation(t){return typeof t=="string"&&t.includes("e")}},JRe={selector:"AG-INPUT-NUMBER-FIELD",component:SN},v$=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],EN=class{constructor(t,e,n){this.localeService=t,this.optionsFactory=e,this.valueFormatter=n}getModelAsString(t){if(!t)return null;const e=t.operator!=null,n=this.localeService.getLocaleTextFunc();if(e){const i=t,r=(i.conditions??[]).map(a=>this.getModelAsString(a)),o=i.operator==="AND"?"andCondition":"orCondition";return r.join(` ${n(o,h$[o])} `)}else{if(t.type==="blank"||t.type==="notBlank")return n(t.type,t.type);{const i=t,s=this.optionsFactory.getCustomOption(i.type),{displayKey:r,displayName:o,numberOfInputs:a}=s||{};return r&&o&&a===0?(n(r,o),o):this.conditionToString(i,s)}}}updateParams(t){this.optionsFactory=t.optionsFactory}formatValue(t){return this.valueFormatter?this.valueFormatter(t??null)??"":String(t)}},y$=class extends EN{conditionToString(t,e){const{numberOfInputs:n}=e||{};return t.type=="inRange"||n===2?`${this.formatValue(t.filter)}-${this.formatValue(t.filterTo)}`:t.filter!=null?this.formatValue(t.filter):`${t.type}`}};function vD(t){const{allowedCharPattern:e}=t??{};return e??null}var QRe=class extends m${constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(t){return this.numberFilterParams.allowedCharPattern!==t.allowedCharPattern?!1:super.refresh(t)}mapValuesFromModel(t){const{filter:e,filterTo:n,type:i}=t||{};return[this.processValue(e),this.processValue(n)].slice(0,this.getNumberOfInputs(i))}getDefaultDebounceMs(){return 500}comparator(){return(t,e)=>t===e?0:t<e?1:-1}setParams(t){this.numberFilterParams=t,super.setParams(t),this.filterModelFormatter=new y$(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return v$}setElementValue(t,e,n){const i=!n&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(e??null):e;super.setElementValue(t,i)}createValueElement(){const t=vD(this.numberFilterParams),e=document.createElement("div");return e.classList.add("ag-filter-body"),ta(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from",t),this.createFromToElement(e,this.eValuesTo,"to",t),e}createFromToElement(t,e,n,i){const s=this.createManagedBean(i?new Ph({allowedCharPattern:i}):new SN);s.addCssClass(`ag-filter-${n}`),s.addCssClass("ag-filter-filter"),e.push(s),t.appendChild(s.getGui())}removeValueElements(t,e){this.removeComponents(this.eValuesFrom,t,e),this.removeComponents(this.eValuesTo,t,e)}getValues(t){const e=[];return this.forEachPositionInput(t,(n,i,s,r)=>{i<r&&e.push(this.processValue(this.stringToFloat(n.getValue())))}),e}areSimpleModelsEqual(t,e){return t.filter===e.filter&&t.filterTo===e.filterTo&&t.type===e.type}getFilterType(){return"number"}processValue(t){return t==null||isNaN(t)?null:t}stringToFloat(t){if(typeof t=="number")return t;let e=kl(t);return e!=null&&e.trim()===""&&(e=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(e):e==null||e.trim()==="-"?null:parseFloat(e)}createCondition(t){const e=this.getConditionType(t),n={filterType:this.getFilterType(),type:e},i=this.getValues(t);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n}getInputs(t){return t>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[t],this.eValuesTo[t]]}getModelAsString(t){return this.filterModelFormatter.getModelAsString(t)??""}hasInvalidInputs(){let t=!1;return this.forEachInput(e=>{if(!e.getInputElement().validity.valid){t=!0;return}}),t}},x$=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],C$=class extends EN{conditionToString(t,e){const{numberOfInputs:n}=e||{};return t.type=="inRange"||n===2?`${t.filter}-${t.filterTo}`:t.filter!=null?`${t.filter}`:`${t.type}`}};function w$(t){const e=t&&t.trim();return e===""?t:e}var eAe=class extends p${constructor(){super("textFilter"),this.defaultFormatter=t=>t,this.defaultLowercaseFormatter=t=>t==null?null:t.toString().toLowerCase(),this.defaultMatcher=({filterOption:t,value:e,filterText:n})=>{if(n==null)return!1;switch(t){case"contains":return e.indexOf(n)>=0;case"notContains":return e.indexOf(n)<0;case"equals":return e===n;case"notEqual":return e!=n;case"startsWith":return e.indexOf(n)===0;case"endsWith":{const i=e.lastIndexOf(n);return i>=0&&i===e.length-n.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[]}getDefaultDebounceMs(){return 500}setParams(t){this.textFilterParams=t,super.setParams(t),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new C$(this.localeService,this.optionsFactory)}getTextMatcher(){const t=this.textFilterParams.textCustomComparator;return t?(Fe("textCustomComparator is deprecated, use textMatcher instead."),({filterOption:e,value:n,filterText:i})=>t(e,n,i)):this.textFilterParams.textMatcher||this.defaultMatcher}createCondition(t){const e=this.getConditionType(t),n={filterType:this.getFilterType(),type:e},i=this.getValuesWithSideEffects(t,!0);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n}getFilterType(){return"text"}areSimpleModelsEqual(t,e){return t.filter===e.filter&&t.filterTo===e.filterTo&&t.type===e.type}getInputs(t){return t>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[t],this.eValuesTo[t]]}getValues(t){return this.getValuesWithSideEffects(t,!1)}getValuesWithSideEffects(t,e){const n=[];return this.forEachPositionInput(t,(i,s,r,o)=>{if(s<o){let a=kl(i.getValue());e&&this.textFilterParams.trimInput&&(a=w$(a)??null,i.setValue(a,!0)),n.push(a)}}),n}getDefaultFilterOptions(){return x$}createValueElement(){const t=document.createElement("div");return t.classList.add("ag-filter-body"),ta(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from"),this.createFromToElement(t,this.eValuesTo,"to"),t}createFromToElement(t,e,n){const i=this.createManagedBean(new Ph);i.addCssClass(`ag-filter-${n}`),i.addCssClass("ag-filter-filter"),e.push(i),t.appendChild(i.getGui())}removeValueElements(t,e){this.removeComponents(this.eValuesFrom,t,e),this.removeComponents(this.eValuesTo,t,e)}mapValuesFromModel(t){const{filter:e,filterTo:n,type:i}=t||{};return[e||null,n||null].slice(0,this.getNumberOfInputs(i))}evaluateNullValue(t){return t?["notEqual","notContains","blank"].indexOf(t)>=0:!1}evaluateNonNullValue(t,e,n,i){const s=t.map(p=>this.formatter(p))||[],r=this.formatter(e),{api:o,colDef:a,column:l,context:c,textFormatter:d}=this.textFilterParams;if(n.type==="blank")return this.isBlank(e);if(n.type==="notBlank")return!this.isBlank(e);const f={api:o,colDef:a,column:l,context:c,node:i.node,data:i.data,filterOption:n.type,value:r,textFormatter:d};return s.some(p=>this.matcher({...f,filterText:p}))}getModelAsString(t){return this.filterModelFormatter.getModelAsString(t)??""}};function b$(t){if(typeof t=="number")return t;if(typeof t=="string"){const e=parseInt(t);return isNaN(e)?void 0:e}}function xa(t,e=Number.MAX_VALUE){return n=>{const i=b$(n);if(!(i==null||i<t||i>e))return i}}function Ev(t,e){return t.toString().padStart(e,"0")}function tAe(t,e){const n=[];for(let i=t;i<=e;i++)n.push(i);return n}function nAe(t,e,n){return typeof t!="number"?"":t.toString().replace(".",n).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${e}`)}function Ao(t,e=!0,n="-"){if(!t)return null;let i=[t.getFullYear(),t.getMonth()+1,t.getDate()].map(s=>Ev(s,2)).join(n);return e&&(i+=" "+[t.getHours(),t.getMinutes(),t.getSeconds()].map(s=>Ev(s,2)).join(":")),i}var yA=t=>{if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function Mv(t,e="YYYY-MM-DD"){const n=Ev(t.getFullYear(),4),i=["January","February","March","April","May","June","July","August","September","October","November","December"],s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r={YYYY:()=>n.slice(n.length-4,n.length),YY:()=>n.slice(n.length-2,n.length),Y:()=>`${t.getFullYear()}`,MMMM:()=>i[t.getMonth()],MMM:()=>i[t.getMonth()].slice(0,3),MM:()=>Ev(t.getMonth()+1,2),Mo:()=>`${t.getMonth()+1}${yA(t.getMonth()+1)}`,M:()=>`${t.getMonth()+1}`,Do:()=>`${t.getDate()}${yA(t.getDate())}`,DD:()=>Ev(t.getDate(),2),D:()=>`${t.getDate()}`,dddd:()=>s[t.getDay()],ddd:()=>s[t.getDay()].slice(0,3),dd:()=>s[t.getDay()].slice(0,2),do:()=>`${t.getDay()}${yA(t.getDay())}`,d:()=>`${t.getDay()}`},o=new RegExp(Object.keys(r).join("|"),"g");return e.replace(o,a=>a in r?r[a]():a)}function xr(t){if(!t)return null;const[e,n]=t.split(" ");if(!e)return null;const i=e.split("-").map(f=>parseInt(f,10));if(i.filter(f=>!isNaN(f)).length!==3)return null;const[s,r,o]=i,a=new Date(s,r-1,o);if(a.getFullYear()!==s||a.getMonth()!==r-1||a.getDate()!==o)return null;if(!n||n==="00:00:00")return a;const[l,c,d]=n.split(":").map(f=>parseInt(f,10));return l>=0&&l<24&&a.setHours(l),c>=0&&c<60&&a.setMinutes(c),d>=0&&d<60&&a.setSeconds(d),a}var S$=class{constructor(t,e,n,i,s){this.alive=!0,this.context=t,this.eParent=i,e.getDateCompDetails(n).newAgStackInstance().then(a=>{if(!this.alive){t.destroyBean(a);return}this.dateComp=a,a&&(i.appendChild(a.getGui()),a.afterGuiAttached&&a.afterGuiAttached(),this.tempValue&&a.setDate(this.tempValue),this.disabled!=null&&this.setDateCompDisabled(this.disabled),s==null||s(this))})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(t){this.dateComp?this.dateComp.setDate(t):this.tempValue=t}setDisabled(t){this.dateComp?this.setDateCompDisabled(t):this.disabled=t}setDisplayed(t){Kn(this.eParent,t)}setInputPlaceholder(t){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(t)}setInputAriaLabel(t){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(t)}afterGuiAttached(t){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(t)}updateParams(t){var n,i;let e=!1;(n=this.dateComp)!=null&&n.refresh&&typeof this.dateComp.refresh=="function"&&this.dateComp.refresh(t)!==null&&(e=!0),!e&&((i=this.dateComp)!=null&&i.onParamsUpdated)&&typeof this.dateComp.onParamsUpdated=="function"&&this.dateComp.onParamsUpdated(t)!==null&&Fe("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}setDateCompDisabled(t){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(t)}},E$=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],M$=class extends EN{constructor(t,e,n){super(e,n),this.dateFilterParams=t}conditionToString(t,e){const{type:n}=t,{numberOfInputs:i}=e||{},s=n=="inRange"||i===2,r=xr(t.dateFrom),o=xr(t.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(s){const l=r!==null?Mv(r,a):"null",c=o!==null?Mv(o,a):"null";return`${l}-${c}`}return r!=null?Mv(r,a):`${n}`}updateParams(t){super.updateParams(t),this.dateFilterParams=t.dateFilterParams}},hV=1e3,fV=1/0,iAe=class extends m${constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=hV,this.maxValidYear=fV,this.minValidDate=null,this.maxValidDate=null}wireBeans(t){super.wireBeans(t),this.context=t.context,this.userComponentFactory=t.userComponentFactory}afterGuiAttached(t){super.afterGuiAttached(t),this.dateConditionFromComps[0].afterGuiAttached(t)}mapValuesFromModel(t){const{dateFrom:e,dateTo:n,type:i}=t||{};return[e&&xr(e)||null,n&&xr(n)||null].slice(0,this.getNumberOfInputs(i))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(t,e){const n=e;return e==null||n<t?-1:n>t?1:0}setParams(t){this.dateFilterParams=t,super.setParams(t);const e=(n,i)=>{if(t[n]!=null)if(isNaN(t[n]))Fe(`DateFilter ${n} is not a number`);else return t[n]==null?i:Number(t[n]);return i};this.minValidYear=e("minValidYear",hV),this.maxValidYear=e("maxValidYear",fV),this.minValidYear>this.maxValidYear&&Fe("DateFilter minValidYear should be <= maxValidYear"),t.minValidDate?this.minValidDate=t.minValidDate instanceof Date?t.minValidDate:xr(t.minValidDate):this.minValidDate=null,t.maxValidDate?this.maxValidDate=t.maxValidDate instanceof Date?t.maxValidDate:xr(t.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&Fe("DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new M$(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(t){const e=new S$(this.context,this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},t);return this.addDestroyFunc(()=>e.destroy()),e}setElementValue(t,e){t.setDate(e)}setElementDisplayed(t,e){t.setDisplayed(e)}setElementDisabled(t,e){t.setDisabled(e)}getDefaultFilterOptions(){return E$}createValueElement(){const e=di(this.gos).createElement("div");return e.classList.add("ag-filter-body"),this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(t,e,n,i){const r=di(this.gos).createElement("div");r.classList.add(`ag-filter-${i}`),r.classList.add(`ag-filter-date-${i}`),e.push(r),t.appendChild(r),n.push(this.createDateCompWrapper(r))}removeValueElements(t,e){this.removeDateComps(this.dateConditionFromComps,t,e),this.removeDateComps(this.dateConditionToComps,t,e),this.removeItems(this.eConditionPanelsFrom,t,e),this.removeItems(this.eConditionPanelsTo,t,e)}removeDateComps(t,e,n){this.removeItems(t,e,n).forEach(s=>s.destroy())}isValidDateValue(t){if(t===null)return!1;if(this.minValidDate){if(t<this.minValidDate)return!1}else if(t.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(t>this.maxValidDate)return!1}else if(t.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(t){if(!super.isConditionUiComplete(t))return!1;let e=!0;return this.forEachInput((n,i,s,r)=>{s!==t||!e||i>=r||(e=e&&this.isValidDateValue(n.getDate()))}),e}areSimpleModelsEqual(t,e){return t.dateFrom===e.dateFrom&&t.dateTo===e.dateTo&&t.type===e.type}getFilterType(){return"date"}createCondition(t){const e=this.getConditionType(t),n={},i=this.getValues(t);return i.length>0&&(n.dateFrom=Ao(i[0])),i.length>1&&(n.dateTo=Ao(i[1])),{dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:e,...n}}resetPlaceholder(){const t=this.localeService.getLocaleTextFunc(),e=this.translate("dateFormatOoo"),n=t("ariaFilterValue","Filter Value");this.forEachInput(i=>{i.setInputPlaceholder(e),i.setInputAriaLabel(n)})}getInputs(t){return t>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[t],this.dateConditionToComps[t]]}getValues(t){const e=[];return this.forEachPositionInput(t,(n,i,s,r)=>{i<r&&e.push(n.getDate())}),e}translate(t){return t==="lessThan"?super.translate("before"):t==="greaterThan"?super.translate("after"):super.translate(t)}getModelAsString(t){return this.filterModelFormatter.getModelAsString(t)??""}},MN=class extends Ee{constructor(t,e,n,i){super(),this.columnOrGroup=t,this.columnOrGroup=t,this.eCell=e,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=i,this.beans=n}setColsSpanning(t){this.colsSpanning=t,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gos.get("enableRtl")&&this.colsSpanning?Kt(this.colsSpanning):this.columnOrGroup}postConstruct(){const t=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:t}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:t}),this.addManagedPropertyListener("domLayout",t)}setLeftFirstTime(){const t=this.beans.gos.get("suppressColumnMoveAnimation"),e=Ke(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&e&&!t?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const t=this.getColumnOrGroup(),e=t.getLeft(),n=t.getOldLeft(),i=this.modifyLeftForPrintLayout(t,n),s=this.modifyLeftForPrintLayout(t,e);this.setLeft(i),this.actualLeft=s,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===s&&this.setLeft(s)})}onLeftChanged(){const t=this.getColumnOrGroup(),e=t.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(t,e),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(t,e){if(!ds(this.beans.gos,"print")||t.getPinned()==="left")return e;const i=this.beans.visibleColsService.getColsLeftWidth();if(t.getPinned()==="right"){const s=this.beans.visibleColsService.getBodyContainerWidth();return i+s+e}return i+e}setLeft(t){if(Ke(t)&&(this.eCell.style.left=`${t}px`),Ei(this.columnOrGroup)){const e=this.columnOrGroup.getLeafColumns();if(!e.length)return;e.length>1&&bTe(this.ariaEl,e.length)}}},sAe="ag-column-first",rAe="ag-column-last";function T$(t,e,n,i){return Yt(t)?[]:aAe(t.headerClass,t,e,n,i)}function R$(t,e,n){t.addOrRemoveCssClass(sAe,n.isColAtEdge(e,"first")),t.addOrRemoveCssClass(rAe,n.isColAtEdge(e,"last"))}function oAe(t,e,n,i){return e.addGridCommonParams({colDef:t,column:n,columnGroup:i})}function aAe(t,e,n,i,s){if(Yt(t))return[];let r;if(typeof t=="function"){const o=oAe(e,n,i,s);r=t(o)}else r=t;return typeof r=="string"?[r]:Array.isArray(r)?[...r]:[]}var lAe=0,A$=class P$ extends Ee{constructor(e,n,i){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=e,this.parentRowCtrl=i,this.beans=n,this.instanceId=e.getUniqueId()+"-"+lAe++}wireBeans(e){this.pinnedWidthService=e.pinnedWidthService,this.focusService=e.focusService,this.userComponentFactory=e.userComponentFactory,this.ctrlsService=e.ctrlsService,this.dragAndDropService=e.dragAndDropService,this.menuService=e.menuService}postConstruct(){const e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}shouldStopEventPropagation(e){const{headerRowIndex:n,column:i}=this.focusService.getFocusedHeader();return YRe(this.gos,e,n,i)}getWrapperHasFocus(){return Zn(this.gos)===this.eGui}setGui(e,n){this.eGui=e,this.addDomData(n),n.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),n.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onGuiFocus(){this.eventService.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){const{wrapperElement:n,checkMeasuringCallback:i,compBean:s}=e,{animationFrameService:r,resizeObserverService:o,columnModel:a,gos:l}=this.beans,c=C=>{if(!this.isAlive()||!s.isAlive())return;const{paddingTop:x,paddingBottom:w,borderBottomWidth:M,borderTopWidth:S}=Rh(this.getGui()),R=x+w+M+S,F=n.offsetHeight+R;if(C<5){const N=di(l),I=!N||!N.contains(n),_=F==0;if(I||_){r.requestAnimationFrame(()=>c(C+1));return}}a.setColHeaderHeight(this.column,F)};let d=!1,f;const p=()=>{const C=this.column.isAutoHeaderHeight();C&&!d&&m(),!C&&d&&y()},m=()=>{d=!0,c(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),f=o.observeResize(n,()=>c(0))},y=()=>{d=!1,f&&f(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),f=void 0};p(),s.addDestroyFunc(()=>y()),s.addManagedListeners(this.column,{widthChanged:()=>d&&c(0)}),s.addManagedEventListeners({sortChanged:()=>{d&&window.setTimeout(()=>c(0))}}),i&&i(p)}onDisplayedColumnsChanged(){const{comp:e,column:n,beans:i,eGui:s}=this;!e||!n||!s||(R$(e,n,i.visibleColsService),G9(s,i.visibleColsService.getAriaColIndex(n)))}addResizeAndMoveKeyboardListeners(e){this.resizeFeature&&e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const e=this.focusService.isHeaderFocusSuppressed();this.eGui&&Ro(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){var o;const n=Zn(this.gos),i=e.key===ve.LEFT||e.key===ve.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),n!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||i)&&(e.preventDefault(),e.stopImmediatePropagation()),!i))return;const s=e.key===ve.LEFT!==this.gos.get("enableRtl"),r=a$[s?"Left":"Right"];if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const a=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(a,e.shiftKey),(o=this.resizeFeature)==null||o.toggleColumnResizing(!0)}else this.moveHeader(r)}getViewportAdjustedResizeDiff(e){let n=this.getResizeDiff(e);if(this.column.getPinned()){const s=this.pinnedWidthService.getPinnedLeftWidth(),r=this.pinnedWidthService.getPinnedRightWidth(),o=g0(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(s+r+n>o)if(o>s+r)n=o-s-r;else return 0}return n}getResizeDiff(e){let n=e.key===ve.LEFT!==this.gos.get("enableRtl");const i=this.column.getPinned(),s=this.gos.get("enableRtl");return i&&s!==(i==="right")&&(n=!n),(n?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{var e;(e=this.resizeFeature)==null||e.toggleColumnResizing(!1)},150))}handleKeyDown(e){const n=this.getWrapperHasFocus();switch(e.key){case ve.PAGE_DOWN:case ve.PAGE_UP:case ve.PAGE_HOME:case ve.PAGE_END:n&&e.preventDefault()}}addDomData(e){const n=P$.DOM_DATA_KEY_HEADER_CTRL;dh(this.gos,this.eGui,n,this),e.addDestroyFunc(()=>dh(this.gos,this.eGui,n,null))}getGui(){return this.eGui}focus(e){return this.eGui?(this.lastFocusEvent=e||null,this.eGui.focus(),!0):!1}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,n,i){const s=e??n;this.gos.get("preventDefaultOnContextMenu")&&s.preventDefault(),this.menuService.isHeaderContextMenuEnabled(i)&&this.menuService.showHeaderContextMenu(i,e,n),this.dispatchColumnMouseEvent("columnHeaderContextMenu",i)}dispatchColumnMouseEvent(e,n){this.eventService.dispatchEvent({type:e,column:n})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null}};A$.DOM_DATA_KEY_HEADER_CTRL="headerCtrl";var q1=A$,TN=class extends Ee{wireBeans(t){this.columnHoverService=t.columnHoverService}constructor(t,e){super(),this.columns=t,this.element=e}postConstruct(){this.gos.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListeners(this.element,{mouseout:this.onMouseOut.bind(this),mouseover:this.onMouseOver.bind(this)})}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}},cAe=class extends q1{constructor(t,e,n){super(t,e,n),this.iconCreated=!1,this.column=t}setComp(t,e,n,i,s){this.comp=t,s=p0(this,this.beans.context,s),this.eButtonShowMainFilter=n,this.eFloatingFilterBody=i,this.setGui(e,s),this.setupActive(),this.setupWidth(s),this.setupLeft(s),this.setupHover(s),this.setupFocus(s),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(s),this.setupUi(),s.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(s),s.addManagedListeners(this.column,{colDefChanged:()=>this.onColDefChanged(s)}),s.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}setupActive(){const t=this.column.getColDef(),e=!!t.filter,n=!!t.floatingFilter;this.active=e&&n}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const t=Hr("filter",this.gos,this.column);t&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(t))}setupFocus(t){t.createManagedBean(new Ah(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const t=this.localeService.getLocaleTextFunc();Bp(this.eButtonShowMainFilter,t("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(t){if(Zn(this.gos)===this.eGui)return;const i=this.focusService.findNextFocusableElement(this.eGui,null,t.shiftKey);if(i){this.beans.headerNavigationService.scrollToColumn(this.column),t.preventDefault(),i.focus();return}const s=this.findNextColumnWithFloatingFilter(t.shiftKey);s&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:s},event:t})&&t.preventDefault()}findNextColumnWithFloatingFilter(t){const e=this.beans.visibleColsService;let n=this.column;do if(n=t?e.getColBefore(n):e.getColAfter(n),!n)break;while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n}handleKeyDown(t){super.handleKeyDown(t);const e=this.getWrapperHasFocus();switch(t.key){case ve.UP:case ve.DOWN:e||t.preventDefault();case ve.LEFT:case ve.RIGHT:if(e)return;t.stopPropagation();case ve.ENTER:e&&this.focusService.focusInto(this.eGui)&&t.preventDefault();break;case ve.ESCAPE:e||this.eGui.focus()}}onFocusIn(t){if(this.eGui.contains(t.relatedTarget))return;const n=!!t.relatedTarget&&!t.relatedTarget.classList.contains("ag-floating-filter"),i=!!t.relatedTarget&&vp(t.relatedTarget,"ag-floating-filter");if(n&&i&&t.target===this.eGui){const r=this.lastFocusEvent,o=!!(r&&r.key===ve.TAB);if(r&&o){const a=r.shiftKey;this.focusService.focusInto(this.eGui,a)}}const s=this.getRowIndex();this.beans.focusService.setFocusedHeader(s,this.column)}setupHover(t){t.createManagedBean(new TN([this.column],this.eGui));const e=()=>{if(!this.gos.get("columnHoverHighlight"))return;const n=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",n)};t.addManagedEventListeners({columnHoverChanged:e}),e()}setupLeft(t){const e=new MN(this.column,this.eGui,this.beans);t.createManagedBean(e)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){var e;if(!this.active)return;const t=(e=this.beans.filterManager)==null?void 0:e.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());t&&this.setCompDetails(t)}setCompDetails(t){this.userCompDetails=t,this.comp.setCompDetails(t)}showParentFilter(){const t=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:t,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(t){if(!this.active)return;const{filterManager:e}=this.beans,n=i=>{if((i==null?void 0:i.source)==="filterDestroyed"&&!this.isAlive())return;const s=this.comp.getFloatingFilterComp();s&&s.then(r=>{if(r){const o=e==null?void 0:e.getCurrentFloatingFilterParentModel(this.column),a=i?{...i,columns:i.columns??[],source:i.source==="api"?"api":"columnFilter"}:null;r.onParentModelChanged(o,a)}})};[this.destroySyncListener]=t.addManagedListeners(this.column,{filterChanged:n}),e!=null&&e.isFilterActive(this.column)&&n(null)}setupWidth(t){const e=()=>{const n=`${this.column.getActualWidth()}px`;this.comp.setWidth(n)};t.addManagedListeners(this.column,{widthChanged:e}),e()}setupFilterChangedListener(t){this.active&&([this.destroyFilterChangedListener]=t.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){var t;if(!this.suppressFilterButton&&this.comp){const e=!!((t=this.beans.filterManager)!=null&&t.isFilterAllowed(this.column));this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(t){var r;const e=this.active;this.setupActive();const n=!e&&this.active;e&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const i=this.active?(r=this.beans.filterManager)==null?void 0:r.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,s=this.comp.getFloatingFilterComp();!s||!i?this.updateCompDetails(t,i,n):s.then(o=>{var a;!o||(a=this.beans.filterManager)!=null&&a.areFilterCompsDifferent(this.userCompDetails??null,i)?this.updateCompDetails(t,i,n):this.updateFloatingFilterParams(i)})}updateCompDetails(t,e,n){this.isAlive()&&(this.setCompDetails(e),this.setupFilterButton(),this.setupUi(),n&&(this.setupSyncWithFilter(t),this.setupFilterChangedListener(t)))}updateFloatingFilterParams(t){var n;if(!t)return;const e=t.params;(n=this.comp.getFloatingFilterComp())==null||n.then(i=>{let s=!1;i!=null&&i.refresh&&typeof i.refresh=="function"&&i.refresh(e)!==null&&(s=!0),!s&&(i!=null&&i.onParamsUpdated)&&typeof i.onParamsUpdated=="function"&&i.onParamsUpdated(e)!==null&&Fe("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")})}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};var Mt="32.3.3";function uAe(t){var e,n;return!!((e=t.filterManager)!=null&&e.isColumnFilterPresent())||!!((n=t.filterManager)!=null&&n.isAggregateFilterPresent())}function dAe(t,e,n){var i;return(i=t.filterManager)==null?void 0:i.getFilterInstance(e,n)}function hAe(t,e){var n;return((n=t.filterManager)==null?void 0:n.getColumnFilterInstance(e))??Promise.resolve(void 0)}function fAe(t,e){var i;const n=t.columnModel.getColDefCol(e);if(n)return(i=t.filterManager)==null?void 0:i.destroyFilter(n,"api")}function pAe(t,e){t.frameworkOverrides.wrapIncoming(()=>{var n;return(n=t.filterManager)==null?void 0:n.setFilterModel(e)})}function mAe(t){var e;return((e=t.filterManager)==null?void 0:e.getFilterModel())??{}}function gAe(t,e){var n;return((n=t.filterManager)==null?void 0:n.getColumnFilterModel(e))??null}function vAe(t,e,n){var i;return((i=t.filterManager)==null?void 0:i.setColumnFilterModel(e,n))??Promise.resolve()}function yAe(t,e){const n=t.columnModel.getCol(e);if(!n){gn(`column '${e}' not found`);return}t.menuService.showFilterMenu({column:n,containerType:"columnFilter",positionBy:"auto"})}function xAe(t,e,n){if(e==null)return null;let i=null;const{compName:s,jsComp:r,fwComp:o}=r$.getCompKeys(t,e,CN);return s?i={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[s]:r==null&&o==null&&e.filter===!0&&(i=n()),i}var pV={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},mV=["january","february","march","april","may","june","july","august","september","october","november","december"],CAe=class extends Ee{constructor(){super(...arguments),this.beanName="columnFilterService",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}wireBeans(t){this.valueService=t.valueService,this.columnModel=t.columnModel,this.rowModel=t.rowModel,this.userComponentFactory=t.userComponentFactory,this.rowRenderer=t.rowRenderer,this.dataTypeService=t.dataTypeService,this.filterManager=t.filterManager}postConstruct(){var t,e;this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),rowDataUpdated:()=>this.onNewRowsLoaded("rowDataUpdated"),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel={...((e=(t=this.gos.get("initialState"))==null?void 0:t.filter)==null?void 0:e.filterModel)??{}}}setFilterModel(t,e="api"){var s;if((s=this.dataTypeService)!=null&&s.isPendingInference()){this.filterModelUpdateQueue.push({model:t,source:e});return}const n=[],i=this.getFilterModel(!0);if(t){const r=new Set(Object.keys(t));this.allColumnFilters.forEach((o,a)=>{const l=t[a];n.push(this.setModelOnFilterWrapper(o.filterPromise,l)),r.delete(a)}),r.forEach(o=>{const a=this.columnModel.getColDefCol(o)||this.columnModel.getCol(o);if(!a){Fe("setFilterModel() - no column found for colId: "+o);return}if(!a.isFilterAllowed()){Fe("setFilterModel() - unable to fully apply model, filtering disabled for colId: "+o);return}const l=this.getOrCreateFilterWrapper(a);if(!l){Fe("setFilterModel() - unable to fully apply model, unable to create filter for colId: "+o);return}n.push(this.setModelOnFilterWrapper(l.filterPromise,t[o]))})}else this.allColumnFilters.forEach(r=>{n.push(this.setModelOnFilterWrapper(r.filterPromise,null))});ui.all(n).then(()=>{var a;const r=this.getFilterModel(!0),o=[];this.allColumnFilters.forEach((l,c)=>{const d=i?i[c]:null,f=r?r[c]:null;kb(d,f)||o.push(l.column)}),o.length>0&&((a=this.filterManager)==null||a.onFilterChanged({columns:o,source:e}))})}setModelOnFilterWrapper(t,e){return new ui(n=>{t.then(i=>{typeof i.setModel!="function"&&(Fe("filter missing setModel method, which is needed for setFilterModel"),n()),(i.setModel(e)||ui.resolve()).then(()=>n())})})}getFilterModel(t){const e={},{allColumnFilters:n,initialFilterModel:i}=this;return n.forEach((s,r)=>{const o=this.getModelFromFilterWrapper(s);Ke(o)&&(e[r]=o)}),t||Object.entries(i).forEach(([s,r])=>{var o;Ke(r)&&!n.has(s)&&((o=this.columnModel.getCol(s))!=null&&o.isFilterAllowed())&&(e[s]=r)}),e}getModelFromFilterWrapper(t){const{filter:e}=t;return e?typeof e.getModel!="function"?(Fe("filter API missing getModel method, which is needed for getFilterModel"),null):e.getModel():this.getModelFromInitialState(t.column)}getModelFromInitialState(t){return this.initialFilterModel[t.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){return this.allColumnFilters.size?(this.allColumnFilters.forEach(t=>this.disposeFilterWrapper(t,"advancedFilterEnabled")),!0):!1}doAggregateFiltersPass(t,e){return this.doColumnFiltersPass(t,e,!0)}updateActiveFilters(){const t=r=>r?r.isFilterActive?r.isFilterActive():(Fe("Filter is missing isFilterActive() method"),!1):!1,e=!!aD(this.gos),n=r=>{if(!r.isPrimary())return!0;const a=!this.columnModel.isPivotActive();return!r.isValueActive()||!a?!1:this.columnModel.isPivotMode()?!0:e},i=[],s=[];return this.forEachColumnFilter((r,o)=>{t(r)&&(n(o.column)?i.push(r):s.push(r))}).then(()=>{this.activeAggregateFilters=i,this.activeColumnFilters=s})}updateFilterFlagInColumns(t,e){return this.forEachColumnFilter((n,i)=>i.column.setFilterActive(n.isFilterActive(),t,e))}forEachColumnFilter(t){return ui.all(Array.from(this.allColumnFilters.values()).map(e=>e.filterPromise.then(n=>t(n,e))))}doColumnFiltersPass(t,e,n){const{data:i,aggData:s}=t,r=n?this.activeAggregateFilters:this.activeColumnFilters,o=n?s:i;for(let a=0;a<r.length;a++){const l=r[a];if(!(l==null||l===e)){if(typeof l.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!l.doesFilterPass({node:t,data:o}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(t){const e=()=>{var n;return(n=this.filterManager)==null?void 0:n.onFilterChanged(t)};this.rowRenderer.isRefreshInProgress()?setTimeout(e,0):e()}updateBeforeFilterChanged(t={}){const{filterInstance:e,additionalEventAttributes:n}=t;return this.updateDependentFilters(),this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",n).then(()=>{this.allColumnFilters.forEach(i=>{i.filterPromise&&i.filterPromise.then(s=>{s&&s!==e&&s.onAnyFilterChanged&&s.onAnyFilterChanged()})}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(t){this.forEachColumnFilter(e=>{e.onNewRowsLoaded&&e.onNewRowsLoaded()}).then(()=>this.updateFilterFlagInColumns(t,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createValueGetter(t){return({node:e})=>this.valueService.getValue(t,e,!0)}createGetValue(t){return(e,n)=>{const i=n?this.columnModel.getCol(n):t;return i?this.valueService.getValue(i,e,!0):void 0}}isFilterActive(t){const{filter:e}=this.cachedFilter(t)??{};return e?e.isFilterActive():this.getModelFromInitialState(t)!=null}getOrCreateFilterWrapper(t){if(!t.isFilterAllowed())return null;let e=this.cachedFilter(t);return e||(e=this.createFilterWrapper(t),this.setColumnFilterWrapper(t,e)),e}cachedFilter(t){return this.allColumnFilters.get(t.getColId())}getDefaultFilter(t){var n;let e;if(cA(this.gos))e="agSetColumnFilter";else{const i=(n=this.dataTypeService)==null?void 0:n.getBaseDataType(t);i==="number"?e="agNumberColumnFilter":i==="date"||i==="dateString"?e="agDateColumnFilter":e="agTextColumnFilter"}return e}getDefaultFloatingFilter(t){var n;let e;if(cA(this.gos))e="agSetColumnFloatingFilter";else{const i=(n=this.dataTypeService)==null?void 0:n.getBaseDataType(t);i==="number"?e="agNumberColumnFloatingFilter":i==="date"||i==="dateString"?e="agDateColumnFloatingFilter":e="agTextColumnFloatingFilter"}return e}createFilterInstance(t,e){const n=this.getDefaultFilter(t),i=t.getColDef();let s;const r={...this.createFilterParams(t,i),filterModifiedCallback:()=>this.filterModifiedCallbackFactory(s,t)(),filterChangedCallback:a=>this.filterChangedCallbackFactory(s,t)(a),doesRowPassOtherFilter:a=>this.filterManager?this.filterManager.doesRowPassOtherFilters(s,a):!0},o=this.userComponentFactory.getFilterDetails(i,r,n);return o?{filterPromise:()=>{const a=o.newAgStackInstance();return a!=null&&a.then(l=>{s=l,e&&(e.filter=l)}),a},compDetails:o}:{filterPromise:null,compDetails:null}}createFilterParams(t,e){return this.gos.addGridCommonParams({column:t,colDef:N9(e),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(t),getValue:this.createGetValue(t),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(t){const e={column:t,filterPromise:null,compiledElement:null,compDetails:null},{filterPromise:n,compDetails:i}=this.createFilterInstance(t,e);return e.filterPromise=(n==null?void 0:n())??null,e.compDetails=i,e}onColumnsChanged(){var n;const t=[];this.allColumnFilters.forEach((i,s)=>{let r;i.column.isPrimary()?r=this.columnModel.getColDefCol(s):r=this.columnModel.getCol(s),!(r&&r===i.column)&&(t.push(i.column),this.disposeFilterWrapper(i,"columnChanged"),this.disposeColumnListener(s))});const e=t.every(i=>i.getColDef().filter==="agGroupColumnFilter");t.length>0&&!e?(n=this.filterManager)==null||n.onFilterChanged({columns:t,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){const t=this.columnModel.getAutoCols();t==null||t.forEach(e=>{e.getColDef().filter==="agGroupColumnFilter"&&this.getOrCreateFilterWrapper(e)})}isFilterAllowed(t){if(!t.isFilterAllowed())return!1;const{filter:n}=this.allColumnFilters.get(t.getColId())??{};return n&&typeof(n==null?void 0:n.isFilterAllowed)=="function"?n.isFilterAllowed():!0}getFloatingFilterCompDetails(t,e){const n=l=>{var d;const c=(d=this.getOrCreateFilterWrapper(t))==null?void 0:d.filterPromise;c!=null&&c.then(f=>{l(Sv(f))})},i=t.getColDef(),s={...this.createFilterParams(t,i),filterChangedCallback:()=>n(l=>this.filterChangedCallbackFactory(l,t)())},r=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(i,CN,s);let o=xAe(this.frameworkOverrides,i,()=>this.getDefaultFloatingFilter(t));o==null&&(o="agReadOnlyFloatingFilter");const a={column:t,filterParams:r,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(t),parentFilterInstance:n,showParentFilter:e,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(i,a,o)}getCurrentFloatingFilterParentModel(t){return this.getModelFromFilterWrapper(this.cachedFilter(t)??{column:t})}destroyFilter(t,e="api"){var s;const n=t.getColId(),i=this.allColumnFilters.get(n);this.disposeColumnListener(n),delete this.initialFilterModel[n],i&&(this.disposeFilterWrapper(i,e),(s=this.filterManager)==null||s.onFilterChanged({columns:[t],source:"api"}))}disposeColumnListener(t){const e=this.allColumnListeners.get(t);e&&(this.allColumnListeners.delete(t),e())}disposeFilterWrapper(t,e){t.filterPromise.then(n=>{this.destroyBean(n),t.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(t.column.getColId()),this.eventService.dispatchEvent({type:"filterDestroyed",source:e,column:t.column})})}filterModifiedCallbackFactory(t,e){return()=>{this.eventService.dispatchEvent({type:"filterModified",column:e,filterInstance:t})}}filterChangedCallbackFactory(t,e){return n=>{const i=(n==null?void 0:n.source)??"columnFilter",s={filter:t,additionalEventAttributes:n,columns:[e],source:i};this.callOnFilterChangedOutsideRenderCycle(s)}}checkDestroyFilter(t){const e=this.allColumnFilters.get(t);if(!e)return;const n=e.column,{compDetails:i}=n.isFilterAllowed()?this.createFilterInstance(n):{compDetails:null};if(this.areFilterCompsDifferent(e.compDetails,i)){this.destroyFilter(n,"paramsUpdated");return}const s=n.getColDef().filterParams;if(!e.filterPromise){this.destroyFilter(n,"paramsUpdated");return}e.filterPromise.then(r=>{(r!=null&&r.refresh?r.refresh({...this.createFilterParams(n,n.getColDef()),filterModifiedCallback:this.filterModifiedCallbackFactory(r,n),filterChangedCallback:this.filterChangedCallbackFactory(r,n),doesRowPassOtherFilter:a=>this.filterManager?this.filterManager.doesRowPassOtherFilters(r,a):!0,...s}):!0)===!1&&this.destroyFilter(n,"paramsUpdated")})}setColumnFilterWrapper(t,e){const n=t.getColId();this.allColumnFilters.set(n,e),this.allColumnListeners.set(n,this.addManagedListeners(t,{colDefChanged:()=>this.checkDestroyFilter(n)})[0])}areFilterCompsDifferent(t,e){if(!e||!t)return!0;const{componentClass:n}=t,{componentClass:i}=e;return!(n===i||(n==null?void 0:n.render)&&(i==null?void 0:i.render)&&n.render===i.render)}hasFloatingFilters(){return this.columnModel.getCols().some(e=>e.getColDef().floatingFilter)}getFilterInstance(t,e){e&&this.getFilterInstanceImpl(t).then(n=>{const i=Sv(n);e(i)})}getColumnFilterInstance(t){return new Promise(e=>{this.getFilterInstanceImpl(t).then(n=>{e(Sv(n))})})}getFilterInstanceImpl(t){var i;const e=this.columnModel.getColDefCol(t);return e?((i=this.getOrCreateFilterWrapper(e))==null?void 0:i.filterPromise)??ui.resolve(null):ui.resolve(void 0)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:t,source:e})=>this.setFilterModel(t,e)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:t,model:e,resolve:n})=>{this.setColumnFilterModel(t,e).then(()=>n())}),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(t){const e=this.getFilterWrapper(t);return e?this.getModelFromFilterWrapper(e):null}setColumnFilterModel(t,e){var r;if((r=this.dataTypeService)!=null&&r.isPendingInference()){let o=()=>{};const a=new Promise(l=>{o=l});return this.columnFilterModelUpdateQueue.push({key:t,model:e,resolve:o}),a}const n=this.columnModel.getColDefCol(t),i=n?this.getOrCreateFilterWrapper(n):null;return i?(o=>new Promise(a=>{o.then(l=>a(l))}))(this.setModelOnFilterWrapper(i.filterPromise,e)):Promise.resolve()}getFilterWrapper(t){const e=this.columnModel.getColDefCol(t);return e?this.cachedFilter(e)??null:null}setColDefPropertiesForDataType(t,e,n){const i=cA(this.gos),s=this.localeService.getLocaleTextFunc(),r=o=>{const{filterParams:a}=t;t.filterParams=typeof a=="object"?{...a,...o}:o};switch(e.baseDataType){case"number":{i&&r({comparator:(o,a)=>{const l=o==null?0:parseInt(o),c=a==null?0:parseInt(a);return l===c?0:l>c?1:-1}});break}case"boolean":{r(i?{valueFormatter:o=>Ke(o.value)?s(String(o.value),o.value?"True":"False"):s("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(o,a)=>a,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(o,a)=>a===!1,numberOfInputs:0}]});break}case"date":{i&&r({valueFormatter:o=>{const a=n(o);return Ke(a)?a:s("blanks","(Blanks)")},treeList:!0,treeListFormatter:(o,a)=>{if(a===1&&o!=null){const l=mV[Number(o)-1];return s(l,pV[l])}return o??s("blanks","(Blanks)")}});break}case"dateString":{const o=e.dateParser;r(i?{valueFormatter:a=>{const l=n(a);return Ke(l)?l:s("blanks","(Blanks)")},treeList:!0,treeListPathGetter:a=>{const l=o(a??void 0);return l?[String(l.getFullYear()),String(l.getMonth()+1),String(l.getDate())]:null},treeListFormatter:(a,l)=>{if(l===1&&a!=null){const c=mV[Number(a)-1];return s(c,pV[c])}return a??s("blanks","(Blanks)")}}:{comparator:(a,l)=>{const c=o(l);return l==null||c<a?-1:c>a?1:0}});break}case"object":{i?r({valueFormatter:o=>{const a=n(o);return Ke(a)?a:s("blanks","(Blanks)")}}):t.filterValueGetter=o=>n({column:o.column,node:o.node,value:this.valueService.getValue(o.column,o.node)});break}}}destroy(){super.destroy(),this.allColumnFilters.forEach(t=>this.disposeFilterWrapper(t,"gridDestroyed")),this.allColumnListeners.clear()}};function wAe(t){var e;return!!((e=t.filterManager)!=null&&e.isAnyFilterPresent())}function bAe(t,e="api"){var n;(n=t.filterManager)==null||n.onFilterChanged({source:e})}var SAe=class extends On{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eFloatingFilterText"></ag-input-text-field>
            </div>`,[$1]),this.eFloatingFilterText=vt}wireBeans(t){this.columnNameService=t.columnNameService}destroy(){super.destroy()}init(t){this.params=t;const e=this.columnNameService.getDisplayNameForColumn(t.column,"header",!0),n=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${e} ${n("ariaFilterInput","Filter Input")}`)}onParentModelChanged(t){if(t==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(e=>{if(e.getModelAsString){const n=e.getModelAsString(t);this.eFloatingFilterText.setValue(n)}})}onParamsUpdated(t){this.refresh(t)}refresh(t){this.init(t)}},D$=class extends On{wireBeans(t){this.columnNameService=t.columnNameService}getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(t){return t&&t.afterFloatingFilter}isEventFromDataChange(t){return t==null?void 0:t.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(t){if(!t){this.lastType=this.optionsFactory.getDefaultOption();return}const e=t.operator;let n;e?n=t.conditions[0]:n=t,this.lastType=n.type}canWeEditAfterModelFromParentFilter(t){if(!t)return this.isTypeEditable(this.lastType);if(t.operator)return!1;const n=t;return this.isTypeEditable(n.type)}init(t){this.setSimpleParams(t,!1)}setSimpleParams(t,e=!0){this.optionsFactory=new f$,this.optionsFactory.init(t.filterParams,this.getDefaultFilterOptions()),e||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!t.filterParams.readOnly;const n=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(n)}onParamsUpdated(t){this.refresh(t)}refresh(t){this.setSimpleParams(t)}doesFilterHaveSingleInput(t){const e=this.optionsFactory.getCustomOption(t),{numberOfInputs:n}=e||{};return n==null||n==1}isTypeEditable(t){const e=["inRange","empty","blank","notBlank"];return!!t&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(t)&&e.indexOf(t)<0}getAriaLabel(t){const e=this.columnNameService.getDisplayNameForColumn(t.column,"header",!0),n=this.localeService.getLocaleTextFunc();return`${e} ${n("ariaFilterInput","Filter Input")}`}},EAe=class extends D${constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eReadOnlyText"></ag-input-text-field>
                <div data-ref="eDateWrapper" style="display: flex;"></div>
            </div>`,[$1]),this.eReadOnlyText=vt,this.eDateWrapper=vt}wireBeans(t){super.wireBeans(t),this.context=t.context,this.userComponentFactory=t.userComponentFactory}getDefaultFilterOptions(){return E$}init(t){super.init(t),this.params=t,this.filterParams=t.filterParams,this.createDateComponent(),this.filterModelFormatter=new M$(this.filterParams,this.localeService,this.optionsFactory);const e=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(e("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(t){this.refresh(t)}refresh(t){super.refresh(t),this.params=t,this.filterParams=t.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(t.currentParentModel())}updateCompOnModelChange(t){const e=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(t);if(this.setEditable(e),e){if(t){const n=t;this.dateComp.setDate(xr(n.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(t)),this.dateComp.setDate(null)}setEditable(t){Kn(this.eDateWrapper,t),Kn(this.eReadOnlyText.getGui(),!t)}onParentModelChanged(t,e){this.isEventFromFloatingFilter(e)||this.isEventFromDataChange(e)||(super.setLastTypeFromModel(t),this.updateCompOnModelChange(t))}onDateChanged(){const t=this.dateComp.getDate(),e=Ao(t);this.params.parentFilterInstance(n=>{if(n){const i=xr(e);n.onFloatingFilterChanged(this.getLastType()||null,i)}})}getDateComponentParams(){const t=wN(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:vr(this.onDateChanged.bind(this),t),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new S$(this.context,this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper,t=>{t.setInputAriaLabel(this.getAriaLabel(this.params))}),this.addDestroyFunc(()=>this.dateComp.destroy())}updateDateComponent(){const t=this.gos.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(t)}getFilterModelFormatter(){return this.filterModelFormatter}},MAe=class extends On{constructor(){super(`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" data-ref="eDateInput"></ag-input-text-field>
            </div>`,[$1]),this.eDateInput=vt}destroy(){super.destroy()}init(t){this.params=t,this.setParams(t);const e=this.eDateInput.getInputElement();this.addManagedListeners(e,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||e.focus()},input:n=>{n.target===Zn(this.gos)&&(this.eDateInput.isDisabled()||this.params.onDateChanged())}})}setParams(t){const e=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(t);this.usingSafariDatePicker=n&&Ha(),e.type=n?"date":"text";const{minValidYear:i,maxValidYear:s,minValidDate:r,maxValidDate:o}=t.filterParams||{};if(r&&i&&Fe("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),o&&s&&Fe("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),r&&o){const[a,l]=[r,o].map(c=>c instanceof Date?c:xr(c));a&&l&&a.getTime()>l.getTime()&&Fe("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}r?r instanceof Date?e.min=Mv(r):e.min=r:i&&(e.min=`${i}-01-01`),o?o instanceof Date?e.max=Mv(o):e.max=o:s&&(e.max=`${s}-12-31`)}onParamsUpdated(t){this.refresh(t)}refresh(t){this.params=t,this.setParams(t)}getDate(){return xr(this.eDateInput.getValue())}setDate(t){this.eDateInput.setValue(Ao(t,!1))}setInputPlaceholder(t){this.eDateInput.setInputPlaceholder(t)}setInputAriaLabel(t){this.eDateInput.setAriaLabel(t)}setDisabled(t){this.eDateInput.setDisabled(t)}afterGuiAttached(t){(!t||!t.suppressFocus)&&this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(t){return t.filterParams&&t.filterParams.browserDatePicker!=null?t.filterParams.browserDatePicker:uN()||dN()||Ha()&&U9()>=14.1}},_$=class extends Ee{constructor(t){super(),this.params=t,this.eFloatingFilterTextInput=vt,this.valueChangedListener=()=>{}}setupGui(t){var i;this.eFloatingFilterTextInput=this.createManagedBean(new Ph((i=this.params)==null?void 0:i.config));const e=this.eFloatingFilterTextInput.getGui();t.appendChild(e);const n=s=>this.valueChangedListener(s);this.addManagedListeners(e,{input:n,keydown:n})}setEditable(t){this.eFloatingFilterTextInput.setDisabled(!t)}setAutoComplete(t){this.eFloatingFilterTextInput.setAutoComplete(t)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(t,e){this.eFloatingFilterTextInput.setValue(t,e)}setValueChangedListener(t){this.valueChangedListener=t}setParams(t){this.setAriaLabel(t.ariaLabel),t.autoComplete!==void 0&&this.setAutoComplete(t.autoComplete)}setAriaLabel(t){this.eFloatingFilterTextInput.setInputAriaLabel(t)}},F$=class extends D${constructor(){super(...arguments),this.eFloatingFilterInputContainer=vt}postConstruct(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" data-ref="eFloatingFilterInputContainer"></div>
        `)}getDefaultDebounceMs(){return 500}onParentModelChanged(t,e){this.isEventFromFloatingFilter(e)||this.isEventFromDataChange(e)||(this.setLastTypeFromModel(t),this.setEditable(this.canWeEditAfterModelFromParentFilter(t)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(t)))}init(t){this.setupFloatingFilterInputService(t),super.init(t),this.setTextInputParams(t)}setupFloatingFilterInputService(t){this.floatingFilterInputService=this.createFloatingFilterInputService(t),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(t){this.params=t;const e=t.browserAutoComplete??!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(t),autoComplete:e}),this.applyActive=Xb(this.params.filterParams),!this.isReadOnly()){const n=wN(this.params.filterParams,this.getDefaultDebounceMs()),i=vr(this.syncUpWithParentFilter.bind(this),n);this.floatingFilterInputService.setValueChangedListener(i)}}onParamsUpdated(t){this.refresh(t)}refresh(t){super.refresh(t),this.setTextInputParams(t)}recreateFloatingFilterInputService(t){const e=this.floatingFilterInputService.getValue();qr(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(t),this.floatingFilterInputService.setValue(e,!0)}syncUpWithParentFilter(t){const e=t.key===ve.ENTER;if(this.applyActive&&!e)return;let n=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(n=w$(n),this.floatingFilterInputService.setValue(n,!0)),this.params.parentFilterInstance(i=>{i&&i.onFloatingFilterChanged(this.getLastType()||null,n||null)})}setEditable(t){this.floatingFilterInputService.setEditable(t)}},TAe=class extends Ee{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(t){this.eFloatingFilterNumberInput=this.createManagedBean(new SN),this.eFloatingFilterTextInput=this.createManagedBean(new Ph),this.eFloatingFilterTextInput.setDisabled(!0);const e=this.eFloatingFilterNumberInput.getGui(),n=this.eFloatingFilterTextInput.getGui();t.appendChild(e),t.appendChild(n),this.setupListeners(e,i=>this.valueChangedListener(i)),this.setupListeners(n,i=>this.valueChangedListener(i))}setEditable(t){this.numberInputActive=t,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(t){this.eFloatingFilterNumberInput.setAutoComplete(t),this.eFloatingFilterTextInput.setAutoComplete(t)}getValue(){return this.getActiveInputElement().getValue()}setValue(t,e){this.getActiveInputElement().setValue(t,e)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(t){this.valueChangedListener=t}setupListeners(t,e){this.addManagedListeners(t,{input:e,keydown:e})}setParams(t){this.setAriaLabel(t.ariaLabel),t.autoComplete!==void 0&&this.setAutoComplete(t.autoComplete)}setAriaLabel(t){this.eFloatingFilterNumberInput.setInputAriaLabel(t),this.eFloatingFilterTextInput.setInputAriaLabel(t)}},RAe=class extends F${init(t){var e;super.init(t),this.filterModelFormatter=new y$(this.localeService,this.optionsFactory,(e=t.filterParams)==null?void 0:e.numberFormatter)}onParamsUpdated(t){this.refresh(t)}refresh(t){vD(t.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(t),super.refresh(t),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return v$}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(t){return this.allowedCharPattern=vD(t.filterParams),this.allowedCharPattern?this.createManagedBean(new _$({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new TAe)}},AAe=class extends F${init(t){super.init(t),this.filterModelFormatter=new C$(this.localeService,this.optionsFactory)}onParamsUpdated(t){this.refresh(t)}refresh(t){super.refresh(t),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return x$}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new _$)}};function PAe(t){var e;return!!((e=t.filterManager)!=null&&e.isQuickFilterPresent())}function DAe(t){return t.gos.get("quickFilterText")}function _Ae(t){var e;(e=t.filterManager)==null||e.resetQuickFilterCache()}var FAe=class extends Ee{constructor(){super(...arguments),this.beanName="quickFilterService",this.quickFilter=null,this.quickFilterParts=null}wireBeans(t){this.valueService=t.valueService,this.columnModel=t.columnModel,this.rowModel=t.rowModel,this.pivotResultColsService=t.pivotResultColsService}postConstruct(){const t=this.resetQuickFilterCache.bind(this);this.addManagedEventListeners({columnPivotModeChanged:t,newColumnsLoaded:t,columnRowGroupChanged:t,columnVisible:()=>{this.gos.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}}),this.addManagedPropertyListener("quickFilterText",e=>this.setQuickFilter(e.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onQuickFilterColumnConfigChanged()),this.quickFilter=this.parseQuickFilter(this.gos.get("quickFilterText")),this.parser=this.gos.get("quickFilterParser"),this.matcher=this.gos.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setQuickFilterParserAndMatcher())}refreshQuickFilterCols(){var s;const t=this.columnModel.isPivotMode(),e=this.columnModel.getAutoCols(),n=this.columnModel.getColDefCols();let i=(t&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")?(s=this.pivotResultColsService.getPivotResultCols())==null?void 0:s.list:n)??[];e&&(i=i.concat(e)),this.colsForQuickFilter=this.gos.get("includeHiddenColumnsInQuickFilter")?i:i.filter(r=>r.isVisible()||r.isRowGroupActive())}isQuickFilterPresent(){return this.quickFilter!==null}doesRowPassQuickFilter(t){const e=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(e,t):this.quickFilterParts.every(n=>e?this.doesRowPassQuickFilterCache(t,n):this.doesRowPassQuickFilterNoCache(t,n))}resetQuickFilterCache(){this.rowModel.forEachNode(t=>t.quickFilterAggregateText=null)}setQuickFilterParts(){const{quickFilter:t,parser:e}=this;t?this.quickFilterParts=e?e(t):t.split(" "):this.quickFilterParts=null}parseQuickFilter(t){return Ke(t)?Gn(this.gos)?t.toUpperCase():(Fe("Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(t){if(t!=null&&typeof t!="string"){Fe(`Grid option quickFilterText only supports string inputs, received: ${typeof t}`);return}const e=this.parseQuickFilter(t);this.quickFilter!==e&&(this.quickFilter=e,this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setQuickFilterParserAndMatcher(){const t=this.gos.get("quickFilterParser"),e=this.gos.get("quickFilterMatcher"),n=t!==this.parser||e!==this.matcher;this.parser=t,this.matcher=e,n&&(this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onQuickFilterColumnConfigChanged(){this.refreshQuickFilterCols(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassQuickFilterNoCache(t,e){return this.colsForQuickFilter.some(n=>{const i=this.getQuickFilterTextForColumn(n,t);return Ke(i)&&i.indexOf(e)>=0})}doesRowPassQuickFilterCache(t,e){return this.checkGenerateQuickFilterAggregateText(t),t.quickFilterAggregateText.indexOf(e)>=0}doesRowPassQuickFilterMatcher(t,e){let n;t?(this.checkGenerateQuickFilterAggregateText(e),n=e.quickFilterAggregateText):n=this.getQuickFilterAggregateText(e);const{quickFilterParts:i,matcher:s}=this;return s(i,n)}checkGenerateQuickFilterAggregateText(t){t.quickFilterAggregateText||(t.quickFilterAggregateText=this.getQuickFilterAggregateText(t))}getQuickFilterTextForColumn(t,e){let n=this.valueService.getValue(t,e,!0);const i=t.getColDef();if(i.getQuickFilterText){const s=this.gos.addGridCommonParams({value:n,node:e,data:e.data,column:t,colDef:i});n=i.getQuickFilterText(s)}return Ke(n)?n.toString().toUpperCase():null}getQuickFilterAggregateText(t){const e=[];return this.colsForQuickFilter.forEach(n=>{const i=this.getQuickFilterTextForColumn(n,t);Ke(i)&&e.push(i)}),e.join(`
`)}},RN={version:Mt,moduleName:"@ag-grid-community/filter-core",beans:[IRe]},NAe={version:Mt,moduleName:"@ag-grid-community/filter-api",apiFunctions:{isAnyFilterPresent:wAe,onFilterChanged:bAe},dependantModules:[RN]},AN={version:Mt,moduleName:"@ag-grid-community/column-filter",beans:[CAe],dependantModules:[RN]},IAe={version:Mt,moduleName:"@ag-grid-community/column-filter-api",apiFunctions:{isColumnFilterPresent:uAe,getFilterInstance:dAe,getColumnFilterInstance:hAe,destroyFilter:fAe,setFilterModel:pAe,getFilterModel:mAe,getColumnFilterModel:gAe,setColumnFilterModel:vAe,showColumnFilter:yAe},dependantModules:[AN,NAe]},N$={version:Mt,moduleName:"@ag-grid-community/floating-filter-core",controllers:[{name:"headerFilterCell",classImp:cAe}],dependantModules:[AN]},OAe={version:Mt,moduleName:"@ag-grid-community/read-only-floating-filter",userComponents:[{name:"agReadOnlyFloatingFilter",classImp:SAe}],dependantModules:[N$]},LAe={version:Mt,moduleName:"@ag-grid-community/simple-filter",dependantModules:[AN],userComponents:[{name:"agTextColumnFilter",classImp:eAe},{name:"agNumberColumnFilter",classImp:QRe},{name:"agDateColumnFilter",classImp:iAe},{name:"agDateInput",classImp:MAe}]},kAe={version:Mt,moduleName:"@ag-grid-community/simple-floating-filter",dependantModules:[LAe,N$],userComponents:[{name:"agTextColumnFloatingFilter",classImp:AAe},{name:"agNumberColumnFloatingFilter",classImp:RAe},{name:"agDateColumnFloatingFilter",classImp:EAe}]},I$={version:Mt,moduleName:"@ag-grid-community/quick-filter-core",beans:[FAe],dependantModules:[RN]},BAe={version:Mt,moduleName:"@ag-grid-community/quick-filter-api",apiFunctions:{isQuickFilterPresent:PAe,getQuickFilter:DAe,resetQuickFilter:_Ae},dependantModules:[I$]},HAe={version:Mt,moduleName:"@ag-grid-community/quick-filter",dependantModules:[I$,BAe]},VAe={version:Mt,moduleName:"@ag-grid-community/filter",dependantModules:[kAe,OAe,HAe,IAe]},yD=(t=>(t.COLUMN_GROUP="group",t.COLUMN="column",t.FLOATING_FILTER="filter",t))(yD||{}),zAe=class extends Ee{constructor(){super(...arguments),this.beanName="headerNavigationService",this.currentHeaderRowWithoutSpan=-1}wireBeans(t){this.focusService=t.focusService,this.headerPositionUtils=t.headerPositionUtils,this.ctrlsService=t.ctrlsService,this.columnModel=t.columnModel,this.visibleColService=t.visibleColsService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl});const t=di(this.gos);this.addManagedElementListeners(t,{mousedown:()=>this.setCurrentHeaderRowWithoutSpan(-1)})}getHeaderRowCount(){var t;return((t=this.ctrlsService.getHeaderRowContainerCtrl())==null?void 0:t.getRowCount())??0}getHeaderPositionForColumn(t,e){let n;if(typeof t=="string"?(n=this.columnModel.getCol(t),n||(n=this.visibleColService.getColumnGroup(t))):n=t,!n)return null;const i=this.ctrlsService.getHeaderRowContainerCtrl(),s=i==null?void 0:i.getAllCtrls(),r=Kt(s||[]).getType()==="filter",o=this.getHeaderRowCount()-1;let a=-1,l=n;for(;l;)a++,l=l.getParent();let c=a;return e&&r&&c===o-1&&c++,c===-1?null:{headerRowIndex:c,column:n}}navigateVertically(t,e,n){if(e||(e=this.focusService.getFocusedHeader()),!e)return!1;const{headerRowIndex:i}=e,s=e.column,r=this.getHeaderRowCount(),o=t===0;let{headerRowIndex:a,column:l,headerRowIndexWithoutSpan:c}=o?this.headerPositionUtils.getColumnVisibleParent(s,i):this.headerPositionUtils.getColumnVisibleChild(s,i),d=!1;return a<0&&(a=0,l=s,d=!0),a>=r?(a=-1,this.setCurrentHeaderRowWithoutSpan(-1)):c!==void 0&&(this.currentHeaderRowWithoutSpan=c),!d&&!l?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a,column:l},allowUserOverride:!0,event:n})}setCurrentHeaderRowWithoutSpan(t){this.currentHeaderRowWithoutSpan=t}navigateHorizontally(t,e=!1,n){const i=this.focusService.getFocusedHeader(),s=t===2,r=this.gos.get("enableRtl");let o,a;if(this.currentHeaderRowWithoutSpan!==-1?i.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=i.headerRowIndex,s!==r?(a="Before",o=this.headerPositionUtils.findHeader(i,a)):(a="After",o=this.headerPositionUtils.findHeader(i,a)),o||!e)return this.focusService.focusHeaderPosition({headerPosition:o,direction:a,fromTab:e,allowUserOverride:!0,event:n});if(e){const l=this.gos.getCallback("tabToNextHeader");if(l)return this.focusService.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:o,direction:a})}return this.focusNextHeaderRow(i,a,n)}focusNextHeaderRow(t,e,n){const i=t.headerRowIndex;let s=null,r;if(e==="Before"?i>0&&(r=i-1,this.currentHeaderRowWithoutSpan-=1,s=this.headerPositionUtils.findColAtEdgeForHeaderRow(r,"end")):(r=i+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),s=this.headerPositionUtils.findColAtEdgeForHeaderRow(r,"start")),!s)return!1;const{column:o,headerRowIndex:a}=this.headerPositionUtils.getHeaderIndexToFocus(s.column,s==null?void 0:s.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:o,headerRowIndex:a},direction:e,fromTab:!0,allowUserOverride:!0,event:n})}scrollToColumn(t,e="After"){if(t.getPinned())return;let n;if(Ei(t)){const i=t.getDisplayedLeafColumns();n=e==="Before"?Kt(i):i[0]}else n=t;this.gridBodyCon.getScrollFeature().ensureColumnVisible(n)}},GAe=class extends Ee{wireBeans(t){this.animationFrameService=t.animationFrameService,this.headerNavigationService=t.headerNavigationService,this.focusService=t.focusService,this.columnModel=t.columnModel,this.visibleColsService=t.visibleColsService,this.ctrlsService=t.ctrlsService,this.filterManager=t.filterManager,this.menuService=t.menuService}setComp(t,e,n){this.comp=t,this.eGui=e,this.createManagedBean(new Ah(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),this.onPivotModeChanged(),this.setupHeaderHeight();const i=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:i}),this.mockContextMenuForIPad(i),this.ctrlsService.register("gridHeaderCtrl",this)}setupHeaderHeight(){const t=this.setHeaderHeight.bind(this);t(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t),this.addManagedEventListeners({displayedColumnsChanged:t,columnHeaderHeightChanged:t,columnGroupHeaderHeightChanged:()=>this.animationFrameService.requestAnimationFrame(()=>t()),gridStylesChanged:t,advancedFilterEnabledChanged:t})}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){var r;const{columnModel:t}=this;let e=0;const n=this.columnModel.getGroupRowsHeight().reduce((o,a)=>o+a,0),i=this.columnModel.getColumnHeaderRowHeight();if((r=this.filterManager)!=null&&r.hasFloatingFilters()&&(e+=t.getFloatingFiltersHeight()),e+=n,e+=i,this.headerHeight===e)return;this.headerHeight=e;const s=`${e+1}px`;this.comp.setHeightAndMinHeight(s),this.eventService.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(){const t=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",t),this.comp.addOrRemoveCssClass("ag-pivot-off",!t)}onDisplayedColumnsChanged(){const e=this.visibleColsService.getAllCols().some(n=>n.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",e)}onTabKeyDown(t){const e=this.gos.get("enableRtl"),n=t.shiftKey,i=n!==e?2:3;(this.headerNavigationService.navigateHorizontally(i,!0,t)||!n&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(n,!0))&&t.preventDefault()}handleKeyDown(t){let e=null;switch(t.key){case ve.LEFT:e=2;case ve.RIGHT:{Ke(e)||(e=3),this.headerNavigationService.navigateHorizontally(e,!1,t)&&t.preventDefault();break}case ve.UP:e=0;case ve.DOWN:{Ke(e)||(e=1),this.headerNavigationService.navigateVertically(e,null,t)&&t.preventDefault();break}default:return}}onFocusOut(t){const{relatedTarget:e}=t;!e&&this.eGui.contains(Zn(this.gos))||this.eGui.contains(e)||this.focusService.clearFocusedHeader()}onHeaderContextMenu(t,e,n){var s;if(!t&&!n||!this.menuService.isHeaderContextMenuEnabled())return;const{target:i}=t??e;(i===this.eGui||i===((s=this.ctrlsService.getHeaderRowContainerCtrl())==null?void 0:s.getViewportElement()))&&this.menuService.showHeaderContextMenu(void 0,t,n)}mockContextMenuForIPad(t){if(!wu())return;const e=new tu(this.eGui),n=i=>{t(void 0,i.touchStart,i.touchEvent)};this.addManagedListeners(e,{longTap:n}),this.addDestroyFunc(()=>e.destroy())}},PN=class extends Ee{constructor(t,e=!1){super(),this.callback=t,this.addSpacer=e}wireBeans(t){this.visibleColsService=t.visibleColsService,this.scrollVisibleService=t.scrollVisibleService}postConstruct(){const t=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",t),this.addManagedEventListeners({columnContainerWidthChanged:t,displayedColumnsChanged:t,leftPinnedWidthChanged:t}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:t,scrollVisibilityChanged:t,scrollbarWidthChanged:t}),this.setWidth()}setWidth(){const t=ds(this.gos,"print"),e=this.visibleColsService.getBodyContainerWidth(),n=this.visibleColsService.getColsLeftWidth(),i=this.visibleColsService.getDisplayedColumnsRightWidth();let s;t?s=e+n+i:(s=e,this.addSpacer&&(this.gos.get("enableRtl")?n:i)===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(s+=this.scrollVisibleService.getScrollbarWidth())),this.callback(s)}},UAe=class extends Ee{constructor(t){super(),this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=t}wireBeans(t){this.funcColsService=t.funcColsService}onDragEnter(t){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const e=t.dragItem.columns;e&&e.forEach(n=>{n.isPrimary()&&(n.isAnyFunctionActive()||(n.isAllowValue()?this.columnsToAggregate.push(n):n.isAllowRowGroup()?this.columnsToGroup.push(n):n.isAllowPivot()&&this.columnsToPivot.push(n)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(t){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(t){}onDragStop(t){this.columnsToAggregate.length>0&&this.funcColsService.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.funcColsService.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.funcColsService.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function O$(t){const{isFromHeader:e,fromLeft:n,xPosition:i,fromEnter:s,fakeEvent:r,pinned:o,gos:a,columnModel:l,columnMoveService:c,visibleColsService:d}=t;let{allMovingColumns:f}=t;if(e){const P=[];f.forEach(F=>{var _;let N=null,I=F.getParent();for(;I!=null&&I.getDisplayedLeafColumns().length===1;)N=I,I=I.getParent();N!=null?(!!((_=N.getColGroupDef())!=null&&_.marryChildren)?N.getProvidedColumnGroup().getLeafColumns():N.getLeafColumns()).forEach(k=>{P.includes(k)||P.push(k)}):P.includes(F)||P.push(F)}),f=P}const p=f.slice();l.sortColsLikeCols(p);const m=qAe({movingCols:p,draggingRight:n,xPosition:i,pinned:o,gos:a,columnModel:l,visibleColsService:d}),y=jAe(p,l);if(m.length===0)return;const C=m[0];let x=y!==null&&!s;if(e&&(x=y!==null),x&&!r&&(!n&&C>=y||n&&C<=y))return;const w=d.getAllCols(),M=[];let S=null;for(let P=0;P<m.length;P++){const F=m[P],N=c.getProposedColumnOrder(p,F);if(!c.doesOrderPassRules(N))continue;const I=N.filter(A=>w.includes(A));if(S===null)S=I;else if(!Cu(I,S))break;const _=WAe(N);M.push({move:F,fragCount:_})}if(M.length===0)return;M.sort((P,F)=>P.fragCount-F.fragCount);const R=M[0].move;if(!(R>l.getCols().length-f.length))return{columns:f,toIndex:R}}function DN(t){const{columns:e,toIndex:n}=O$(t)||{},{finished:i,columnMoveService:s}=t;return!e||n==null?null:(s.moveColumns(e,n,"uiColumnMoved",i),i?null:{columns:e,toIndex:n})}function jAe(t,e){const n=e.getCols(),i=NMe(t.map(l=>n.indexOf(l))),s=i[0];return Kt(i)-s!==i.length-1?null:s}function WAe(t){function e(i){const s=[];let r=i.getOriginalParent();for(;r!=null;)s.push(r),r=r.getOriginalParent();return s}let n=0;for(let i=0;i<t.length-1;i++){let s=e(t[i]),r=e(t[i+1]);[s,r]=s.length>r.length?[s,r]:[r,s],s.forEach(o=>{r.indexOf(o)===-1&&n++})}return n}function $Ae(t,e){switch(e){case"left":return t.getLeftCols();case"right":return t.getRightCols();default:return t.getCenterCols()}}function qAe(t){const{movingCols:e,draggingRight:n,xPosition:i,pinned:s,gos:r,columnModel:o,visibleColsService:a}=t;if(r.get("suppressMovableColumns")||e.some(S=>S.getColDef().suppressMovable))return[];const c=$Ae(a,s),d=o.getCols(),f=c.filter(S=>Yd(e,S)),p=c.filter(S=>!Yd(e,S)),m=d.filter(S=>!Yd(e,S));let y=0,C=i;if(n){let S=0;f.forEach(R=>S+=R.getActualWidth()),C-=S}if(C>0){for(let S=0;S<p.length;S++){const R=p[S];if(C-=R.getActualWidth(),C<0)break;y++}n&&y++}let x;if(y>0){const S=p[y-1];x=m.indexOf(S)+1}else x=m.indexOf(p[0]),x===-1&&(x=0);const w=[x],M=(S,R)=>S-R;if(n){let S=x+1;const R=d.length-1;for(;S<=R;)w.push(S),S++;w.sort(M)}else{let S=x;const R=d.length-1;let P=d[S];for(;S<=R&&c.indexOf(P)<0;)S++,w.push(S),P=d[S];S=x-1;const F=0;for(;S>=F;)w.push(S),S--;w.sort(M).reverse()}return w}function Zb(t){var c;const{pinned:e,fromKeyboard:n,gos:i,ctrlsService:s,useHeaderRow:r,skipScrollPadding:o}=t;let a=(c=s.getHeaderRowContainerCtrl(e))==null?void 0:c.getViewportElement(),{x:l}=t;return a?(n&&(l-=a.getBoundingClientRect().left),i.get("enableRtl")&&(r&&(a=a.querySelector(".ag-header-row")),l=a.clientWidth-l),e==null&&!o&&(l+=s.get("center").getCenterViewportScrollLeft()),l):0}function yp(t,e){for(const n of t)n.setMoving(e,"uiColumnMoved")}var gV=7,xD=100,aC=xD/2,KAe=5,YAe=100,XAe=class extends Ee{constructor(t){super(),this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=t,this.isCenterContainer=!Ke(t)}wireBeans(t){this.columnModel=t.columnModel,this.visibleColsService=t.visibleColsService,this.columnMoveService=t.columnMoveService,this.dragAndDropService=t.dragAndDropService,this.ctrlsService=t.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,t=>{this.gridBodyCon=t.gridBodyCtrl})}getIconName(){var e;const t=((e=this.lastDraggingEvent)==null?void 0:e.dragItem.columns)??[];for(const n of t){const i=n.getPinned();if(n.getColDef().lockPinned){if(i==this.pinned)return"move";continue}if(i===this.pinned||!this.pinned)return"move";if(!i&&this.pinned)return"pinned"}return"notAllowed"}onDragEnter(t){const e=t.dragItem.columns;if(t.dragSource.type===0)this.setColumnsVisible(e,!0,"uiColumnDragged");else{const i=t.dragItem.visibleState,s=(e||[]).filter(r=>i[r.getId()]);this.setColumnsVisible(s,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(e,this.pinned),this.onDragging(t,!0,!0)}onDragging(t=this.lastDraggingEvent,e=!1,n=!1,i=!1){const s=this.gos.get("suppressMoveWhenColumnDragging");if(i&&!s){this.finishColumnMoving();return}if(this.lastDraggingEvent=t,!t||!i&&Yt(t.hDirection))return;const{pinned:r,gos:o,ctrlsService:a}=this,l=Zb({x:t.x,pinned:r,gos:o,ctrlsService:a});e||this.checkCenterForScrolling(l),s?this.handleColumnDragWhileSuppressingMovement(t,e,n,l,i):this.handleColumnDragWhileAllowingMovement(t,e,n,l,i)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(t,e,n){if(!t)return;const i=t.filter(s=>!s.getColDef().lockVisible);this.columnModel.setColsVisible(i,e,n)}finishColumnMoving(){if(this.clearHighlighted(),!this.lastMovedInfo)return;const{columns:t,toIndex:e}=this.lastMovedInfo;this.columnMoveService.moveColumns(t,e,"uiColumnMoved",!0)}handleColumnDragWhileSuppressingMovement(t,e,n,i,s){const r=this.getAllMovingColumns(t,!0);if(s){const o=this.isAttemptingToPin(r);o&&this.attemptToPinColumns(r,void 0,!0);const{fromLeft:a,xPosition:l}=this.getNormalisedXPositionInfo(r,o)||{};if(a==null||l==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:r,xPosition:l,fromEnter:e,fakeEvent:n,fromLeft:a})}else{if(!this.dragAndDropService.isDropZoneWithinThisGrid(t))return;this.highlightHoveredColumn(r,i)}}handleColumnDragWhileAllowingMovement(t,e,n,i,s){const r=this.getAllMovingColumns(t),o=this.normaliseDirection(t.hDirection)===1,a=t.dragSource.type===1,l=this.getMoveColumnParams({allMovingColumns:r,isFromHeader:a,xPosition:i,fromLeft:o,fromEnter:e,fakeEvent:n}),c=DN({...l,finished:s});c&&(this.lastMovedInfo=c)}getAllMovingColumns(t,e=!1){const n=t.dragSource.getDragItem();let i=null;e?(i=n.columnsInSplit,i||(i=n.columns)):i=n.columns;const s=r=>r.getColDef().lockPinned?r.getPinned()==this.pinned:!0;return i?i.filter(s):[]}getMoveColumnParams(t){const{allMovingColumns:e,isFromHeader:n,xPosition:i,fromLeft:s,fromEnter:r,fakeEvent:o}=t,{pinned:a,gos:l,columnModel:c,columnMoveService:d,visibleColsService:f}=this;return{allMovingColumns:e,isFromHeader:n,fromLeft:s,xPosition:i,pinned:a,fromEnter:r,fakeEvent:o,gos:l,columnModel:c,columnMoveService:d,visibleColsService:f}}findFirstAndLastMovingColumns(t){const e=t.length;let n,i;for(let s=0;s<=e;s++){if(!n){const r=t[s];r.getLeft()!=null&&(n=r)}if(!i){const r=t[e-1-s];r.getLeft()!=null&&(i=r)}if(n&&i)break}return{firstMovingCol:n,lastMovingCol:i}}highlightHoveredColumn(t,e){var d;const{gos:n,columnModel:i}=this,s=n.get("enableRtl"),r=i.getCols().filter(f=>f.isVisible()&&f.getPinned()===this.pinned);let o=null,a=null,l=null;for(const f of r){if(a=f.getActualWidth(),o=this.getNormalisedColumnLeft(f,0,s),o!=null){const p=o+a;if(o<=e&&p>=e){l=f;break}}o=null,a=null}if(l)t.indexOf(l)!==-1&&(l=null);else{for(let f=r.length-1;f>=0;f--){const p=r[f],m=r[f].getParent();if(!m){l=p;break}const y=m==null?void 0:m.getDisplayedLeafColumns();if(y.length){l=Kt(y);break}}if(!l)return;o=this.getNormalisedColumnLeft(l,0,s),a=l.getActualWidth()}if(((d=this.lastHighlightedColumn)==null?void 0:d.column)!==l&&this.clearHighlighted(),l==null||o==null||a==null)return;let c;e-o<a/2!==s?c=0:c=1,l.setHighlighted(c),this.lastHighlightedColumn={column:l,position:c}}getNormalisedXPositionInfo(t,e){const{gos:n,visibleColsService:i}=this,s=n.get("enableRtl"),{firstMovingCol:r,column:o,position:a}=this.getColumnMoveAndTargetInfo(t,e,s);if(!r||!o||a==null)return;const l=i.getAllCols(),c=l.indexOf(r),d=l.indexOf(o),f=a===0!==s,p=c<d||c===d&&!f;let m=0;if(f?p&&(m-=1):p||(m+=1),d+m===c)return;const y=l[d+m];if(!y)return;const C=this.getNormalisedColumnLeft(y,20,s);return{fromLeft:p,xPosition:C}}getColumnMoveAndTargetInfo(t,e,n){const i=this.lastHighlightedColumn||{},{firstMovingCol:s,lastMovingCol:r}=this.findFirstAndLastMovingColumns(t);if(!s||!r||i.column||!e)return{firstMovingCol:s,...i};const a=this.getPinDirection()==="left";return{firstMovingCol:s,position:a?1:0,column:a!==n?s:r}}normaliseDirection(t){if(this.gos.get("enableRtl"))switch(t){case 0:return 1;case 1:return 0}return t}getNormalisedColumnLeft(t,e,n){const{gos:i,ctrlsService:s}=this,r=t.getLeft();if(r==null)return null;const o=t.getActualWidth();return Zb({x:n?r+o-e:r+e,pinned:t.getPinned(),useHeaderRow:n,skipScrollPadding:!0,gos:i,ctrlsService:s})}isAttemptingToPin(t){const e=this.needToMoveLeft||this.needToMoveRight,n=this.failedMoveAttempts>gV;return e&&n||t.some(i=>i.getPinned()!==this.pinned)}moveColumnsAfterHighlight(t){const{allMovingColumns:e,xPosition:n,fromEnter:i,fakeEvent:s,fromLeft:r}=t,o=this.getMoveColumnParams({allMovingColumns:e,isFromHeader:!0,xPosition:n,fromLeft:r,fromEnter:i,fakeEvent:s}),{columns:a,toIndex:l}=O$(o)||{};a&&l!=null&&(this.lastMovedInfo={columns:a,toIndex:l}),this.finishColumnMoving()}clearHighlighted(){this.lastHighlightedColumn&&(this.lastHighlightedColumn.column.setHighlighted(null),this.lastHighlightedColumn=null)}checkCenterForScrolling(t){if(!this.isCenterContainer)return;const e=this.ctrlsService.get("center"),n=e.getCenterViewportScrollLeft(),i=n+e.getCenterWidth();this.gos.get("enableRtl")?(this.needToMoveRight=t<n+aC,this.needToMoveLeft=t>i-aC):(this.needToMoveLeft=t<n+aC,this.needToMoveRight=t>i-aC),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){var t;this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),YAe),(t=this.dragAndDropService.getDragAndDropImageComponent())==null||t.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){var t;this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,(t=this.dragAndDropService.getDragAndDropImageComponent())==null||t.setIcon(this.getIconName()))}moveInterval(){var i,s;let t;this.intervalCount++,t=10+this.intervalCount*KAe,t>xD&&(t=xD);let e=null;const n=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?e=n.scrollHorizontally(-t):this.needToMoveRight&&(e=n.scrollHorizontally(t)),e!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{if(this.failedMoveAttempts++,this.failedMoveAttempts<=gV+1)return;if((i=this.dragAndDropService.getDragAndDropImageComponent())==null||i.setIcon("pinned"),!this.gos.get("suppressMoveWhenColumnDragging")){const r=(s=this.lastDraggingEvent)==null?void 0:s.dragItem.columns;this.attemptToPinColumns(r,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(t,e,n=!1){const i=(t||[]).filter(s=>!s.getColDef().lockPinned);return i.length?(n&&(e=this.getPinDirection()),this.columnModel.setColsPinned(i,e,"uiColumnDragged"),n&&this.dragAndDropService.nudge(),i.length):0}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}},ZAe=class extends Ee{wireBeans(t){this.dragAndDropService=t.dragAndDropService,this.columnModel=t.columnModel,this.ctrlsService=t.ctrlsService}constructor(t,e){super(),this.pinned=t,this.eContainer=e}postConstruct(){this.ctrlsService.whenReady(this,t=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.left.getContainerElement()],[t.bottomLeft.getContainerElement()],[t.topLeft.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.right.getContainerElement()],[t.bottomRight.getContainerElement()],[t.topRight.getContainerElement()]];break;default:this.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.center.getViewportElement()],[t.bottomCenter.getViewportElement()],[t.topCenter.getViewportElement()]];break}}),this.moveColumnFeature=this.createManagedBean(new XAe(this.pinned)),this.bodyDropPivotTarget=this.createManagedBean(new UAe(this.pinned)),this.dragAndDropService.addDropTarget(this),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(this))}isInterestedIn(t){return t===1||t===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(t){return this.columnModel.isPivotMode()&&t.dragSource.type===0}onDragEnter(t){this.currentDropListener=this.isDropColumnInPivotMode(t)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(t)}onDragLeave(t){this.currentDropListener.onDragLeave(t)}onDragging(t){this.currentDropListener.onDragging(t)}onDragStop(t){this.currentDropListener.onDragStop(t)}onDragCancel(){this.currentDropListener.onDragCancel()}},JAe=class extends Ee{wireBeans(t){this.horizontalResizeService=t.horizontalResizeService,this.pinnedWidthService=t.pinnedWidthService,this.ctrlsService=t.ctrlsService,this.columnSizeService=t.columnSizeService,this.columnAutosizeService=t.columnAutosizeService}constructor(t,e,n,i,s){super(),this.pinned=t,this.column=e,this.eResize=n,this.comp=i,this.ctrl=s}postConstruct(){const t=[];let e,n;const i=()=>{if(Kn(this.eResize,e),!e)return;const o=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(t.push(o),n){const a=this.gos.get("skipHeaderOnAutoSize"),l=()=>{this.columnAutosizeService.autoSizeColumn(this.column,"uiColumnResized",a)};this.eResize.addEventListener("dblclick",l);const c=new tu(this.eResize);c.addEventListener("doubleTap",l),t.push(()=>{this.eResize.removeEventListener("dblclick",l),c.removeEventListener("doubleTap",l),c.destroy()})}},s=()=>{t.forEach(o=>o()),t.length=0},r=()=>{const o=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(o!==e||a!==n)&&(e=o,n=a,s(),i())};r(),this.addDestroyFunc(s),this.ctrl.setRefreshFunction("resize",r)}onResizing(t,e){const{column:n,lastResizeAmount:i,resizeStartWidth:s}=this,r=this.normaliseResizeAmount(e),o=s+r,a=[{key:n,newWidth:o}];if(this.column.getPinned()){const l=this.pinnedWidthService.getPinnedLeftWidth(),c=this.pinnedWidthService.getPinnedRightWidth(),d=g0(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(l+c+(r-i)>d)return}this.lastResizeAmount=r,this.columnSizeService.setColumnWidths(a,this.resizeWithShiftKey,t,"uiColumnResized"),t&&this.toggleColumnResizing(!1)}onResizeStart(t){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=t,this.toggleColumnResizing(!0)}toggleColumnResizing(t){this.comp.addOrRemoveCssClass("ag-column-resizing",t)}normaliseResizeAmount(t){let e=t;const n=this.pinned!=="left",i=this.pinned==="right";return this.gos.get("enableRtl")?n&&(e*=-1):i&&(e*=-1),e}},QAe=class extends Ee{constructor(t){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=t}wireBeans(t){this.rowModel=t.rowModel,this.selectionService=t.selectionService}onSpaceKeyDown(t){const e=this.cbSelectAll;e.isDisplayed()&&!e.getGui().contains(Zn(this.gos))&&(t.preventDefault(),e.setValue(!e.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(t){this.headerCellCtrl=t,this.cbSelectAll=this.createManagedBean(new yN),this.cbSelectAll.addCssClass("ag-header-select-all"),ta(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:this.onNewColumnsLoaded.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedListeners(this.cbSelectAll,{fieldValueChanged:this.onCbSelectAll.bind(this)}),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const t=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(t);const e=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!e),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const t=this.localeService.getLocaleTextFunc(),n=this.cbSelectAll.getValue()?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),i=t("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll",`${i} (${n})`):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(t("ariaHeaderSelection","Column with Header Selection")),this.headerCellCtrl.announceAriaDescription()}checkSelectionType(t){return R9(this.gos)?!0:(Fe(`${t} is only available if using 'multiRow' selection mode.`),!1)}checkRightRowModelType(t){return Gn(this.gos)||Th(this.gos)?!0:(Fe(`${t} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${this.rowModel.getType()}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const t=this.cbSelectAll.getValue(),e=this.isFilteredOnly(),n=this.isCurrentPageOnly();let i="uiSelectAll";n?i="uiSelectAllCurrentPage":e&&(i="uiSelectAllFiltered");const s={source:i,justFiltered:e,justCurrentPage:n};t?this.selectionService.selectAllRowNodes(s):this.selectionService.deselectAllRowNodes(s)}isCheckboxSelection(){const t=this.gos.get("rowSelection"),e=typeof t=="object"&&Vb(t)&&j1(this.column),n=this.column.getColDef().headerCheckboxSelection;let i=!1;return e?i=!0:typeof n=="function"?i=n(this.gos.addGridCommonParams({column:this.column,colDef:this.column.getColDef()})):i=!!n,i&&this.checkRightRowModelType(e?"headerCheckbox":"headerCheckboxSelection")&&this.checkSelectionType(e?"headerCheckbox":"headerCheckboxSelection")}isFilteredOnly(){const t=this.gos.get("rowSelection");return typeof t=="object"?t.mode==="multiRow"&&t.selectAll==="filtered":!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){const t=this.gos.get("rowSelection");return typeof t=="object"?t.mode==="multiRow"&&t.selectAll==="currentPage":!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}},e2e=class extends q1{constructor(t,e,n){super(t,e,n),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=t}setComp(t,e,n,i,s){this.comp=t,s=p0(this,this.beans.context,s),this.setGui(e,s),this.updateState(),this.setupWidth(s),this.setupMovingCss(s),this.setupMenuClass(s),this.setupSortableClass(s),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:i,checkMeasuringCallback:o=>this.setRefreshFunction("measuring",o),compBean:s}),this.addColumnHoverListener(s),this.setupFilterClass(s),this.setupClassesFromColDef(),this.setupTooltip(s),this.addActiveHeaderMouseListeners(s),this.setupSelectAll(s),this.setupUserComp(s),this.refreshAria(),this.resizeFeature=s.createManagedBean(new JAe(this.getPinned(),this.column,n,t,this)),s.createManagedBean(new TN([this.column],e)),s.createManagedBean(new MN(this.column,e,this.beans)),s.createManagedBean(new Ah(e,{shouldStopEventPropagation:o=>this.shouldStopEventPropagation(o),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(s),s.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],()=>this.refresh(s)),s.addManagedListeners(this.column,{colDefChanged:()=>this.refresh(s)}),s.addManagedListeners(this.column,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const r=()=>this.checkDisplayName(s);s.addManagedEventListeners({columnValueChanged:r,columnRowGroupChanged:r,columnPivotChanged:r,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),s.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(t,e){if(!this.column.isResizable())return;const n=this.column.getActualWidth(),i=this.column.getMinWidth(),s=this.column.getMaxWidth(),r=Math.min(Math.max(n+t,i),s);this.beans.columnSizeService.setColumnWidths([{key:this.column,newWidth:r}],e,!0,"uiColumnResized")}moveHeader(t){const{eGui:e,beans:n,column:i,ctrlsService:s}=this,{gos:r,columnModel:o,columnMoveService:a,visibleColsService:l}=n,c=this.getPinned(),d=e.getBoundingClientRect().left,f=i.getActualWidth(),p=r.get("enableRtl"),y=Zb({x:t===0!==p?d-20:d+f+20,pinned:c,fromKeyboard:!0,gos:r,ctrlsService:s}),C=this.focusService.getFocusedHeader();DN({allMovingColumns:[i],isFromHeader:!0,fromLeft:t===1,xPosition:y,pinned:c,fromEnter:!1,fakeEvent:!1,gos:r,columnModel:o,columnMoveService:a,visibleColsService:l,finished:!0}),s.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(i,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&C&&this.restoreFocus(C)}restoreFocus(t){this.focusService.focusHeaderPosition({headerPosition:{...t,column:this.column}})}setupUserComp(t){const e=this.lookupUserCompDetails(t);this.setCompDetails(e)}setCompDetails(t){this.userCompDetails=t,this.comp.setUserCompDetails(t)}lookupUserCompDetails(t){const e=this.createParams(t),n=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(n,e)}createParams(t){return this.gos.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:n=>{this.menuService.showColumnMenu({column:this.column,buttonElement:n,positionBy:"button"})},showColumnMenuAfterMouseClick:n=>{this.menuService.showColumnMenu({column:this.column,mouseEvent:n,positionBy:"mouse"})},showFilter:n=>{this.menuService.showFilterMenu({column:this.column,buttonElement:n,containerType:"columnFilter",positionBy:"button"})},progressSort:n=>{this.beans.sortController.progressSort(this.column,!!n,"uiColumnSorted")},setSort:(n,i)=>{this.beans.sortController.setSortForColumn(this.column,n,!!i,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(n,i)=>{this.setupTooltip(t,n,i)}})}setupSelectAll(t){this.selectAllFeature=t.createManagedBean(new QAe(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(t){super.handleKeyDown(t),t.key===ve.SPACE&&this.selectAllFeature.onSpaceKeyDown(t),t.key===ve.ENTER&&this.onEnterKeyDown(t),t.key===ve.DOWN&&t.altKey&&this.showMenuOnKeyPress(t,!1)}onEnterKeyDown(t){if(t.ctrlKey||t.metaKey)this.showMenuOnKeyPress(t,!0);else if(this.sortable){const e=t.shiftKey;this.beans.sortController.progressSort(this.column,e,"uiColumnSorted")}}showMenuOnKeyPress(t,e){const n=this.comp.getUserCompInstance();!n||!(n instanceof pD)||n.onMenuKeyboardShortcut(e)&&t.preventDefault()}onFocusIn(t){if(!this.getGui().contains(t.relatedTarget)){const e=this.getRowIndex();this.focusService.setFocusedHeader(e,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}onFocusOut(t){this.getGui().contains(t.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(t,e,n){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const i=this.gos.get("tooltipShowMode")==="whenTruncated",s=this.eGui,r=this.column.getColDef();!n&&i&&!r.headerComponent&&(n=()=>{const l=s.querySelector(".ag-header-cell-text");return l?l.scrollWidth>l.clientWidth:!0});const o={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>s,getLocation:()=>"header",getTooltipValue:()=>e??this.column.getColDef().headerTooltip,shouldDisplayTooltip:n},a=t.createManagedBean(new rm(o));this.setRefreshFunction("tooltip",()=>a.refreshToolTip())}setupClassesFromColDef(){const t=()=>{const e=this.column.getColDef(),n=T$(e,this.gos,this.column,null),i=this.userHeaderClasses;this.userHeaderClasses=new Set(n),n.forEach(s=>{i.has(s)?i.delete(s):this.comp.addOrRemoveCssClass(s,!0)}),i.forEach(s=>this.comp.addOrRemoveCssClass(s,!1))};this.setRefreshFunction("headerClasses",t),t()}setDragSource(t){if(this.dragSourceElement=t,this.removeDragSource(),!t||!this.draggable)return;const{column:e,beans:n,displayName:i,dragAndDropService:s,gos:r}=this,{columnModel:o}=n;let a=!this.gos.get("suppressDragLeaveHidesColumns");const l=this.dragSource={type:1,eElement:t,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:()=>this.createDragItem(e),dragItemName:i,onDragStarted:()=>{a=!r.get("suppressDragLeaveHidesColumns"),yp([e],!0)},onDragStopped:()=>yp([e],!1),onDragCancelled:()=>yp([e],!1),onGridEnter:c=>{var d;if(a){const f=((d=c==null?void 0:c.columns)==null?void 0:d.filter(p=>!p.getColDef().lockVisible))||[];o.setColsVisible(f,!0,"uiColumnMoved")}},onGridExit:c=>{var d;if(a){const f=((d=c==null?void 0:c.columns)==null?void 0:d.filter(p=>!p.getColDef().lockVisible))||[];o.setColsVisible(f,!1,"uiColumnMoved")}}};s.addDragSource(l,!0)}createDragItem(t){const e={};return e[t.getId()]=t.isVisible(),{columns:[t],visibleState:e}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(t,e){this.refreshFunctions[t]=e}refresh(t){this.updateState(),this.refreshHeaderComp(t),this.refreshAria(),Object.values(this.refreshFunctions).forEach(e=>e())}refreshHeaderComp(t){const e=this.lookupUserCompDetails(t);(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(t){const e=this.comp.getUserCompInstance();return!e||!e.refresh?!1:e.refresh(t)}calculateDisplayName(){return this.beans.columnNameService.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(t){this.displayName!==this.calculateDisplayName()&&this.refresh(t)}workOutDraggable(){const t=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!t.suppressMovable&&!t.lockPosition)||!!t.enableRowGroup||!!t.enablePivot}setupWidth(t){const e=()=>{const n=this.column.getActualWidth();this.comp.setWidth(`${n}px`)};t.addManagedListeners(this.column,{widthChanged:e}),e()}setupMovingCss(t){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};t.addManagedListeners(this.column,{movingChanged:e}),e()}setupMenuClass(t){const e=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};t.addManagedListeners(this.column,{menuVisibleChanged:e}),e()}setupSortableClass(t){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};e(),this.setRefreshFunction("updateSortable",e),t.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(t){const e=()=>{const n=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",n),this.refreshAria()};t.addManagedListeners(this.column,{filterActiveChanged:e}),e()}setupWrapTextClass(){const t=()=>{const e=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",e)};t(),this.setRefreshFunction("wrapText",t)}onHeaderHighlightChanged(){const t=this.column.getHighlighted(),e=t===0,n=t===1;this.comp.addOrRemoveCssClass("ag-header-highlight-before",e),this.comp.addOrRemoveCssClass("ag-header-highlight-after",n)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:t,column:e,comp:n,beans:i}=this,s=this.beans.columnModel.getGroupRowsHeight(),r=s.reduce((f,p)=>f+=p,0)===0;if(n.addOrRemoveCssClass("ag-header-parent-hidden",r),!e.isSpanHeaderHeight()){t.style.removeProperty("top"),t.style.removeProperty("height"),n.addOrRemoveCssClass("ag-header-span-height",!1),n.addOrRemoveCssClass("ag-header-span-total",!1);return}const{numberOfParents:o,isSpanningTotal:a}=this.column.getColumnGroupPaddingInfo();n.addOrRemoveCssClass("ag-header-span-height",o>0);const{columnModel:l}=i,c=l.getColumnHeaderRowHeight();if(o===0){n.addOrRemoveCssClass("ag-header-span-total",!1),t.style.setProperty("top","0px"),t.style.setProperty("height",`${c}px`);return}n.addOrRemoveCssClass("ag-header-span-total",a);let d=0;for(let f=0;f<o;f++)d+=s[s.length-1-f];t.style.setProperty("top",`${-d}px`),t.style.setProperty("height",`${c+d}px`)}refreshAriaSort(){if(this.sortable){const t=this.localeService.getLocaleTextFunc(),e=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(hTe(e)),this.setAriaDescriptionProperty("sort",t("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const t=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",t("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){const t=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",t("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const t=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",t("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(t,e){e!=null?this.ariaDescriptionProperties.set(t,e):this.ariaDescriptionProperties.delete(t)}announceAriaDescription(){if(!this.eGui.contains(Zn(this.beans.gos)))return;const t=Array.from(this.ariaDescriptionProperties.keys()).sort((e,n)=>e==="filter"?-1:n.charCodeAt(0)-e.charCodeAt(0)).map(e=>this.ariaDescriptionProperties.get(e)).join(". ");this.beans.ariaAnnouncementService.announceValue(t,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(t){const e=()=>{if(!this.gos.get("columnHoverHighlight"))return;const n=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",n)};t.addManagedEventListeners({columnHoverChanged:e}),e()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(t){const e=s=>this.handleMouseOverChange(s.type==="mouseenter"),n=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column),i=s=>this.handleContextMenuMouseEvent(s,void 0,this.column);t.addManagedListeners(this.getGui(),{mouseenter:e,mouseleave:e,click:n,contextmenu:i})}handleMouseOverChange(t){this.setActiveHeader(t),this.eventService.dispatchEvent({type:t?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(t){this.comp.addOrRemoveCssClass("ag-header-active",t)}getAnchorElementForMenu(t){const e=this.comp.getUserCompInstance();return e instanceof pD?e.getAnchorElementForMenu(t):this.getGui()}destroy(){super.destroy()}},t2e=class extends Ee{wireBeans(t){this.horizontalResizeService=t.horizontalResizeService,this.autoWidthCalculator=t.autoWidthCalculator,this.visibleColsService=t.visibleColsService,this.columnSizeService=t.columnSizeService,this.columnAutosizeService=t.columnAutosizeService}constructor(t,e,n,i){super(),this.eResize=e,this.comp=t,this.pinned=n,this.columnGroup=i}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const t=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(t),!this.gos.get("suppressAutoSize")){const e=this.gos.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",()=>{const n=[];this.columnGroup.getDisplayedLeafColumns().forEach(s=>{s.getColDef().suppressAutoSize||n.push(s.getColId())}),n.length>0&&this.columnAutosizeService.autoSizeCols({colKeys:n,skipHeader:e,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")})}}onResizeStart(t){const e=this.getInitialValues(t);this.storeLocalValues(e),this.toggleColumnResizing(!0)}onResizing(t,e,n="uiColumnResized"){const i=this.normaliseDragChange(e),s=this.resizeStartWidth+i;this.resizeColumnsFromLocalValues(s,n,t)}getInitialValues(t){const e=this.getColumnsToResize(),n=this.getInitialSizeOfColumns(e),i=this.getSizeRatiosOfColumns(e,n),s={columnsToResize:e,resizeStartWidth:n,resizeRatios:i};let r=null;if(t&&(r=this.visibleColsService.getGroupAtDirection(this.columnGroup,"After")),r){const o=r.getDisplayedLeafColumns(),a=s.groupAfterColumns=o.filter(c=>c.isResizable()),l=s.groupAfterStartWidth=this.getInitialSizeOfColumns(a);s.groupAfterRatios=this.getSizeRatiosOfColumns(a,l)}else s.groupAfterColumns=void 0,s.groupAfterStartWidth=void 0,s.groupAfterRatios=void 0;return s}storeLocalValues(t){const{columnsToResize:e,resizeStartWidth:n,resizeRatios:i,groupAfterColumns:s,groupAfterStartWidth:r,groupAfterRatios:o}=t;this.resizeCols=e,this.resizeStartWidth=n,this.resizeRatios=i,this.resizeTakeFromCols=s,this.resizeTakeFromStartWidth=r,this.resizeTakeFromRatios=o}clearLocalValues(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(t){const e=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),n=this.getInitialValues();e>n.resizeStartWidth&&this.resizeColumns(n,e,t,!0)}resizeColumnsFromLocalValues(t,e,n=!0){if(!this.resizeCols||!this.resizeRatios)return;const i={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols??void 0,groupAfterStartWidth:this.resizeTakeFromStartWidth??void 0,groupAfterRatios:this.resizeTakeFromRatios??void 0};this.resizeColumns(i,t,e,n)}resizeColumns(t,e,n,i=!0){const{columnsToResize:s,resizeStartWidth:r,resizeRatios:o,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:c}=t,d=[];if(d.push({columns:s,ratios:o,width:e}),a){const f=e-r;d.push({columns:a,ratios:c,width:l-f})}this.columnSizeService.resizeColumnSets({resizeSets:d,finished:i,source:n}),i&&this.toggleColumnResizing(!1)}toggleColumnResizing(t){this.comp.addOrRemoveCssClass("ag-column-resizing",t)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(e=>e.isResizable())}getInitialSizeOfColumns(t){return t.reduce((e,n)=>e+n.getActualWidth(),0)}getSizeRatiosOfColumns(t,e){return t.map(n=>n.getActualWidth()/e)}normaliseDragChange(t){let e=t;return this.gos.get("enableRtl")?this.pinned!=="left"&&(e*=-1):this.pinned==="right"&&(e*=-1),e}destroy(){super.destroy(),this.clearLocalValues()}},n2e=class extends Ee{constructor(t,e){super(),this.removeChildListenersFuncs=[],this.columnGroup=e,this.comp=t}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const t=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(e=>{e.addEventListener("widthChanged",t),e.addEventListener("visibleChanged",t),this.removeChildListenersFuncs.push(()=>{e.removeEventListener("widthChanged",t),e.removeEventListener("visibleChanged",t)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(t=>t()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const t=this.columnGroup.getActualWidth();this.comp.setWidth(`${t}px`),this.comp.addOrRemoveCssClass("ag-hidden",t===0)}},i2e=class extends q1{constructor(t,e,n){super(t,e,n),this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving())this.removeDragSource();else if(!this.dragSource){const i=this.getGui();this.setDragSource(i)}},this.column=t}setComp(t,e,n,i,s){this.comp=t,s=p0(this,this.beans.context,s),this.setGui(e,s),this.displayName=this.beans.columnNameService.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(s),this.setupExpandable(s),this.setupTooltip(s),this.setupAutoHeight({wrapperElement:i,compBean:s}),this.setupUserComp(s),this.addHeaderMouseListeners(s),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const r=this.getParentRowCtrl().getPinned(),o=this.column.getProvidedColumnGroup().getLeafColumns();s.createManagedBean(new TN(o,e)),s.createManagedBean(new MN(this.column,e,this.beans)),s.createManagedBean(new n2e(t,this.column)),this.resizeFeature=s.createManagedBean(new t2e(t,n,r,this.column)),s.createManagedBean(new Ah(e,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(s,o),s.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(s),s.addDestroyFunc(()=>this.clearComponent())}refreshMaxHeaderHeight(){const{gos:t,comp:e}=this,n=t.get("groupHeaderHeight");n!=null?n===0?e.setHeaderWrapperHidden(!0):e.setHeaderWrapperMaxHeight(n):(e.setHeaderWrapperHidden(!1),e.setHeaderWrapperMaxHeight(null))}addHighlightListeners(t,e){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const n of e)t.addManagedListeners(n,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,n)})}onLeafColumnHighlightChanged(t){const e=this.column.getDisplayedLeafColumns(),n=e[0]===t,i=Kt(e)===t;if(!n&&!i)return;const s=t.getHighlighted(),r=!!this.getParentRowCtrl().findHeaderCellCtrl(l=>l.getColumnGroupChild().isMoving());let o=!1,a=!1;if(r){const l=this.beans.gos.get("enableRtl"),c=s===1,d=s===0;n&&(l?a=c:o=d),i&&(l?o=d:a=c)}this.comp.addOrRemoveCssClass("ag-header-highlight-before",o),this.comp.addOrRemoveCssClass("ag-header-highlight-after",a)}getColumn(){return this.column}resizeHeader(t,e){if(!this.resizeFeature)return;const n=this.resizeFeature.getInitialValues(e);this.resizeFeature.resizeColumns(n,n.resizeStartWidth+t,"uiColumnResized",!0)}moveHeader(t){const{beans:e,eGui:n,column:i,ctrlsService:s}=this,{gos:r,columnModel:o,columnMoveService:a,visibleColsService:l}=e,c=r.get("enableRtl"),d=t===0,f=this.getPinned(),p=n.getBoundingClientRect(),m=p.left,y=p.width,C=Zb({x:d!==c?m-20:m+y+20,pinned:f,fromKeyboard:!0,gos:r,ctrlsService:s}),x=i.getGroupId(),w=this.focusService.getFocusedHeader();DN({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,fromLeft:t===1,xPosition:C,pinned:f,fromEnter:!1,fakeEvent:!1,gos:r,columnModel:o,columnMoveService:a,visibleColsService:l,finished:!0});const M=i.getDisplayedLeafColumns(),S=d?M[0]:Kt(M);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(S,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&w&&this.restoreFocus(x,i,w)}restoreFocus(t,e,n){const i=e.getLeafColumns();if(!i.length)return;const s=i[0].getParent();if(!s)return;const r=this.findGroupWidthId(s,t);r&&this.focusService.focusHeaderPosition({headerPosition:{...n,column:r}})}findGroupWidthId(t,e){for(;t;){if(t.getGroupId()===e)return t;t=t.getParent()}return null}resizeLeafColumnsToFit(t){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(t)}setupUserComp(t){const e=this.gos.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:i=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),i,"gridInitializing")},setTooltip:(i,s)=>{this.setupTooltip(t,i,s)}}),n=this.userComponentFactory.getHeaderGroupCompDetails(e);this.comp.setUserCompDetails(n)}addHeaderMouseListeners(t){const e=s=>this.handleMouseOverChange(s.type==="mouseenter"),n=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),i=s=>this.handleContextMenuMouseEvent(s,void 0,this.column.getProvidedColumnGroup());t.addManagedListeners(this.getGui(),{mouseenter:e,mouseleave:e,click:n,contextmenu:i})}handleMouseOverChange(t){this.eventService.dispatchEvent({type:t?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(t,e,n){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const i=this.column.getColGroupDef(),s=this.gos.get("tooltipShowMode")==="whenTruncated",r=this.eGui;!n&&s&&!(i!=null&&i.headerGroupComponent)&&(n=()=>{const a=r.querySelector(".ag-header-group-text");return a?a.scrollWidth>a.clientWidth:!0});const o={getColumn:()=>this.column,getGui:()=>r,getLocation:()=>"headerGroup",getTooltipValue:()=>e??(i&&i.headerTooltip),shouldDisplayTooltip:n};i&&(o.getColDef=()=>i),t.createManagedBean(new rm(o))}setupExpandable(t){const e=this.column.getProvidedColumnGroup();this.refreshExpanded();const n=this.refreshExpanded.bind(this);t.addManagedListeners(e,{expandedChanged:n,expandableChanged:n})}refreshExpanded(){const{column:t}=this;this.expandable=t.isExpandable();const e=t.isExpanded();this.expandable?this.comp.setAriaExpanded(e?"true":"false"):this.comp.setAriaExpanded(void 0)}getColId(){return this.column.getUniqueId()}addClasses(){const t=this.column.getColGroupDef(),e=T$(t,this.gos,null,this.column);this.column.isPadding()?(e.push("ag-header-group-cell-no-group"),this.column.getLeafColumns().every(i=>i.isSpanHeaderHeight())&&e.push("ag-header-span-height")):(e.push("ag-header-group-cell-with-group"),t!=null&&t.wrapHeaderText&&e.push("ag-header-cell-wrap-text")),e.forEach(n=>this.comp.addOrRemoveCssClass(n,!0))}setupMovingCss(t){const n=this.column.getProvidedColumnGroup().getLeafColumns(),i=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());n.forEach(s=>{t.addManagedListeners(s,{movingChanged:i})}),i()}onFocusIn(t){if(!this.eGui.contains(t.relatedTarget)){const e=this.getRowIndex();this.beans.focusService.setFocusedHeader(e,this.column)}}handleKeyDown(t){super.handleKeyDown(t);const e=this.getWrapperHasFocus();if(!(!this.expandable||!e)&&t.key===ve.ENTER){const n=this.column,i=!n.isExpanded();this.beans.columnModel.setColumnGroupOpened(n.getProvidedColumnGroup(),i,"uiColumnExpanded")}}setDragSource(t){if(!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),!t))return;const{beans:e,column:n,displayName:i,gos:s,dragAndDropService:r}=this,{columnModel:o}=e,a=n.getProvidedColumnGroup().getLeafColumns();let l=!s.get("suppressDragLeaveHidesColumns");const c=this.dragSource={type:1,eElement:t,getDefaultIconName:()=>l?"hide":"notAllowed",dragItemName:i,getDragItem:()=>this.getDragItemForGroup(n),onDragStarted:()=>{l=!s.get("suppressDragLeaveHidesColumns"),yp(a,!0)},onDragStopped:()=>yp(a,!1),onDragCancelled:()=>yp(a,!1),onGridEnter:d=>{if(l){const{columns:f=[],visibleState:p}=d??{},m=f.filter(y=>!y.getColDef().lockVisible&&(!p||p[y.getColId()]));o.setColsVisible(m,!0,"uiColumnMoved")}},onGridExit:d=>{var f;if(l){const p=((f=d==null?void 0:d.columns)==null?void 0:f.filter(m=>!m.getColDef().lockVisible))||[];o.setColsVisible(p,!1,"uiColumnMoved")}}};r.addDragSource(c,!0)}getDragItemForGroup(t){const e=t.getProvidedColumnGroup().getLeafColumns(),n={};e.forEach(o=>n[o.getId()]=o.isVisible());const i=[];this.beans.visibleColsService.getAllCols().forEach(o=>{e.indexOf(o)>=0&&(i.push(o),yr(e,o))}),e.forEach(o=>i.push(o));const s=[],r=t.getLeafColumns();for(const o of i)r.indexOf(o)!==-1&&s.push(o);return{columns:i,columnsInSplit:s,visibleState:n}}isSuppressMoving(){let t=!1;return this.column.getLeafColumns().forEach(n=>{(n.getColDef().suppressMovable||n.getColDef().lockPosition)&&(t=!0)}),t||this.gos.get("suppressMovableColumns")}destroy(){super.destroy()}},s2e=0,xA=class extends Ee{constructor(t,e,n){super(),this.instanceId=s2e++,this.rowIndex=t,this.pinned=e,this.type=n;const i=n=="group"?"ag-header-row-column-group":n=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${i}`}wireBeans(t){this.beans=t}postConstruct(){this.isPrintLayout=ds(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.getHeaderCellCtrls().every(t=>t.getGui()!=null):!1}setComp(t,e,n=!0){this.comp=t,e=p0(this,this.beans.context,e),n&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(e)}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(t){const e=this.onRowHeightChanged.bind(this);t.addManagedEventListeners({columnResized:this.onColumnResized.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:n=>this.onVirtualColumnsChanged(n.afterScroll),columnGroupHeaderHeightChanged:e,columnHeaderHeightChanged:e,gridStylesChanged:e,advancedFilterEnabledChanged:e}),t.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),t.addManagedPropertyListener("ensureDomOrder",n=>this.isEnsureDomOrder=n.currentValue),t.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e)}getHeaderCellCtrl(t){if(this.headerCellCtrls)return Ow(this.headerCellCtrls).find(e=>e.getColumnGroupChild()===t)}onDisplayedColumnsChanged(){this.isPrintLayout=ds(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const t=this.getWidthForRow();this.comp.setWidth(`${t}px`)}getWidthForRow(){const{visibleColsService:t}=this.beans;return this.isPrintLayout?this.pinned!=null?0:t.getContainerWidth("right")+t.getContainerWidth("left")+t.getContainerWidth(null):t.getContainerWidth(this.pinned)}onRowHeightChanged(){const{topOffset:t,rowHeight:e}=this.getTopAndHeight();this.comp.setTop(t+"px"),this.comp.setHeight(e+"px")}getTopAndHeight(){const{columnModel:t,filterManager:e}=this.beans,n=[],i=t.getGroupRowsHeight(),s=t.getColumnHeaderRowHeight();n.push(...i),n.push(s),e!=null&&e.hasFloatingFilters()&&n.push(t.getFloatingFiltersHeight());let r=0;for(let a=0;a<this.rowIndex;a++)r+=n[a];const o=n[this.rowIndex];return{topOffset:r,rowHeight:o}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(t=!1){const e=this.getHeaderCtrls(),n=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(e,n,t)}getHeaderCtrls(){const t=this.headerCellCtrls;this.headerCellCtrls=new Map;const e=this.getColumnsInViewport();for(const i of e)this.recycleAndCreateHeaderCtrls(i,t);const n=i=>{const{focusService:s,visibleColsService:r}=this.beans;return s.isHeaderWrapperFocused(i)?r.isVisible(i.getColumnGroupChild()):!1};if(t)for(const[i,s]of t)n(s)?this.headerCellCtrls.set(i,s):this.destroyBean(s);return this.getHeaderCellCtrls()}getHeaderCellCtrls(){var t;return Array.from(((t=this.headerCellCtrls)==null?void 0:t.values())??[])}recycleAndCreateHeaderCtrls(t,e){if(!this.headerCellCtrls||t.isEmptyGroup())return;const n=t.getUniqueId();let i;if(e&&(i=e.get(n),e.delete(n)),i&&i.getColumnGroupChild()!=t&&(this.destroyBean(i),i=void 0),i==null)switch(this.type){case"filter":{i=this.createBean(this.beans.ctrlsFactory.getInstance("headerFilterCell",t,this.beans,this));break}case"group":i=this.createBean(new i2e(t,this.beans,this));break;default:i=this.createBean(new e2e(t,this.beans,this));break}this.headerCellCtrls.set(n,i)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let t=[];const e=this.getActualDepth(),{columnViewportService:n}=this.beans;return["left",null,"right"].forEach(i=>{const s=n.getHeadersToRender(i,e);t=t.concat(s)}),t}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnViewportService.getHeadersToRender(this.pinned,this.getActualDepth())}findHeaderCellCtrl(t){if(!this.headerCellCtrls)return;const e=this.getHeaderCellCtrls();let n;return typeof t=="function"?n=e.find(t):n=e.find(i=>i.getColumnGroupChild()==t),n}focusHeader(t,e){const n=this.findHeaderCellCtrl(t);return n?n.focus(e):!1}destroy(){var t;(t=this.headerCellCtrls)==null||t.forEach(e=>{this.destroyBean(e)}),this.headerCellCtrls=void 0,super.destroy()}},r2e=class extends Ee{constructor(t){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=t}wireBeans(t){this.ctrlsService=t.ctrlsService,this.scrollVisibleService=t.scrollVisibleService,this.pinnedWidthService=t.pinnedWidthService,this.columnModel=t.columnModel,this.focusService=t.focusService,this.filterManager=t.filterManager}setComp(t,e){this.comp=t,this.eViewport=e,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport);const n=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:n,advancedFilterEnabledChanged:n});const i=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;this.ctrlsService.register(i,this),this.columnModel.isReady()&&this.refresh()}getAllCtrls(){const t=[...this.groupsRowCtrls];return this.columnsRowCtrl&&t.push(this.columnsRowCtrl),this.filtersRowCtrl&&t.push(this.filtersRowCtrl),t}refresh(t=!1){const e=new gN,n=this.focusService.getFocusHeaderToUseAfterRefresh(),i=()=>{const a=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let l=0;l<a;l++){const c=this.createBean(new xA(e.next(),this.pinned,"group"));this.groupsRowCtrls.push(c)}},s=()=>{const a=e.next(),l=!this.hidden&&(this.columnsRowCtrl==null||!t||this.columnsRowCtrl.getRowIndex()!==a);(l||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),l&&(this.columnsRowCtrl=this.createBean(new xA(a,this.pinned,"column")))},r=()=>{var c;this.includeFloatingFilter=!!((c=this.filterManager)!=null&&c.hasFloatingFilters())&&!this.hidden;const a=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){a();return}const l=e.next();if(this.filtersRowCtrl){const d=this.filtersRowCtrl.getRowIndex()!==l;(!t||d)&&a()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new xA(l,this.pinned,"filter")))};i(),s(),r();const o=this.getAllCtrls();this.comp.setCtrls(o),this.restoreFocusOnHeader(n)}getHeaderCtrlForColumn(t){var e;if(lu(t))return(e=this.columnsRowCtrl)==null?void 0:e.getHeaderCellCtrl(t);if(this.groupsRowCtrls.length!==0)for(let n=0;n<this.groupsRowCtrls.length;n++){const i=this.groupsRowCtrls[n].getHeaderCellCtrl(t);if(i)return i}}getHtmlElementForColumnHeader(t){const e=this.getHeaderCtrlForColumn(t);return e?e.getGui():null}getRowType(t){const n=this.getAllCtrls()[t];return n?n.getType():void 0}focusHeader(t,e,n){const s=this.getAllCtrls()[t];return s?s.focusHeader(e,n):!1}getViewportElement(){return this.eViewport}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(t){return this.groupsRowCtrls[t]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(t){this.comp.setViewportScrollLeft(t)}onScrollCallback(t){this.addManagedElementListeners(this.getViewportElement(),{scroll:t})}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}setupDragAndDrop(t){const e=new ZAe(this.pinned,t);this.createManagedBean(e)}restoreFocusOnHeader(t){if(!t)return;const{column:e}=t;e.getPinned()==this.pinned&&this.focusService.focusHeaderPosition({headerPosition:t})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){var e;const t=((e=this.filterManager)==null?void 0:e.hasFloatingFilters())&&!this.hidden;this.includeFloatingFilter!==t&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new PN(t=>this.comp.setCenterWidth(`${t}px`),!0))}setupPinnedWidth(){if(this.pinned==null)return;const t=this.pinned==="left",e=this.pinned==="right";this.hidden=!0;const n=()=>{const i=t?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(i==null)return;const s=i==0,r=this.hidden!==s,o=this.gos.get("enableRtl"),a=this.scrollVisibleService.getScrollbarWidth(),c=this.scrollVisibleService.isVerticalScrollShowing()&&(o&&t||!o&&e)?i+a:i;this.comp.setPinnedContainerWidth(`${c}px`),this.comp.setDisplayed(!s),r&&(this.hidden=s,this.refresh())};this.addManagedEventListeners({leftPinnedWidthChanged:n,rightPinnedWidthChanged:n,scrollVisibilityChanged:n,scrollbarWidthChanged:n})}},_N=class extends Ee{constructor(t){super(),this.view=t}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const t=this.getDomLayout(),e={autoHeight:t==="autoHeight",normal:t==="normal",print:t==="print"},n=e.autoHeight?"ag-layout-auto-height":e.print?"ag-layout-print":"ag-layout-normal";this.view.updateLayoutClasses(n,e)}getDomLayout(){const t=this.gos.get("domLayout")??"normal";return["normal","print","autoHeight"].indexOf(t)===-1?(Fe(`${t} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"normal"):t}},o2e=class extends On{constructor(){super(`
            <div class="ag-overlay" role="presentation">
                <div class="ag-overlay-panel" role="presentation">
                    <div class="ag-overlay-wrapper" data-ref="eOverlayWrapper" role="presentation"></div>
                </div>
            </div>`),this.eOverlayWrapper=vt,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeOverlayWrapperCssClass=null,this.elToFocusAfter=null}wireBeans(t){this.overlayService=t.overlayService,this.focusService=t.focusService,this.visibleColsService=t.visibleColsService}handleKeyDown(t){if(t.key!==ve.TAB||t.defaultPrevented||Bl(t)||this.focusService.findNextFocusableElement(this.eOverlayWrapper,!1,t.shiftKey))return;let n=!1;t.shiftKey?n=this.focusService.focusGridView(Kt(this.visibleColsService.getAllCols()),!0,!1):n=this.focusService.focusNextGridCoreContainer(!1),n&&t.preventDefault()}updateLayoutClasses(t,e){const n=this.eOverlayWrapper.classList;n.toggle("ag-layout-auto-height",e.autoHeight),n.toggle("ag-layout-normal",e.normal),n.toggle("ag-layout-print",e.print)}postConstruct(){this.createManagedBean(new _N(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(t){const e=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&e.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=t,e.toggle(t,!0)}showOverlay(t,e,n,i){if(this.setWrapperTypeClass(e),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=t,!!t){if(this.setDisplayed(!0,{skipAriaHidden:!0}),n&&this.focusService.isGridFocused()){const s=Zn(this.gos);s&&!S9(this.gos)&&(this.elToFocusAfter=s)}t.then(s=>{if(this.activePromise!==t){this.activeOverlay!==s&&(this.destroyBean(s),s=null);return}if(this.activePromise=null,!s)return;if(this.activeOverlay!==s&&(this.eOverlayWrapper.appendChild(s.getGui()),this.activeOverlay=s,i)){const o=s;this.updateListenerDestroyFunc=this.addManagedPropertyListener(i,({currentValue:a})=>{var l;(l=o.refresh)==null||l.call(o,this.gos.addGridCommonParams({...a??{}}))})}const r=this.focusService;n&&r.isGridFocused()&&r.focusInto(this.eOverlayWrapper)})}}updateOverlayWrapperPaddingTop(t){this.eOverlayWrapper.style.setProperty("padding-top",`${t}px`)}destroyActiveOverlay(){var i;this.activePromise=null;const t=this.activeOverlay;if(!t)return;let e=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,e&&!this.focusService.isGridFocused()&&(e=null);const n=this.updateListenerDestroyFunc;n&&(n(),this.updateListenerDestroyFunc=null),this.destroyBean(t),qr(this.eOverlayWrapper),(i=e==null?void 0:e.focus)==null||i.call(e,{preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.overlayService.setOverlayWrapperComp(void 0),super.destroy()}},L$=class extends On{constructor(t,e){super(),this.direction=e,this.eViewport=vt,this.eContainer=vt,this.hideTimeout=null,this.setTemplate(t)}wireBeans(t){this.animationFrameService=t.animationFrameService}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",j9()||wu())}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=$9(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const t=this.getGui(),e=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),n=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(t,{mouseenter:e,mousedown:e,touchstart:e,mouseleave:n,touchend:n})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:t=>{t.direction===this.direction&&(this.hideTimeout!==null&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null},400)}})}attemptSettingScrollPosition(t){const e=this.getViewportElement();wMe(()=>Va(e),()=>this.setScrollPosition(t),100)}getViewportElement(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(t){this.addManagedElementListeners(this.getViewportElement(),{scroll:t})}},a2e=class extends L${constructor(){super(`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" data-ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" data-ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" data-ref="eRightSpacer"></div>
        </div>`,"horizontal"),this.eLeftSpacer=vt,this.eRightSpacer=vt}wireBeans(t){super.wireBeans(t),this.visibleColsService=t.visibleColsService,this.pinnedRowModel=t.pinnedRowModel,this.ctrlsService=t.ctrlsService,this.scrollVisibleService=t.scrollVisibleService}postConstruct(){super.postConstruct();const t=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:t,displayedColumnsWidthChanged:t,pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this)}),this.addManagedPropertyListener("domLayout",t),this.ctrlsService.register("fakeHScrollComp",this),this.createManagedBean(new PN(e=>this.eContainer.style.width=`${e}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const t=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${t}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const t=this.scrollVisibleService.isVerticalScrollShowing();let e=this.visibleColsService.getDisplayedColumnsRightWidth();const n=!this.enableRtl&&t,i=this.scrollVisibleService.getScrollbarWidth();n&&(e+=i),Yo(this.eRightSpacer,e),this.eRightSpacer.classList.toggle("ag-scroller-corner",e<=i);let s=this.visibleColsService.getColsLeftWidth();this.enableRtl&&t&&(s+=i),Yo(this.eLeftSpacer,s),this.eLeftSpacer.classList.toggle("ag-scroller-corner",s<=i)}setScrollVisible(){const t=this.scrollVisibleService.isHorizontalScrollShowing(),e=this.invisibleScrollbar,n=this.gos.get("suppressHorizontalScroll"),i=t&&this.scrollVisibleService.getScrollbarWidth()||0,r=n?0:i===0&&e?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",e),bv(this.getGui(),r),bv(this.eViewport,r),bv(this.eContainer,r),this.setDisplayed(t,{skipAriaHidden:!0})}getScrollPosition(){return qb(this.getViewportElement(),this.enableRtl)}setScrollPosition(t){Va(this.getViewportElement())||this.attemptSettingScrollPosition(t),Kb(this.getViewportElement(),t,this.enableRtl)}},k$=class extends Ee{wireBeans(t){this.maxDivHeightScaler=t.rowContainerHeightService}constructor(t,e){super(),this.eContainer=t,this.eViewport=e}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this)})}onHeightChanged(){const t=this.maxDivHeightScaler.getUiContainerHeight(),e=t!=null?`${t}px`:"";this.eContainer.style.height=e,this.eViewport&&(this.eViewport.style.height=e)}},l2e=class extends L${wireBeans(t){super.wireBeans(t),this.ctrlsService=t.ctrlsService,this.scrollVisibleService=t.scrollVisibleService}constructor(){super(`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-vertical-scroll-container" data-ref="eContainer"></div>
            </div>
        </div>`,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new k$(this.eContainer)),this.ctrlsService.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this)})}setScrollVisible(){const t=this.scrollVisibleService.isVerticalScrollShowing(),e=this.invisibleScrollbar,n=t&&this.scrollVisibleService.getScrollbarWidth()||0,i=n===0&&e?16:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",e),Yo(this.getGui(),i),Yo(this.eViewport,i),Yo(this.eContainer,i),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const{ctrlsService:t}=this,n=t.getGridBodyCtrl().getBodyViewportElement(),i=this.getScrollPosition(),s=n.scrollTop;i!=s&&this.setScrollPosition(s,!0)}getScrollPosition(){return this.getViewportElement().scrollTop}setScrollPosition(t,e){!e&&!Va(this.getViewportElement())&&this.attemptSettingScrollPosition(t),this.getViewportElement().scrollTop=t}},CD=(t=>(t.FakeHScrollbar="fakeHScrollComp",t.Header="centerHeader",t.PinnedTop="topCenter",t.PinnedBottom="bottomCenter",t.StickyTop="stickyTopCenter",t.StickyBottom="stickyBottomCenter",t))(CD||{}),c2e=class extends Ee{constructor(t){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.eBodyViewport=t,this.resetLastHScrollDebounced=vr(()=>this.lastScrollSource[1]=null,500),this.resetLastVScrollDebounced=vr(()=>this.lastScrollSource[0]=null,500)}wireBeans(t){this.ctrlsService=t.ctrlsService,this.animationFrameService=t.animationFrameService,this.paginationService=t.paginationService,this.pageBoundsService=t.pageBoundsService,this.rowModel=t.rowModel,this.heightScaler=t.rowContainerHeightService,this.rowRenderer=t.rowRenderer,this.columnModel=t.columnModel,this.visibleColsService=t.visibleColsService}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)}),this.ctrlsService.whenReady(this,t=>{this.centerRowsCtrl=t.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.getViewportElement(),{scroll:this.onHScroll.bind(this,"Viewport")});for(const t of Object.values(CD)){const e=this.ctrlsService.get(t);this.registerScrollPartner(e,this.onHScroll.bind(this,t))}}addVerticalScrollListeners(){const t=this.ctrlsService.get("fakeVScrollComp"),e=this.gos.get("debounceVerticalScrollbar"),n=e?vr(this.onVScroll.bind(this,"Viewport"),100):this.onVScroll.bind(this,"Viewport"),i=e?vr(this.onVScroll.bind(this,"fakeVScrollComp"),100):this.onVScroll.bind(this,"fakeVScrollComp");this.addManagedElementListeners(this.eBodyViewport,{scroll:n}),this.registerScrollPartner(t,i)}registerScrollPartner(t,e){t.onScrollCallback(e)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(t){this.centerRowsCtrl!=null&&(t===void 0&&(t=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(t)))}setScrollLeftForAllContainersExceptCurrent(t){for(const e of[...Object.values(CD),"Viewport"]){if(this.lastScrollSource[1]===e)continue;const n=this.getViewportForSource(e);Kb(n,t,this.enableRtl)}}getViewportForSource(t){return t==="Viewport"?this.centerRowsCtrl.getViewportElement():this.ctrlsService.get(t).getViewportElement()}isControllingScroll(t,e){return this.lastScrollSource[e]==null?(e===0?this.lastScrollSource[0]=t:this.lastScrollSource[1]=t,!0):this.lastScrollSource[e]===t}onHScroll(t){if(!this.isControllingScroll(t,1))return;const e=this.centerRowsCtrl.getViewportElement(),{scrollLeft:n}=e;if(this.shouldBlockScrollUpdate(1,n,!0))return;const i=qb(this.getViewportForSource(t),this.enableRtl);this.doHorizontalScroll(i),this.resetLastHScrollDebounced()}onVScroll(t){if(!this.isControllingScroll(t,0))return;let e;t==="Viewport"?e=this.eBodyViewport.scrollTop:e=this.ctrlsService.get("fakeVScrollComp").getScrollPosition(),!this.shouldBlockScrollUpdate(0,e,!0)&&(this.animationFrameService.setScrollTop(e),this.nextScrollTop=e,t==="Viewport"?this.ctrlsService.get("fakeVScrollComp").setScrollPosition(e):this.eBodyViewport.scrollTop=e,this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(t){const e=this.ctrlsService.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===t&&t===e||(this.scrollLeft=t,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(t),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(t){const e={type:"bodyScroll",direction:t===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(e),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(()=>{this.eventService.dispatchEvent({...e,type:"bodyScrollEnd"})},100)}shouldBlockScrollUpdate(t,e,n=!1){return n&&!wu()?!1:t===0?this.shouldBlockVerticalScroll(e):this.shouldBlockHorizontalScroll(e)}shouldBlockVerticalScroll(t){const e=fN(this.eBodyViewport),{scrollHeight:n}=this.eBodyViewport;return t<0||t+e>n}shouldBlockHorizontalScroll(t){const e=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:n}=this.centerRowsCtrl.getViewportElement();if(this.enableRtl&&$b()){if(t>0)return!0}else if(t<0)return!0;return Math.abs(t)+e>n}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll("Viewport")}scrollGridIfNeeded(){const t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(t,e=!1){const i=this.centerRowsCtrl.getViewportElement().scrollWidth-this.centerRowsCtrl.getCenterWidth();!e&&this.shouldBlockScrollUpdate(1,t)&&(this.enableRtl&&$b()?t=t>0?0:i:t=Math.min(Math.max(t,0),i)),Kb(this.centerRowsCtrl.getViewportElement(),Math.abs(t),this.enableRtl),this.doHorizontalScroll(t)}setVerticalScrollPosition(t){this.eBodyViewport.scrollTop=t}getVScrollPosition(){return this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight,{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(t){const e=this.centerRowsCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(e+t),this.centerRowsCtrl.getViewportElement().scrollLeft-e}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(t,e=null){const n=this.rowModel.getRowCount();let i=-1;for(let s=0;s<n;s++){const r=this.rowModel.getRow(s);if(typeof t=="function"){if(r&&t(r)){i=s;break}}else if(t===r||t===r.data){i=s;break}}i>=0&&this.ensureIndexVisible(i,e)}ensureIndexVisible(t,e){if(ds(this.gos,"print"))return;const n=this.rowModel.getRowCount();if(typeof t!="number"||t<0||t>=n){Fe("Invalid row index for ensureIndexVisible: "+t);return}const s=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(()=>{var d;s||(d=this.paginationService)==null||d.goToPageWithIndex(t);const r=this.ctrlsService.getGridBodyCtrl(),o=r.getStickyTopHeight(),a=r.getStickyBottomHeight(),l=this.rowModel.getRow(t);let c;do{const f=l.rowTop,p=l.rowHeight,m=this.pageBoundsService.getPixelOffset(),y=l.rowTop-m,C=y+l.rowHeight,x=this.getVScrollPosition(),w=this.heightScaler.getDivStretchOffset(),M=x.top+w,S=x.bottom+w,R=S-M,P=this.heightScaler.getScrollPositionForPixel(y),F=this.heightScaler.getScrollPositionForPixel(C-R),N=Math.min((P+F)/2,y),I=M+o>y,_=S-a<C;let A=null;e==="top"?A=P:e==="bottom"?A=F:e==="middle"?A=N:I?A=P-o:_&&(A=F+a),A!==null&&(this.setVerticalScrollPosition(A),this.rowRenderer.redraw({afterScroll:!0})),c=f!==l.rowTop||p!==l.rowHeight}while(c);this.animationFrameService.flushAllFrames()})}ensureColumnVisible(t,e="auto"){const n=this.columnModel.getCol(t);if(!n||n.isPinned()||!this.visibleColsService.isColDisplayed(n))return;const i=this.getPositionedHorizontalScroll(n,e);this.getFrameworkOverrides().wrapIncoming(()=>{i!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(i),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()})}setScrollPosition(t,e){this.getFrameworkOverrides().wrapIncoming(()=>{this.centerRowsCtrl.setCenterViewportScrollLeft(e),this.setVerticalScrollPosition(t),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()})}getPositionedHorizontalScroll(t,e){const{columnBeforeStart:n,columnAfterEnd:i}=this.isColumnOutsideViewport(t),s=this.centerRowsCtrl.getCenterWidth()<t.getActualWidth(),r=this.centerRowsCtrl.getCenterWidth(),o=this.enableRtl;let a=(o?n:i)||s,l=o?i:n;e!=="auto"&&(a=e==="start",l=e==="end");const c=e==="middle";if(a||l||c){const{colLeft:d,colMiddle:f,colRight:p}=this.getColumnBounds(t);return c?f-r/2:a?o?p:d:o?d-r:p-r}return null}isColumnOutsideViewport(t){const{start:e,end:n}=this.getViewportBounds(),{colLeft:i,colRight:s}=this.getColumnBounds(t),r=this.enableRtl,o=r?e>s:n<s,a=r?n<i:e>i;return{columnBeforeStart:o,columnAfterEnd:a}}getColumnBounds(t){const e=this.enableRtl,n=this.visibleColsService.getBodyContainerWidth(),i=t.getActualWidth(),s=t.getLeft(),r=e?-1:1,o=e?n-s:s,a=o+i*r,l=o+i/2*r;return{colLeft:o,colMiddle:l,colRight:a}}getViewportBounds(){const t=this.centerRowsCtrl.getCenterWidth(),e=this.centerRowsCtrl.getCenterViewportScrollLeft(),n=e,i=t+e;return{start:n,end:i,width:t}}},u2e=class extends Ee{wireBeans(t){this.animationFrameService=t.animationFrameService,this.ctrlsService=t.ctrlsService,this.pinnedWidthService=t.pinnedWidthService,this.columnModel=t.columnModel,this.visibleColsService=t.visibleColsService,this.columnSizeService=t.columnSizeService,this.scrollVisibleService=t.scrollVisibleService,this.columnViewportService=t.columnViewportService}constructor(t){super(),this.centerContainerCtrl=t}postConstruct(){this.ctrlsService.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const t=()=>{this.animationFrameService.requestAnimationFrame(()=>{this.onCenterViewportResized()})};this.centerContainerCtrl.registerViewportResizeListener(t),this.gridBodyCtrl.registerBodyViewportResizeListener(t)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleService.onCentreViewportResized(),this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const t=this.centerContainerCtrl.getCenterWidth();t!==this.centerWidth&&(this.centerWidth=t,this.columnSizeService.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}keepPinnedColumnsNarrowerThanViewport(){const t=this.gridBodyCtrl.getBodyViewportElement(),e=g0(t);if(e<=50)return;let n=this.getPinnedColumnsOverflowingViewport(e-50);const i=this.gos.getCallback("processUnpinnedColumns");n.length&&(i&&(n=i({columns:n,viewportWidth:e})),this.columnModel.setColsPinned(n,null,"viewportSizeFeature"))}getPinnedColumnsOverflowingViewport(t){const e=this.pinnedWidthService.getPinnedRightWidth(),n=this.pinnedWidthService.getPinnedLeftWidth(),i=e+n;if(i<t)return[];const s=[...this.visibleColsService.getLeftCols()],r=[...this.visibleColsService.getRightCols()];let o=0,a=0;const l=0,c=[];let d=i-l-t;for(;(a<s.length||o<r.length)&&d>0;){if(o<r.length){const f=r[o++];d-=f.getActualWidth(),c.push(f)}if(a<s.length&&d>0){const f=s[a++];d-=f.getActualWidth(),c.push(f)}}return c}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const t=this.gridBodyCtrl.getBodyViewportElement(),e=fN(t);this.bodyHeight!==e&&(this.bodyHeight=e,this.eventService.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const t={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(t)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const t=this.centerContainerCtrl.getCenterWidth(),e=this.centerContainerCtrl.getViewportScrollLeft();this.columnViewportService.setScrollPosition(t,e)}},d2e=class extends Ee{wireBeans(t){this.dragService=t.dragService,this.rangeService=t.rangeService}constructor(t){super(),this.eContainer=t}postConstruct(){if(!this.rangeService)return;this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{Kl(this.gos)?this.enableFeature():this.disableFeature()}),this.addDestroyFunc(()=>this.disableFeature()),Kl(this.gos)&&this.enableFeature()}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}},h2e=class extends On{constructor(){super(`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[xN]),this.eCheckbox=vt}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const t=this.localeService.getLocaleTextFunc(),e=this.rowNode.isSelected(),n=cN(t,e),[i,s]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],r=t(i,s);this.eCheckbox.setValue(e,!0),this.eCheckbox.setInputAriaLabel(`${r} (${n})`)}onClicked(t,e,n){return this.rowNode.setSelectedParams({newValue:t,rangeSelect:n.shiftKey,groupSelectsFiltered:e,event:n,source:"checkboxSelected"})}init(t){if(this.rowNode=t.rowNode,this.column=t.column,this.overrides=t.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:i=>kp(i),click:i=>{kp(i);const s=sN(this.gos)==="filteredDescendants",r=this.eCheckbox.getValue();this.shouldHandleIndeterminateState(r,s)?this.onClicked(!0,s,i||{})===0&&this.onClicked(!1,s,i):r?this.onClicked(!1,s,i):this.onClicked(!0,s,i||{})}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),iN(this.gos)||typeof this.getIsVisible()=="function"){const i=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:i}),this.addManagedListeners(this.rowNode,{dataChanged:i,cellChanged:i}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(t,e){return e&&(this.eCheckbox.getPreviousValue()===void 0||t===void 0)&&Gn(this.gos)}showOrHideSelect(){var s,r,o;let t=this.rowNode.selectable;const e=this.getIsVisible();if(t)if(typeof e=="function"){const a=(s=this.overrides)==null?void 0:s.callbackParams;if(!this.column)t=e({...a,node:this.rowNode,data:this.rowNode.data});else{const l=this.column.createColumnFunctionCallbackParams(this.rowNode);t=e({...a,...l})}}else t=e??!1;const n=this.gos.get("rowSelection");if(n&&typeof n!="string"?!TMe(n):(r=this.column)==null?void 0:r.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!t),this.setVisible(!0),this.setDisplayed(!0);return}if((o=this.overrides)!=null&&o.removeHidden){this.setDisplayed(t);return}this.setVisible(t)}getIsVisible(){var e,n;if(this.overrides)return this.overrides.isVisible;const t=this.gos.get("rowSelection");return t&&typeof t!="string"?Lp(t):(n=(e=this.column)==null?void 0:e.getColDef())==null?void 0:n.checkboxSelection}},f2e=class extends On{constructor(t,e,n){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=t,this.column=e,this.eCell=n}postConstruct(){this.getGui().appendChild(Hr("rowDrag",this.gos,null)),this.addGuiEventListener("mousedown",e=>{e.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(t){const e=this.column.getColDef().dndSourceOnRowDrag;t.dataTransfer.setDragImage(this.eCell,0,0);const n=()=>{try{const i=JSON.stringify(this.rowNode.data);t.dataTransfer.setData("application/json",i),t.dataTransfer.setData("text/plain",i)}catch{}};if(e){const i=this.gos.addGridCommonParams({rowNode:this.rowNode,dragEvent:t});e(i)}else n()}checkVisibility(){const t=this.column.isDndSource(this.rowNode);this.setDisplayed(t)}},p2e=class extends Ee{constructor(t,e){super(),this.staticClasses=[],this.cellCtrl=t,this.beans=e,this.column=t.getColumn(),this.rowNode=t.getRowNode()}setComp(t){this.cellComp=t,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const t=this.column.getColDef(),{cellClassRules:e}=t,n=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:t,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(e===this.cellClassRules?void 0:this.cellClassRules,e,n,i=>this.cellComp.addOrRemoveCssClass(i,!0),i=>this.cellComp.addOrRemoveCssClass(i,!1)),this.cellClassRules=e}applyUserStyles(){const t=this.column.getColDef();if(!t.cellStyle)return;let e;if(typeof t.cellStyle=="function"){const n=this.beans.gos.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:t,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex}),i=t.cellStyle;e=i(n)}else e=t.cellStyle;e&&this.cellComp.setUserStyles(e)}applyClassesFromColDef(){const t=this.column.getColDef(),e=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:t,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(n=>this.cellComp.addOrRemoveCssClass(n,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(t,e),this.staticClasses.length&&this.staticClasses.forEach(n=>this.cellComp.addOrRemoveCssClass(n,!0))}destroy(){super.destroy()}},m2e=class extends Ee{constructor(t,e,n,i,s){super(),this.cellCtrl=t,this.beans=e,this.rowNode=i,this.rowCtrl=s}setComp(t){this.eGui=t}onKeyDown(t){const e=t.key;switch(e){case ve.ENTER:this.onEnterKeyDown(t);break;case ve.F2:this.onF2KeyDown(t);break;case ve.ESCAPE:this.onEscapeKeyDown(t);break;case ve.TAB:this.onTabKeyDown(t);break;case ve.BACKSPACE:case ve.DELETE:this.onBackspaceOrDeleteKeyDown(e,t);break;case ve.DOWN:case ve.UP:case ve.RIGHT:case ve.LEFT:this.onNavigationKeyDown(t,e);break}}onNavigationKeyDown(t,e){this.cellCtrl.isEditing()||(t.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(t):this.beans.navigationService.navigateToNextCell(t,e,this.cellCtrl.getCellPosition(),!0),t.preventDefault())}onShiftRangeSelect(t){if(!this.beans.rangeService)return;const e=this.beans.rangeService.extendLatestRangeInDirection(t);e&&this.beans.navigationService.ensureCellVisible(e)}onTabKeyDown(t){this.beans.navigationService.onTabKeyDown(this.cellCtrl,t)}onBackspaceOrDeleteKeyDown(t,e){const{cellCtrl:n,beans:i,rowNode:s}=this,{gos:r,rangeService:o,eventService:a}=i;if(!n.isEditing()){if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),ZRe(t,r.get("enableCellEditingOnBackspace"))){if(o&&Kl(r))o.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(n.isCellEditable()){const l=n.getColumn(),c=this.beans.valueService.getDeleteValue(l,s);s.setDataValue(l,c,"cellClear")}}else n.startRowOrCellEdit(t,e);a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(t){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,t.shiftKey);else if(this.beans.gos.get("enterNavigatesVertically")){const e=t.shiftKey?ve.UP:ve.DOWN;this.beans.navigationService.navigateToNextCell(null,e,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(ve.ENTER,t),this.cellCtrl.isEditing()&&t.preventDefault()}onF2KeyDown(t){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(ve.F2,t)}onEscapeKeyDown(t){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(t){if(t.target!==this.eGui||this.cellCtrl.isEditing())return;const i=t.key;i===" "?this.onSpaceKeyDown(t):this.cellCtrl.startRowOrCellEdit(i,t)&&t.preventDefault()}onSpaceKeyDown(t){const{gos:e}=this.beans;if(!this.cellCtrl.isEditing()&&Bb(e)){const n=this.rowNode.isSelected(),i=!n,s=sN(e)==="filteredDescendants",r=this.rowNode.setSelectedParams({newValue:i,rangeSelect:t.shiftKey,groupSelectsFiltered:s,event:t,source:"spaceKey"});n===void 0&&r===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:t.shiftKey,groupSelectsFiltered:s,event:t,source:"spaceKey"})}t.preventDefault()}destroy(){super.destroy()}},g2e=class extends Ee{constructor(t,e,n){super(),this.cellCtrl=t,this.beans=e,this.column=n}onMouseEvent(t,e){if(!Bl(e))switch(t){case"click":this.onCellClicked(e);break;case"mousedown":case"touchstart":this.onMouseDown(e);break;case"dblclick":this.onCellDoubleClicked(e);break;case"mouseout":this.onMouseOut(e);break;case"mouseover":this.onMouseOver(e);break}}onCellClicked(t){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(t),t.preventDefault();return}const{eventService:e,rangeService:n,gos:i}=this.beans,s=t.ctrlKey||t.metaKey;n&&s&&n.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&n.intersectLastRange(!0);const r=this.cellCtrl.createEvent(t,"cellClicked");e.dispatchEvent(r);const o=this.column.getColDef();o.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{o.onCellClicked(r)})},0),(i.get("singleClickEdit")||o.singleClickEdit)&&!i.get("suppressClickEdit")&&!(t.shiftKey&&(n==null?void 0:n.getCellRanges().length)!=0)&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!wu()||_9("dblclick"))return!1;const t=new Date().getTime(),e=t-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=t,e}onCellDoubleClicked(t){const{column:e,beans:n,cellCtrl:i}=this,{eventService:s,frameworkOverrides:r,gos:o}=n,a=e.getColDef(),l=i.createEvent(t,"cellDoubleClicked");s.dispatchEvent(l),typeof a.onCellDoubleClicked=="function"&&window.setTimeout(()=>{r.wrapOutgoing(()=>{a.onCellDoubleClicked(l)})},0),!o.get("singleClickEdit")&&!o.get("suppressClickEdit")&&i.startRowOrCellEdit(null,t)}onMouseDown(t){const{ctrlKey:e,metaKey:n,shiftKey:i}=t,s=t.target,{cellCtrl:r,beans:o}=this,{eventService:a,rangeService:l,focusService:c,gos:d}=o;if(this.isRightClickInExistingRange(t))return;const f=l&&l.getCellRanges().length!=0;if(!i||!f){const m=d.get("enableCellTextSelection")&&t.defaultPrevented,y=(Ha()||m)&&!r.isEditing()&&!hN(s);r.focusCell(y)}if(i&&f&&!c.isCellFocused(r.getCellPosition())){t.preventDefault();const p=c.getFocusedCell();if(p){const{column:m,rowIndex:y,rowPinned:C}=p,x=o.rowRenderer.getRowByPosition({rowIndex:y,rowPinned:C}),w=x==null?void 0:x.getCellCtrl(m);w!=null&&w.isEditing()&&w.stopEditing(),c.setFocusedCell({column:m,rowIndex:y,rowPinned:C,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(s)){if(l){const p=this.cellCtrl.getCellPosition();if(i)l.extendLatestRangeToCell(p);else{const m=e||n;l.setRangeToCell(p,m)}}a.dispatchEvent(this.cellCtrl.createEvent(t,"cellMouseDown"))}}isRightClickInExistingRange(t){const{rangeService:e}=this.beans;if(e){const n=e.isCellInAnyRange(this.cellCtrl.getCellPosition()),i=t.button===2||t.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(n&&i)return!0}return!1}containsWidget(t){return vp(t,"ag-selection-checkbox",3)}onMouseOut(t){this.mouseStayingInsideCell(t)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(t,"cellMouseOut")),this.beans.columnHoverService.clearMouseOver())}onMouseOver(t){this.mouseStayingInsideCell(t)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(t,"cellMouseOver")),this.beans.columnHoverService.setMouseOver([this.column]))}mouseStayingInsideCell(t){if(!t.target||!t.relatedTarget)return!1;const e=this.cellCtrl.getGui(),n=e.contains(t.target),i=e.contains(t.relatedTarget);return n&&i}destroy(){super.destroy()}},v2e=class extends Ee{constructor(t,e){super(),this.cellCtrl=t,this.beans=e,this.column=t.getColumn(),this.rowNode=t.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}setComp(t){this.eGui=t,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){const t=this.column.getRowSpan(this.rowNode);this.rowSpan!==t&&(this.rowSpan=t,this.applyRowSpan(!0))}onDisplayColumnsChanged(){const t=this.getColSpanningList();Cu(this.colsSpanning,t)||(this.colsSpanning=t,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eGui)return;const t=this.getCellWidth();this.eGui.style.width=`${t}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((t,e)=>t+e.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const t=this.column.getColSpan(this.rowNode),e=[];if(t===1)e.push(this.column);else{let n=this.column;const i=this.column.getPinned();for(let s=0;n&&s<t&&(e.push(n),n=this.beans.visibleColsService.getColAfter(n),!(!n||Yt(n)||i!==n.getPinned()));s++);}return e}onLeftChanged(){if(!this.eGui)return;const t=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=t+"px"}getCellLeft(){let t;return this.beans.gos.get("enableRtl")&&this.colsSpanning?t=Kt(this.colsSpanning):t=this.column,t.getLeft()}modifyLeftForPrintLayout(t){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return t;const e=this.beans.visibleColsService.getColsLeftWidth();if(this.column.getPinned()==="right"){const n=this.beans.visibleColsService.getBodyContainerWidth();return e+n+(t||0)}return e+(t||0)}applyRowSpan(t){if(this.rowSpan===1&&!t)return;const n=z1(this.beans.gos)*this.rowSpan;this.eGui.style.height=`${n}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}},Rg="ag-cell-range-selected",y2e="ag-cell-range-chart",x2e="ag-cell-range-single-cell",C2e="ag-cell-range-chart-category",w2e="ag-cell-range-handle",b2e="ag-cell-range-top",S2e="ag-cell-range-right",E2e="ag-cell-range-bottom",M2e="ag-cell-range-left",T2e=class{constructor(t,e){this.beans=t,this.rangeService=t.rangeService,this.selectionHandleFactory=t.selectionHandleFactory,this.cellCtrl=e}setComp(t,e){this.cellComp=t,this.eGui=e,this.onCellSelectionChanged()}onCellSelectionChanged(){this.cellComp&&(this.rangeCount=this.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(Rg,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass(`${Rg}-1`,this.rangeCount===1),this.cellComp.addOrRemoveCssClass(`${Rg}-2`,this.rangeCount===2),this.cellComp.addOrRemoveCssClass(`${Rg}-3`,this.rangeCount===3),this.cellComp.addOrRemoveCssClass(`${Rg}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(y2e,this.hasChartRange),jb(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(x2e,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const t=this.getRangeBorders(),e=this.isSingleCell(),n=!e&&t.top,i=!e&&t.right,s=!e&&t.bottom,r=!e&&t.left;this.cellComp.addOrRemoveCssClass(b2e,n),this.cellComp.addOrRemoveCssClass(S2e,i),this.cellComp.addOrRemoveCssClass(E2e,s),this.cellComp.addOrRemoveCssClass(M2e,r)}isSingleCell(){const{rangeService:t}=this.beans;return this.rangeCount===1&&!!t&&!t.isMoreThanOneCell()}getHasChartRange(){const{rangeService:t}=this.beans;if(!this.rangeCount||!t)return!1;const e=t.getCellRanges();return e.length>0&&e.every(n=>Yd([1,0],n.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const t=this.beans.gos.get("enableRtl");let e=!1,n=!1,i=!1,s=!1;const r=this.cellCtrl.getCellPosition().column,o=this.beans.visibleColsService;let a,l;t?(a=o.getColAfter(r),l=o.getColBefore(r)):(a=o.getColBefore(r),l=o.getColAfter(r));const c=this.rangeService.getCellRanges().filter(d=>this.rangeService.isCellInSpecificRange(this.cellCtrl.getCellPosition(),d));a||(s=!0),l||(n=!0);for(let d=0;d<c.length&&!(e&&n&&i&&s);d++){const f=c[d],p=this.rangeService.getRangeStartRow(f),m=this.rangeService.getRangeEndRow(f);!e&&this.beans.rowPositionUtils.sameRow(p,this.cellCtrl.getCellPosition())&&(e=!0),!i&&this.beans.rowPositionUtils.sameRow(m,this.cellCtrl.getCellPosition())&&(i=!0),!s&&a&&f.columns.indexOf(a)<0&&(s=!0),!n&&l&&f.columns.indexOf(l)<0&&(n=!0)}return{top:e,right:n,bottom:i,left:s}}refreshHandle(){if(this.beans.context.isDestroyed())return;const t=this.shouldHaveSelectionHandle();this.selectionHandle&&!t&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),t&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(w2e,!!this.selectionHandle)}shouldHaveSelectionHandle(){const t=this.beans.gos,e=this.rangeService.getCellRanges(),n=e.length;if(this.rangeCount<1||n<1)return!1;const i=Kt(e),s=this.cellCtrl.getCellPosition(),r=QH(t)&&!this.cellCtrl.isSuppressFillHandle(),o=DMe(t);let a=n===1&&!this.cellCtrl.isEditing()&&(r||o);if(this.hasChartRange){const c=e[0].type===1&&this.rangeService.isCellInSpecificRange(s,e[0]);this.cellComp.addOrRemoveCssClass(C2e,c),a=i.type===0}return a&&i.endRow!=null&&this.rangeService.isContiguousRange(i)&&this.rangeService.isBottomRightCell(i,s)}addSelectionHandle(){const t=Kt(this.rangeService.getCellRanges()).type,n=QH(this.beans.gos)&&Yt(t)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==n&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.selectionHandleFactory.createSelectionHandle(n)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}},R2e="ag-cell",A2e="ag-cell-auto-height",P2e="ag-cell-normal-height",D2e="ag-cell-focus",_2e="ag-cell-first-right-pinned",F2e="ag-cell-last-left-pinned",N2e="ag-cell-not-inline-editing",I2e="ag-column-hover",O2e="ag-cell-wrap-text",L2e=0,B$=class wD extends Ee{constructor(e,n,i,s){super(),this.column=e,this.rowNode=n,this.beans=i,this.rowCtrl=s,this.cellRangeFeature=void 0,this.cellPositionFeature=void 0,this.cellCustomStyleFeature=void 0,this.tooltipFeature=void 0,this.cellMouseListenerFeature=void 0,this.cellKeyboardListenerFeature=void 0,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],this.instanceId=e.getId()+"-"+L2e++,this.colIdSanitised=Ia(this.column.getId()),this.createCellPosition(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}onFocusOut(){this.beans.focusService.clearRestoreFocus()}addFeatures(){this.cellPositionFeature=new v2e(this,this.beans),this.cellCustomStyleFeature=new p2e(this,this.beans),this.cellMouseListenerFeature=new g2e(this,this.beans,this.column),this.cellKeyboardListenerFeature=new m2e(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.column.isTooltipEnabled()&&this.enableTooltipFeature(),this.beans.rangeService&&Kl(this.beans.gos)&&(this.cellRangeFeature=new T2e(this.beans,this))}removeFeatures(){const e=this.beans.context;this.cellPositionFeature=e.destroyBean(this.cellPositionFeature),this.cellCustomStyleFeature=e.destroyBean(this.cellCustomStyleFeature),this.cellMouseListenerFeature=e.destroyBean(this.cellMouseListenerFeature),this.cellKeyboardListenerFeature=e.destroyBean(this.cellKeyboardListenerFeature),this.cellRangeFeature=e.destroyBean(this.cellRangeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,n){const i=()=>{const o=this.column.getColDef(),a=this.rowNode.data;if(o.tooltipField&&Ke(a))return wv(a,o.tooltipField,this.column.isTooltipFieldContainsDots());const l=o.tooltipValueGetter;return l?l(this.beans.gos.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},s=this.beans.gos.get("tooltipShowMode")==="whenTruncated";!n&&s&&!this.isCellRenderer()&&(n=()=>{const o=this.getGui(),a=o.children.length===0?o:o.querySelector(".ag-cell-value");return a?a.scrollWidth>a.clientWidth:!0});const r={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:e!=null?()=>e:i,getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:n};this.tooltipFeature=new rm(r,this.beans)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}setComp(e,n,i,s,r,o){var a,l,c,d;this.cellComp=e,this.eGui=n,this.printLayout=s,o??(o=this),this.addDomData(o),this.addFeatures(),o.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(i,o),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(a=this.cellPositionFeature)==null||a.setComp(n),(l=this.cellCustomStyleFeature)==null||l.setComp(e),(c=this.tooltipFeature)==null||c.refreshToolTip(),(d=this.cellKeyboardListenerFeature)==null||d.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(e,n),r&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(f=>f()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(e,n){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!e)return;const i=e.parentElement,s=au(this.beans.gos,this.rowNode).height,r=l=>{if(this.editing||!this.isAlive()||!n.isAlive())return;const{paddingTop:c,paddingBottom:d,borderBottomWidth:f,borderTopWidth:p}=Rh(i),m=c+d+f+p,C=e.offsetHeight+m;if(l<5){const w=di(this.beans.gos),M=!w||!w.contains(e),S=C==0;if(M||S){window.setTimeout(()=>r(l+1),0);return}}const x=Math.max(C,s);this.rowNode.setRowAutoHeight(x,this.column)},o=()=>r(0);o();const a=this.beans.resizeObserverService.observeResize(e,o);n.addDestroyFunc(()=>{a(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}showValue(e=!1){var p;const{beans:n,column:i,rowNode:s,cellRangeFeature:r,cellComp:o}=this,{userComponentFactory:a,animationFrameService:l}=n,c=this.getValueToDisplay();let d;if(s.stub&&((p=s.groupData)==null?void 0:p[this.column.getId()])==null){const m=this.createCellRendererParams();d=a.getLoadingCellRendererDetails(i.getColDef(),m)}else if(this.isCellRenderer()){const m=this.createCellRendererParams();d=a.getCellRendererDetails(i.getColDef(),m)}o.setRenderDetails(d,c,e),l.requestAnimationFrame(()=>r==null?void 0:r.refreshHandle())}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e)),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e){return this.rowNode.rowPinned!=null?!1:typeof e=="function"||e===!0}isCheckboxSelection(e){const{rowSelection:n}=this.beans.gridOptions;return e.checkboxSelection||j1(this.column)&&n&&typeof n!="string"&&Lp(n)}refreshShouldDestroy(){const e=this.column.getColDef(),n=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e)),i=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),s=this.includeDndSource!=this.isIncludeControl(e.dndSource),r=this.isAutoHeight!=this.column.isAutoHeight();return n||i||s||r}startEditing(e=null,n=!1,i=null){const{editService:s}=this.beans;return!this.isCellEditable()||this.editing||!s?!0:this.cellComp?s.startEditing(this,e,n,i):(this.onCellCompAttachedFuncs.push(()=>{this.startEditing(e,n,i)}),!0)}setEditing(e,n){this.editCompDetails=n,this.editing!==e&&(this.editing=e)}stopRowOrCellEdit(e=!1){this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.stopEditing(e):this.stopEditing(e)}onPopupEditorClosed(){this.editing&&this.stopEditingAndFocus()}stopEditing(e=!1){this.onCellEditorAttachedFuncs=[];const{editService:n}=this.beans;return!this.editing||!n?!1:n.stopEditing(this,e)}createCellRendererParams(){return this.beans.gos.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.beans.valueService.getValueForDisplay(this.column,this.rowNode),setValue:n=>this.beans.valueService.setValue(this.rowNode,this.column,n),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(n,i,s,r)=>this.registerRowDragger(n,i,r),setTooltip:(n,i)=>{var s;this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(n,i),(s=this.tooltipFeature)==null||s.refreshToolTip()}})}setFocusOutOnEditor(){var e;this.editing&&((e=this.beans.editService)==null||e.setFocusOutOnEditor(this))}setFocusInOnEditor(){var e;this.editing&&((e=this.beans.editService)==null||e.setFocusInOnEditor(this))}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){var n;this.refreshShouldDestroy()?(n=this.rowCtrl)==null||n.recreateCell(this):this.refreshCell(e)}refreshCell(e){var d,f,p,m,y;if(this.suppressRefreshCell||this.editing)return;const n=this.column.getColDef(),i=e!=null&&!!e.newData,s=e!=null&&!!e.suppressFlash||!!n.suppressCellFlash,r=n.field==null&&n.valueGetter==null&&n.showRowGroup==null,o=e&&e.forceRefresh||r||i,a=!!this.cellComp,l=this.updateAndFormatValue(a),c=o||l;if(a){if(c){this.showValue(i);const C=(d=this.beans.filterManager)==null?void 0:d.isSuppressFlashingCellsBecauseFiltering();!s&&!C&&(this.beans.gos.get("enableCellChangeFlash")||n.enableCellChangeFlash)&&this.flashCell(),(f=this.cellCustomStyleFeature)==null||f.applyUserStyles(),(p=this.cellCustomStyleFeature)==null||p.applyClassesFromColDef()}(m=this.tooltipFeature)==null||m.refreshToolTip(),(y=this.cellCustomStyleFeature)==null||y.applyCellClassRules()}}stopEditingAndFocus(e=!1,n=!1){var i;(i=this.beans.editService)==null||i.stopEditingAndFocus(this,e,n)}flashCell(e){const n=(e==null?void 0:e.flashDuration)??(e==null?void 0:e.flashDelay),i=(e==null?void 0:e.fadeDuration)??(e==null?void 0:e.fadeDelay);this.animateCell("data-changed",n,i)}animateCell(e,n,i){if(!this.cellComp)return;const{gos:s}=this.beans;if(n||(n=s.get("cellFlashDuration")),n===0)return;Ke(i)||(i=s.get("cellFadeDuration"));const r=`ag-cell-${e}`,o=`ag-cell-${e}-animation`;this.cellComp.addOrRemoveCssClass(r,!0),this.cellComp.addOrRemoveCssClass(o,!1),this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(r,!1),this.cellComp.addOrRemoveCssClass(o,!0),this.eGui.style.transition=`background-color ${i}ms`,window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(o,!1),this.eGui.style.transition="")},i))},n)})}onFlashCells(e){if(!this.cellComp)return;const n=this.beans.cellPositionUtils.createId(this.getCellPosition());e.cells[n]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueService.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const n=this.value,i=this.valueFormatted;return this.value=this.beans.valueService.getValueForDisplay(this.column,this.rowNode),this.valueFormatted=this.callValueFormatter(this.value),e?!this.valuesAreEqual(n,this.value)||this.valueFormatted!=i:!0}valuesAreEqual(e,n){const i=this.column.getColDef();return i.equals?i.equals(e,n):e===n}getComp(){return this.cellComp}getValue(){return this.value}addDomData(e){const n=this.getGui();dh(this.beans.gos,n,wD.DOM_DATA_KEY_CELL_CTRL,this),e.addDestroyFunc(()=>dh(this.beans.gos,n,wD.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(e,n){return this.beans.gos.addGridCommonParams({type:n,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:e,rowIndex:this.rowNode.rowIndex})}processCharacter(e){var n;(n=this.cellKeyboardListenerFeature)==null||n.processCharacter(e)}onKeyDown(e){var n;(n=this.cellKeyboardListenerFeature)==null||n.onKeyDown(e)}onMouseEvent(e,n){var i;(i=this.cellMouseListenerFeature)==null||i.onMouseEvent(e,n)}getGui(){return this.eGui}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){var e;this.cellComp&&((e=this.cellPositionFeature)==null||e.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{cellComp:e,column:n,beans:i}=this;R$(e,n,i.visibleColsService)}refreshAriaColIndex(){const e=this.beans.visibleColsService.getAriaColIndex(this.column);G9(this.getGui(),e)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){var e;return(e=this.cellPositionFeature)==null?void 0:e.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}isPrintLayout(){return this.printLayout}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(e,n=null){return this.cellComp?this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(e,this):this.startEditing(e,!0,n):(this.onCellCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(e,n)}),!0)}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.cellRangeFeature!=null}focusCell(e=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:e})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}onSuppressCellFocusChanged(e){this.eGui&&Ro(this.eGui,"tabindex",e?void 0:-1)}onFirstRightPinnedChanged(){if(!this.cellComp)return;const e=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(_2e,e)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const e=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(F2e,e)}onCellFocused(e){if(this.beans.focusService.isCellFocusSuppressed())return;const n=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){n&&(e!=null&&e.forceBrowserFocus)&&(this.focusEventToRestore=e);return}if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(D2e,n),n&&e&&e.forceBrowserFocus){let s=this.cellComp.getFocusableElement();if(this.editing){const r=this.beans.focusService.findFocusableElements(s,null,!0);r.length&&(s=r[0])}s.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}const i=this.beans.gos.get("editType")==="fullRow";!n&&!i&&this.editing&&this.stopRowOrCellEdit(),n&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:kl(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass(R2e,!0),this.cellComp.addOrRemoveCssClass(N2e,!0);const e=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(A2e,e),this.cellComp.addOrRemoveCssClass(P2e,!e)}onColumnHover(){if(!this.cellComp||!this.beans.gos.get("columnHoverHighlight"))return;const e=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(I2e,e)}onColDefChanged(){var n;if(!this.cellComp)return;this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?(n=this.beans.editService)==null||n.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0})}setWrapText(){const e=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(O2e,e)}dispatchCellContextMenuEvent(e){const n=this.column.getColDef(),i=this.createEvent(e,"cellContextMenu");this.beans.eventService.dispatchEvent(i),n.onCellContextMenu&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{n.onCellContextMenu(i)})},0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const e=new h2e;return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=new f2e(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(e),e}registerRowDragger(e,n,i){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,n);return}const s=this.createRowDragComp(e,n,i);s&&(this.customRowDragComp=s,this.addDestroyFunc(()=>{this.beans.context.destroyBean(s),this.customRowDragComp=null}))}createRowDragComp(e,n,i){const s=this.beans.gos.get("pagination"),r=this.beans.gos.get("rowDragManaged"),o=Gn(this.beans.gos);if(r){if(!o){Fe("managed row dragging is only allowed in the Client Side Row Model");return}if(s){Fe("managed row dragging is not possible when doing pagination");return}}const a=new mD(()=>this.value,this.rowNode,this.column,e,n,i);return this.beans.context.createBean(a),a}setSuppressRefreshCell(e){this.suppressRefreshCell=e}getEditCompDetails(){return this.editCompDetails}onCellEditorAttached(e){this.onCellEditorAttachedFuncs.push(e)}cellEditorAttached(){this.onCellEditorAttachedFuncs.forEach(e=>e()),this.onCellEditorAttachedFuncs=[]}};B$.DOM_DATA_KEY_CELL_CTRL="cellCtrl";var Zd=B$,k2e=0,H$=class bD extends Ee{constructor(e,n,i,s,r){var o;super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=n,this.gos=n.gos,this.rowNode=e,this.paginationPage=((o=n.paginationService)==null?void 0:o.getCurrentPage())??0,this.useAnimationFrameForCreate=s,this.printLayout=r,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+k2e++,this.rowId=Ia(e.id),this.initRowBusinessKey(),this.rowFocused=n.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=n.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(i),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=Ia(e)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}isSticky(){return this.rowNode.sticky}updateGui(e,n){e==="left"?this.leftGui=n:e==="right"?this.rightGui=n:e==="fullWidth"?this.fullWidthGui=n:this.centerGui=n}setComp(e,n,i,s){s=p0(this,this.beans.context,s);const r={rowComp:e,element:n,containerType:i,compBean:s};this.allRowGuis.push(r),this.updateGui(i,r),this.initialiseRowComp(r),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(n=>n.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(e){const n=e?"none":"";this.allRowGuis.forEach(i=>i.element.style.display=n)}initialiseRowComp(e){const n=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),Bb(n)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const i=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(r=>i.addOrRemoveCssClass(r,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&Ub(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(i),this.setRowCompRowBusinessKey(i),dh(n,e.element,bD.DOM_DATA_KEY_ROW_CTRL,this),e.compBean.addDestroyFunc(()=>dh(n,e.element,bD.DOM_DATA_KEY_ROW_CTRL,null)),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),n.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(()=>{this.isAlive()&&e.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKeySanitised!=null&&e.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(e){this.rowId=Ia(this.rowNode.id),this.rowId!=null&&e.setRowId(this.rowId)}executeSlideAndFadeAnimations(e){const{containerType:n}=e;this.slideInAnimation[n]&&(ZH(()=>{this.onTopChanged()}),this.slideInAnimation[n]=!1),this.fadeInAnimation[n]&&(ZH(()=>{e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[n]=!1)}addRowDraggerToRow(e){if(Kl(this.gos)){Fe("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `cellSelection: true`");return}const n=this.beans.localeService.getLocaleTextFunc(),i=new mD(()=>`1 ${n("rowDragRow","row")}`,this.rowNode,void 0,e.element,void 0,!0),s=this.createBean(i,this.beans.context);this.rowDragComps.push(s),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(r=>r!==s),this.destroyBean(s,this.beans.context)})}setupFullWidth(e){const n=this.getPinnedForContainer(e.containerType);if(this.rowType=="FullWidthDetail"&&!this.gos.assertModuleRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)"))return;const i=this.createFullWidthCompDetails(e.element,n);e.rowComp.showFullWidth(i)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){var e,n;return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(i=>{var s;return(s=i==null?void 0:i.rowComp)==null?void 0:s.getFullWidthCellRenderer()}):[(n=(e=this.fullWidthGui)==null?void 0:e.rowComp)==null?void 0:n.getFullWidthCellRenderer()]}getCellElement(e){const n=this.getCellCtrl(e);return n?n.getGui():null}executeProcessRowPostCreateFunc(){const e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;const n={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(n)}areAllContainersReady(){const e=!!this.leftGui||!this.beans.visibleColsService.isPinningLeft(),n=!!this.centerGui,i=!!this.rightGui||!this.beans.visibleColsService.isPinningRight();return e&&n&&i}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1}setRowType(){const e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),n=this.isNodeFullWidthCell(),i=this.gos.get("masterDetail")&&this.rowNode.detail,s=this.beans.columnModel.isPivotMode(),o=!!this.rowNode.group&&!this.rowNode.footer&&nN(this.gos,s);e?this.rowType="FullWidthLoading":i?this.rowType="FullWidthDetail":n?this.rowType="FullWidth":o?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,n=!1){if(this.isFullWidth())return;if(e||this.gos.get("suppressAnimationFrame")||this.printLayout){this.updateColumnListsImpl(n);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}createCellCtrls(e,n,i=null){const s={list:[],map:{}},r=(o,a)=>{s.list.push(a),s.map[o]=a};return n.forEach(o=>{const a=o.getInstanceId();let l=e.map[a];l||(l=new Zd(o,this.rowNode,this.beans,this)),r(a,l)}),e.list.forEach(o=>{const a=o.getColumn().getInstanceId();if(s.map[a]!=null)return;if(!this.isCellEligibleToBeRemoved(o,i)){r(a,o);return}o.destroy()}),s}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(n=>{const i=this.getCellCtrlsForContainer(n.containerType);n.rowComp.setCellCtrls(i,e)})}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const e=this.beans.columnViewportService,n=this.beans.visibleColsService;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n.getAllCols()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const i=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,i);const s=n.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,s,"left");const r=n.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,r,"right")}}isCellEligibleToBeRemoved(e,n){if(e.getColumn().getPinned()!=n)return!0;const o=e.isEditing(),a=this.beans.focusService.isCellFocused(e.getCellPosition());if(o||a){const c=e.getColumn();return!(this.beans.visibleColsService.getAllCols().indexOf(c)>=0)}return!0}getDomOrder(){return this.gos.get("ensureDomOrder")||ds(this.gos,"print")}listenOnDomOrder(e){const n=()=>{e.rowComp.setDomOrder(this.getDomOrder())};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],n)}setAnimateFlags(e){if(this.isSticky()||!e)return;const n=Ke(this.rowNode.oldRowTop),i=this.beans.visibleColsService.isPinningLeft(),s=this.beans.visibleColsService.isPinningRight();if(n){if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=i,this.slideInAnimation.right=s}else{if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=i,this.fadeInAnimation.right=s}}isEditing(){return this.editingRow}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const e=(a,l)=>a?a.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(a.element,l).params):!0,n=e(this.fullWidthGui,null),i=e(this.centerGui,null),s=e(this.leftGui,"left"),r=e(this.rightGui,"right");return n&&i&&s&&r}addListeners(){this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),expandedChanged:this.updateExpandedCss.bind(this),hasChildrenChanged:this.updateExpandedCss.bind(this)}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventService,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context))}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(this.gos.get("rowDragEntireRow")){this.allRowGuis.forEach(n=>{this.addRowDraggerToRow(n)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged())},cellChanged:e=>{this.getAllCellCtrls().forEach(n=>n.onCellChanged(e))}})}onRowNodeDataChanged(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(i=>i.refreshCell({suppressFlash:!e.update,newData:!e.update})),this.allRowGuis.forEach(i=>{this.setRowCompRowId(i.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(i.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.rowNode.highlighted;this.allRowGuis.forEach(n=>{const i=e===0,s=e===1;n.rowComp.addOrRemoveCssClass("ag-row-highlight-above",i),n.rowComp.addOrRemoveCssClass("ag-row-highlight-below",s)})}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-dragging",e))}updateExpandedCss(){const e=this.rowNode.isExpandable(),n=this.rowNode.expanded==!0;this.allRowGuis.forEach(i=>{i.rowComp.addOrRemoveCssClass("ag-row-group",e),i.rowComp.addOrRemoveCssClass("ag-row-group-expanded",e&&n),i.rowComp.addOrRemoveCssClass("ag-row-group-contracted",e&&!n),Ub(i.element,e&&n)})}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:kl(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}findFullWidthRowGui(e){return this.allRowGuis.find(n=>n.element.contains(e))}onKeyboardNavigate(e){const n=this.findFullWidthRowGui(e.target);if(!((n?n.element:null)===e.target))return;const r=this.rowNode,o=this.beans.focusService.getFocusedCell(),a={rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:(o==null?void 0:o.column)??this.getColumnForFullWidth(n)};this.beans.navigationService.navigateToNextCell(e,e.key,a,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||Bl(e))return;const n=this.allRowGuis.find(l=>l.element.contains(e.target)),i=n?n.element:null,s=i===e.target,r=Zn(this.gos);let o=!1;i&&r&&(o=i.contains(r)&&r.classList.contains("ag-cell"));let a=null;!s&&!o&&(a=this.beans.focusService.findNextFocusableElement(i,!1,e.shiftKey)),(this.isFullWidth()&&s||!a)&&this.beans.navigationService.onTabKeyDown(this,e)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){var n;const e=(n=this.allRowGuis.find(i=>Va(i.element)))==null?void 0:n.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){const n=this.isFullWidth()&&e?void 0:-1;this.allRowGuis.forEach(i=>{Ro(i.element,"tabindex",n)})}onFullWidthRowFocused(e){var r;const n=this.rowNode,i=e?this.isFullWidth()&&e.rowIndex===n.rowIndex&&e.rowPinned==n.rowPinned:!1,s=this.fullWidthGui?this.fullWidthGui.element:(r=this.centerGui)==null?void 0:r.element;s&&(s.classList.toggle("ag-full-width-focus",i),i&&(e!=null&&e.forceBrowserFocus)&&s.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,n){const i={list:[],map:{}};return e.list.forEach(s=>{s!==n&&(i.list.push(s),i.map[s.getColumn().getInstanceId()]=s)}),i}onMouseEvent(e,n){switch(e){case"dblclick":this.onRowDblClick(n);break;case"click":this.onRowClick(n);break;case"touchstart":case"mousedown":this.onRowMouseDown(n);break}}createRowEvent(e,n){return this.gos.addGridCommonParams({type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:n})}createRowEventWithSource(e,n){const i=this.createRowEvent(e,n);return i.source=this,i}onRowDblClick(e){Bl(e)||this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",e))}getColumnForFullWidth(e){const{visibleColsService:n}=this.beans;switch(e==null?void 0:e.containerType){case"center":return n.getCenterCols()[0];case"left":return n.getLeftCols()[0];case"right":return n.getRightCols()[0];default:return n.getAllCols()[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=vp(e.target,"ag-row-drag",3),!this.isFullWidth())return;const n=this.rowNode;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges();const i=this.findFullWidthRowGui(e.target),s=i==null?void 0:i.element,r=e.target;let o=!0;s&&s.contains(r)&&hN(r)&&(o=!1),this.beans.focusService.setFocusedCell({rowIndex:n.rowIndex,column:this.getColumnForFullWidth(i),rowPinned:n.rowPinned,forceBrowserFocus:o})}onRowClick(e){if(Bl(e)||this.lastMouseDownOnDragger)return;const{gos:i}=this;this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowClicked",e));const s=e.ctrlKey||e.metaKey,r=e.shiftKey,o=this.rowNode.isSelected(),a=hh(i),l=eV(i),c=_Me(i);if(a&&this.rowNode.group||this.isRowSelectionBlocked()||!c&&!o||!l&&o)return;const d=FMe(i),f="rowClicked";if(o)d?this.rowNode.setSelectedParams({newValue:!1,event:e,source:f}):s?l&&this.rowNode.setSelectedParams({newValue:!1,event:e,source:f}):c&&this.rowNode.setSelectedParams({newValue:!0,clearSelection:!r,rangeSelect:r,event:e,source:f});else{const p=d?!1:!s;this.rowNode.setSelectedParams({newValue:!0,clearSelection:p,rangeSelect:r,event:e,source:f})}}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!Bb(this.gos)}setupDetailRowAutoHeight(e){if(this.rowType!=="FullWidthDetail"||!this.gos.get("detailRowAutoHeight"))return;const n=()=>{const s=e.clientHeight;if(s!=null&&s>0){const r=()=>{this.rowNode.setRowHeight(s),(Gn(this.gos)||Th(this.gos))&&this.beans.rowModel.onRowHeightChanged()};window.setTimeout(r,0)}},i=this.beans.resizeObserverService.observeResize(e,n);this.addDestroyFunc(i),n()}createFullWidthCompDetails(e,n){const{gos:i,rowNode:s}=this,r=i.addGridCommonParams({fullWidth:!0,data:s.data,node:s,value:s.key,valueFormatted:s.key,eGridCell:e,eParentOfValue:e,pinned:n,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(a,l,c,d)=>this.addFullWidthRowDragging(a,l,c,d),setTooltip:(a,l)=>this.refreshRowTooltip(a,l)}),o=this.beans.userComponentFactory;switch(this.rowType){case"FullWidthDetail":return o.getFullWidthDetailCellRendererDetails(r);case"FullWidthGroup":return o.getFullWidthGroupCellRendererDetails(r);case"FullWidthLoading":return o.getFullWidthLoadingCellRendererDetails(r);default:return o.getFullWidthCellRendererDetails(r)}}refreshRowTooltip(e,n){if(!this.fullWidthGui)return;const i={getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>e,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:n};this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new rm(i,this.beans))}addFullWidthRowDragging(e,n,i="",s){if(!this.isFullWidth())return;const r=new mD(()=>i,this.rowNode,void 0,e,n,s);this.createBean(r,this.beans.context),this.addDestroyFunc(()=>{this.destroyBean(r,this.beans.context)})}onUiLevelChanged(){const e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){const n="ag-row-level-"+e,i="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(s=>{s.rowComp.addOrRemoveCssClass(n,!0),s.rowComp.addOrRemoveCssClass(i,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),n=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-row-first",e))),this.lastRowOnPage!==n&&(this.lastRowOnPage=n,this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-row-last",n)))}stopEditing(e=!1){var n;this.stoppingRowEdit||(n=this.beans.rowEditService)==null||n.stopEditing(this,e)}setInlineEditingCss(){const e=this.editingRow||this.getAllCellCtrls().some(n=>n.isEditing());this.allRowGuis.forEach(n=>{n.rowComp.addOrRemoveCssClass("ag-row-inline-editing",e),n.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!e)})}setEditingRow(e){this.editingRow=e}startRowEditing(e=null,n=null,i=null){var s;return this.editingRow?!0:((s=this.beans.rowEditService)==null?void 0:s.startEditing(this,e,n,i))??!0}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const e=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!e||!e.length||e.forEach(n=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(n,!0))})}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,e=>{this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass(e,!0))},e=>{this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass(e,!1))})}setStylesFromGridOptions(e,n){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(n,i=>i.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"||e==="right"?e:null}getInitialRowClasses(e){const n=this.getPinnedForContainer(e),i={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[e],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:n};return this.beans.rowCssClassCalculator.getInitialRowClasses(i)}processStylesFromGridOptions(){const e=this.gos.get("rowStyle");if(e&&typeof e=="function"){Fe("rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}const n=this.gos.getCallback("getRowStyle");let i;if(n){const s={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};i=n(s)}return i||e?Object.assign({},e,i):this.emptyStyle}onRowSelected(e){const n=!!this.rowNode.isSelected();this.forEachGui(e,i=>{i.rowComp.addOrRemoveCssClass("ag-row-selected",n),jb(i.element,n),i.element.contains(Zn(this.gos))&&(i===this.centerGui||i===this.fullWidthGui)&&this.announceDescription()})}announceDescription(){if(this.isRowSelectionBlocked())return;const e=this.rowNode.isSelected();if(e&&!eV(this.gos))return;const i=this.beans.localeService.getLocaleTextFunc()(e?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${e?"deselect":"select"} this row.`);this.beans.ariaAnnouncementService.announceValue(i,"rowSelection")}addHoverFunctionality(e){if(!this.active)return;const{element:n,compBean:i}=e,{rowNode:s,beans:r,gos:o}=this;i.addManagedListeners(n,{mouseenter:()=>s.onMouseEnter(),mouseleave:()=>s.onMouseLeave()}),i.addManagedListeners(s,{mouseEnter:()=>{!r.dragService.isDragging()&&!o.get("suppressRowHoverHighlight")&&(n.classList.add("ag-row-hover"),s.setHovered(!0))},mouseLeave:()=>{n.classList.remove("ag-row-hover"),s.setHovered(!1)}})}roundRowTopToBounds(e){const n=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),i=this.applyPaginationOffset(n.top,!0)-100,s=this.applyPaginationOffset(n.bottom,!0)+100;return Math.min(Math.max(i,e),s)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(e,n){e?n(e):this.allRowGuis.forEach(n)}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;const n=this.rowNode.rowHeight,i=this.beans.environment.getDefaultRowHeight(),r=w9(this.gos)?au(this.gos,this.rowNode).height:void 0,o=r?`${Math.min(i,r)-2}px`:void 0;this.forEachGui(e,a=>{a.element.style.height=`${n}px`,o&&a.element.style.setProperty("--ag-line-height",o)})}addEventListener(e,n){super.addEventListener(e,n)}removeEventListener(e,n){super.removeEventListener(e,n)}destroyFirstPass(e=!1){if(this.active=!1,!e&&gp(this.gos)&&!this.isSticky())if(this.rowNode.rowTop!=null){const s=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(s)}else this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));this.rowNode.setHovered(!1);const n=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(n),this.beans.eventService.dispatchEvent(n),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.stopEditing();const e=n=>(n.list.forEach(i=>i.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,n=>{n.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),n.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const e=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.rowFocused=e,this.setFocusedClasses()),!e&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){var n;const e=((n=this.beans.paginationService)==null?void 0:n.getCurrentPage())??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,n=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;const i=this.beans.pageBoundsService.getPixelOffset();return e+i*(n?1:-1)}setRowTop(e){if(!this.printLayout&&Ke(e)){const n=this.applyPaginationOffset(e),r=`${this.rowNode.isRowPinned()||this.rowNode.sticky?n:this.beans.rowContainerHeightService.getRealPixelPosition(n)}px`;this.setRowTopStyle(r)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";const n=this.rowNode;let i;if(this.isSticky())i=n.stickyRowTop;else{const s=this.slideInAnimation[e]?this.roundRowTopToBounds(n.oldRowTop):n.rowTop,r=this.applyPaginationOffset(s);i=n.isRowPinned()?r:this.beans.rowContainerHeightService.getRealPixelPosition(r)}return i+"px"}setRowTopStyle(e){this.allRowGuis.forEach(n=>this.suppressRowTransform?n.rowComp.setTop(e):n.rowComp.setTransform(`translateY(${e})`))}getRowNode(){return this.rowNode}getCellCtrl(e){let n=null;return this.getAllCellCtrls().forEach(i=>{i.getColumn()==e&&(n=i)}),n!=null||this.getAllCellCtrls().forEach(i=>{i.getColSpanningList().indexOf(e)>=0&&(n=i)}),n}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(e){var o;const n=this.rowNode.getRowIndexString();if(n===null)return;const i=this.beans.headerNavigationService.getHeaderRowCount()+(((o=this.beans.filterManager)==null?void 0:o.getHeaderRowCount())??0),s=this.rowNode.rowIndex%2===0,r=i+this.rowNode.rowIndex+1;this.forEachGui(e,a=>{a.rowComp.setRowIndex(n),a.rowComp.addOrRemoveCssClass("ag-row-even",s),a.rowComp.addOrRemoveCssClass("ag-row-odd",!s),CTe(a.element,r)})}setStoppingRowEdit(e){this.stoppingRowEdit=e}};H$.DOM_DATA_KEY_ROW_CTRL="renderedRow";var Jd=H$,B2e=class extends Ee{wireBeans(t){this.mouseEventService=t.mouseEventService,this.valueService=t.valueService,this.menuService=t.menuService,this.ctrlsService=t.ctrlsService,this.navigationService=t.navigationService,this.focusService=t.focusService,this.undoRedoService=t.undoRedoService,this.visibleColsService=t.visibleColsService,this.rowModel=t.rowModel,this.pinnedRowModel=t.pinnedRowModel,this.rangeService=t.rangeService,this.clipboardService=t.clipboardService}constructor(t){super(),this.element=t}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const t="keydown",e=this.processKeyboardEvent.bind(this,t);this.addManagedElementListeners(this.element,{[t]:e})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",_9("touchstart")?"touchstart":"mousedown"].forEach(n=>{const i=this.processMouseEvent.bind(this,n);this.addManagedElementListeners(this.element,{[n]:i})})}processMouseEvent(t,e){if(!this.mouseEventService.isEventFromThisGrid(e)||Bl(e))return;const n=this.getRowForEvent(e),i=this.mouseEventService.getRenderedCellForEvent(e);t==="contextmenu"?this.handleContextMenuMouseEvent(e,void 0,n,i):(i&&i.onMouseEvent(t,e),n&&n.onMouseEvent(t,e))}mockContextMenuForIPad(){if(!wu())return;const t=new tu(this.element),e=n=>{const i=this.getRowForEvent(n.touchEvent),s=this.mouseEventService.getRenderedCellForEvent(n.touchEvent);this.handleContextMenuMouseEvent(void 0,n.touchEvent,i,s)};this.addManagedListeners(t,{longTap:e}),this.addDestroyFunc(()=>t.destroy())}getRowForEvent(t){let e=t.target;for(;e;){const n=ly(this.gos,e,Jd.DOM_DATA_KEY_ROW_CTRL);if(n)return n;e=e.parentElement}return null}handleContextMenuMouseEvent(t,e,n,i){const s=n?n.getRowNode():null,r=i?i.getColumn():null;let o=null;if(r){const c=t||e;i.dispatchCellContextMenuEvent(c??null),o=this.valueService.getValue(r,s)}const a=this.ctrlsService.getGridBodyCtrl(),l=i?i.getGui():a.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:t,touchEvent:e,rowNode:s,column:r,value:o,anchorToElement:l})}getControlsForEventTarget(t){return{cellCtrl:lD(this.gos,t,Zd.DOM_DATA_KEY_CELL_CTRL),rowCtrl:lD(this.gos,t,Jd.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(t,e){const{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(e.target);e.defaultPrevented||(n?this.processCellKeyboardEvent(n,t,e):i&&i.isFullWidth()&&this.processFullWidthRowKeyboardEvent(i,t,e))}processCellKeyboardEvent(t,e,n){const i=t.getRowNode(),s=t.getColumn(),r=t.isEditing();!gD(this.gos,n,i,s,r)&&e==="keydown"&&(!r&&this.navigationService.handlePageScrollingKey(n)||t.onKeyDown(n),this.doGridOperations(n,t.isEditing()),g$(n)&&t.processCharacter(n)),e==="keydown"&&this.eventService.dispatchEvent(t.createEvent(n,"cellKeyDown"))}processFullWidthRowKeyboardEvent(t,e,n){const i=t.getRowNode(),s=this.focusService.getFocusedCell(),r=s&&s.column;if(!gD(this.gos,n,i,r,!1)){const a=n.key;if(e==="keydown")switch(a){case ve.PAGE_HOME:case ve.PAGE_END:case ve.PAGE_UP:case ve.PAGE_DOWN:this.navigationService.handlePageScrollingKey(n,!0);break;case ve.UP:case ve.DOWN:t.onKeyboardNavigate(n);break;case ve.TAB:t.onTabKeyDown(n);break}}e==="keydown"&&this.eventService.dispatchEvent(t.createRowEvent("cellKeyDown",n))}doGridOperations(t,e){if(!t.ctrlKey&&!t.metaKey||e||!this.mouseEventService.isEventFromThisGrid(t))return;const n=XRe(t);if(n===ve.A)return this.onCtrlAndA(t);if(n===ve.C)return this.onCtrlAndC(t);if(n===ve.D)return this.onCtrlAndD(t);if(n===ve.V)return this.onCtrlAndV(t);if(n===ve.X)return this.onCtrlAndX(t);if(n===ve.Y)return this.onCtrlAndY();if(n===ve.Z)return this.onCtrlAndZ(t)}onCtrlAndA(t){const{pinnedRowModel:e,rowModel:n,rangeService:i}=this;if(i&&n.isRowsToRender()){const[s,r]=[e.isEmpty("top"),e.isEmpty("bottom")],o=s?null:"top";let a,l;r?(a=null,l=n.getRowCount()-1):(a="bottom",l=e.getPinnedBottomRowCount()-1);const c=this.visibleColsService.getAllCols();if(jr(c))return;i.setCellRange({rowStartIndex:0,rowStartPinned:o,rowEndIndex:l,rowEndPinned:a,columnStart:c[0],columnEnd:Kt(c)})}t.preventDefault()}onCtrlAndC(t){if(!this.clipboardService||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:e,rowCtrl:n}=this.getControlsForEventTarget(t.target);e!=null&&e.isEditing()||n!=null&&n.isEditing()||(t.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(t){if(!this.clipboardService||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:e,rowCtrl:n}=this.getControlsForEventTarget(t.target);e!=null&&e.isEditing()||n!=null&&n.isEditing()||(t.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(t){const{cellCtrl:e,rowCtrl:n}=this.getControlsForEventTarget(t.target);e!=null&&e.isEditing()||n!=null&&n.isEditing()||this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(t){this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),t.preventDefault()}onCtrlAndZ(t){!this.gos.get("undoRedoCellEditing")||!this.undoRedoService||(t.preventDefault(),t.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){var t;(t=this.undoRedoService)==null||t.redo("ui")}},H2e=class extends Ee{wireBeans(t){this.pinnedWidthService=t.pinnedWidthService}constructor(t){super(),this.element=t}postConstruct(){this.addManagedEventListeners({leftPinnedWidthChanged:this.onPinnedLeftWidthChanged.bind(this)})}onPinnedLeftWidthChanged(){const t=this.pinnedWidthService.getPinnedLeftWidth(),e=t>0;Kn(this.element,e),Yo(this.element,t)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}},V2e=class extends Ee{wireBeans(t){this.pinnedWidthService=t.pinnedWidthService}constructor(t){super(),this.element=t}postConstruct(){this.addManagedEventListeners({rightPinnedWidthChanged:this.onPinnedRightWidthChanged.bind(this)})}onPinnedRightWidthChanged(){const t=this.pinnedWidthService.getPinnedRightWidth(),e=t>0;Kn(this.element,e),Yo(this.element,t)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}},lC=t=>t.getTopRowCtrls(),cC=t=>t.getStickyTopRowCtrls(),uC=t=>t.getStickyBottomRowCtrls(),dC=t=>t.getBottomRowCtrls(),hC=t=>t.getCentreRowCtrls(),z2e={center:{type:"center",container:"ag-center-cols-container",viewport:"ag-center-cols-viewport",getRowCtrls:hC},left:{type:"left",container:"ag-pinned-left-cols-container",pinnedType:"left",getRowCtrls:hC},right:{type:"right",container:"ag-pinned-right-cols-container",pinnedType:"right",getRowCtrls:hC},fullWidth:{type:"fullWidth",container:"ag-full-width-container",fullWidth:!0,getRowCtrls:hC},topCenter:{type:"center",container:"ag-floating-top-container",viewport:"ag-floating-top-viewport",getRowCtrls:lC},topLeft:{type:"left",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:lC},topRight:{type:"right",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:lC},topFullWidth:{type:"fullWidth",container:"ag-floating-top-full-width-container",fullWidth:!0,getRowCtrls:lC},stickyTopCenter:{type:"center",container:"ag-sticky-top-container",viewport:"ag-sticky-top-viewport",getRowCtrls:cC},stickyTopLeft:{type:"left",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:cC},stickyTopRight:{type:"right",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:cC},stickyTopFullWidth:{type:"fullWidth",container:"ag-sticky-top-full-width-container",fullWidth:!0,getRowCtrls:cC},stickyBottomCenter:{type:"center",container:"ag-sticky-bottom-container",viewport:"ag-sticky-bottom-viewport",getRowCtrls:uC},stickyBottomLeft:{type:"left",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:uC},stickyBottomRight:{type:"right",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:uC},stickyBottomFullWidth:{type:"fullWidth",container:"ag-sticky-bottom-full-width-container",fullWidth:!0,getRowCtrls:uC},bottomCenter:{type:"center",container:"ag-floating-bottom-container",viewport:"ag-floating-bottom-viewport",getRowCtrls:dC},bottomLeft:{type:"left",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:dC},bottomRight:{type:"right",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:dC},bottomFullWidth:{type:"fullWidth",container:"ag-floating-bottom-full-width-container",fullWidth:!0,getRowCtrls:dC}};function np(t){return z2e[t]}var G2e=["topCenter","topLeft","topRight"],U2e=["bottomCenter","bottomLeft","bottomRight"],j2e=["center","left","right"],W2e=["center","left","right","fullWidth"],$2e=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],q2e=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],K2e=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],V$=["stickyTopCenter","stickyTopLeft","stickyTopRight"],z$=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],Y2e=[...V$,"stickyTopFullWidth",...z$,"stickyBottomFullWidth"],X2e=[...G2e,...U2e,...j2e,...V$,...z$],Z2e=class extends Ee{constructor(t){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=t,this.options=np(t)}wireBeans(t){this.dragService=t.dragService,this.ctrlsService=t.ctrlsService,this.columnViewportService=t.columnViewportService,this.resizeObserverService=t.resizeObserverService,this.rowRenderer=t.rowRenderer}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new u2e(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(t){this.comp.setOffsetTop(`${t.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.ctrlsService.register(this.name,this)}forContainers(t,e){t.indexOf(this.name)>=0&&e()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(t,e,n){this.comp=t,this.eContainer=e,this.eViewport=n,this.createManagedBean(new B2e(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const i=()=>this.onPinnedWidthChanged();this.forContainers(q2e,()=>{this.pinnedWidthFeature=this.createManagedBean(new H2e(this.eContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:i})}),this.forContainers(K2e,()=>{this.pinnedWidthFeature=this.createManagedBean(new V2e(this.eContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:i})}),this.forContainers(W2e,()=>this.createManagedBean(new k$(this.eContainer,this.name==="center"?n:void 0))),this.forContainers(X2e,()=>this.createManagedBean(new d2e(this.eContainer))),this.forContainers($2e,()=>this.createManagedBean(new PN(s=>this.comp.setContainerWidth(`${s}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(t){this.addManagedElementListeners(this.getViewportElement(),{scroll:t})}addListeners(){this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),displayedRowsChanged:t=>this.onDisplayedRowsChanged(t.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(Y2e.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const e=()=>{const n=this.gos.get("ensureDomOrder"),i=ds(this.gos,"print");this.comp.setDomOrder(n||i)};this.addManagedPropertyListener("domLayout",e),e()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const t=e=>{this.dragService.isDragging()&&e.cancelable&&e.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(t=!1){const e=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.columnViewportService.setScrollPosition(e,n,t)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return g0(this.eViewport)}getCenterViewportScrollLeft(){return qb(this.eViewport,this.enableRtl)}registerViewportResizeListener(t){const e=this.resizeObserverService.observeResize(this.eViewport,t);this.addDestroyFunc(()=>e())}isViewportInTheDOMTree(){return X9(this.eViewport)}getViewportScrollLeft(){return qb(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||FTe(this.eViewport)}getViewportElement(){return this.eViewport}setHorizontalScroll(t){this.comp.setHorizontalScroll(t)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(t){Kb(this.eViewport,t,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const t=this.isContainerVisible();this.visible!=t&&(this.visible=t,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(t=!1){const e=this.options.getRowCtrls(this.rowRenderer);if(!this.visible||e.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const n=ds(this.gos,"print"),s=this.gos.get("embedFullWidthRows")||n,r=e.filter(o=>{const a=o.isFullWidth();return this.options.fullWidth?!s&&a:s||!a});this.comp.setRowCtrls({rowCtrls:r,useFlushSync:t})}},J2e="ag-force-vertical-scroll",Q2e="ag-selectable",ePe="ag-column-moving",tPe=class extends Ee{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(t){this.animationFrameService=t.animationFrameService,this.rowContainerHeightService=t.rowContainerHeightService,this.ctrlsService=t.ctrlsService,this.columnModel=t.columnModel,this.columnSizeService=t.columnSizeService,this.scrollVisibleService=t.scrollVisibleService,this.menuService=t.menuService,this.headerNavigationService=t.headerNavigationService,this.dragAndDropService=t.dragAndDropService,this.pinnedRowModel=t.pinnedRowModel,this.rowRenderer=t.rowRenderer,this.popupService=t.popupService,this.mouseEventService=t.mouseEventService,this.rowModel=t.rowModel,this.filterManager=t.filterManager,this.environment=t.environment}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(t,e,n,i,s,r,o){var a;this.comp=t,this.eGridBody=e,this.eBodyViewport=n,this.eTop=i,this.eBottom=s,this.eStickyTop=r,this.eStickyBottom=o,this.eCenterColsViewport=n.querySelector(`.${np("center").viewport}`),this.eFullWidthContainer=n.querySelector(`.${np("fullWidth").container}`),this.eStickyTopFullWidthContainer=r.querySelector(`.${np("stickyTopFullWidth").container}`),this.eStickyBottomFullWidthContainer=o.querySelector(`.${np("stickyBottomFullWidth").container}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",l=>this.setCellTextSelection(l.currentValue)),this.createManagedBean(new _N(this.comp)),this.bodyScrollFeature=this.createManagedBean(new c2e(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([i,n,s,r,o]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),(a=this.filterManager)==null||a.setupAdvancedFilterHeaderComp(i),this.ctrlsService.register("gridBodyCtrl",this)}getComp(){return this.comp}addEventListeners(){const t=this.setFloatingHeights.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.onScrollGapChanged.bind(this),pinnedRowDataChanged:t,pinnedHeightChanged:t,headerHeightChanged:this.onHeaderHeightChanged.bind(this)})}addFocusListeners(t){t.forEach(e=>{this.addManagedElementListeners(e,{focusin:n=>{const{target:i}=n,s=vp(i,"ag-root",e);e.classList.toggle("ag-has-focus",!s)},focusout:n=>{const{target:i,relatedTarget:s}=n,r=e.contains(s),o=vp(s,"ag-root",e);vp(i,"ag-root",e)||(!r||o)&&e.classList.remove("ag-has-focus")}})})}setColumnMovingCss(t){this.comp.setColumnMovingCss(ePe,t)}setCellTextSelection(t=!1){this.comp.setCellSelectableCss(Q2e,t)}onScrollVisibilityChanged(){const t=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();const e=t&&this.scrollVisibleService.getScrollbarWidth()||0,n=$9()?16:0,i=`calc(100% + ${e+n}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setBodyViewportWidth(i)),this.updateScrollingClasses()}onScrollGapChanged(){this.updateScrollingClasses()}updateScrollingClasses(){this.eGridBody.classList.toggle("ag-body-vertical-content-no-gap",!this.scrollVisibleService.hasVerticalScrollGap()),this.eGridBody.classList.toggle("ag-body-horizontal-content-no-gap",!this.scrollVisibleService.hasHorizontalScrollGap())}onGridColumnsChanged(){const t=this.columnModel.getCols();this.comp.setColumnCount(t.length)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:t=>{if(t.target instanceof HTMLImageElement)return t.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;const t=n=>{const i=n.relatedTarget;if(fD(i)===null){this.rowRenderer.stopEditing();return}let s=e.some(r=>r.contains(i))&&this.mouseEventService.isElementInThisGrid(i);if(!s){const r=this.popupService;s=r.getActivePopups().some(o=>o.contains(i))||r.isElementWithinCustomPopup(i)}s||this.rowRenderer.stopEditing()},e=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom];e.forEach(n=>this.addManagedElementListeners(n,{focusout:t}))}updateRowCount(){var i;const t=this.headerNavigationService.getHeaderRowCount()+(((i=this.filterManager)==null?void 0:i.getHeaderRowCount())??0),e=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,n=e===-1?-1:t+e;this.comp.setRowCount(n)}registerBodyViewportResizeListener(t){this.comp.registerBodyViewportResizeListener(t)}setVerticalScrollPaddingVisible(t){const e=t?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(e)}isVerticalScrollShowing(){const t=this.gos.get("alwaysShowVerticalScroll"),e=t?J2e:null,n=ds(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(e,t),t||n&&NTe(this.eBodyViewport)}setupRowAnimationCssClass(){let t=this.environment.hasMeasuredSizes();const e=()=>{const n=t&&gp(this.gos)&&!this.rowContainerHeightService.isStretching(),i=n?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(i,n)};e(),this.addManagedEventListeners({heightScaleChanged:e}),this.addManagedPropertyListener("animateRows",e),this.addManagedEventListeners({gridStylesChanged:()=>{!t&&this.environment.hasMeasuredSizes()&&(t=!0,e())}})}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const t=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:t}),this.mockContextMenuForIPad(t),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:t=>this.onFullWidthContainerWheel(t)})}onFullWidthContainerWheel(t){const{deltaX:e,deltaY:n,shiftKey:i}=t;(i||Math.abs(e)>Math.abs(n))&&this.mouseEventService.isEventFromThisGrid(t)&&this.scrollGridBodyToMatchEvent(t)}onStickyWheel(t){const{deltaX:e,deltaY:n,shiftKey:i}=t,s=i||Math.abs(e)>Math.abs(n),r=t.target;s?(this.eStickyTopFullWidthContainer.contains(r)||this.eStickyBottomFullWidthContainer.contains(r))&&this.scrollGridBodyToMatchEvent(t):(t.preventDefault(),this.scrollVertically(n))}scrollGridBodyToMatchEvent(t){const{deltaX:e,deltaY:n}=t;t.preventDefault(),this.eCenterColsViewport.scrollBy({left:e||n})}onBodyViewportContextMenu(t,e,n){if(!t&&!n)return;this.gos.get("preventDefaultOnContextMenu")&&(t||n).preventDefault();const{target:i}=t||e;(i===this.eBodyViewport||i===this.ctrlsService.get("center").getViewportElement())&&this.menuService.showContextMenu({mouseEvent:t,touchEvent:n,value:null,anchorToElement:this.eGridBody})}mockContextMenuForIPad(t){if(!wu())return;const e=new tu(this.eBodyViewport),n=i=>{t(void 0,i.touchStart,i.touchEvent)};this.addManagedListeners(e,{longTap:n}),this.addDestroyFunc(()=>e.destroy())}onBodyViewportWheel(t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&t.preventDefault()}getGui(){return this.eGridBody}scrollVertically(t){const e=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(e+t),this.eBodyViewport.scrollTop-e}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new PRe(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(this.rowDragFeature))}getRowDragFeature(){return this.rowDragFeature}setFloatingHeights(){const{pinnedRowModel:t}=this,e=t.getPinnedTopTotalHeight(),n=t.getPinnedBottomTotalHeight();this.comp.setTopHeight(e),this.comp.setBottomHeight(n),this.comp.setTopDisplay(e?"inherit":"none"),this.comp.setBottomDisplay(n?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(t=0){this.comp.setStickyTopHeight(`${t}px`),this.stickyTopHeight=t}getStickyTopHeight(){return this.stickyTopHeight}setStickyBottomHeight(t=0){this.comp.setStickyBottomHeight(`${t}px`),this.stickyBottomHeight=t}getStickyBottomHeight(){return this.stickyBottomHeight}setStickyWidth(t){if(!t)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const e=this.scrollVisibleService.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${e}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${e}px)`)}}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){var s;const e=this.ctrlsService.get("gridHeaderCtrl").getHeaderHeight()+(((s=this.filterManager)==null?void 0:s.getHeaderHeight())??0),n=this.pinnedRowModel.getPinnedTopTotalHeight();let i=0;e>0&&(i+=e),n>0&&(i+=n),i>0&&(i+=1),this.comp.setStickyTopTop(`${i}px`)}setStickyBottomOffsetBottom(){const t=this.pinnedRowModel.getPinnedBottomTotalHeight(),n=this.scrollVisibleService.isHorizontalScrollShowing()&&this.scrollVisibleService.getScrollbarWidth()||0,i=t+n;this.comp.setStickyBottomBottom(`${i}px`)}sizeColumnsToFit(t,e){const i=this.isVerticalScrollShowing()?this.scrollVisibleService.getScrollbarWidth():0,r=g0(this.eGridBody)-i;if(r>0){this.columnSizeService.sizeColumnsToFit(r,"sizeColumnsToFit",!1,t);return}e===void 0?window.setTimeout(()=>{this.sizeColumnsToFit(t,100)},0):e===100?window.setTimeout(()=>{this.sizeColumnsToFit(t,500)},100):e===500?window.setTimeout(()=>{this.sizeColumnsToFit(t,-1)},500):Fe("tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(t){this.eBodyViewport.addEventListener("scroll",t,{passive:!0})}removeScrollEventListener(t){this.eBodyViewport.removeEventListener("scroll",t)}};function Ag(t){return t.map(e=>`<ag-row-container name="${e}"></ag-row-container>`).join("")}`${Ag(["topLeft","topCenter","topRight","topFullWidth"])}${Ag(["left","center","right","fullWidth"])}${Ag(["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"])}${Ag(["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"])}${Ag(["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"])}`;var nPe=class extends Ee{constructor(){super(...arguments),this.beanName="scrollVisibleService"}wireBeans(t){this.ctrlsService=t.ctrlsService,this.columnAnimationService=t.columnAnimationService}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)})}onDisplayedColumnsChanged(){this.updateScrollVisible()}onDisplayedColumnsWidthChanged(){this.updateScrollVisible()}onCentreViewportResized(){this.updateScrollGap()}updateScrollVisible(){this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(()=>{this.columnAnimationService.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){const t=this.ctrlsService.get("center");if(!t||this.columnAnimationService.isActive())return;const e={horizontalScrollShowing:t.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(e),this.updateScrollGap()}updateScrollGap(){const t=this.ctrlsService.get("center"),e=t.hasHorizontalScrollGap(),n=t.hasVerticalScrollGap();(this.horizontalScrollGap!==e||this.verticalScrollGap!==n)&&(this.horizontalScrollGap=e,this.verticalScrollGap=n,this.eventService.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(t){(this.horizontalScrollShowing!==t.horizontalScrollShowing||this.verticalScrollShowing!==t.verticalScrollShowing)&&(this.horizontalScrollShowing=t.horizontalScrollShowing,this.verticalScrollShowing=t.verticalScrollShowing,this.eventService.dispatchEvent({type:"scrollVisibilityChanged"}))}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}hasHorizontalScrollGap(){return this.horizontalScrollGap}hasVerticalScrollGap(){return this.verticalScrollGap}getScrollbarWidth(){if(this.scrollbarWidth==null){const t=this.gos.get("scrollbarWidth"),n=typeof t=="number"&&t>=0?t:PTe();n!=null&&(this.scrollbarWidth=n,this.eventService.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},vV="__ag_grid_instance",G$=class U$ extends Ee{constructor(){super(...arguments),this.beanName="mouseEventService",this.gridInstanceId=U$.gridInstanceSequence.next()}wireBeans(e){this.ctrlsService=e.ctrlsService}stampTopLevelGridCompWithGridInstance(e){e[vV]=this.gridInstanceId}getRenderedCellForEvent(e){return lD(this.gos,e.target,Zd.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(e){return this.isElementInThisGrid(e.target)}isElementInThisGrid(e){let n=e;for(;n;){const i=n[vV];if(Ke(i))return i===this.gridInstanceId;n=n.parentElement}return!1}getCellPositionForEvent(e){const n=this.getRenderedCellForEvent(e);return n?n.getCellPosition():null}getNormalisedPosition(e){const n=ds(this.gos,"normal"),i=e;let s,r;if(i.clientX!=null||i.clientY!=null?(s=i.clientX,r=i.clientY):(s=i.x,r=i.y),n){const o=this.ctrlsService.getGridBodyCtrl(),a=o.getScrollFeature().getVScrollPosition(),l=o.getScrollFeature().getHScrollPosition();s+=l.left,r+=a.top}return{x:s,y:r}}};G$.gridInstanceSequence=new gN;var iPe=G$,sPe=class extends Ee{constructor(){super(),this.beanName="navigationService",this.onPageDown=JH(this.onPageDown,100),this.onPageUp=JH(this.onPageUp,100)}wireBeans(t){this.mouseEventService=t.mouseEventService,this.pageBoundsService=t.pageBoundsService,this.focusService=t.focusService,this.columnModel=t.columnModel,this.visibleColsService=t.visibleColsService,this.rowModel=t.rowModel,this.ctrlsService=t.ctrlsService,this.rowRenderer=t.rowRenderer,this.headerNavigationService=t.headerNavigationService,this.rowPositionUtils=t.rowPositionUtils,this.cellNavigationService=t.cellNavigationService,this.pinnedRowModel=t.pinnedRowModel,this.scrollVisibleService=t.scrollVisibleService,this.rangeService=t.rangeService}postConstruct(){this.ctrlsService.whenReady(this,t=>{this.gridBodyCon=t.gridBodyCtrl})}handlePageScrollingKey(t,e=!1){const n=t.key,i=t.altKey,s=t.ctrlKey||t.metaKey,r=!!this.rangeService&&t.shiftKey,o=this.mouseEventService.getCellPositionForEvent(t);let a=!1;switch(n){case ve.PAGE_HOME:case ve.PAGE_END:!s&&!i&&(this.onHomeOrEndKey(n),a=!0);break;case ve.LEFT:case ve.RIGHT:case ve.UP:case ve.DOWN:if(!o)return!1;s&&!i&&!r&&(this.onCtrlUpDownLeftRight(n,o),a=!0);break;case ve.PAGE_DOWN:case ve.PAGE_UP:!s&&!i&&(a=this.handlePageUpDown(n,o,e));break}return a&&t.preventDefault(),a}handlePageUpDown(t,e,n){return n&&(e=this.focusService.getFocusedCell()),e?(t===ve.PAGE_UP?this.onPageUp(e):this.onPageDown(e),!0):!1}navigateTo(t){var o;const{scrollIndex:e,scrollType:n,scrollColumn:i,focusIndex:s,focusColumn:r}=t;Ke(i)&&!i.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(i),Ke(e)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e,n),t.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(s),this.focusService.setFocusedCell({rowIndex:s,column:r,rowPinned:null,forceBrowserFocus:!0}),(o=this.rangeService)==null||o.setRangeToCell({rowIndex:s,rowPinned:null,column:r})}onPageDown(t){const n=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),i=this.getViewportHeight(),s=this.pageBoundsService.getPixelOffset(),r=n.top+i,o=this.rowModel.getRowIndexAtPixel(r+s);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,o):this.navigateToNextPage(t,o)}onPageUp(t){const n=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),i=this.pageBoundsService.getPixelOffset(),s=n.top,r=this.rowModel.getRowIndexAtPixel(s+i);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,r,!0):this.navigateToNextPage(t,r,!0)}navigateToNextPage(t,e,n=!1){const i=this.getViewportHeight(),s=this.pageBoundsService.getFirstRow(),r=this.pageBoundsService.getLastRow(),o=this.pageBoundsService.getPixelOffset(),a=this.rowModel.getRow(t.rowIndex),l=n?(a==null?void 0:a.rowHeight)-i-o:i-o,c=(a==null?void 0:a.rowTop)+l;let d=this.rowModel.getRowIndexAtPixel(c+o);if(d===t.rowIndex){const p=n?-1:1;e=d=t.rowIndex+p}let f;n?(f="bottom",d<s&&(d=s),e<s&&(e=s)):(f="top",d>r&&(d=r),e>r&&(e=r)),this.isRowTallerThanView(d)&&(e=d,f="top"),this.navigateTo({scrollIndex:e,scrollType:f,scrollColumn:null,focusIndex:d,focusColumn:t.column})}navigateToNextPageWithAutoHeight(t,e,n=!1){this.navigateTo({scrollIndex:e,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:e,focusColumn:t.column}),setTimeout(()=>{const i=this.getNextFocusIndexForAutoHeight(t,n);this.navigateTo({scrollIndex:e,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:i,focusColumn:t.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(t,e=!1){const n=e?-1:1,i=this.getViewportHeight(),s=this.pageBoundsService.getLastRow();let r=0,o=t.rowIndex;for(;o>=0&&o<=s;){const a=this.rowModel.getRow(o);if(a){const l=a.rowHeight??0;if(r+l>i)break;r+=l}o+=n}return Math.max(0,Math.min(o,s))}getViewportHeight(){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),e=this.scrollVisibleService.getScrollbarWidth();let n=t.bottom-t.top;return this.ctrlsService.get("center").isHorizontalScrollShowing()&&(n-=e),n}isRowTallerThanView(t){const e=this.rowModel.getRow(t);if(!e)return!1;const n=e.rowHeight;return typeof n!="number"?!1:n>this.getViewportHeight()}onCtrlUpDownLeftRight(t,e){const n=this.cellNavigationService.getNextCellToFocus(t,e,!0),{rowIndex:i}=n,s=n.column;this.navigateTo({scrollIndex:i,scrollType:null,scrollColumn:s,focusIndex:i,focusColumn:s})}onHomeOrEndKey(t){const e=t===ve.PAGE_HOME,n=this.visibleColsService.getAllCols(),i=e?n[0]:Kt(n),s=e?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow();this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:i,focusIndex:s,focusColumn:i})}onTabKeyDown(t,e){const n=e.shiftKey,i=this.tabToNextCellCommon(t,n,e);if(i!==!1){i?e.preventDefault():i===null&&this.focusService.allowFocusForNextGridCoreContainer(n);return}if(n){const{rowIndex:s,rowPinned:r}=t.getRowPosition();(r?s===0:s===this.pageBoundsService.getFirstRow())&&(this.gos.get("headerHeight")===0||this.focusService.isHeaderFocusSuppressed()?this.focusService.focusNextGridCoreContainer(!0,!0):(e.preventDefault(),this.focusService.focusPreviousFromFirstCell(e)))}else t instanceof Zd&&t.focusCell(!0),(!n&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(n))&&e.preventDefault()}tabToNextCell(t,e){const n=this.focusService.getFocusedCell();if(!n)return!1;let i=this.getCellByPosition(n);return!i&&(i=this.rowRenderer.getRowByPosition(n),!i||!i.isFullWidth())?!1:!!this.tabToNextCellCommon(i,t,e)}tabToNextCellCommon(t,e,n){let i=t.isEditing();if(!i&&t instanceof Zd){const o=t.getRowCtrl();o&&(i=o.isEditing())}let s;return i?this.gos.get("editType")==="fullRow"?s=this.moveToNextEditingRow(t,e,n):s=this.moveToNextEditingCell(t,e,n):s=this.moveToNextCellNotEditing(t,e),s===null?s:s||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(t,e,n=null){const i=t.getCellPosition();t.getGui().focus(),t.stopEditing();const s=this.findNextCellToFocusOn(i,e,!0);return s===!1?null:s==null?!1:(s.startEditing(null,!0,n),s.focusCell(!1),!0)}moveToNextEditingRow(t,e,n=null){const i=t.getCellPosition(),s=this.findNextCellToFocusOn(i,e,!0);if(s===!1)return null;if(s==null)return!1;const r=s.getCellPosition(),o=this.isCellEditable(i),a=this.isCellEditable(r),l=r&&i.rowIndex===r.rowIndex&&i.rowPinned===r.rowPinned;return o&&t.setFocusOutOnEditor(),l||(t.getRowCtrl().stopEditing(),s.getRowCtrl().startRowEditing(void 0,void 0,n)),a?(s.setFocusInOnEditor(),s.focusCell()):s.focusCell(!0),!0}moveToNextCellNotEditing(t,e){const n=this.visibleColsService.getAllCols();let i;t instanceof Jd?i={...t.getRowPosition(),column:e?n[0]:Kt(n)}:i=t.getCellPosition();const s=this.findNextCellToFocusOn(i,e,!1);if(s===!1)return null;if(s instanceof Zd)s.focusCell(!0);else if(s)return this.tryToFocusFullWidthRow(s.getRowPosition(),e);return Ke(s)}findNextCellToFocusOn(t,e,n){var s;let i=t;for(;;){t!==i&&(t=i),e||(i=this.getLastCellOfColSpan(i)),i=this.cellNavigationService.getNextTabbedCell(i,e);const r=this.gos.getCallback("tabToNextCell");if(Ke(r)){const c=r({backwards:e,editing:n,previousCellPosition:t,nextCellPosition:i||null});if(c===!0||c===null)c===null&&Fe("Returning `null` from tabToNextCell is deprecated. Return `true` to stay on the current cell, or `false` to let the browser handle the tab behaviour."),i=t;else{if(c===!1)return!1;i={rowIndex:c.rowIndex,column:c.column,rowPinned:c.rowPinned}}}if(!i)return null;if(i.rowIndex<0){const l=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:l+i.rowIndex,column:i.column},fromCell:!0}),null}const o=this.gos.get("editType")==="fullRow";if(n&&!o&&!this.isCellEditable(i))continue;this.ensureCellVisible(i);const a=this.getCellByPosition(i);if(!a){const l=this.rowRenderer.getRowByPosition(i);if(!l||!l.isFullWidth()||n)continue;return l}if(!a.isSuppressNavigable())return(s=this.rangeService)==null||s.setRangeToCell(i),a}}isCellEditable(t){const e=this.lookupRowNodeForCell(t);return e?t.column.isCellEditable(e):!1}getCellByPosition(t){const e=this.rowRenderer.getRowByPosition(t);return e?e.getCellCtrl(t.column):null}lookupRowNodeForCell(t){return t.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(t.rowIndex):t.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(t.rowIndex):this.rowModel.getRow(t.rowIndex)}navigateToNextCell(t,e,n,i){let s=n,r=!1;for(;s&&(s===n||!this.isValidNavigateCell(s));)this.gos.get("enableRtl")?e===ve.LEFT&&(s=this.getLastCellOfColSpan(s)):e===ve.RIGHT&&(s=this.getLastCellOfColSpan(s)),s=this.cellNavigationService.getNextCellToFocus(e,s),r=Yt(s);if(r&&t&&t.key===ve.UP&&(s={rowIndex:-1,rowPinned:null,column:n.column}),i){const a=this.gos.getCallback("navigateToNextCell");if(Ke(a)){const c=a({key:e,previousCellPosition:n,nextCellPosition:s||null,event:t});Ke(c)?s={rowPinned:c.rowPinned,rowIndex:c.rowIndex,column:c.column}:s=null}}if(!s)return;if(s.rowIndex<0){const a=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a+s.rowIndex,column:n.column},event:t||void 0,fromCell:!0});return}const o=this.getNormalisedPosition(s);o?this.focusPosition(o):this.tryToFocusFullWidthRow(s)}getNormalisedPosition(t){this.ensureCellVisible(t);const e=this.getCellByPosition(t);return e?(t=e.getCellPosition(),this.ensureCellVisible(t),t):null}tryToFocusFullWidthRow(t,e){const n=this.visibleColsService.getAllCols(),i=this.rowRenderer.getRowByPosition(t);if(!i||!i.isFullWidth())return!1;const s=this.focusService.getFocusedCell(),r={rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:t.column||(e?Kt(n):n[0])};this.focusPosition(r);const o=e??(s!=null&&this.rowPositionUtils.before(r,s));return this.eventService.dispatchEvent({type:"fullWidthRowFocused",rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:r.column,isFullWidthCell:!0,fromBelow:o}),!0}focusPosition(t){var e;this.focusService.setFocusedCell({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0}),(e=this.rangeService)==null||e.setRangeToCell(t)}isValidNavigateCell(t){return!!this.rowPositionUtils.getRowNode(t)}getLastCellOfColSpan(t){const e=this.getCellByPosition(t);if(!e)return t;const n=e.getColSpanningList();return n.length===1?t:{rowIndex:t.rowIndex,column:Kt(n),rowPinned:t.rowPinned}}ensureCellVisible(t){const e=G1(this.gos),n=this.rowModel.getRow(t.rowIndex);!(e&&(n==null?void 0:n.sticky))&&Yt(t.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t.rowIndex),t.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(t.column)}},rPe=class extends Ee{constructor(){super(...arguments),this.beanName="horizontalResizeService"}wireBeans(t){this.dragService=t.dragService,this.ctrlsService=t.ctrlsService}addResizeBar(t){const e={dragStartPixels:t.dragStartPixels||0,eElement:t.eResizeBar,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this,t),onDragging:this.onDragging.bind(this,t),onDragCancel:this.onDragStop.bind(this,t),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(e),()=>this.dragService.removeDragSource(e)}onDragStart(t,e){this.dragStartX=e.clientX,this.setResizeIcons();const n=e instanceof MouseEvent&&e.shiftKey===!0;t.onResizeStart(n)}setResizeIcons(){const t=this.ctrlsService.get("gridCtrl");t.setResizeCursor(!0),t.disableUserSelect(!0)}onDragStop(t){t.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const t=this.ctrlsService.get("gridCtrl");t.setResizeCursor(!1),t.disableUserSelect(!1)}onDragging(t,e){this.resizeAmount=e.clientX-this.dragStartX,t.onResizing(this.resizeAmount)}},oPe=class extends Ee{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(t){this.popupService=t.popupService,this.focusService=t.focusService,this.ctrlsService=t.ctrlsService,this.menuService=t.menuService}hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(t,e,n){this.showPopup(t,i=>{this.popupService.positionPopupUnderMouseEvent({column:t,type:n,mouseEvent:e,ePopup:i})},n,e.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(t,e,n){let i=-1,s="left";const r=this.menuService.isLegacyMenuEnabled();!r&&this.gos.get("enableRtl")&&(i=1,s="right");const o=r?void 0:4*i,a=r?void 0:4;this.showPopup(t,l=>{this.popupService.positionPopupByComponent({type:n,eventSource:e,ePopup:l,nudgeX:o,nudgeY:a,alignSide:s,keepWithinBounds:!0,position:"under",column:t})},n,e,r)}showPopup(t,e,n,i,s){const r=t?this.createBean(new ORe(t,"COLUMN_MENU")):void 0;if(this.activeMenu=r,!(r!=null&&r.hasFilter())||!t)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const o=document.createElement("div");ta(o,"presentation"),o.classList.add("ag-menu"),s||o.classList.add("ag-filter-menu"),[this.tabListener]=this.addManagedElementListeners(o,{keydown:y=>this.trapFocusWithin(y,o)}),o.appendChild(r==null?void 0:r.getGui());let a;const l=()=>r==null?void 0:r.afterGuiDetached(),c=this.menuService.isColumnMenuAnchoringEnabled()?i??this.ctrlsService.getGridBodyCtrl().getGui():void 0,d=y=>{t.setMenuVisible(!1,"contextMenu");const C=y instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),C&&i&&Va(i)){const x=this.focusService.findTabbableParent(i);x&&x.focus()}l(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,n,t)},f=this.localeService.getLocaleTextFunc(),p=s&&n!=="columnFilter"?f("ariaLabelColumnMenu","Column Menu"):f("ariaLabelColumnFilter","Column Filter"),m=this.popupService.addPopup({modal:!0,eChild:o,closeOnEsc:!0,closedCallback:d,positionCallback:()=>e(o),anchorToElement:c,ariaLabel:p});m&&(this.hidePopup=a=m.hideFunc),r.afterInit().then(()=>{e(o),r.afterGuiAttached({container:n,hidePopup:a})}),t.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,n,t)}trapFocusWithin(t,e){t.key!==ve.TAB||t.defaultPrevented||this.focusService.findNextFocusableElement(e,!1,t.shiftKey)||(t.preventDefault(),this.focusService.focusInto(e,t.shiftKey))}dispatchVisibleChangedEvent(t,e,n){this.eventService.dispatchEvent({type:"columnMenuVisibleChanged",visible:t,switchingTab:!1,key:e,column:n??null,columnGroup:null})}isMenuEnabled(t){return t.isFilterAllowed()&&(t.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},aPe=class extends Ee{constructor(){super(...arguments),this.beanName="resizeObserverService"}observeResize(t,e){const i=b9(this.gos).ResizeObserver,s=i?new i(e):null;return s==null||s.observe(t),()=>s==null?void 0:s.disconnect()}},lPe=class extends Ee{constructor(){super(...arguments),this.beanName="animationFrameService",this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}wireBeans(t){this.ctrlsService=t.ctrlsService,this.paginationService=t.paginationService}setScrollTop(t){var n;const e=this.gos.get("pagination");if(this.scrollGoingDown=t>=this.lastScrollTop,e&&t===0){const i=((n=this.paginationService)==null?void 0:n.getCurrentPage())??0;i!==this.lastPage&&(this.lastPage=i,this.scrollGoingDown=!0)}this.lastScrollTop=t}postConstruct(){this.useAnimationFrame=!this.gos.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(t){this.useAnimationFrame===!1&&Fe(`AnimationFrameService.${t} called but animation frames are off`)}createTask(t,e,n){this.verifyAnimationFrameOn(n);const i={task:t,index:e,createOrder:++this.taskCount};this.addTaskToList(this[n],i),this.schedule()}cancelTask(t){this.cancelledTasks.add(t)}addTaskToList(t,e){t.list.push(e),t.sorted=!1}sortTaskList(t){if(t.sorted)return;const e=this.scrollGoingDown?1:-1;t.list.sort((n,i)=>n.index!==i.index?e*(i.index-n.index):i.createOrder-n.createOrder),t.sorted=!0}addDestroyTask(t){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(t),this.schedule()}executeFrame(t){this.verifyAnimationFrameOn("executeFrame");const e=this.createTasksP1,n=e.list,i=this.createTasksP2,s=i.list,r=this.destroyTasks,o=new Date().getTime();let a=new Date().getTime()-o;const l=t<=0,c=this.ctrlsService.getGridBodyCtrl();for(;l||a<t;){if(!c.getScrollFeature().scrollGridIfNeeded()){let f;if(n.length)this.sortTaskList(e),f=n.pop().task;else if(s.length)this.sortTaskList(i),f=s.pop().task;else if(r.length)f=r.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(f)||f()}a=new Date().getTime()-o}n.length||s.length||r.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const t=this.executeFrame.bind(this,60);this.requestAnimationFrame(t)}requestAnimationFrame(t){const e=b9(this.gos);e.requestAnimationFrame?e.requestAnimationFrame(t):e.webkitRequestAnimationFrame?e.webkitRequestAnimationFrame(t):e.setTimeout(t,0)}isQueueEmpty(){return!this.ticking}debounce(t){let e=!1;return()=>{if(!this.isOn()){window.setTimeout(t,0);return}e||(e=!0,this.addDestroyTask(()=>{e=!1,t()}))}}},jt=(t=>(t.EVERYTHING="group",t.FILTER="filter",t.SORT="sort",t.MAP="map",t.AGGREGATE="aggregate",t.FILTER_AGGREGATES="filter_aggregates",t.PIVOT="pivot",t.NOTHING="nothing",t))(jt||{}),cPe=class extends Ee{constructor(){super(...arguments),this.beanName="expansionService"}wireBeans(t){this.rowModel=t.rowModel}postConstruct(){this.isClientSideRowModel=Gn(this.gos)}expandRows(t){if(!this.isClientSideRowModel)return;const e=new Set(t);this.rowModel.forEachNode(n=>{n.id&&e.has(n.id)&&(n.expanded=!0)}),this.onGroupExpandedOrCollapsed()}getExpandedRows(){const t=[];return this.rowModel.forEachNode(({expanded:e,id:n})=>{e&&n&&t.push(n)}),t}expandAll(t){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(t)}setRowNodeExpanded(t,e,n,i){t&&(n&&t.parent&&t.parent.level!==-1&&this.setRowNodeExpanded(t.parent,e,n,i),t.setExpanded(e,void 0,i))}onGroupExpandedOrCollapsed(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}},uPe=class extends Ee{constructor(){super(...arguments),this.beanName="menuService"}wireBeans(t){this.valueService=t.valueService,this.filterMenuFactory=t.filterMenuFactory,this.ctrlsService=t.ctrlsService,this.animationFrameService=t.animationFrameService,this.filterManager=t.filterManager,this.rowRenderer=t.rowRenderer,this.columnChooserFactory=t.columnChooserFactory,this.contextMenuFactory=t.contextMenuFactory,this.enterpriseMenuFactory=t.enterpriseMenuFactory}postConstruct(){this.activeMenuFactory=this.enterpriseMenuFactory??this.filterMenuFactory}showColumnMenu(t){this.showColumnMenuCommon(this.activeMenuFactory,t,"columnMenu")}showFilterMenu(t){const e=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(e,t,t.containerType,!0)}showHeaderContextMenu(t,e,n){this.activeMenuFactory.showMenuAfterContextMenuEvent(t,e,n)}getContextMenuPosition(t,e){const n=this.getRowCtrl(t),i=this.getCellGui(n,e);if(!i)return n?{x:0,y:n.getRowYPosition()}:{x:0,y:0};const s=i.getBoundingClientRect();return{x:s.x+s.width/2,y:s.y+s.height/2}}showContextMenu(t){var r;const e=t.rowNode,n=t.column;let{anchorToElement:i,value:s}=t;e&&n&&s==null&&(s=this.valueService.getValueForDisplay(n,e)),i==null&&(i=this.getContextMenuAnchorElement(e,n)),(r=this.contextMenuFactory)==null||r.onContextMenu(t.mouseEvent??null,t.touchEvent??null,e??null,n??null,s,i)}showColumnChooser(t){var e;(e=this.columnChooserFactory)==null||e.showColumnChooser(t)}hidePopupMenu(){var t;(t=this.contextMenuFactory)==null||t.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){var t;(t=this.columnChooserFactory)==null||t.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(t){const{suppressMenu:e,suppressHeaderMenuButton:n}=t.getColDef();return!(n??e)&&this.activeMenuFactory.isMenuEnabled(t)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(t){var e;return!t.getColDef().suppressHeaderFilterButton&&!!((e=this.filterManager)!=null&&e.isFilterAllowed(t))}isHeaderContextMenuEnabled(t){const e=t&&lu(t)?t.getColDef():t==null?void 0:t.getColGroupDef();return!(e!=null&&e.suppressHeaderContextMenu)&&this.getColumnMenuType()==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const t=!this.isSuppressMenuHide();return!(wu()&&t)}isHeaderFilterButtonEnabled(t){return this.isFilterMenuInHeaderEnabled(t)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(t)}isFilterMenuItemEnabled(t){var e;return!!((e=this.filterManager)!=null&&e.isFilterAllowed(t))&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(t)&&!this.isFloatingFilterButtonDisplayed(t)}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return this.getColumnMenuType()==="new"}isLegacyMenuEnabled(){return this.getColumnMenuType()==="legacy"}isFloatingFilterButtonEnabled(t){var i;const e=t.getColDef(),n=(i=e.floatingFilterComponentParams)==null?void 0:i.suppressFilterButton;return n!=null&&Fe("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),e.suppressFloatingFilterButton==null?!n:!e.suppressFloatingFilterButton}getColumnMenuType(){return this.gos.get("columnMenu")}isFloatingFilterButtonDisplayed(t){return!!t.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(t)}isSuppressMenuHide(){const t=this.gos.get("suppressMenuHide");return this.isLegacyMenuEnabled()?this.gos.exists("suppressMenuHide")?t:!1:t}showColumnMenuCommon(t,e,n,i){const{positionBy:s}=e,r=e.column;if(s==="button"){const{buttonElement:o}=e;t.showMenuAfterButtonClick(r,o,n,i)}else if(s==="mouse"){const{mouseEvent:o}=e;t.showMenuAfterMouseEvent(r,o,n,i)}else r&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(r,"auto"),this.animationFrameService.requestAnimationFrame(()=>{var a;const o=(a=this.ctrlsService.getHeaderRowContainerCtrl(r.getPinned()))==null?void 0:a.getHeaderCtrlForColumn(r);o&&t.showMenuAfterButtonClick(r,o.getAnchorElementForMenu(i),n,!0)}))}getRowCtrl(t){const{rowIndex:e,rowPinned:n}=t||{};if(e!=null)return this.rowRenderer.getRowByPosition({rowIndex:e,rowPinned:n})||void 0}getCellGui(t,e){if(!t||!e)return;const n=t.getCellCtrl(e);return(n==null?void 0:n.getGui())||void 0}getContextMenuAnchorElement(t,e){const n=this.ctrlsService.getGridBodyCtrl().getGridBodyElement(),i=this.getRowCtrl(t);if(!i)return n;const s=this.getCellGui(i,e);return s||(i.isFullWidth()?i.getFullWidthElement():n)}},dPe=class extends Od{constructor(t){super(t,"ag-text-area",null,"textarea")}setValue(t,e){const n=super.setValue(t,e);return this.eInput.value=t,n}setCols(t){return this.eInput.cols=t,this}setRows(t){return this.eInput.rows=t,this}},hPe={selector:"AG-INPUT-TEXT-AREA",component:dPe},fPe=class extends om{constructor(){super(`<div class="ag-large-text">
        <ag-input-text-area data-ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,[hPe]),this.eTextArea=vt}init(t){this.params=t,this.focusAfterAttached=t.cellStartedEdit,this.eTextArea.setMaxLength(t.maxLength||200).setCols(t.cols||60).setRows(t.rows||10),Ke(t.value,!0)&&this.eTextArea.setValue(t.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(t){const e=t.key;(e===ve.LEFT||e===ve.UP||e===ve.RIGHT||e===ve.DOWN||t.shiftKey&&e===ve.ENTER)&&t.stopPropagation()}afterGuiAttached(){const t=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(t("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const t=this.eTextArea.getValue();return!Ke(t)&&!Ke(this.params.value)?this.params.value:this.params.parseValue(t)}},pPe=class extends om{constructor(t){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=t}postConstruct(){dh(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const t=this.getGui(),e=this.params,n=i=>{gD(this.gos,i,e.node,e.column,!0)||e.onKeyDown(i)};this.addManagedElementListeners(t,{keydown:n})}},mPe=class extends om{constructor(){super(`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" data-ref="eSelect"></ag-select>
            </div>`,[GRe]),this.eSelect=vt,this.startedByEnter=!1}wireBeans(t){this.valueService=t.valueService}init(t){this.focusAfterAttached=t.cellStartedEdit;const{eSelect:e,valueService:n,gos:i}=this,{values:s,value:r,eventKey:o}=t;if(Yt(s)){Fe("no values found for select cellEditor");return}this.startedByEnter=o!=null?o===ve.ENTER:!1;let a=!1;s.forEach(f=>{const p={value:f},m=n.formatValue(t.column,null,f),y=m!=null;p.text=y?m:f,e.addOption(p),a=a||r===f}),a?e.setValue(t.value,!0):t.values.length&&e.setValue(t.values[0],!0);const{valueListGap:l,valueListMaxWidth:c,valueListMaxHeight:d}=t;l!=null&&e.setPickerGap(l),d!=null&&e.setPickerMaxHeight(d),c!=null&&e.setPickerMaxWidth(c),i.get("editType")!=="fullRow"&&this.addManagedListeners(this.eSelect,{selectedItem:()=>t.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}},K1=class extends om{constructor(t){super(`
            <div class="ag-cell-edit-wrapper">
                ${t.getTemplate()}
            </div>`,t.getAgComponents()),this.cellEditorInput=t,this.eInput=vt}init(t){this.params=t;const{cellStartedEdit:e,eventKey:n,suppressPreventDefault:i}=t,s=this.eInput;this.cellEditorInput.init(s,t);let r,o=!0;e?(this.focusAfterAttached=!0,n===ve.BACKSPACE||n===ve.DELETE?r="":n&&n.length===1?i?o=!1:r=n:(r=this.cellEditorInput.getStartValue(),n!==ve.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,r=this.cellEditorInput.getStartValue()),o&&r!=null&&s.setStartValue(r),this.addManagedElementListeners(s.getGui(),{keydown:a=>{const{key:l}=a;(l===ve.PAGE_UP||l===ve.PAGE_DOWN)&&a.preventDefault()}})}afterGuiAttached(){var i,s;const t=this.localeService.getLocaleTextFunc(),e=this.eInput;if(e.setInputAriaLabel(t("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;Ha()||e.getFocusableElement().focus();const n=e.getInputElement();this.highlightAllOnFocus?n.select():(s=(i=this.cellEditorInput).setCaret)==null||s.call(i)}focusIn(){const t=this.eInput,e=t.getFocusableElement(),n=t.getInputElement();e.focus(),n.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},gPe=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" data-ref="eInput"></ag-input-text-field>'}getAgComponents(){return[$1]}init(t,e){this.eInput=t,this.params=e,e.maxLength!=null&&t.setMaxLength(e.maxLength)}getValue(){const t=this.eInput.getValue();return!Ke(t)&&!Ke(this.params.value)?this.params.value:this.params.parseValue(t)}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const t=this.eInput.getValue(),e=Ke(t)&&t.length||0;e&&this.eInput.getInputElement().setSelectionRange(e,e)}},j$=class extends K1{constructor(){super(new gPe)}},vPe=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" data-ref="eInput"></ag-input-number-field>'}getAgComponents(){return[JRe]}init(t,e){this.eInput=t,this.params=e,e.max!=null&&t.setMax(e.max),e.min!=null&&t.setMin(e.min),e.precision!=null&&t.setPrecision(e.precision),e.step!=null&&t.setStep(e.step);const n=t.getInputElement();e.preventStepping?t.addManagedElementListeners(n,{keydown:this.preventStepping}):e.showStepperButtons&&n.classList.add("ag-number-field-input-stepper")}preventStepping(t){(t.key===ve.UP||t.key===ve.DOWN)&&t.preventDefault()}getValue(){const t=this.eInput.getValue();if(!Ke(t)&&!Ke(this.params.value))return this.params.value;let e=this.params.parseValue(t);if(e==null)return e;if(typeof e=="string"){if(e==="")return null;e=Number(e)}return isNaN(e)?null:e}getStartValue(){return this.params.value}setCaret(){Ha()&&this.eInput.getInputElement().focus({preventScroll:!0})}},yPe=class extends K1{constructor(){super(new vPe)}},xPe=class extends Ph{constructor(t){super(t,"ag-date-field","date")}postConstruct(){super.postConstruct();const t=Ha();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||t||this.eInput.focus()}}),this.eInput.step="any"}onWheel(t){Zn(this.gos)===this.eInput&&t.preventDefault()}setMin(t){const e=t instanceof Date?Ao(t??null,!1)??void 0:t;return this.min===e?this:(this.min=e,Ro(this.eInput,"min",e),this)}setMax(t){const e=t instanceof Date?Ao(t??null,!1)??void 0:t;return this.max===e?this:(this.max=e,Ro(this.eInput,"max",e),this)}setStep(t){return this.step===t?this:(this.step=t,Ro(this.eInput,"step",t),this)}getDate(){if(this.eInput.validity.valid)return xr(this.getValue())??void 0}setDate(t,e){this.setValue(Ao(t??null,!1),e)}},W$={selector:"AG-INPUT-DATE-FIELD",component:xPe},CPe=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[W$]}init(t,e){this.eInput=t,this.params=e,e.min!=null&&t.setMin(e.min),e.max!=null&&t.setMax(e.max),e.step!=null&&t.setStep(e.step)}getValue(){const t=this.eInput.getDate();return!Ke(t)&&!Ke(this.params.value)?this.params.value:t??null}getStartValue(){const{value:t}=this.params;if(t instanceof Date)return Ao(t,!1)}},wPe=class extends K1{constructor(){super(new CPe)}},bPe=class{constructor(t){this.getDataTypeService=t}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[W$]}init(t,e){this.eInput=t,this.params=e,e.min!=null&&t.setMin(e.min),e.max!=null&&t.setMax(e.max),e.step!=null&&t.setStep(e.step)}getValue(){const t=this.formatDate(this.eInput.getDate());return!Ke(t)&&!Ke(this.params.value)?this.params.value:this.params.parseValue(t??"")}getStartValue(){return Ao(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(t){const e=this.getDataTypeService();return e?e.getDateParserFunction(this.params.column)(t):xr(t)??void 0}formatDate(t){const e=this.getDataTypeService();return e?e.getDateFormatterFunction(this.params.column)(t):Ao(t??null,!1)??void 0}},SPe=class extends K1{wireBeans(t){this.dataTypeService=t.dataTypeService}constructor(){super(new bPe(()=>this.dataTypeService))}},EPe=class extends om{constructor(){super(`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[xN]),this.eCheckbox=vt}init(t){this.params=t;const e=t.value??void 0;this.eCheckbox.setValue(e),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(e),this.addManagedListeners(this.eCheckbox,{fieldValueChanged:i=>this.setAriaLabel(i.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(t){const e=this.localeService.getLocaleTextFunc(),n=cN(e,t),i=e("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${i} (${n})`)}},tv=class{constructor(t){this.cellValueChanges=t}},CA=class extends tv{constructor(t,e,n,i){super(t),this.initialRange=e,this.finalRange=n,this.ranges=i}},MPe=10,yV=class{constructor(t){this.actionStack=[],this.maxStackSize=t||MPe,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(t){t.cellValueChanges&&t.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(t))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},TPe=class extends Ee{constructor(){super(...arguments),this.beanName="undoRedoService",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=t=>{const e={column:t.column,rowIndex:t.rowIndex,rowPinned:t.rowPinned},n=this.activeCellEdit!==null&&this.cellPositionUtils.equals(this.activeCellEdit,e),i=this.activeRowEdit!==null&&this.rowPositionUtils.sameRow(this.activeRowEdit,e);if(!(n||i||this.isPasting||this.isRangeInAction))return;const{rowPinned:r,rowIndex:o,column:a,oldValue:l,value:c}=t,d={rowPinned:r,rowIndex:o,columnId:a.getColId(),newValue:c,oldValue:l};this.cellValueChanges.push(d)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}wireBeans(t){this.focusService=t.focusService,this.ctrlsService=t.ctrlsService,this.cellPositionUtils=t.cellPositionUtils,this.rowPositionUtils=t.rowPositionUtils,this.columnModel=t.columnModel,this.rangeService=t.rangeService}postConstruct(){if(!this.gos.get("undoRedoCellEditing"))return;const t=this.gos.get("undoRedoCellEditingLimit");if(t<=0)return;this.undoStack=new yV(t),this.redoStack=new yV(t),this.addListeners();const e=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:n=>{n.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:e,newColumnsLoaded:e,columnGroupOpened:e,columnRowGroupChanged:e,columnMoved:e,columnPinned:e,columnVisible:e,rowDragEnd:e}),this.ctrlsService.whenReady(this,n=>{this.gridBodyCtrl=n.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(t){this.eventService.dispatchEvent({type:"undoStarted",source:t});const e=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:"undoEnded",source:t,operationPerformed:e})}redo(t){this.eventService.dispatchEvent({type:"redoStarted",source:t});const e=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:"redoEnded",source:t,operationPerformed:e})}undoRedo(t,e,n,i,s){if(!t)return!1;const r=t.pop();return!r||!r.cellValueChanges?!1:(this.processAction(r,o=>o[i],s),r instanceof CA?this.processRange(this.rangeService,r.ranges||[r[n]]):this.processCell(r.cellValueChanges),e.push(r),!0)}processAction(t,e,n){t.cellValueChanges.forEach(i=>{const{rowIndex:s,rowPinned:r,columnId:o}=i,a={rowIndex:s,rowPinned:r},l=this.rowPositionUtils.getRowNode(a);l.displayed&&l.setDataValue(o,e(i),n)})}processRange(t,e){let n;t.removeAllCellRanges(!0),e.forEach((i,s)=>{if(!i)return;const r=i.startRow,o=i.endRow;s===e.length-1&&(n={rowPinned:r.rowPinned,rowIndex:r.rowIndex,columnId:i.startColumn.getColId()},this.setLastFocusedCell(n));const a={rowStartIndex:r.rowIndex,rowStartPinned:r.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:i.startColumn,columns:i.columns};t.addCellRange(a)})}processCell(t){const e=t[0],{rowIndex:n,rowPinned:i}=e,s={rowIndex:n,rowPinned:i},r=this.rowPositionUtils.getRowNode(s),o={rowPinned:e.rowPinned,rowIndex:r.rowIndex,columnId:e.columnId};this.setLastFocusedCell(o,this.rangeService)}setLastFocusedCell(t,e){const{rowIndex:n,columnId:i,rowPinned:s}=t,r=this.gridBodyCtrl.getScrollFeature(),o=this.columnModel.getCol(i);if(!o)return;r.ensureIndexVisible(n),r.ensureColumnVisible(o);const a={rowIndex:n,column:o,rowPinned:s};this.focusService.setFocusedCell({...a,forceBrowserFocus:!0}),e==null||e.setRangeToCell(a)}addListeners(){this.addManagedEventListeners({rowEditingStarted:t=>{this.activeRowEdit={rowIndex:t.rowIndex,rowPinned:t.rowPinned}},rowEditingStopped:()=>{const t=new tv(this.cellValueChanges);this.pushActionsToUndoStack(t),this.activeRowEdit=null},cellEditingStarted:t=>{this.activeCellEdit={column:t.column,rowIndex:t.rowIndex,rowPinned:t.rowPinned}},cellEditingStopped:t=>{if(this.activeCellEdit=null,t.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const n=new tv(this.cellValueChanges);this.pushActionsToUndoStack(n)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const t=new tv(this.cellValueChanges);this.pushActionsToUndoStack(t),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:t=>{const e=new CA(this.cellValueChanges,t.initialRange,t.finalRange);this.pushActionsToUndoStack(e),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let t;this.rangeService&&Kl(this.gos)?t=new CA(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):t=new tv(this.cellValueChanges),this.pushActionsToUndoStack(t),this.isRangeInAction=!1}})}pushActionsToUndoStack(t){this.undoStack.push(t),this.cellValueChanges=[],this.redoStack.clear()}};function RPe(t){return t.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition()}function APe(t){return t.ctrlsService.getGridBodyCtrl().getScrollFeature().getHScrollPosition()}function $$(t,e,n="auto"){t.frameworkOverrides.wrapIncoming(()=>t.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(e,n),"ensureVisible")}function q$(t,e,n){t.frameworkOverrides.wrapIncoming(()=>t.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureIndexVisible(e,n),"ensureVisible")}function PPe(t,e,n=null){t.frameworkOverrides.wrapIncoming(()=>t.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureNodeVisible(e,n),"ensureVisible")}function DPe(t){var e;(e=t.undoRedoService)==null||e.undo("api")}function _Pe(t){var e;(e=t.undoRedoService)==null||e.redo("api")}function FPe(t,e={}){return t.rowRenderer.getCellEditorInstances(e).map(Sv)}function NPe(t){return t.rowRenderer.getEditingCells()}function IPe(t,e=!1){t.rowRenderer.stopEditing(e)}function OPe(t,e){const n=t.columnModel.getCol(e.colKey);if(!n){Fe(`no column found for ${e.colKey}`);return}const i={rowIndex:e.rowIndex,rowPinned:e.rowPinned||null,column:n};e.rowPinned==null&&q$(t,e.rowIndex),$$(t,e.colKey);const r=t.navigationService.getCellByPosition(i);if(!r)return;const{focusService:o,gos:a}=t,l=()=>{const d=Zn(a),f=r.getGui();return d!==f&&!!(f!=null&&f.contains(d))},c=a.get("stopEditingWhenCellsLoseFocus")&&l();(c||!o.isCellFocused(i))&&o.setFocusedCell({...i,forceBrowserFocus:c,preventScrollOnBrowserFocus:!0}),r.startRowOrCellEdit(e.key)}function LPe(t){var e;return((e=t.undoRedoService)==null?void 0:e.getCurrentUndoStackSize())??0}function kPe(t){var e;return((e=t.undoRedoService)==null?void 0:e.getCurrentRedoStackSize())??0}var BPe=class extends Ee{constructor(){super(...arguments),this.beanName="editService"}wireBeans(t){this.navigationService=t.navigationService,this.userComponentFactory=t.userComponentFactory,this.valueService=t.valueService}startEditing(t,e=null,n=!1,i=null){var c;const s=this.createCellEditorParams(t,e,n),r=t.getColumn().getColDef(),o=this.userComponentFactory.getCellEditorDetails(r,s),a=(o==null?void 0:o.popupFromSelector)!=null?o.popupFromSelector:!!r.cellEditorPopup,l=(o==null?void 0:o.popupPositionFromSelector)!=null?o.popupPositionFromSelector:r.cellEditorPopupPosition;return t.setEditing(!0,o),t.getComp().setEditDetails(o,a,l,this.gos.get("reactiveCustomComponents")),this.eventService.dispatchEvent(t.createEvent(i,"cellEditingStarted")),!((c=o==null?void 0:o.params)!=null&&c.suppressPreventDefault)}stopEditing(t,e){const n=t.getComp(),{newValue:i,newValueExists:s}=this.takeValueFromCellEditor(e,n),r=t.getRowNode(),o=t.getColumn(),a=this.valueService.getValueForDisplay(o,r);let l=!1;return s&&(l=this.saveNewValue(t,a,i,r,o)),t.setEditing(!1,void 0),n.setEditDetails(),t.updateAndFormatValue(!1),t.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.eventService.dispatchEvent({...t.createEvent(null,"cellEditingStopped"),oldValue:a,newValue:i,valueChanged:l}),l}handleColDefChanged(t){const e=t.getCellEditor();if(e!=null&&e.refresh){const{eventKey:n,cellStartedEdit:i}=t.getEditCompDetails().params,s=this.createCellEditorParams(t,n,i),r=t.getColumn().getColDef(),o=this.userComponentFactory.getCellEditorDetails(r,s);e.refresh(o.params)}}setFocusOutOnEditor(t){const e=t.getComp().getCellEditor();e&&e.focusOut&&e.focusOut()}setFocusInOnEditor(t){const e=t.getComp(),n=e.getCellEditor();n!=null&&n.focusIn?n.focusIn():(t.focusCell(!0),t.onCellEditorAttached(()=>{var i,s;return(s=(i=e.getCellEditor())==null?void 0:i.focusIn)==null?void 0:s.call(i)}))}stopEditingAndFocus(t,e=!1,n=!1){t.stopRowOrCellEdit(),t.focusCell(!0),e||this.navigateAfterEdit(n,t.getCellPosition())}createPopupEditorWrapper(t){return new pPe(t)}takeValueFromCellEditor(t,e){const n={newValueExists:!1};if(t)return n;const i=e.getCellEditor();return!i||i.isCancelAfterEnd&&i.isCancelAfterEnd()?n:{newValue:i.getValue(),newValueExists:!0}}saveNewValue(t,e,n,i,s){if(n===e)return!1;t.setSuppressRefreshCell(!0);const r=i.setDataValue(s,n,"edit");return t.setSuppressRefreshCell(!1),r}createCellEditorParams(t,e,n){const i=t.getColumn(),s=t.getRowNode();return this.gos.addGridCommonParams({value:this.valueService.getValueForDisplay(i,s),eventKey:e,column:i,colDef:i.getColDef(),rowIndex:t.getCellPosition().rowIndex,node:s,data:s.data,cellStartedEdit:n,onKeyDown:t.onKeyDown.bind(t),stopEditing:t.stopEditingAndFocus.bind(t),eGridCell:t.getGui(),parseValue:r=>this.valueService.parseValue(i,s,r,t.getValue()),formatValue:t.formatValue.bind(t)})}navigateAfterEdit(t,e){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const i=t?ve.UP:ve.DOWN;this.navigationService.navigateToNextCell(null,i,e,!1)}}},HPe=class extends Ee{constructor(){super(...arguments),this.beanName="rowEditService"}startEditing(t,e=null,n=null,i=null){let s=!0;return t.getAllCellCtrls().reduce((o,a)=>{const l=a===n;return l?s=a.startEditing(e,l,i):a.startEditing(null,l,i),o?!0:a.isEditing()},!1)&&this.setEditing(t,!0),s}stopEditing(t,e=!1){const n=t.getAllCellCtrls(),i=t.isEditing();t.setStoppingRowEdit(!0);let s=!1;for(const r of n){const o=r.stopEditing(e);i&&!e&&!s&&o&&(s=!0)}s&&this.eventService.dispatchEvent(t.createRowEvent("rowValueChanged")),i&&this.setEditing(t,!1),t.setStoppingRowEdit(!1)}setEditing(t,e){t.setEditingRow(e),t.forEachGui(void 0,i=>i.rowComp.addOrRemoveCssClass("ag-row-editing",e));const n=e?t.createRowEvent("rowEditingStarted"):t.createRowEvent("rowEditingStopped");this.eventService.dispatchEvent(n)}},Dh={version:Mt,moduleName:"@ag-grid-community/edit-core",beans:[BPe]},VPe={version:Mt,moduleName:"@ag-grid-community/edit-api",apiFunctions:{undoCellEditing:DPe,redoCellEditing:_Pe,getCellEditorInstances:FPe,getEditingCells:NPe,stopEditing:IPe,startEditingCell:OPe,getCurrentUndoSize:LPe,getCurrentRedoSize:kPe},dependantModules:[Dh]},zPe={version:Mt,moduleName:"@ag-grid-community/undo-redo-edit",beans:[TPe],dependantModules:[Dh]},GPe={version:Mt,moduleName:"@ag-grid-community/full-row-edit",beans:[HPe],dependantModules:[Dh]},K$={version:Mt,moduleName:"@ag-grid-community/default-editor",userComponents:[{name:"agCellEditor",classImp:j$}],dependantModules:[Dh]},UPe={version:Mt,moduleName:"@ag-grid-community/data-type-editors",userComponents:[{name:"agTextCellEditor",classImp:j$},{name:"agNumberCellEditor",classImp:yPe,params:{suppressPreventDefault:!0}},{name:"agDateCellEditor",classImp:wPe},{name:"agDateStringCellEditor",classImp:SPe},{name:"agCheckboxCellEditor",classImp:EPe}],dependantModules:[K$]},jPe={version:Mt,moduleName:"@ag-grid-community/select-editor",userComponents:[{name:"agSelectCellEditor",classImp:mPe}],dependantModules:[Dh]},WPe={version:Mt,moduleName:"@ag-grid-community/large-text-editor",userComponents:[{name:"agLargeTextCellEditor",classImp:fPe}],dependantModules:[Dh]},$Pe={version:Mt,moduleName:"@ag-grid-community/all-editors",dependantModules:[K$,UPe,jPe,WPe]},qPe={version:Mt,moduleName:"@ag-grid-community/editing",dependantModules:[Dh,zPe,GPe,$Pe,VPe]},KPe=class extends Ee{constructor(){super(...arguments),this.beanName="autoWidthCalculator"}wireBeans(t){this.rowRenderer=t.rowRenderer,this.ctrlsService=t.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,t=>{this.centerRowContainerCtrl=t.center})}getPreferredWidthForColumn(t,e){const n=this.getHeaderCellForColumn(t);if(!n)return-1;const i=this.rowRenderer.getAllCellsForColumn(t);return e||i.push(n),this.addElementsToContainerAndGetWidth(i)}getPreferredWidthForColumnGroup(t){const e=this.getHeaderCellForColumn(t);return e?this.addElementsToContainerAndGetWidth([e]):-1}addElementsToContainerAndGetWidth(t){const e=document.createElement("form");e.style.position="fixed";const n=this.centerRowContainerCtrl.getContainerElement();t.forEach(r=>this.cloneItemIntoDummy(r,e)),n.appendChild(e);const i=e.offsetWidth;n.removeChild(e);const s=this.getAutoSizePadding();return i+s}getAutoSizePadding(){return this.gos.get("autoSizePadding")}getHeaderCellForColumn(t){let e=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(n=>{const i=n.getHtmlElementForColumnHeader(t);i!=null&&(e=i)}),e}cloneItemIntoDummy(t,e){const n=t.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";const i=document.createElement("div"),s=i.classList;["ag-header-cell","ag-header-group-cell"].some(a=>n.classList.contains(a))?(s.add("ag-header","ag-header-row"),i.style.position="static"):s.add("ag-row");let o=t.parentElement;for(;o;){if(["ag-header-row","ag-row"].some(l=>o.classList.contains(l))){for(let l=0;l<o.classList.length;l++){const c=o.classList[l];c!="ag-row-position-absolute"&&s.add(c)}break}o=o.parentElement}i.appendChild(n),e.appendChild(i)}},YPe=class extends Ee{constructor(t,e){super(),this.createRowCon=t,this.destroyRowCtrls=e,this.stickyTopRowCtrls=[],this.stickyBottomRowCtrls=[],this.extraTopHeight=0,this.extraBottomHeight=0}wireBeans(t){this.rowModel=t.rowModel,this.rowRenderer=t.rowRenderer,this.ctrlsService=t.ctrlsService,this.pageBoundsService=t.pageBoundsService}postConstruct(){this.isClientSide=Gn(this.gos),this.ctrlsService.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl}),this.resetStickyContainers()}getStickyTopRowCtrls(){return this.stickyTopRowCtrls}getStickyBottomRowCtrls(){return this.stickyBottomRowCtrls}setOffsetTop(t){this.extraTopHeight!==t&&(this.extraTopHeight=t,this.eventService.dispatchEvent({type:"stickyTopOffsetChanged",offset:t}))}setOffsetBottom(t){this.extraBottomHeight!==t&&(this.extraBottomHeight=t)}resetOffsets(){this.setOffsetBottom(0),this.setOffsetTop(0)}getExtraTopHeight(){return this.extraTopHeight}getExtraBottomHeight(){return this.extraBottomHeight}getLastPixelOfGroup(t){return this.isClientSide?this.getClientSideLastPixelOfGroup(t):this.getServerSideLastPixelOfGroup(t)}getFirstPixelOfGroup(t){return t.footer?t.sibling.rowTop+t.sibling.rowHeight-1:t.hasChildren()?t.rowTop-1:0}getServerSideLastPixelOfGroup(t){var e,n;if(this.isClientSide)throw new Error("This func should only be called in server side row model.");if(t.isExpandable()||t.footer){if(t.master)return t.detailNode.rowTop+t.detailNode.rowHeight;if(!t.sibling||Math.abs(t.sibling.rowIndex-t.rowIndex)===1){let s=(e=t.childStore)==null?void 0:e.getStoreBounds();return t.footer&&(s=(n=t.sibling.childStore)==null?void 0:n.getStoreBounds()),((s==null?void 0:s.heightPx)??0)+((s==null?void 0:s.topPx)??0)}return t.footer?t.rowTop+t.rowHeight:t.sibling.rowTop+t.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}getClientSideLastPixelOfGroup(t){if(!this.isClientSide)throw new Error("This func should only be called in client side row model.");if(t.isExpandable()||t.footer){if(t.footer&&t.rowIndex===0)return Number.MAX_SAFE_INTEGER;if(!t.sibling||Math.abs(t.sibling.rowIndex-t.rowIndex)===1){let i=t.footer?t.sibling:t;for(;i.isExpandable()&&i.expanded;)if(i.master)i=i.detailNode;else if(i.childrenAfterSort){if(i.childrenAfterSort.length===0)break;i=Kt(i.childrenAfterSort)}return i.rowTop+i.rowHeight}return t.footer?t.rowTop+t.rowHeight:t.sibling.rowTop+t.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}updateStickyRows(t){const e=t==="top";let n=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(t,new Set,n);const i=e?this.rowRenderer.getFirstVisibleVerticalPixel()-this.extraTopHeight:this.rowRenderer.getLastVisibleVerticalPixel()-this.extraTopHeight,s=new Set,r=c=>{if(s.add(c),e){const d=this.getLastPixelOfGroup(c),f=i+n+c.rowHeight;d<f?c.stickyRowTop=n+(d-f):c.stickyRowTop=n}else{const d=this.getFirstPixelOfGroup(c),f=i-(n+c.rowHeight);d>f?c.stickyRowTop=n-(d-f):c.stickyRowTop=n}n=0,s.forEach(d=>{const f=d.stickyRowTop+d.rowHeight;n<f&&(n=f)})},o=this.areFooterRowsStickySuppressed(),a=this.gos.get("suppressGroupRowsSticky"),l=c=>{if(!c.displayed)return!1;if(c.footer){if(o===!0||o==="grand"&&c.level===-1||o==="group"&&c.level>-1)return!1;const d=c.sibling.rowIndex?c.sibling.rowIndex+1===c.rowIndex:!1;return t==="bottom"&&d?!1:!s.has(c)}return c.isExpandable()?a===!0||t==="bottom"?!1:!s.has(c)&&c.expanded:!1};for(let c=0;c<100;c++){let d=i+n;e||(d=i-n);const f=this.rowModel.getRowIndexAtPixel(d),p=this.rowModel.getRow(f);if(p==null)break;const y=this.getStickyAncestors(p).find(x=>(e?x.rowIndex<f:x.rowIndex>f)&&l(x));if(y){r(y);continue}if((e?p.rowTop<d:p.rowTop+p.rowHeight>d)&&l(p)){r(p);continue}break}return e||s.forEach(c=>{c.stickyRowTop=n-(c.stickyRowTop+c.rowHeight)}),this.refreshNodesAndContainerHeight(t,s,n)}areFooterRowsStickySuppressed(){const t=this.gos.get("suppressStickyTotalRow");if(t===!0)return!0;const e=!!this.gos.get("groupIncludeFooter")||t==="group",n=!!this.gos.get("groupIncludeTotalFooter")||t==="grand";return e&&n?!0:n?"grand":e?"group":!1}canRowsBeSticky(){const t=G1(this.gos),e=this.areFooterRowsStickySuppressed(),n=this.gos.get("suppressGroupRowsSticky");return t&&(!e||!n)}getStickyAncestors(t){const e=[];let n=t.footer?t.sibling:t.parent;for(;n;)n.sibling&&e.push(n.sibling),e.push(n),n=n.parent;return e.reverse()}checkStickyRows(){const t=this.updateStickyRows("top"),e=this.updateStickyRows("bottom");return t||e}destroyStickyCtrls(){this.resetStickyContainers()}resetStickyContainers(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(t){const e=new Set;if(this.stickyTopRowCtrls.some(n=>n.getRowNode()===t)){for(let n=0;n<this.stickyTopRowCtrls.length;n++){const i=this.stickyTopRowCtrls[n].getRowNode();i!==t&&e.add(i)}this.refreshNodesAndContainerHeight("top",e,this.topContainerHeight)&&this.checkStickyRows();return}for(let n=0;n<this.stickyBottomRowCtrls.length;n++){const i=this.stickyBottomRowCtrls[n].getRowNode();i!==t&&e.add(i)}this.refreshNodesAndContainerHeight("bottom",e,this.bottomContainerHeight)&&this.checkStickyRows()}refreshNodesAndContainerHeight(t,e,n){const i=t==="top",s=i?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,r={},o=[];for(let p=0;p<s.length;p++){const m=s[p].getRowNode();if(!e.has(m)){r[m.id]=s[p],m.sticky=!1;continue}o.push(s[p])}const a=new Set;for(let p=0;p<o.length;p++)a.add(o[p].getRowNode());const l=[];e.forEach(p=>{a.has(p)||(p.sticky=!0,l.push(this.createRowCon(p,!1,!1)))});let c=!!l.length||o.length!==s.length;i?this.topContainerHeight!==n&&(this.topContainerHeight=n,this.gridBodyCtrl.setStickyTopHeight(n),c=!0):this.bottomContainerHeight!==n&&(this.bottomContainerHeight=n,this.gridBodyCtrl.setStickyBottomHeight(n),c=!0),this.destroyRowCtrls(r,!1);const d=[...o,...l];d.sort((p,m)=>m.getRowNode().rowIndex-p.getRowNode().rowIndex),i||d.reverse(),d.forEach(p=>p.setRowTop(p.getRowNode().stickyRowTop));let f=0;return i?(e.forEach(p=>{p.rowIndex<this.pageBoundsService.getFirstRow()&&(f+=p.rowHeight)}),f>this.topContainerHeight&&(f=this.topContainerHeight),this.setOffsetTop(f)):(e.forEach(p=>{p.rowIndex>this.pageBoundsService.getLastRow()&&(f+=p.rowHeight)}),f>this.bottomContainerHeight&&(f=this.bottomContainerHeight),this.setOffsetBottom(f)),c?(i?this.stickyTopRowCtrls=d:this.stickyBottomRowCtrls=d,!0):!1}ensureRowHeightsValid(){let t=!1;const e=n=>{const i=n.getRowNode();if(i.rowHeightEstimated){const s=au(this.gos,i);i.setRowHeight(s.height),t=!0}};return this.stickyTopRowCtrls.forEach(e),this.stickyBottomRowCtrls.forEach(e),t}},XPe=class extends Ee{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const t=()=>{this.getAllCellCtrls().forEach(r=>r.onCellSelectionChanged())},e=()=>{this.getAllCellCtrls().forEach(r=>r.updateRangeBordersIfRangeCount())},n=()=>{this.eventService.addEventListener("cellSelectionChanged",t),this.eventService.addEventListener("columnMoved",e),this.eventService.addEventListener("columnPinned",e),this.eventService.addEventListener("columnVisible",e)},i=()=>{this.eventService.removeEventListener("cellSelectionChanged",t),this.eventService.removeEventListener("columnMoved",e),this.eventService.removeEventListener("columnPinned",e),this.eventService.removeEventListener("columnVisible",e)};this.addDestroyFunc(()=>i()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{Kl(this.gos)?n():i()}),Kl(this.gos)&&n()}}wireBeans(t){this.animationFrameService=t.animationFrameService,this.paginationService=t.paginationService,this.pageBoundsService=t.pageBoundsService,this.columnModel=t.columnModel,this.visibleColsService=t.visibleColsService,this.pinnedRowModel=t.pinnedRowModel,this.rowModel=t.rowModel,this.focusService=t.focusService,this.beans=t,this.rowContainerHeightService=t.rowContainerHeightService,this.ctrlsService=t.ctrlsService,this.environment=t.environment}postConstruct(){this.ctrlsService.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",t=>this.onSuppressCellFocusChanged(t.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection","rowSelection"],()=>this.redrawRows()),G1(this.gos)&&(Gn(this.gos)||Th(this.gos))&&(this.stickyRowFeature=this.createManagedBean(new YPe(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this)))),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=ds(this.gos,"print"),this.embedFullWidthRows=this.printLayout||this.gos.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const t=this.getKeepDetailRowsCount(),e=t??3;this.cachedRowCtrls=new ZPe(e)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyTopRowCtrls():[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyBottomRowCtrls():[]}updateAllRowCtrls(){const t=iV(this.rowCtrlsByRowIndex),e=iV(this.zombieRowCtrls),n=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];e.length>0||n.length>0?this.allRowCtrls=[...t,...e,...n]:this.allRowCtrls=t}onCellFocusChanged(t){this.getAllCellCtrls().forEach(e=>e.onCellFocused(t)),this.getFullWidthRowCtrls().forEach(e=>e.onFullWidthRowFocused(t))}onSuppressCellFocusChanged(t){this.getAllCellCtrls().forEach(e=>e.onSuppressCellFocusChanged(t)),this.getFullWidthRowCtrls().forEach(e=>e.onSuppressCellFocusChanged(t))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:t=>{this.onCellFocusChanged(t)},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:t=>{this.getAllCellCtrls().forEach(e=>e.onFlashCells(t))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(t=>t.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(t=>t.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(t=>t.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(t=>t()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.columnModel.getCols().forEach(e=>{const n=l=>{this.getAllCellCtrls().forEach(c=>{c.getColumn()===e&&l(c)})},i=()=>{n(l=>l.onLeftChanged())},s=()=>{n(l=>l.onWidthChanged())},r=()=>{n(l=>l.onFirstRightPinnedChanged())},o=()=>{n(l=>l.onLastLeftPinnedChanged())},a=()=>{n(l=>l.onColDefChanged())};e.addEventListener("leftChanged",i),e.addEventListener("widthChanged",s),e.addEventListener("firstRightPinnedChanged",r),e.addEventListener("lastLeftPinnedChanged",o),e.addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{e.removeEventListener("leftChanged",i),e.removeEventListener("widthChanged",s),e.removeEventListener("firstRightPinnedChanged",r),e.removeEventListener("lastLeftPinnedChanged",o),e.removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){const t=ds(this.gos,"print"),e=t||this.gos.get("embedFullWidthRows"),n=e!==this.embedFullWidthRows||this.printLayout!==t;this.printLayout=t,this.embedFullWidthRows=e,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)}onPageLoaded(t){const e={recycleRows:t.keepRenderedRows,animate:t.animate,newData:t.newData,newPage:t.newPage,onlyBody:!0};this.redrawAfterModelUpdate(e)}getAllCellsForColumn(t){const e=[];return this.getAllRowCtrls().forEach(n=>{const i=n.getCellElement(t);i&&e.push(i)}),e}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(t,e){const{pinnedRowModel:n,beans:i,printLayout:s}=this,r=Object.fromEntries(t.map(a=>[a.getRowNode().id,a]));n.forEachPinnedRow(e,(a,l)=>{const c=t[l];c&&n.getPinnedRowById(c.getRowNode().id,e)===void 0&&(c.destroyFirstPass(),c.destroySecondPass()),a.id in r?(t[l]=r[a.id],delete r[a.id]):t[l]=new Jd(a,i,!1,!1,s)});const o=e==="top"?n.getPinnedTopRowCount():n.getPinnedBottomRowCount();t.length=o}onPinnedRowDataChanged(){const t={recycleRows:!0};this.redrawAfterModelUpdate(t)}redrawRow(t,e=!1){var n;if(t.sticky)this.stickyRowFeature.refreshStickyNode(t);else if((n=this.cachedRowCtrls)!=null&&n.has(t)){this.cachedRowCtrls.removeRow(t);return}else{const i=s=>{const r=s[t.rowIndex];r&&r.getRowNode()===t&&(r.destroyFirstPass(),r.destroySecondPass(),s[t.rowIndex]=this.createRowCon(t,!1,!1))};switch(t.rowPinned){case"top":i(this.topRowCtrls);break;case"bottom":i(this.bottomRowCtrls);break;default:i(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}e||this.dispatchDisplayedRowsChanged(!1)}redrawRows(t){if(t!=null){t==null||t.forEach(n=>this.redrawRow(n,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(t){const e=t!=null&&t.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(e==null)return null;const n=Zn(this.gos),i=ly(this.gos,n,Zd.DOM_DATA_KEY_CELL_CTRL),s=ly(this.gos,n,Jd.DOM_DATA_KEY_ROW_CTRL);return i||s?e:null}redrawAfterModelUpdate(t={}){this.getLockOnRefresh();const e=this.getCellToRestoreFocusToAfterRefresh(t);this.updateContainerHeights(),this.scrollToTopIfNewData(t);const n=!t.domLayoutChanged&&!!t.recycleRows,i=t.animate&&gp(this.gos),s=n?this.getRowsToRecycle():null;if(n||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature){this.stickyRowFeature.checkStickyRows();const r=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();r&&this.updateContainerHeights(r)}this.recycleRows(s,i),this.gridBodyCtrl.updateRowCount(),t.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),e!=null&&this.restoreFocusedCell(e),this.releaseLockOnRefresh()}scrollToTopIfNewData(t){var i;const e=t.newData||t.newPage,n=this.gos.get("suppressScrollOnNewData");e&&!n&&(this.gridBodyCtrl.getScrollFeature().scrollToTop(),(i=this.stickyRowFeature)==null||i.resetOffsets())}updateContainerHeights(t=0){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}let e=this.pageBoundsService.getCurrentPageHeight();e===0&&(e=1),this.rowContainerHeightService.setModelHeight(e+t)}getLockOnRefresh(){var t,e;if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0,(e=(t=this.frameworkOverrides).getLockOnRefresh)==null||e.call(t)}releaseLockOnRefresh(){var t,e;this.refreshInProgress=!1,(e=(t=this.frameworkOverrides).releaseLockOnRefresh)==null||e.call(t)}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(t){t&&this.focusService.restoreFocusedCell(t,()=>{this.onCellFocusChanged(this.gos.addGridCommonParams({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))})}stopEditing(t=!1){this.getAllRowCtrls().forEach(e=>{e.stopEditing(t)})}getAllCellCtrls(){const t=[],e=this.getAllRowCtrls(),n=e.length;for(let i=0;i<n;i++){const s=e[i].getAllCellCtrls(),r=s.length;for(let o=0;o<r;o++)t.push(s[o])}return t}getAllRowCtrls(){const t=this.stickyRowFeature&&this.stickyRowFeature.getStickyTopRowCtrls()||[],e=this.stickyRowFeature&&this.stickyRowFeature.getStickyBottomRowCtrls()||[],n=[...this.topRowCtrls,...this.bottomRowCtrls,...t,...e];for(const i in this.rowCtrlsByRowIndex)n.push(this.rowCtrlsByRowIndex[i]);return n}addRenderedRowListener(t,e,n){const i=this.rowCtrlsByRowIndex[e];i&&i.addEventListener(t,n)}flashCells(t={}){this.getCellCtrls(t.rowNodes,t.columns).forEach(e=>e.flashCell(t))}refreshCells(t={}){const e={forceRefresh:t.force,newData:!1,suppressFlash:t.suppressFlash};for(const n of this.getCellCtrls(t.rowNodes,t.columns))n.refreshOrDestroyCell(e);this.refreshFullWidth(t.rowNodes)}refreshFullWidth(t){if(!t)return;let e=null;this.stickyRowFeature&&lV()&&(e=this.getCellToRestoreFocusToAfterRefresh()||null);for(const n of this.getRowCtrls(t)){if(!n.isFullWidth())continue;n.refreshFullWidth()||this.redrawRow(n.getRowNode(),!0)}this.dispatchDisplayedRowsChanged(!1),e&&this.restoreFocusedCell(e)}getCellRendererInstances(t){var s;const e=this.getCellCtrls(t.rowNodes,t.columns).map(r=>r.getCellRenderer()).filter(r=>r!=null);if((s=t.columns)!=null&&s.length)return e;const n=[],i=this.mapRowNodes(t.rowNodes);return this.getAllRowCtrls().forEach(r=>{if(i&&!this.isRowInMap(r.getRowNode(),i)||!r.isFullWidth())return;const o=r.getFullWidthCellRenderers();for(let a=0;a<o.length;a++){const l=o[a];l!=null&&n.push(l)}}),[...n,...e]}getCellEditorInstances(t){const e=[];return this.getCellCtrls(t.rowNodes,t.columns).forEach(n=>{const i=n.getCellEditor();i&&e.push(i)}),e}getEditingCells(){const t=[];return this.getAllCellCtrls().forEach(e=>{if(e.isEditing()){const n=e.getCellPosition();t.push(n)}}),t}mapRowNodes(t){if(!t)return;const e={top:{},bottom:{},normal:{}};return t.forEach(n=>{const i=n.id;switch(n.rowPinned){case"top":e.top[i]=n;break;case"bottom":e.bottom[i]=n;break;default:e.normal[i]=n;break}}),e}isRowInMap(t,e){const n=t.id;switch(t.rowPinned){case"top":return e.top[n]!=null;case"bottom":return e.bottom[n]!=null;default:return e.normal[n]!=null}}getRowCtrls(t){const e=this.mapRowNodes(t),n=this.getAllRowCtrls();return!t||!e?n:n.filter(i=>{const s=i.getRowNode();return this.isRowInMap(s,e)})}getCellCtrls(t,e){let n;Ke(e)&&(n={},e.forEach(s=>{const r=this.columnModel.getCol(s);Ke(r)&&(n[r.getId()]=!0)}));const i=[];return this.getRowCtrls(t).forEach(s=>{s.getAllCellCtrls().forEach(r=>{const o=r.getColumn().getId();n&&!n[o]||i.push(r)})}),i}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(t=!1){const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e,t),this.stickyRowFeature&&this.stickyRowFeature.destroyStickyCtrls()}getRowsToRecycle(){const t=[];Wo(this.rowCtrlsByRowIndex,(n,i)=>{i.getRowNode().id==null&&t.push(n)}),this.removeRowCtrls(t);const e={};return Wo(this.rowCtrlsByRowIndex,(n,i)=>{const s=i.getRowNode();e[s.id]=i}),this.rowCtrlsByRowIndex={},e}removeRowCtrls(t,e=!1){t.forEach(n=>{const i=this.rowCtrlsByRowIndex[n];i&&(i.destroyFirstPass(e),i.destroySecondPass()),delete this.rowCtrlsByRowIndex[n]})}onBodyScroll(t){t.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(t={}){const{afterScroll:e}=t;let n;this.stickyRowFeature&&lV()&&(n=this.getCellToRestoreFocusToAfterRefresh()||void 0);const i=this.firstRenderedRow,s=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let r=!1;if(this.stickyRowFeature){r=this.stickyRowFeature.checkStickyRows();const a=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();a&&this.updateContainerHeights(a)}const o=this.firstRenderedRow!==i||this.lastRenderedRow!==s;if(!(e&&!r&&!o)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,e),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(e&&!r),n!=null)){const a=this.getCellToRestoreFocusToAfterRefresh();n!=null&&a==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(n))}}removeRowCompsNotToDraw(t,e){const n={};t.forEach(r=>n[r]=!0);const s=Object.keys(this.rowCtrlsByRowIndex).filter(r=>!n[r]);this.removeRowCtrls(s,e)}calculateIndexesToDraw(t){const e=tAe(this.firstRenderedRow,this.lastRenderedRow),n=(s,r)=>{const o=r.getRowNode().rowIndex;o!=null&&(o<this.firstRenderedRow||o>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(r)&&e.push(o)};Wo(this.rowCtrlsByRowIndex,n),Wo(t,n),e.sort((s,r)=>s-r);const i=[];for(let s=0;s<e.length;s++){const r=e[s],o=this.rowModel.getRow(r);o&&!o.sticky&&i.push(r)}return i}recycleRows(t,e=!1,n=!1){const i=this.calculateIndexesToDraw(t);(this.printLayout||n)&&(e=!1),this.removeRowCompsNotToDraw(i,!e),i.forEach(s=>{this.createOrUpdateRowCtrl(s,t,e,n)}),t&&(n&&!this.gos.get("suppressAnimationFrame")&&!this.printLayout?this.beans.animationFrameService.addDestroyTask(()=>{this.destroyRowCtrls(t,e),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(t,e)),this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(t=!1){this.eventService.dispatchEvent({type:"displayedRowsChanged",afterScroll:t})}onDisplayedColumnsChanged(){const t=this.visibleColsService.isPinningLeft(),e=this.visibleColsService.isPinningRight();(this.pinningLeft!==t||e!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=e,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const t=[];this.getFullWidthRowCtrls().forEach(e=>{const n=e.getRowNode().rowIndex;t.push(n.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(t),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(t){const e=this.mapRowNodes(t);return this.getAllRowCtrls().filter(n=>{if(!n.isFullWidth())return!1;const i=n.getRowNode();return!(e!=null&&!this.isRowInMap(i,e))})}createOrUpdateRowCtrl(t,e,n,i){let s,r=this.rowCtrlsByRowIndex[t];if(r||(s=this.rowModel.getRow(t),Ke(s)&&Ke(e)&&e[s.id]&&s.alreadyRendered&&(r=e[s.id],e[s.id]=null)),!r)if(s||(s=this.rowModel.getRow(t)),Ke(s))r=this.createRowCon(s,n,i);else return;return s&&(s.alreadyRendered=!0),this.rowCtrlsByRowIndex[t]=r,r}destroyRowCtrls(t,e){const n=[];Wo(t,(i,s)=>{if(s){if(this.cachedRowCtrls&&s.isCacheable()){this.cachedRowCtrls.addRow(s);return}if(s.destroyFirstPass(!e),e){const r=s.instanceId;this.zombieRowCtrls[r]=s,n.push(()=>{s.destroySecondPass(),delete this.zombieRowCtrls[r]})}else s.destroySecondPass()}}),e&&(n.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),xMe(n))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const t=this.getRowBuffer(),e=z1(this.gos);return t*e}workOutFirstAndLastRowsToRender(){this.rowContainerHeightService.updateOffset();let t,e;if(!this.rowModel.isRowsToRender())t=0,e=-1;else if(this.printLayout)this.environment.refreshRowHeightVariable(),t=this.pageBoundsService.getFirstRow(),e=this.pageBoundsService.getLastRow();else{const a=this.getRowBufferInPixels(),l=this.ctrlsService.getGridBodyCtrl(),c=this.gos.get("suppressRowVirtualisation");let d=!1,f,p;do{const w=this.pageBoundsService.getPixelOffset(),{pageFirstPixel:M,pageLastPixel:S}=this.pageBoundsService.getCurrentPagePixelRange(),R=this.rowContainerHeightService.getDivStretchOffset(),P=l.getScrollFeature().getVScrollPosition(),F=P.top,N=P.bottom;c?(f=M+R,p=S+R):(f=Math.max(F+w-a,M)+R,p=Math.min(N+w+a,S)+R),this.firstVisibleVPixel=Math.max(F+w,M)+R,this.lastVisibleVPixel=Math.min(N+w,S)+R,d=this.ensureAllRowsInRangeHaveHeightsCalculated(f,p)}while(d);let m=this.rowModel.getRowIndexAtPixel(f),y=this.rowModel.getRowIndexAtPixel(p);const C=this.pageBoundsService.getFirstRow(),x=this.pageBoundsService.getLastRow();m<C&&(m=C),y>x&&(y=x),t=m,e=y}const n=ds(this.gos,"normal"),i=this.gos.get("suppressMaxRenderedRowRestriction"),s=Math.max(this.getRowBuffer(),500);n&&!i&&e-t>s&&(e=t+s);const r=t!==this.firstRenderedRow,o=e!==this.lastRenderedRow;(r||o)&&(this.firstRenderedRow=t,this.lastRenderedRow=e,this.eventService.dispatchEvent({type:"viewportChanged",firstRow:t,lastRow:e}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,window.requestAnimationFrame(()=>{this.beans.eventService.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(t,e){var r,o;const n=(r=this.pinnedRowModel)==null?void 0:r.ensureRowHeightsValid(),i=(o=this.stickyRowFeature)==null?void 0:o.ensureRowHeightsValid(),s=this.rowModel.ensureRowHeightsValid(t,e,this.pageBoundsService.getFirstRow(),this.pageBoundsService.getLastRow());return(s||i)&&this.eventService.dispatchEvent({type:"recalculateRowBounds"}),i||s||n?(this.updateContainerHeights(),!0):!1}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getLastVisibleVerticalPixel(){return this.lastVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(t){const i=t.getRowNode(),s=this.focusService.isRowNodeFocused(i),r=t.isEditing(),o=i.detail;return s||r||o?!!this.isRowPresent(i):!1}isRowPresent(t){return this.rowModel.isRowPresent(t)?this.paginationService?this.paginationService.isRowPresent(t):!0:!1}createRowCon(t,e,n){const i=this.cachedRowCtrls?this.cachedRowCtrls.getRow(t):null;if(i)return i;const s=this.gos.get("suppressAnimationFrame"),r=n&&!s&&!this.printLayout;return new Jd(t,this.beans,e,r,this.printLayout)}getRenderedNodes(){const t=this.rowCtrlsByRowIndex;return Object.values(t).map(e=>e.getRowNode())}getRowByPosition(t){let e;const{rowIndex:n}=t;switch(t.rowPinned){case"top":e=this.topRowCtrls[n];break;case"bottom":e=this.bottomRowCtrls[n];break;default:e=this.rowCtrlsByRowIndex[n],e||(e=this.getStickyTopRowCtrls().find(i=>i.getRowNode().rowIndex===n)||null,e||(e=this.getStickyBottomRowCtrls().find(i=>i.getRowNode().rowIndex===n)||null));break}return e}isRangeInRenderedViewport(t,e){if(t==null||e==null)return!1;const i=t>this.lastRenderedRow;return!(e<this.firstRenderedRow)&&!i}},ZPe=class{constructor(t){this.entriesMap={},this.entriesList=[],this.maxCount=t}addRow(t){if(this.entriesMap[t.getRowNode().id]=t,this.entriesList.push(t),t.setCached(!0),this.entriesList.length>this.maxCount){const e=this.entriesList[0];e.destroyFirstPass(),e.destroySecondPass(),this.removeFromCache(e)}}getRow(t){if(t==null||t.id==null)return null;const e=this.entriesMap[t.id];return e?(this.removeFromCache(e),e.setCached(!1),e.getRowNode()!=t?null:e):null}has(t){return this.entriesMap[t.id]!=null}removeRow(t){const e=t.id,n=this.entriesMap[e];delete this.entriesMap[e],yr(this.entriesList,n)}removeFromCache(t){const e=t.getRowNode().id;delete this.entriesMap[e],yr(this.entriesList,t)}getEntries(){return this.entriesList}},JPe=class extends Ee{constructor(){super(...arguments),this.beanName="pinnedRowModel",this.nextId=0,this.pinnedTopRows=new xV,this.pinnedBottomRows=new xV}wireBeans(t){this.beans=t}postConstruct(){this.setPinnedRowData(this.gos.get("pinnedTopRowData"),"top"),this.setPinnedRowData(this.gos.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",t=>this.setPinnedRowData(t.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",t=>this.setPinnedRowData(t.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}isEmpty(t){return(t==="top"?this.pinnedTopRows:this.pinnedBottomRows).isEmpty()}isRowsToRender(t){return!this.isEmpty(t)}onGridStylesChanges(t){if(t.rowHeightChanged){const e=n=>{n.setRowHeight(n.rowHeight,!0)};this.pinnedBottomRows.forEach(e),this.pinnedTopRows.forEach(e)}}ensureRowHeightsValid(){var i,s;let t=!1,e=0;const n=r=>{if(r.rowHeightEstimated){const o=au(this.gos,r);r.setRowTop(e),r.setRowHeight(o.height),e+=o.height,t=!0}};return(i=this.pinnedBottomRows)==null||i.forEach(n),e=0,(s=this.pinnedTopRows)==null||s.forEach(n),this.eventService.dispatchEvent({type:"pinnedHeightChanged"}),t}setPinnedRowData(t,e){this.updateNodesFromRowData(t,e),this.eventService.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(t,e){const n=e==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(t===void 0){n.clear();return}const i=f0(this.gos),s=e==="top"?Xd.ID_PREFIX_TOP_PINNED:Xd.ID_PREFIX_BOTTOM_PINNED,r=n.getIds(),o=[],a=new Set;let l=0,c=-1;for(const d of t){const f=(i==null?void 0:i({data:d,level:0,rowPinned:e}))??s+this.nextId++;if(a.has(f)){Fe("Duplicate ID",f,"found for pinned row with data",d,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter.");continue}c++,a.add(f),o.push(f);const p=n.getById(f);if(p!==void 0)p.data!==d&&p.setData(d),l+=this.setRowTopAndRowIndex(p,l,c),r.delete(f);else{const m=new Xd(this.beans);m.id=f,m.data=d,m.rowPinned=e,l+=this.setRowTopAndRowIndex(m,l,c),n.push(m)}}r.forEach(d=>{var f;(f=n.getById(d))==null||f.clearRowTopAndRowIndex()}),n.removeAllById(r),n.setOrder(o)}setRowTopAndRowIndex(t,e,n){return t.setRowTop(e),t.setRowHeight(au(this.gos,t).height),t.setRowIndex(n),t.rowHeight}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getPinnedTopRowCount(){return this.pinnedTopRows.getSize()}getPinnedBottomRowCount(){return this.pinnedBottomRows.getSize()}getPinnedTopRow(t){return this.pinnedTopRows.getByIndex(t)}getPinnedBottomRow(t){return this.pinnedBottomRows.getByIndex(t)}getPinnedRowById(t,e){return e==="top"?this.pinnedTopRows.getById(t):this.pinnedBottomRows.getById(t)}forEachPinnedRow(t,e){return t==="top"?this.pinnedTopRows.forEach(e):this.pinnedBottomRows.forEach(e)}getTotalHeight(t){const e=t.getSize();if(e===0)return 0;const n=t.getByIndex(e-1);return n===void 0?0:n.rowTop+n.rowHeight}},xV=class{constructor(){this.cache={},this.ordering=[]}getById(t){return this.cache[t]}getByIndex(t){const e=this.ordering[t];return this.cache[e]}push(t){this.cache[t.id]=t,this.ordering.push(t.id)}removeAllById(t){for(const e of t)delete this.cache[e];this.ordering=this.ordering.filter(e=>!t.has(e))}setOrder(t){this.ordering=t}forEach(t){this.ordering.forEach((e,n)=>{const i=this.cache[e];i&&t(i,n)})}clear(){this.ordering.length=0,this.cache={}}isEmpty(){return this.ordering.length===0}getSize(){return this.ordering.length}getIds(){return new Set(this.ordering)}},QPe=class{constructor(){this.root=null,this.end=null,this.cachedRange=[]}init(t){this.rowModel=t}reset(){this.root=null,this.end=null,this.cachedRange.length=0}setRoot(t){this.root=t,this.end=null,this.cachedRange.length=0}setEndRange(t){this.end=t,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const t=this.getRoot(),e=this.getEnd();if(t==null||e==null)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(t,e)}return this.cachedRange}isInRange(t){return this.root===null?!1:this.getRange().some(e=>e.id===t.id)}getRoot(){var t;return this.root&&((t=this.root)==null?void 0:t.key)===null&&(this.root=this.rowModel.getRowNode(this.root.id)??null),this.root}getEnd(){var t;return this.end&&((t=this.end)==null?void 0:t.key)===null&&(this.end=this.rowModel.getRowNode(this.end.id)??null),this.end}truncate(t){const e=this.getRange();if(e.length===0)return{keep:[],discard:[]};const n=e[0].id===this.root.id,i=e.findIndex(s=>s.id===t.id);if(i>-1){const s=e.slice(0,i),r=e.slice(i+1);return this.setEndRange(t),n?{keep:s,discard:r}:{keep:r,discard:s}}else return{keep:e,discard:[]}}extend(t,e=!1){const n=this.getRoot();if(n==null){const s=this.getRange().slice();return e&&t.depthFirstSearch(r=>!r.group&&s.push(r)),s.push(t),this.setRoot(t),{keep:s,discard:[]}}if(this.rowModel.getNodesInRangeForSelection(n,t).find(s=>{var r;return s.id===((r=this.end)==null?void 0:r.id)}))return this.setEndRange(t),{keep:this.getRange(),discard:[]};{const s=this.getRange().slice();return this.setEndRange(t),{keep:this.getRange(),discard:s}}}},eDe=class extends Ee{constructor(){super(...arguments),this.beanName="stylingService"}wireBeans(t){this.expressionService=t.expressionService}processAllCellClasses(t,e,n,i){this.processClassRules(void 0,t.cellClassRules,e,n,i),this.processStaticCellClasses(t,e,n)}processClassRules(t,e,n,i,s){if(e==null&&t==null)return;const r={},o={},a=(l,c)=>{l.split(" ").forEach(d=>{d.trim()!=""&&c(d)})};if(e){const l=Object.keys(e);for(let c=0;c<l.length;c++){const d=l[c],f=e[d];let p;typeof f=="string"?p=this.expressionService.evaluate(f,n):typeof f=="function"&&(p=f(n)),a(d,m=>{p?r[m]=!0:o[m]=!0})}}t&&s&&Object.keys(t).forEach(l=>a(l,c=>{r[c]||(o[c]=!0)})),s&&Object.keys(o).forEach(s),Object.keys(r).forEach(i)}getStaticCellClasses(t,e){const{cellClass:n}=t;if(!n)return[];let i;return typeof n=="function"?i=n(e):i=n,typeof i=="string"&&(i=[i]),i||[]}processStaticCellClasses(t,e,n){this.getStaticCellClasses(t,e).forEach(s=>{n(s)})}},Bw=(t=>(t.TAB_GUARD="ag-tab-guard",t.TAB_GUARD_TOP="ag-tab-guard-top",t.TAB_GUARD_BOTTOM="ag-tab-guard-bottom",t))(Bw||{}),Y$=class extends Ee{constructor(t){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:e,eTopGuard:n,eBottomGuard:i,focusTrapActive:s,forceFocusOutWhenTabGuardsAreEmpty:r,isFocusableContainer:o,focusInnerElement:a,onFocusIn:l,onFocusOut:c,shouldStopEventPropagation:d,onTabKeyDown:f,handleKeyDown:p,eFocusableElement:m}=t;this.comp=e,this.eTopGuard=n,this.eBottomGuard=i,this.providedFocusInnerElement=a,this.eFocusableElement=m,this.focusTrapActive=!!s,this.forceFocusOutWhenTabGuardsAreEmpty=!!r,this.isFocusableContainer=!!o,this.providedFocusIn=l,this.providedFocusOut=c,this.providedShouldStopEventPropagation=d,this.providedOnTabKeyDown=f,this.providedHandleKeyDown=p}wireBeans(t){this.focusService=t.focusService}postConstruct(){this.createManagedBean(new Ah(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:t=>this.onTabKeyDown(t),handleKeyDown:t=>this.handleKeyDown(t),onFocusIn:t=>this.onFocusIn(t),onFocusOut:t=>this.onFocusOut(t)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(t=>this.addManagedElementListeners(t,{focus:this.onFocus.bind(this)}))}handleKeyDown(t){this.providedHandleKeyDown&&this.providedHandleKeyDown(t)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const t=this.gos.get("tabIndex");this.comp.setTabIndex(t.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(t){if(this.isFocusableContainer&&!this.eFocusableElement.contains(t.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(t.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length===0){this.findNextElementOutsideAndFocus(t.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(t.relatedTarget))return;const e=t.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(e):this.focusInnerElement(e)}findNextElementOutsideAndFocus(t){var l;const e=di(this.gos),n=this.focusService.findFocusableElements(e.body,null,!0),i=n.indexOf(t?this.eTopGuard:this.eBottomGuard);if(i===-1)return;let s,r;t?(s=0,r=i):(s=i+1,r=n.length);const o=n.slice(s,r),a=this.gos.get("tabIndex");o.sort((c,d)=>{const f=parseInt(c.getAttribute("tabindex")||"0"),p=parseInt(d.getAttribute("tabindex")||"0");return p===a?1:f===a?-1:f===0?1:p===0?-1:f-p}),(l=o[t?o.length-1:0])==null||l.focus()}onFocusIn(t){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(t),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(t){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(t),this.eFocusableElement.contains(t.relatedTarget)||this.activateTabGuards())}onTabKeyDown(t){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(t);return}if(this.focusTrapActive||t.defaultPrevented)return;const e=this.tabGuardsAreActive();e&&this.deactivateTabGuards();const n=this.getNextFocusableElement(t.shiftKey);e&&setTimeout(()=>this.activateTabGuards(),0),n&&(n.focus(),t.preventDefault())}focusInnerElement(t=!1){const e=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(e.splice(0,1),e.splice(e.length-1,1)),e.length&&e[t?e.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(t){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,t)}forceFocusOutOfContainer(t=!1){if(this.forcingFocusOut)return;const e=t?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,e.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(t,e){return t===this.eTopGuard&&!e||t===this.eBottomGuard&&(e??!0)}setAllowFocus(t){this.allowFocus=t}},tDe=class extends Ee{constructor(t){super(),this.comp=t}initialiseTabGuard(t){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:e,eBottomGuard:n,eFocusableElement:i}=this,s=[e,n],r={setTabIndex:C=>{s.forEach(x=>C!=null?x.setAttribute("tabindex",C):x.removeAttribute("tabindex"))}};this.addTabGuards(e,n);const{focusTrapActive:o=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:d,onTabKeyDown:f,shouldStopEventPropagation:p,forceFocusOutWhenTabGuardsAreEmpty:m,isFocusableContainer:y}=t;this.tabGuardCtrl=this.createManagedBean(new Y$({comp:r,focusTrapActive:o,eTopGuard:e,eBottomGuard:n,eFocusableElement:i,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:d,onTabKeyDown:f,shouldStopEventPropagation:p,forceFocusOutWhenTabGuardsAreEmpty:m,isFocusableContainer:y}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(t){const e=di(this.gos).createElement("div"),n=t==="top"?"ag-tab-guard-top":"ag-tab-guard-bottom";return e.classList.add("ag-tab-guard",n),ta(e,"presentation"),e}addTabGuards(t,e){this.eFocusableElement.insertAdjacentElement("afterbegin",t),this.eFocusableElement.insertAdjacentElement("beforeend",e)}removeAllChildrenExceptTabGuards(){const t=[this.eTopGuard,this.eBottomGuard];qr(this.comp.getFocusableElement()),this.addTabGuards(...t)}forceFocusOutOfContainer(t=!1){this.tabGuardCtrl.forceFocusOutOfContainer(t)}appendChild(t,e,n){mN(e)||(e=e.getGui());const{eBottomGuard:i}=this;i?i.insertAdjacentElement("beforebegin",e):t(e,n)}},nDe=class extends On{initialiseTabGuard(e){this.tabGuardFeature=this.createManagedBean(new tDe(this)),this.tabGuardFeature.initialiseTabGuard(e)}forceFocusOutOfContainer(e=!1){this.tabGuardFeature.forceFocusOutOfContainer(e)}appendChild(e,n){this.tabGuardFeature.appendChild(super.appendChild.bind(this),e,n)}},iDe=0,sDe=200,rDe=class extends Ee{constructor(){super(...arguments),this.beanName="popupService",this.popupList=[]}wireBeans(t){this.ctrlsService=t.ctrlsService,this.resizeObserverService=t.resizeObserverService,this.environment=t.environment}postConstruct(){this.ctrlsService.whenReady(this,t=>{this.gridCtrl=t.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const t=this.gos.get("popupParent");return t||this.gridCtrl.getGui()}positionPopupForMenu(t){const{eventSource:e,ePopup:n}=t,i=this.getPopupIndex(n);if(i!==-1){const m=this.popupList[i];m.alignedToElement=e}const s=e.getBoundingClientRect(),r=this.getParentRect(),o=this.keepXYWithinBounds(n,s.top-r.top,0),a=n.clientWidth>0?n.clientWidth:200;n.style.minWidth=`${a}px`;const c=r.right-r.left-a;let d;this.gos.get("enableRtl")?(d=p(),d<0&&(d=f(),this.setAlignedStyles(n,"left")),d>c&&(d=0,this.setAlignedStyles(n,"right"))):(d=f(),d>c&&(d=p(),this.setAlignedStyles(n,"right")),d<0&&(d=0,this.setAlignedStyles(n,"left"))),n.style.left=`${d}px`,n.style.top=`${o}px`;function f(){return s.right-r.left-2}function p(){return s.left-r.left-a}}positionPopupUnderMouseEvent(t){const{ePopup:e,nudgeX:n,nudgeY:i,skipObserver:s}=t;this.positionPopup({ePopup:e,nudgeX:n,nudgeY:i,keepWithinBounds:!0,skipObserver:s,updatePosition:()=>this.calculatePointerAlign(t.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(t.type,t.ePopup,null,t.mouseEvent,t.column,t.rowNode)})}calculatePointerAlign(t){const e=this.getParentRect();return{x:t.clientX-e.left,y:t.clientY-e.top}}positionPopupByComponent(t){const{ePopup:e,nudgeX:n,nudgeY:i,keepWithinBounds:s,eventSource:r,alignSide:o="left",position:a="over",column:l,rowNode:c,type:d}=t,f=r.getBoundingClientRect(),p=this.getParentRect(),m=this.getPopupIndex(e);if(m!==-1){const C=this.popupList[m];C.alignedToElement=r}const y=()=>{let C=f.left-p.left;o==="right"&&(C-=e.offsetWidth-f.width);let x;return a==="over"?(x=f.top-p.top,this.setAlignedStyles(e,"over")):(this.setAlignedStyles(e,"under"),this.shouldRenderUnderOrAbove(e,f,p,t.nudgeY||0)==="under"?x=f.top-p.top+f.height:x=f.top-e.offsetHeight-(i||0)*2-p.top),{x:C,y:x}};this.positionPopup({ePopup:e,nudgeX:n,nudgeY:i,keepWithinBounds:s,updatePosition:y,postProcessCallback:()=>this.callPostProcessPopup(d,e,r,null,l,c)})}shouldRenderUnderOrAbove(t,e,n,i){const s=n.bottom-e.bottom,r=e.top-n.top,o=t.offsetHeight+i;return s>o?"under":r>o||r>s?"above":"under"}setAlignedStyles(t,e){const n=this.getPopupIndex(t);if(n===-1)return;const i=this.popupList[n],{alignedToElement:s}=i;!s||(["right","left","over","above","under"].forEach(o=>{s.classList.remove(`ag-has-popup-positioned-${o}`),t.classList.remove(`ag-popup-positioned-${o}`)}),!e)||(s.classList.add(`ag-has-popup-positioned-${e}`),t.classList.add(`ag-popup-positioned-${e}`))}callPostProcessPopup(t,e,n,i,s,r){const o=this.gos.getCallback("postProcessPopup");o&&o({column:s,rowNode:r,ePopup:e,type:t,eventSource:n,mouseEvent:i})}positionPopup(t){const{ePopup:e,keepWithinBounds:n,nudgeX:i,nudgeY:s,skipObserver:r,updatePosition:o}=t,a={width:0,height:0},l=(c=!1)=>{let{x:d,y:f}=o();c&&e.clientWidth===a.width&&e.clientHeight===a.height||(a.width=e.clientWidth,a.height=e.clientHeight,i&&(d+=i),s&&(f+=s),n&&(d=this.keepXYWithinBounds(e,d,1),f=this.keepXYWithinBounds(e,f,0)),e.style.left=`${d}px`,e.style.top=`${f}px`,t.postProcessCallback&&t.postProcessCallback())};if(l(),!r){const c=this.resizeObserverService.observeResize(e,()=>l(!0));setTimeout(()=>c(),sDe)}}getActivePopups(){return this.popupList.map(t=>t.element)}getPopupList(){return this.popupList}getParentRect(){const t=di(this.gos);let e=this.getPopupParent();return e===t.body?e=t.documentElement:getComputedStyle(e).position==="static"&&(e=e.offsetParent),Y9(e)}keepXYWithinBounds(t,e,n){const i=n===0,s=i?"clientHeight":"clientWidth",r=i?"top":"left",o=i?"height":"width",a=i?"scrollTop":"scrollLeft",l=di(this.gos),c=l.documentElement,d=this.getPopupParent(),f=t.getBoundingClientRect(),p=d.getBoundingClientRect(),m=l.documentElement.getBoundingClientRect(),y=d===l.body,C=Math.ceil(f[o]);let w=y?(i?K9:Wb)(c)+c[a]:d[s];y&&(w-=Math.abs(m[r]-p[r]));const M=w-C;return Math.min(Math.max(e,0),Math.abs(M))}addPopup(t){const e=di(this.gos),{eChild:n,ariaLabel:i,alwaysOnTop:s,positionCallback:r,anchorToElement:o}=t;if(!e)return Fe("could not find the document, document is empty"),{hideFunc:()=>{}};const a=this.getPopupIndex(n);if(a!==-1)return{hideFunc:this.popupList[a].hideFunc};this.initialisePopupPosition(n);const l=this.createPopupWrapper(n,i,!!s),c=this.addEventListenersToPopup({...t,wrapperEl:l});return r&&r(),this.addPopupToPopupList(n,l,c,o),{hideFunc:c}}initialisePopupPosition(t){const n=this.getPopupParent().getBoundingClientRect();Ke(t.style.top)||(t.style.top=`${n.top*-1}px`),Ke(t.style.left)||(t.style.left=`${n.left*-1}px`)}createPopupWrapper(t,e,n){const i=this.getPopupParent(),s=document.createElement("div");return this.environment.applyThemeClasses(s),s.classList.add("ag-popup"),t.classList.add(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),t.hasAttribute("role")||ta(t,"dialog"),Bp(t,e),s.appendChild(t),i.appendChild(s),n?this.setAlwaysOnTop(t,!0):this.bringPopupToFront(t),s}handleThemeChange(t){if(t.themeChanged)for(const e of this.popupList)this.environment.applyThemeClasses(e.wrapper)}addEventListenersToPopup(t){const e=di(this.gos),n=this.getPopupParent(),{wrapperEl:i,eChild:s,closedCallback:r,afterGuiAttached:o,closeOnEsc:a,modal:l}=t;let c=!1;const d=y=>{if(!i.contains(Zn(this.gos)))return;y.key===ve.ESCAPE&&!Bl(y)&&m({keyboardEvent:y})},f=y=>m({mouseEvent:y}),p=y=>m({touchEvent:y}),m=(y={})=>{const{mouseEvent:C,touchEvent:x,keyboardEvent:w,forceHide:M}=y;!M&&(this.isEventFromCurrentPopup({mouseEvent:C,touchEvent:x},s)||c)||(c=!0,n.removeChild(i),e.removeEventListener("keydown",d),e.removeEventListener("mousedown",f),e.removeEventListener("touchstart",p),e.removeEventListener("contextmenu",f),this.eventService.removeEventListener("dragStarted",f),r&&r(C||x||w),this.removePopupFromPopupList(s))};return o&&o({hidePopup:m}),window.setTimeout(()=>{a&&e.addEventListener("keydown",d),l&&(e.addEventListener("mousedown",f),this.eventService.addEventListener("dragStarted",f),e.addEventListener("touchstart",p),e.addEventListener("contextmenu",f))},0),m}addPopupToPopupList(t,e,n,i){this.popupList.push({element:t,wrapper:e,hideFunc:n,instanceId:iDe++,isAnchored:!!i}),i&&this.setPopupPositionRelatedToElement(t,i)}getPopupIndex(t){return this.popupList.findIndex(e=>e.element===t)}setPopupPositionRelatedToElement(t,e){const n=this.getPopupIndex(t);if(n===-1)return;const i=this.popupList[n];if(i.stopAnchoringPromise&&i.stopAnchoringPromise.then(r=>r&&r()),i.stopAnchoringPromise=void 0,i.isAnchored=!1,!e)return;const s=this.keepPopupPositionedRelativeTo({element:e,ePopup:t,hidePopup:i.hideFunc});return i.stopAnchoringPromise=s,i.isAnchored=!0,s}removePopupFromPopupList(t){this.setAlignedStyles(t,null),this.setPopupPositionRelatedToElement(t,null),this.popupList=this.popupList.filter(e=>e.element!==t)}keepPopupPositionedRelativeTo(t){const e=this.getPopupParent(),n=e.getBoundingClientRect(),{element:i,ePopup:s}=t,r=i.getBoundingClientRect(),o=f=>parseInt(f.substring(0,f.length-1),10),a=(f,p)=>{const m=n[f]-r[f],y=o(s.style[f]);return{initialDiff:m,lastDiff:m,initial:y,last:y,direction:p}},l=a("top",0),c=a("left",1),d=this.getFrameworkOverrides();return new ui(f=>{d.wrapIncoming(()=>{d.setInterval(()=>{const p=e.getBoundingClientRect(),m=i.getBoundingClientRect();if(m.top==0&&m.left==0&&m.height==0&&m.width==0){t.hidePopup();return}const C=(x,w)=>{const M=o(s.style[w]);x.last!==M&&(x.initial=M,x.last=M);const S=p[w]-m[w];if(S!=x.lastDiff){const R=this.keepXYWithinBounds(s,x.initial+x.initialDiff-S,x.direction);s.style[w]=`${R}px`,x.last=R}x.lastDiff=S};C(l,"top"),C(c,"left")},200).then(p=>{f(()=>{p!=null&&window.clearInterval(p)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(t=>t.isAnchored)}isEventFromCurrentPopup(t,e){const{mouseEvent:n,touchEvent:i}=t,s=n||i;if(!s)return!1;const r=this.getPopupIndex(e);if(r===-1)return!1;for(let o=r;o<this.popupList.length;o++){const a=this.popupList[o];if(BMe(a.element,s))return!0}return this.isElementWithinCustomPopup(s.target)}isElementWithinCustomPopup(t){const e=di(this.gos);for(;t&&t!==e.body;){if(t.classList.contains("ag-custom-component-popup")||t.parentElement===null)return!0;t=t.parentElement}return!1}getWrapper(t){for(;!t.classList.contains("ag-popup")&&t.parentElement;)t=t.parentElement;return t.classList.contains("ag-popup")?t:null}setAlwaysOnTop(t,e){const n=this.getWrapper(t);n&&(n.classList.toggle("ag-always-on-top",!!e),e&&this.bringPopupToFront(n))}bringPopupToFront(t){const e=this.getPopupParent(),n=Array.prototype.slice.call(e.querySelectorAll(".ag-popup")),i=n.length,s=this.getWrapper(t);if(!s||i<=1||!e.contains(t))return;const r=[],o=[];for(const p of n)p!==s&&(p.classList.contains("ag-always-on-top")?o.push(p):r.push(p));const a=[],l=o.length,f=s.classList.contains("ag-always-on-top")||!l?[...r,...o,s]:[...r,s,...o];for(let p=0;p<=i;p++){const m=f[p];if(n[p]===f[p]||m===s)continue;m.querySelectorAll("div").forEach(C=>{C.scrollTop!==0&&a.push([C,C.scrollTop])}),p===0?e.insertAdjacentElement("afterbegin",m):f[p-1].insertAdjacentElement("afterend",m)}for(;a.length;){const p=a.pop();p[0].scrollTop=p[1]}}},oDe=["touchstart","touchend","touchmove","touchcancel"],X$=class{constructor(t="javascript"){this.frameworkName=t,this.renderingEngine="vanilla",this.wrapIncoming=e=>e(),this.wrapOutgoing=e=>e()}setInterval(t,e){return new ui(n=>{n(window.setInterval(t,e))})}addEventListener(t,e,n,i){const s=Yd(oDe,e);t.addEventListener(e,n,{capture:!!i,passive:s})}get shouldWrapOutgoing(){return!1}frameworkComponent(t){return null}isFrameworkComponent(t){return!1}getDocLink(t){return`https://www.ag-grid.com/${this.frameworkName==="solid"?"react":this.frameworkName}-data-grid${t?`/${t}`:""}`}},aDe=class extends Ee{constructor(){super(...arguments),this.beanName="cellNavigationService"}wireBeans(t){this.visibleColsService=t.visibleColsService,this.rowModel=t.rowModel,this.rowRenderer=t.rowRenderer,this.pinnedRowModel=t.pinnedRowModel,this.paginationService=t.paginationService,this.pageBoundsService=t.pageBoundsService}getNextCellToFocus(t,e,n=!1){return n?this.getNextCellToFocusWithCtrlPressed(t,e):this.getNextCellToFocusWithoutCtrlPressed(t,e)}getNextCellToFocusWithCtrlPressed(t,e){const n=t===ve.UP,i=t===ve.DOWN,s=t===ve.LEFT;let r,o;if(n||i)o=n?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow(),r=e.column;else{const a=this.visibleColsService.getAllCols(),l=this.gos.get("enableRtl");o=e.rowIndex,r=s!==l?a[0]:Kt(a)}return{rowIndex:o,rowPinned:null,column:r}}getNextCellToFocusWithoutCtrlPressed(t,e){let n=e,i=!1;for(;!i;){switch(t){case ve.UP:n=this.getCellAbove(n);break;case ve.DOWN:n=this.getCellBelow(n);break;case ve.RIGHT:this.gos.get("enableRtl")?n=this.getCellToLeft(n):n=this.getCellToRight(n);break;case ve.LEFT:this.gos.get("enableRtl")?n=this.getCellToRight(n):n=this.getCellToLeft(n);break;default:n=null,Fe("unknown key for navigation ",t);break}n?i=this.isCellGoodToFocusOn(n):i=!0}return n}isCellGoodToFocusOn(t){const e=t.column;let n;switch(t.rowPinned){case"top":n=this.pinnedRowModel.getPinnedTopRow(t.rowIndex);break;case"bottom":n=this.pinnedRowModel.getPinnedBottomRow(t.rowIndex);break;default:n=this.rowModel.getRow(t.rowIndex);break}return n?!e.isSuppressNavigable(n):!1}getCellToLeft(t){if(!t)return null;const e=this.visibleColsService.getColBefore(t.column);return e?{rowIndex:t.rowIndex,column:e,rowPinned:t.rowPinned}:null}getCellToRight(t){if(!t)return null;const e=this.visibleColsService.getColAfter(t.column);return e?{rowIndex:t.rowIndex,column:e,rowPinned:t.rowPinned}:null}getRowBelow(t){const e=t.rowIndex,n=t.rowPinned;let i=!1;if(this.isLastRowInContainer(t))switch(n){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.pageBoundsService.getFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}else n&&(i=!0);const s=this.rowModel.getRow(t.rowIndex),r=i?void 0:this.getNextStickyPosition(s);return r||{rowIndex:e+1,rowPinned:n}}getNextStickyPosition(t,e){if(!G1(this.gos)||!t||!t.sticky)return;const n=this.rowRenderer.getStickyTopRowCtrls().some(a=>a.getRowNode().rowIndex===t.rowIndex);let i=[];n?i=[...this.rowRenderer.getStickyTopRowCtrls()].sort((a,l)=>a.getRowNode().rowIndex-l.getRowNode().rowIndex):i=[...this.rowRenderer.getStickyBottomRowCtrls()].sort((a,l)=>l.getRowNode().rowIndex-a.getRowNode().rowIndex);const s=e?-1:1,r=i.findIndex(a=>a.getRowNode().rowIndex===t.rowIndex),o=i[r+s];if(o)return{rowIndex:o.getRowNode().rowIndex,rowPinned:null}}getCellBelow(t){if(!t)return null;const e=this.getRowBelow(t);return e?{rowIndex:e.rowIndex,column:t.column,rowPinned:e.rowPinned}:null}isLastRowInContainer(t){const e=t.rowPinned,n=t.rowIndex;return e==="top"?this.pinnedRowModel.getPinnedTopRowCount()-1<=n:e==="bottom"?this.pinnedRowModel.getPinnedBottomRowCount()-1<=n:this.pageBoundsService.getLastRow()<=n}getRowAbove(t){const e=t.rowIndex,n=t.rowPinned,i=n?e===0:e===this.pageBoundsService.getFirstRow();let s=!1;if(i)return n==="top"?null:n?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;n&&(s=!0);const r=this.rowModel.getRow(t.rowIndex),o=s?void 0:this.getNextStickyPosition(r,!0);return o||{rowIndex:e-1,rowPinned:n}}getCellAbove(t){if(!t)return null;const e=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});return e?{rowIndex:e.rowIndex,column:t.column,rowPinned:e.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.pageBoundsService.getLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowCount()-1,rowPinned:"top"}}getNextTabbedCell(t,e){return e?this.getNextTabbedCellBackwards(t):this.getNextTabbedCellForwards(t)}getNextTabbedCellForwards(t){var r;const e=this.visibleColsService.getAllCols();let n=t.rowIndex,i=t.rowPinned,s=this.visibleColsService.getColAfter(t.column);if(!s){s=e[0];const o=this.getRowBelow(t);if(Yt(o)||!o.rowPinned&&!(((r=this.paginationService)==null?void 0:r.isRowInPage(o))??!0))return null;n=o?o.rowIndex:null,i=o?o.rowPinned:null}return{rowIndex:n,column:s,rowPinned:i}}getNextTabbedCellBackwards(t){var r;const e=this.visibleColsService.getAllCols();let n=t.rowIndex,i=t.rowPinned,s=this.visibleColsService.getColBefore(t.column);if(!s){s=Kt(e);const o=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});if(Yt(o)||!o.rowPinned&&!(((r=this.paginationService)==null?void 0:r.isRowInPage(o))??!0))return null;n=o?o.rowIndex:null,i=o?o.rowPinned:null}return{rowIndex:n,column:s,rowPinned:i}}},Vs=(t,e)=>{for(const n in e)e[n]=t;return e},CV={...Vs("@ag-grid-community/core",{dispatchEvent:0,destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,getState:0,setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0,redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRow:0,getFirstDisplayedRowIndex:0,getLastDisplayedRow:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0,getModel:0,getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0,getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0,addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0,expireValueCache:0,getValue:0,getCellValue:0,showColumnMenuAfterButtonClick:0,showColumnMenuAfterMouseClick:0,showColumnMenu:0,hidePopupMenu:0,onSortChanged:0,getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0,setGridAriaProperty:0,refreshCells:0,flashCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0,addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getColumnDef:0,getColumnDefs:0,sizeColumnsToFit:0,setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumn:0,getDisplayNameForColumnGroup:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnVisible:0,setColumnsVisible:0,setColumnPinned:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0,moveColumn:0,moveColumnByIndex:0,moveColumns:0,setColumnWidth:0,setColumnWidths:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0,autoSizeColumn:0,autoSizeColumns:0,autoSizeAllColumns:0,undoCellEditing:0,redoCellEditing:0,getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,getCurrentUndoSize:0,getCurrentRedoSize:0,isAnyFilterPresent:0,onFilterChanged:0,isColumnFilterPresent:0,getFilterInstance:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0,paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0,expandAll:0,collapseAll:0,onRowHeightChanged:0,setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...Vs("@ag-grid-community/client-side-row-model",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...Vs("@ag-grid-community/csv-export",{getDataAsCsv:0,exportDataAsCsv:0}),...Vs("@ag-grid-community/infinite-row-model",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...Vs("@ag-grid-enterprise/advanced-filter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...Vs("@ag-grid-enterprise/charts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...Vs("@ag-grid-enterprise/clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...Vs("@ag-grid-enterprise/excel-export",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...Vs("@ag-grid-enterprise/master-detail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...Vs("@ag-grid-enterprise/menu",{showContextMenu:0,showColumnChooser:0,hideColumnChooser:0}),...Vs("@ag-grid-enterprise/range-selection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...Vs("@ag-grid-enterprise/row-grouping",{addAggFunc:0,addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0,isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumn:0,removeValueColumns:0,addValueColumn:0,addValueColumns:0,setRowGroupColumns:0,removeRowGroupColumn:0,removeRowGroupColumns:0,addRowGroupColumn:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0,setPivotColumns:0,removePivotColumn:0,removePivotColumns:0,addPivotColumn:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...Vs("@ag-grid-enterprise/server-side-row-model",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...Vs("@ag-grid-enterprise/side-bar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...Vs("@ag-grid-enterprise/status-bar",{getStatusPanel:0})},wA={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},lDe=(t,e)=>t.eventService.dispatchEvent(e),Z$=class{};Reflect.defineProperty(Z$,"name",{value:"GridApi"});var cDe=class extends Ee{constructor(){super(),this.beanName="apiFunctionService",this.api=new Z$,this.fns={...wA,dispatchEvent:lDe},this.beans=null,this.preDestroyLink="";const{api:t}=this;for(const e in CV)t[e]=this.makeApi(e)[e]}wireBeans(t){this.beans=t}postConstruct(){this.preDestroyLink=this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(t,e){var s;const{fns:n,beans:i}=this;n!==wA&&(n[t]=((s=i==null?void 0:i.validationService)==null?void 0:s.validateApiFunction(t,e))??e)}makeApi(t){return{[t]:(...e)=>{const{beans:n,fns:{[t]:i}}=this;return i?i(n,...e):this.apiNotFound(t)}}}apiNotFound(t){const{beans:e,gos:n,preDestroyLink:i}=this;if(!e)Fe(`Grid API function ${t}() cannot be called as the grid has been destroyed.
Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${i}`);else{const s=CV[t];n.assertModuleRegistered(s,`api.${t}`)&&Fe(`API function '${t}' not registered to module '${s}'`)}}destroy(){super.destroy(),this.fns=wA,this.beans=null}};function uDe(t){return{beanName:"gridApi",bean:t.getBean("apiFunctionService").api}}var dDe=class extends Ee{constructor(){super(...arguments),this.beanName="columnDefFactory"}buildColumnDefs(t,e,n){const i=[],s={};return t.forEach(r=>{const o=this.createDefFromColumn(r,e,n);let a=!0,l=o,c=r.getOriginalParent(),d=null;for(;c;){let f=null;if(c.isPadding()){c=c.getOriginalParent();continue}const p=s[c.getGroupId()];if(p){p.children.push(l),a=!1;break}if(f=this.createDefFromGroup(c),f&&(f.children=[l],s[f.groupId]=f,l=f,c=c.getOriginalParent()),c!=null&&d===c){a=!1;break}d=c}a&&i.push(l)}),i}createDefFromGroup(t){const e=cD(t.getColGroupDef(),["children"]);return e&&(e.groupId=t.getGroupId()),e}createDefFromColumn(t,e,n){const i=cD(t.getColDef());return i.colId=t.getColId(),i.width=t.getActualWidth(),i.rowGroup=t.isRowGroupActive(),i.rowGroupIndex=t.isRowGroupActive()?e.indexOf(t):null,i.pivot=t.isPivotActive(),i.pivotIndex=t.isPivotActive()?n.indexOf(t):null,i.aggFunc=t.isValueActive()?t.getAggFunc():null,i.hide=t.isVisible()?void 0:!0,i.pinned=t.isPinned()?t.getPinned():null,i.sort=t.getSort()?t.getSort():null,i.sortIndex=t.getSortIndex()!=null?t.getSortIndex():null,i}},hDe=class extends Ee{constructor(){super(...arguments),this.beanName="columnEventDispatcher"}visibleCols(t){this.eventService.dispatchEvent({type:"displayedColumnsChanged",source:t})}gridColumns(){this.eventService.dispatchEvent({type:"gridColumnsChanged"})}headerHeight(t){this.eventService.dispatchEvent({type:"columnHeaderHeightChanged",column:t,columns:[t],source:"autosizeColumnHeaderHeight"})}groupHeaderHeight(t){this.eventService.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:t,source:"autosizeColumnGroupHeaderHeight"})}groupOpened(t){this.eventService.dispatchEvent({type:"columnGroupOpened",columnGroup:t.length===1?t[0]:void 0,columnGroups:t})}rowGroupChanged(t,e){this.eventService.dispatchEvent({type:"columnRowGroupChanged",columns:t,column:t.length===1?t[0]:null,source:e})}genericColumnEvent(t,e,n){this.eventService.dispatchEvent({type:t,columns:e,column:e.length===1?e[0]:null,source:n})}pivotModeChanged(){this.eventService.dispatchEvent({type:"columnPivotModeChanged"})}virtualColumnsChanged(t){this.eventService.dispatchEvent({type:"virtualColumnsChanged",afterScroll:t})}newColumnsLoaded(t){this.eventService.dispatchEvent({type:"newColumnsLoaded",source:t})}everythingChanged(t){this.eventService.dispatchEvent({type:"columnEverythingChanged",source:t})}columnMoved(t){const{movedColumns:e,source:n,toIndex:i,finished:s}=t;this.eventService.dispatchEvent({type:"columnMoved",columns:e,column:e&&e.length===1?e[0]:null,toIndex:i,finished:s,source:n})}columnPinned(t,e){if(!t.length)return;const n=t.length===1?t[0]:null,i=this.getCommonValue(t,s=>s.getPinned());this.eventService.dispatchEvent({type:"columnPinned",pinned:i??null,columns:t,column:n,source:e})}columnVisible(t,e){if(!t.length)return;const n=t.length===1?t[0]:null,i=this.getCommonValue(t,s=>s.isVisible());this.eventService.dispatchEvent({type:"columnVisible",visible:i,columns:t,column:n,source:e})}getCommonValue(t,e){if(!t||t.length==0)return;const n=e(t[0]);for(let i=1;i<t.length;i++)if(n!==e(t[i]))return;return n}columnChanged(t,e,n){this.eventService.dispatchEvent({type:t,columns:e,column:e&&e.length==1?e[0]:null,source:n})}columnResized(t,e,n,i=null){t&&t.length&&this.eventService.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:i,finished:e,source:n})}},fDe=class extends Ee{constructor(){super(...arguments),this.beanName="columnGetStateService"}wireBeans(t){this.columnModel=t.columnModel,this.funcColsService=t.funcColsService}getColumnState(){const t=this.columnModel.getColDefCols();if(Yt(t)||!this.columnModel.isAlive())return[];const n=this.columnModel.getAllCols().map(i=>this.createStateItemFromColumn(i));return this.orderColumnStateList(n),n}createStateItemFromColumn(t){const e=this.funcColsService.getRowGroupColumns(),n=this.funcColsService.getPivotColumns(),i=t.isRowGroupActive()?e.indexOf(t):null,s=t.isPivotActive()?n.indexOf(t):null,r=t.isValueActive()?t.getAggFunc():null,o=t.getSort()!=null?t.getSort():null,a=t.getSortIndex()!=null?t.getSortIndex():null,l=t.getFlex()!=null&&t.getFlex()>0?t.getFlex():null;return{colId:t.getColId(),width:t.getActualWidth(),hide:!t.isVisible(),pinned:t.getPinned(),sort:o,sortIndex:a,aggFunc:r,rowGroup:t.isRowGroupActive(),rowGroupIndex:i,pivot:t.isPivotActive(),pivotIndex:s,flex:l}}orderColumnStateList(t){const e=this.columnModel.getCols(),n=new Map(e.map((i,s)=>[i.getColId(),s]));t.sort((i,s)=>{const r=n.has(i.colId)?n.get(i.colId):-1,o=n.has(s.colId)?n.get(s.colId):-1;return r-o})}},pDe=class extends Ee{constructor(){super(...arguments),this.beanName="columnGroupStateService"}wireBeans(t){this.columnModel=t.columnModel,this.columnAnimationService=t.columnAnimationService,this.eventDispatcher=t.columnEventDispatcher,this.visibleColsService=t.visibleColsService}getColumnGroupState(){const t=[],e=this.columnModel.getColTree();return Yl(null,e,n=>{Ws(n)&&t.push({groupId:n.getGroupId(),open:n.isExpanded()})}),t}resetColumnGroupState(t){const e=this.columnModel.getColDefColTree();if(!e)return;const n=[];Yl(null,e,i=>{if(Ws(i)){const s=i.getColGroupDef(),r={groupId:i.getGroupId(),open:s?s.openByDefault:void 0};n.push(r)}}),this.setColumnGroupState(n,t)}setColumnGroupState(t,e){if(!this.columnModel.getColTree())return;this.columnAnimationService.start();const i=[];t.forEach(s=>{const r=s.groupId,o=s.open,a=this.columnModel.getProvidedColGroup(r);a&&a.isExpanded()!==o&&(a.setExpanded(o),i.push(a))}),this.visibleColsService.refresh(e,!0),i.length&&this.eventDispatcher.groupOpened(i),this.columnAnimationService.finish()}},mDe=class extends Ee{constructor(){super(...arguments),this.beanName="columnViewportService",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(t){this.visibleColsService=t.visibleColsService,this.columnModel=t.columnModel,this.eventDispatcher=t.columnEventDispatcher}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(t,e,n=!1){const i=this.visibleColsService.isBodyWidthDirty();if(!(t===this.scrollWidth&&e===this.scrollPosition&&!i)){if(this.scrollWidth=t,this.scrollPosition=e,this.visibleColsService.setBodyWidthDirty(),this.gos.get("enableRtl")){const r=this.visibleColsService.getBodyContainerWidth();this.viewportLeft=r-this.scrollPosition-this.scrollWidth,this.viewportRight=r-this.scrollPosition}else this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition;this.columnModel.isReady()&&this.checkViewportColumns(n)}}getHeadersToRender(t,e){let n;switch(t){case"left":n=this.rowsOfHeadersToRenderLeft[e];break;case"right":n=this.rowsOfHeadersToRenderRight[e];break;default:n=this.rowsOfHeadersToRenderCenter[e];break}return n||[]}extractViewportColumns(){const t=this.visibleColsService.getCenterCols();this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=t,this.headerColsWithinViewport=t):(this.colsWithinViewport=t.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=t.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(t){return t.isAutoHeaderHeight()||this.isAnyParentAutoHeaderHeight(t)?!0:this.isColumnInRowViewport(t)}isAnyParentAutoHeaderHeight(t){for(;t;){if(t.isAutoHeaderHeight())return!0;t=t.getParent()}return!1}isColumnInRowViewport(t){if(t.isAutoHeight())return!0;const e=t.getLeft()||0,n=e+t.getActualWidth(),i=this.viewportLeft-200,s=this.viewportRight+200,r=e<i&&n<i,o=e>s&&n>s;return!r&&!o}getViewportColumns(){const t=this.visibleColsService.getLeftCols(),e=this.visibleColsService.getRightCols();return this.colsWithinViewport.concat(t).concat(e)}getColsWithinViewport(t){if(!this.columnModel.isColSpanActive())return this.colsWithinViewport;const e=s=>{const r=s.getLeft();return Ke(r)&&r>this.viewportLeft},n=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),i=this.visibleColsService.getColsCenter();return this.visibleColsService.getColsForRow(t,i,n,e)}checkViewportColumns(t=!1){this.extractViewport()&&this.eventDispatcher.virtualColumnsChanged(t)}calculateHeaderRows(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={};const t={},e=this.visibleColsService.getLeftCols(),n=this.visibleColsService.getRightCols();this.headerColsWithinViewport.concat(e).concat(n).forEach(r=>t[r.getId()]=!0);const s=(r,o,a)=>{let l=!1;for(let c=0;c<r.length;c++){const d=r[c];let f=!1;if(lu(d))f=t[d.getId()]===!0;else{const m=d.getDisplayedChildren();m&&(f=s(m,o,a+1))}f&&(l=!0,o[a]||(o[a]=[]),o[a].push(d))}return l};s(this.visibleColsService.getTreeLeft(),this.rowsOfHeadersToRenderLeft,0),s(this.visibleColsService.getTreeRight(),this.rowsOfHeadersToRenderRight,0),s(this.visibleColsService.getTreeCenter(),this.rowsOfHeadersToRenderCenter,0)}extractViewport(){const t=i=>`${i.getId()}-${i.getPinned()||"normal"}`;this.extractViewportColumns();const e=this.getViewportColumns().map(t).join("#"),n=this.colsWithinViewportHash!==e;return n&&(this.colsWithinViewportHash=e,this.calculateHeaderRows()),n}},gDe=class extends Ee{constructor(){super(...arguments),this.beanName="agComponentUtils"}wireBeans(t){this.componentMetadataProvider=t.componentMetadataProvider}adaptFunction(t,e){const n=this.componentMetadataProvider.retrieve(t);return n&&n.functionAdapter?n.functionAdapter(e):null}adaptCellRendererFunction(t){class e{refresh(){return!1}getGui(){return this.eGui}init(i){const s=t(i),r=typeof s;if(r==="string"||r==="number"||r==="boolean"){this.eGui=py("<span>"+s+"</span>");return}if(s==null){this.eGui=py("<span></span>");return}this.eGui=s}}return e}doesImplementIComponent(t){return t?t.prototype&&"getGui"in t.prototype:!1}},vDe=class extends Ee{constructor(){super(...arguments),this.beanName="componentMetadataProvider"}wireBeans(t){this.agComponentUtils=t.agComponentUtils}postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},dragAndDropImageComponent:{mandatoryMethodList:["setIcon","setLabel"],optionalMethodList:[]},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(t){return this.componentMetaData[t]}},yDe=["rowPositionUtils","cellPositionUtils","headerPositionUtils","paginationAutoPageSizeService","apiFunctionService","gridApi","userComponentRegistry","agComponentUtils","componentMetadataProvider","resizeObserverService","userComponentFactory","rowContainerHeightService","horizontalResizeService","localeService","validationService","pinnedRowModel","dragService","visibleColsService","eventService","gos","popupService","selectionService","columnFilterService","quickFilterService","filterManager","columnModel","headerNavigationService","pageBoundsService","paginationService","pageBoundsListener","rowRenderer","expressionService","columnFactory","alignedGridsService","navigationService","valueCache","valueService","loggerFactory","autoWidthCalculator","filterMenuFactory","dragAndDropService","focusService","mouseEventService","environment","cellNavigationService","stylingService","scrollVisibleService","sortController","columnHoverService","columnAnimationService","selectableService","autoColService","controlsColService","changeDetectionService","animationFrameService","undoRedoService","columnDefFactory","rowCssClassCalculator","rowNodeBlockLoader","rowNodeSorter","ctrlsService","pinnedWidthService","rowNodeEventThrottle","ctrlsFactory","dataTypeService","syncService","overlayService","stateService","expansionService","apiEventService","ariaAnnouncementService","menuService","columnApplyStateService","columnEventDispatcher","columnMoveService","columnAutosizeService","columnGetStateService","columnGroupStateService","columnSizeService","funcColsService","columnNameService","columnViewportService","pivotResultColsService","showRowGroupColsService"],wV=Object.fromEntries(yDe.map((t,e)=>[t,e]));function xDe(t,e){const n=(t.beanName?wV[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER,i=(e.beanName?wV[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return n-i}function CDe(t,e){return(t==null?void 0:t.beanName)==="gridDestroyService"?-1:0}var wDe=class extends Ee{constructor(){super(...arguments),this.beanName="ctrlsFactory",this.registry={}}register(t){this.registry[t.name]=t.classImp}getInstance(t,...e){const n=this.registry[t];if(n!=null)return new n(...e)}},bDe=class extends Ee{constructor(){super(...arguments),this.beanName="ctrlsService",this.params={gridCtrl:void 0,gridBodyCtrl:void 0,center:void 0,left:void 0,right:void 0,bottomCenter:void 0,bottomLeft:void 0,bottomRight:void 0,topCenter:void 0,topLeft:void 0,topRight:void 0,stickyTopCenter:void 0,stickyTopLeft:void 0,stickyTopRight:void 0,stickyBottomCenter:void 0,stickyBottomLeft:void 0,stickyBottomRight:void 0,fakeHScrollComp:void 0,fakeVScrollComp:void 0,gridHeaderCtrl:void 0,centerHeader:void 0,leftHeader:void 0,rightHeader:void 0},this.ready=!1,this.readyCallbacks=[],this.runReadyCallbacksAsync=!1}wireBeans(t){var e,n;this.runReadyCallbacksAsync=((n=(e=t.frameworkOverrides).runWhenReadyAsync)==null?void 0:n.call(e))??!1}postConstruct(){this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(t=>t(this.params)),this.readyCallbacks.length=0)},this.runReadyCallbacksAsync)}updateReady(){this.ready=Object.values(this.params).every(t=>(t==null?void 0:t.isAlive())??!1)}whenReady(t,e){this.ready?e(this.params):this.readyCallbacks.push(e),t.addDestroyFunc(()=>{const n=this.readyCallbacks.indexOf(e);n>=0&&this.readyCallbacks.splice(n,1)})}register(t,e){this.params[t]=e,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),e.addDestroyFunc(()=>{this.updateReady()})}get(t){return this.params[t]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:t,centerHeader:e,rightHeader:n}=this.params;return[t,n,e]}getHeaderRowContainerCtrl(t){const e=this.params;switch(t){case"left":return e.leftHeader;case"right":return e.rightHeader;default:return e.centerHeader}}},SDe=class extends Ee{constructor(){super(...arguments),this.beanName="cellPositionUtils"}createId(t){const{rowIndex:e,rowPinned:n,column:i}=t;return this.createIdFromValues({rowIndex:e,column:i,rowPinned:n})}createIdFromValues(t){const{rowIndex:e,rowPinned:n,column:i}=t;return`${e}.${n??"null"}.${i.getId()}`}equals(t,e){const n=t.column===e.column,i=t.rowPinned===e.rowPinned,s=t.rowIndex===e.rowIndex;return n&&i&&s}},EDe=class extends Ee{constructor(){super(...arguments),this.beanName="rowNodeEventThrottle",this.events=[]}wireBeans(t){this.animationFrameService=t.animationFrameService,this.rowModel=t.rowModel}postConstruct(){Gn(this.gos)&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(t,e){if(this.clientSideRowModel==null){this.eventService.dispatchEvent(t);return}this.events.push(t);const n=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach(i=>this.eventService.dispatchEvent(i)),this.events=[]};e?n():(this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(n)),this.dispatchExpandedDebounced())}},MDe=class extends Ee{constructor(){super(...arguments),this.beanName="rowPositionUtils"}wireBeans(t){this.rowModel=t.rowModel,this.pinnedRowModel=t.pinnedRowModel,this.pageBoundsService=t.pageBoundsService}getFirstRow(){let t=0,e;return this.pinnedRowModel.getPinnedTopRowCount()?e="top":this.rowModel.getRowCount()?(e=null,t=this.pageBoundsService.getFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(e="bottom"),e===void 0?null:{rowIndex:t,rowPinned:e}}getLastRow(){let t,e=null;const n=this.pinnedRowModel.getPinnedBottomRowCount(),i=this.pinnedRowModel.getPinnedTopRowCount();return n?(e="bottom",t=n-1):this.rowModel.getRowCount()?(e=null,t=this.pageBoundsService.getLastRow()):i&&(e="top",t=i-1),t===void 0?null:{rowIndex:t,rowPinned:e}}getRowNode(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRow(t.rowIndex);case"bottom":return this.pinnedRowModel.getPinnedBottomRow(t.rowIndex);default:return this.rowModel.getRow(t.rowIndex)}}sameRow(t,e){return!t&&!e?!0:t&&!e||!t&&e?!1:t.rowIndex===e.rowIndex&&t.rowPinned==e.rowPinned}before(t,e){switch(t.rowPinned){case"top":if(e.rowPinned!=="top")return!0;break;case"bottom":if(e.rowPinned!=="bottom")return!1;break;default:if(Ke(e.rowPinned))return e.rowPinned!=="top";break}return t.rowIndex<e.rowIndex}},bV={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},SV={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},EV={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},TDe=class extends Ee{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.ancestorThemeClasses=[],this.sizesMeasured=!1,this.gridTheme=null}wireBeans(t){this.resizeObserverService=t.resizeObserverService,this.eGridDiv=t.eGridDiv}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addDestroyFunc(()=>this.stopUsingTheme()),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.ancestorThemeClasses=this.readAncestorThemeClasses(),this.setUpThemeClassObservers(),this.getSizeEl(bV),this.getSizeEl(SV),this.getSizeEl(EV)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(bV)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(SV)}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(EV)}hasMeasuredSizes(){return this.sizesMeasured}getGridThemeClass(){var t;return((t=this.gridTheme)==null?void 0:t.getCssClass())||null}getThemeClasses(){return this.gridTheme?[this.gridTheme.getCssClass()]:this.ancestorThemeClasses}applyThemeClasses(t){const e=this.getThemeClasses();for(const n of Array.from(t.classList))n.startsWith("ag-theme-")&&!e.includes(n)&&t.classList.remove(n);t.classList.add(...e)}refreshRowHeightVariable(){const t=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),e=this.gos.get("rowHeight");if(e==null||isNaN(e)||!isFinite(e))return t!==null&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;const n=`${e}px`;return t!=n?(this.eGridDiv.style.setProperty("--ag-line-height",n),e):t!=""?parseFloat(t):-1}getCSSVariablePixelValue(t){const e=this.lastKnownValues.get(t);if(e!=null)return e;const n=this.measureSizeEl(t);return n==="detached"||n==="no-styles"?t.defaultValue:(this.lastKnownValues.set(t,n),n)}measureSizeEl(t){const e=this.getSizeEl(t);if(e.offsetParent==null)return"detached";const n=e.offsetWidth;return n===MV?"no-styles":(this.sizesMeasured=!0,n)}getSizeEl(t){let e=this.sizeEls.get(t);if(e)return e;let n=this.eMeasurementContainer;n||(n=this.eMeasurementContainer=document.createElement("div"),n.className="ag-measurement-container",this.gos.get("theme")&&this.applyThemeClasses(n),this.eGridDiv.appendChild(n)),e=document.createElement("div"),e.style.width=`var(${t.cssName}, ${MV}px)`,n.appendChild(e),this.sizeEls.set(t,e);let i=this.measureSizeEl(t);i==="no-styles"&&Fe(`no value for ${t.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${t.defaultValue} will be used and updated when styles load.`);const s=this.resizeObserverService.observeResize(e,()=>{const r=this.measureSizeEl(t);r==="detached"||r==="no-styles"||(this.lastKnownValues.set(t,r),r!==i&&(i=r,this.fireGridStylesChangedEvent(t.changeKey)))});return this.addDestroyFunc(()=>s()),e}fireGridStylesChangedEvent(t){this.eventService.dispatchEvent({type:"gridStylesChanged",[t]:!0})}setUpThemeClassObservers(){const t=new MutationObserver(()=>{const n=this.readAncestorThemeClasses();RDe(n,this.ancestorThemeClasses)||(this.ancestorThemeClasses=n,this.fireGridStylesChangedEvent("themeChanged"))});let e=this.eGridDiv;for(;e;)t.observe(e||this.eGridDiv,{attributes:!0,attributeFilter:["class"]}),e=e.parentElement;this.addDestroyFunc(()=>t.disconnect())}readAncestorThemeClasses(){let t=this.eGridDiv;const e=[];for(;t;){const n=Array.from(t.classList).filter(i=>i.startsWith("ag-theme-"));for(const i of n)e.includes(i)||e.unshift(i);t=t.parentElement}return Object.freeze(e)}handleThemeGridOptionChange(){const{gos:t,eMeasurementContainer:e,gridTheme:n}=this,i=t.get("theme")||null;i!==n&&(n==null||n.stopUse(),this.gridTheme=i,i==null||i.startUse({loadThemeGoogleFonts:t.get("loadThemeGoogleFonts"),container:this.eGridDiv}),e&&this.applyThemeClasses(e),this.fireGridStylesChangedEvent("themeChanged"))}stopUsingTheme(){var t;(t=this.gridTheme)==null||t.stopUse(),this.gridTheme=null}},RDe=(t,e)=>t.length===e.length&&t.findIndex((n,i)=>t[i]!==e[i])===-1,MV=15538,ADe=class extends Ee{constructor(){super(...arguments),this.beanName="eventService",this.globalEventService=new im}wireBeans(t){this.globalEventListener=t.globalEventListener,this.globalSyncEventListener=t.globalSyncEventListener}postConstruct(){if(this.globalEventListener){const t=Hb(this.gos);this.addGlobalListener(this.globalEventListener,t)}this.globalSyncEventListener&&this.addGlobalListener(this.globalSyncEventListener,!1)}addEventListener(t,e,n){this.globalEventService.addEventListener(t,e,n)}removeEventListener(t,e,n){this.globalEventService.removeEventListener(t,e,n)}addGlobalListener(t,e=!1){this.globalEventService.addGlobalListener(t,e)}removeGlobalListener(t,e=!1){this.globalEventService.removeGlobalListener(t,e)}dispatchLocalEvent(){}dispatchEvent(t){this.globalEventService.dispatchEvent(this.gos.addGridCommonParams(t))}dispatchEventOnce(t){this.globalEventService.dispatchEventOnce(this.gos.addGridCommonParams(t))}},FN=class po extends Ee{constructor(){super(...arguments),this.beanName="focusService"}wireBeans(e){this.eGridDiv=e.eGridDiv,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.headerNavigationService=e.headerNavigationService,this.headerPositionUtils=e.headerPositionUtils,this.rowRenderer=e.rowRenderer,this.rowPositionUtils=e.rowPositionUtils,this.cellPositionUtils=e.cellPositionUtils,this.navigationService=e.navigationService,this.ctrlsService=e.ctrlsService,this.filterManager=e.filterManager,this.rangeService=e.rangeService,this.advancedFilterService=e.advancedFilterService,this.overlayService=e.overlayService}static addKeyboardModeEvents(e){this.instanceCount>0||(e.addEventListener("keydown",po.toggleKeyboardMode),e.addEventListener("mousedown",po.toggleKeyboardMode))}static removeKeyboardModeEvents(e){this.instanceCount>0||(e.removeEventListener("keydown",po.toggleKeyboardMode),e.removeEventListener("mousedown",po.toggleKeyboardMode))}static toggleKeyboardMode(e){const n=po.keyboardModeActive,i=e.type==="keydown";i&&(e.ctrlKey||e.metaKey||e.altKey)||n!==i&&(po.keyboardModeActive=i)}postConstruct(){const e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(this,n=>{this.gridCtrl=n.gridCtrl})}registerKeyboardFocusEvents(){const e=di(this.gos);po.addKeyboardModeEvents(e),po.instanceCount++,this.addDestroyFunc(()=>{po.instanceCount--,po.removeKeyboardModeEvents(e)})}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const e=this.focusedCellPosition.column,n=this.columnModel.getCol(e.getId());e!==n&&this.clearFocusedCell()}isKeyboardMode(){return po.keyboardModeActive}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(Zn(this.gos),Jd.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(Zn(this.gos),q1.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(e,n){let i=e;for(;i;){if(ly(this.gos,i,n))return!1;i=i.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(e){return this.isCellRestoreFocused(e)?(setTimeout(()=>{this.restoredFocusedCellPosition=null},0),!0):!1}clearRestoreFocus(){this.restoredFocusedCellPosition=null,this.awaitRestoreFocusedCell=!1}restoreFocusedCell(e,n){this.awaitRestoreFocusedCell=!0,setTimeout(()=>{this.awaitRestoreFocusedCell&&(this.setRestoreFocusedCell(e),n())})}isCellRestoreFocused(e){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(e,this.restoredFocusedCellPosition)}setRestoreFocusedCell(e){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=e)}getFocusEventParams(e){const{rowIndex:n,rowPinned:i,column:s}=e,r={rowIndex:n,rowPinned:i,column:s,isFullWidthCell:!1},o=this.rowRenderer.getRowByPosition({rowIndex:n,rowPinned:i});return o&&(r.isFullWidthCell=o.isFullWidth()),r}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition==null)return;const e=this.getFocusEventParams(this.focusedCellPosition);this.focusedCellPosition=null,this.eventService.dispatchEvent({type:"cellFocusCleared",...e})}setFocusedCell(e){const{column:n,rowIndex:i,rowPinned:s,forceBrowserFocus:r=!1,preventScrollOnBrowserFocus:o=!1}=e,a=this.columnModel.getCol(n);if(!a){this.focusedCellPosition=null;return}this.focusedCellPosition={rowIndex:i,rowPinned:kl(s),column:a},this.eventService.dispatchEvent({type:"cellFocused",...this.getFocusEventParams(this.focusedCellPosition),forceBrowserFocus:r,preventScrollOnBrowserFocus:o})}isCellFocused(e){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(e,this.focusedCellPosition)}isRowNodeFocused(e){return this.isRowFocused(e.rowIndex,e.rowPinned)}isHeaderWrapperFocused(e){if(this.focusedHeaderPosition==null)return!1;const n=e.getColumnGroupChild(),i=e.getRowIndex(),s=e.getPinned(),{column:r,headerRowIndex:o}=this.focusedHeaderPosition;return n===r&&i===o&&s==r.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(e,n){this.focusedHeaderPosition={headerRowIndex:e,column:n}}isHeaderFocusSuppressed(){return this.gos.get("suppressHeaderFocus")||this.overlayService.isExclusive()}isCellFocusSuppressed(){return this.gos.get("suppressCellFocus")||this.overlayService.isExclusive()}focusHeaderPosition(e){var c;if(this.isHeaderFocusSuppressed())return!1;const{direction:n,fromTab:i,allowUserOverride:s,event:r,fromCell:o,rowWithoutSpanValue:a}=e;let{headerPosition:l}=e;if(o&&((c=this.filterManager)!=null&&c.isAdvancedFilterHeaderActive()))return this.focusAdvancedFilter(l);if(s){const d=this.getFocusedHeader(),f=this.headerNavigationService.getHeaderRowCount();if(i){const p=this.gos.getCallback("tabToNextHeader");p&&(l=this.getHeaderPositionFromUserFunc({userFunc:p,direction:n,currentPosition:d,headerPosition:l,headerRowCount:f}))}else{const p=this.gos.getCallback("navigateToNextHeader");if(p&&r){const m={key:r.key,previousHeaderPosition:d,nextHeaderPosition:l,headerRowCount:f,event:r};l=p(m)}}}return l?this.focusProvidedHeaderPosition({headerPosition:l,direction:n,event:r,fromCell:o,rowWithoutSpanValue:a}):!1}focusHeaderPositionFromUserFunc(e){if(this.isHeaderFocusSuppressed())return!1;const{userFunc:n,headerPosition:i,direction:s,event:r}=e,o=this.getFocusedHeader(),a=this.headerNavigationService.getHeaderRowCount(),l=this.getHeaderPositionFromUserFunc({userFunc:n,direction:s,currentPosition:o,headerPosition:i,headerRowCount:a});return!!l&&this.focusProvidedHeaderPosition({headerPosition:l,direction:s,event:r})}getHeaderPositionFromUserFunc(e){const{userFunc:n,direction:i,currentPosition:s,headerPosition:r,headerRowCount:o}=e,l=n({backwards:i==="Before",previousHeaderPosition:s,nextHeaderPosition:r,headerRowCount:o});return l===!0||l===null?(l===null&&Fe("Since v31.3 Returning `null` from tabToNextHeader is deprecated. Return `true` to stay on the current header, or `false` to let the browser handle the tab behaviour."),s):l===!1?null:l}focusProvidedHeaderPosition(e){var f;const{headerPosition:n,direction:i,fromCell:s,rowWithoutSpanValue:r,event:o}=e,{column:a,headerRowIndex:l}=n;if(l===-1)return(f=this.filterManager)!=null&&f.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(n):this.focusGridView(a);this.headerNavigationService.scrollToColumn(a,i);const c=this.ctrlsService.getHeaderRowContainerCtrl(a.getPinned()),d=(c==null?void 0:c.focusHeader(n.headerRowIndex,a,o))||!1;return d&&(r!=null||s)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(r??-1),d}focusFirstHeader(){if(this.overlayService.isExclusive()&&this.focusOverlay())return!0;let e=this.visibleColsService.getAllCols()[0];if(!e)return!1;e.getParent()&&(e=this.visibleColsService.getColGroupAtLevel(e,0));const n=this.headerPositionUtils.getHeaderIndexToFocus(e,0);return this.focusHeaderPosition({headerPosition:n,rowWithoutSpanValue:0})}focusLastHeader(e){if(this.overlayService.isExclusive()&&this.focusOverlay(!0))return!0;const n=this.headerNavigationService.getHeaderRowCount()-1,i=Kt(this.visibleColsService.getAllCols());return this.focusHeaderPosition({headerPosition:{headerRowIndex:n,column:i},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){var n;return(n=this.filterManager)!=null&&n.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(e,n){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===e&&this.focusedCellPosition.rowPinned===kl(n)}findFocusableElements(e,n,i=!1){const s=DTe;let r=q9;n&&(r+=", "+n),i&&(r+=', [tabindex="-1"]');const o=Array.prototype.slice.apply(e.querySelectorAll(s)).filter(c=>Va(c)),a=Array.prototype.slice.apply(e.querySelectorAll(r));return a.length?((c,d)=>c.filter(f=>d.indexOf(f)===-1))(o,a):o}focusInto(e,n=!1,i=!1){const s=this.findFocusableElements(e,null,i),r=n?Kt(s):s[0];return r?(r.focus({preventScroll:!0}),!0):!1}findFocusableElementBeforeTabGuard(e,n){if(!n)return null;const i=this.findFocusableElements(e),s=i.indexOf(n);if(s===-1)return null;let r=-1;for(let o=s-1;o>=0;o--)if(i[o].classList.contains("ag-tab-guard-top")){r=o;break}return r<=0?null:i[r-1]}findNextFocusableElement(e=this.eGridDiv,n,i){const s=this.findFocusableElements(e,n?':not([tabindex="-1"])':null),r=Zn(this.gos);let o;n?o=s.findIndex(l=>l.contains(r)):o=s.indexOf(r);const a=o+(i?-1:1);return a<0||a>=s.length?null:s[a]}isTargetUnderManagedComponent(e,n){if(!n)return!1;const i=e.querySelectorAll(`.${Ah.FOCUS_MANAGED_CLASS}`);if(!i.length)return!1;for(let s=0;s<i.length;s++)if(i[s].contains(n))return!0;return!1}findTabbableParent(e,n=5){let i=0;for(;e&&fD(e)===null&&++i<=n;)e=e.parentElement;return fD(e)===null?null:e}focusOverlay(e){var i;const n=this.overlayService.isVisible()&&((i=this.overlayService.getOverlayWrapper())==null?void 0:i.getGui());return!!n&&this.focusInto(n,e)}focusGridViewFailed(e,n){return n&&this.focusOverlay(e)||e&&this.focusLastHeader()}focusGridView(e,n=!1,i=!0){var r,o;if(this.overlayService.isExclusive())return i&&this.focusOverlay(n);if(this.isCellFocusSuppressed())return n&&!this.isHeaderFocusSuppressed()?this.focusLastHeader():i&&this.focusOverlay(n)?!0:this.focusNextGridCoreContainer(!1);const s=n?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(s){const{rowIndex:a,rowPinned:l}=s;if(e??(e=(r=this.getFocusedHeader())==null?void 0:r.column),e&&a!==void 0&&a!==null){if(this.navigationService.ensureCellVisible({rowIndex:a,column:e,rowPinned:l}),n){const c=this.rowRenderer.getRowByPosition(s);if(c!=null&&c.isFullWidth()&&this.navigationService.tryToFocusFullWidthRow(s,n))return!0}return this.setFocusedCell({rowIndex:a,column:e,rowPinned:kl(l),forceBrowserFocus:!0}),(o=this.rangeService)==null||o.setRangeToCell({rowIndex:a,rowPinned:l,column:e}),!0}}return!!(i&&this.focusOverlay(n)||n&&this.focusLastHeader())}isGridFocused(){const e=Zn(this.gos);return!!e&&this.eGridDiv.contains(e)}focusNextGridCoreContainer(e,n=!1){return!n&&this.gridCtrl.focusNextInnerContainer(e)?!0:((n||!e&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(e),!1)}focusAdvancedFilter(e){var n;return this.advancedFilterFocusColumn=e==null?void 0:e.column,((n=this.advancedFilterService)==null?void 0:n.getCtrl().focusHeaderComp())??!1}focusNextFromAdvancedFilter(e,n){var s;const i=(n?void 0:this.advancedFilterFocusColumn)??((s=this.visibleColsService.getAllCols())==null?void 0:s[0]);return e?this.focusHeaderPosition({headerPosition:{column:i,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(i)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}addFocusableContainer(e){this.gridCtrl.addFocusableContainer(e)}removeFocusableContainer(e){this.gridCtrl.removeFocusableContainer(e)}focusGridInnerElement(e){return this.gridCtrl.focusInnerElement(e)}allowFocusForNextGridCoreContainer(e){this.gridCtrl.allowFocusForNextCoreContainer(e)}};FN.keyboardModeActive=!1;FN.instanceCount=0;var PDe=FN,DDe=class extends Ee{constructor(){super(...arguments),this.beanName="pinnedWidthService"}wireBeans(t){this.visibleColsService=t.visibleColsService}postConstruct(){const t=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:t,displayedColumnsWidthChanged:t}),this.addManagedPropertyListener("domLayout",t)}checkContainerWidths(){const t=ds(this.gos,"print"),e=t?0:this.visibleColsService.getColsLeftWidth(),n=t?0:this.visibleColsService.getDisplayedColumnsRightWidth();e!=this.leftWidth&&(this.leftWidth=e,this.eventService.dispatchEvent({type:"leftPinnedWidthChanged"})),n!=this.rightWidth&&(this.rightWidth=n,this.eventService.dispatchEvent({type:"rightPinnedWidthChanged"}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}},_De=class extends Ee{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}wireBeans(t){this.beans=t,this.focusService=t.focusService,this.visibleColsService=t.visibleColsService}setComp(t,e,n){this.view=t,this.eGridHostDiv=e,this.eGui=n,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDropService:i,mouseEventService:s,ctrlsService:r,resizeObserverService:o}=this.beans,a={getContainer:()=>this.eGui,isInterestedIn:c=>c===1||c===0,getIconName:()=>"notAllowed"};i.addDropTarget(a),this.addDestroyFunc(()=>i.removeDropTarget(a)),s.stampTopLevelGridCompWithGridInstance(e),this.createManagedBean(new _N(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr"),this.updateGridThemeClass(),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)});const l=o.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>l()),r.register("gridCtrl",this)}isDetailGrid(){var e;const t=this.focusService.findTabbableParent(this.getGui());return((e=t==null?void 0:t.getAttribute("row-id"))==null?void 0:e.startsWith("detail"))||!1}getOptionalSelectors(){var e,n,i,s,r;const t=this.beans;return{paginationSelector:(e=t.paginationService)==null?void 0:e.getPaginationSelector(),gridHeaderDropZonesSelector:(n=t.columnDropZonesService)==null?void 0:n.getDropZoneSelector(),sideBarSelector:(i=t.sideBarService)==null?void 0:i.getSideBarSelector(),statusBarSelector:(s=t.statusBarService)==null?void 0:s.getStatusPanelSelector(),watermarkSelector:(r=t.licenseManager)==null?void 0:r.getWatermarkSelector()}}onGridSizeChanged(){this.eventService.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(t){this.view.setCursor(t?"ew-resize":null)}disableUserSelect(t){this.view.setUserSelect(t?"none":null)}focusNextInnerContainer(t){const e=this.getFocusableContainers(),{indexWithFocus:n,nextIndex:i}=this.getNextFocusableIndex(e,t);if(i<0||i>=e.length)return!1;if(i===0){if(n>0){const s=this.visibleColsService.getAllCols(),r=Kt(s);if(this.focusService.focusGridView(r,!0))return!0}return!1}return this.focusContainer(e[i],t)}focusInnerElement(t){const e=this.gos.getCallback("focusGridInnerElement");if(e&&e({fromBottom:!!t}))return!0;const n=this.getFocusableContainers(),i=this.visibleColsService.getAllCols();if(t){if(n.length>1)return this.focusContainer(Kt(n),!0);const s=Kt(i);if(this.focusService.focusGridView(s,!0))return!0}if(this.gos.get("headerHeight")===0||this.focusService.isHeaderFocusSuppressed()){if(this.focusService.focusGridView(i[0]))return!0;for(let s=1;s<n.length;s++)if(this.focusService.focusInto(n[s].getGui()))return!0;return!1}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(t=!1){this.view.forceFocusOutOfContainer(t)}addFocusableContainer(t){this.additionalFocusableContainers.add(t)}removeFocusableContainer(t){this.additionalFocusableContainers.delete(t)}allowFocusForNextCoreContainer(t){var r;const e=this.view.getFocusableContainers(),{nextIndex:n,indexWithFocus:i}=this.getNextFocusableIndex(e,t);if(i===-1||n<0||n>=e.length)return;const s=e[n];(r=s.setAllowFocus)==null||r.call(s,!0),setTimeout(()=>{var o;(o=s.setAllowFocus)==null||o.call(s,!1)})}getNextFocusableIndex(t,e){const n=Zn(this.gos),i=t.findIndex(r=>r.getGui().contains(n)),s=i+(e?-1:1);return{indexWithFocus:i,nextIndex:s}}focusContainer(t,e){var i,s;(i=t.setAllowFocus)==null||i.call(t,!0);const n=this.focusService.focusInto(t.getGui(),e);return(s=t.setAllowFocus)==null||s.call(t,!1),n}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}updateGridThemeClass(){const t=this.beans.environment.getGridThemeClass();t&&this.view.setGridThemeClass(t)}handleThemeChange(t){t.themeChanged&&this.updateGridThemeClass()}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},FDe=class extends Ee{constructor(){super(...arguments),this.beanName="alignedGridsService",this.consuming=!1}wireBeans(t){this.columnModel=t.columnModel,this.columnSizeService=t.columnSizeService,this.ctrlsService=t.ctrlsService,this.columnApplyStateService=t.columnApplyStateService}getAlignedGridApis(){let t=this.gos.get("alignedGrids")??[];const e=typeof t=="function";typeof t=="function"&&(t=t());const n=()=>`See ${this.getFrameworkOverrides().getDocLink("aligned-grids")}`;return t.map(s=>{var o;if(!s){gn("alignedGrids contains an undefined option."),e||gn(`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`),gn(n());return}if(this.isGridApi(s))return s;const r=s;return"current"in r?(o=r.current)==null?void 0:o.api:(r.api||gn(`alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${n()}`),r.api)}).filter(s=>!!s&&!s.isDestroyed())}isGridApi(t){return!!t&&!!t.dispatchEvent}postConstruct(){const t=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:t,columnVisible:t,columnPinned:t,columnGroupOpened:t,columnResized:t,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:e})=>this.onColumnEvent(e),alignedGridScroll:({event:e})=>this.onScrollEvent(e)})}fireEvent(t){this.consuming||this.getAlignedGridApis().forEach(e=>{e.isDestroyed()||e.dispatchEvent(t)})}onEvent(t){this.consuming=!0,t(),this.consuming=!1}fireColumnEvent(t){this.fireEvent({type:"alignedGridColumn",event:t})}fireScrollEvent(t){t.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:t})}onScrollEvent(t){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(t.left,!0)})}extractDataFromEvent(t,e){const n=[];return t.columns?t.columns.forEach(i=>{n.push(e(i))}):t.column&&n.push(e(t.column)),n}getMasterColumns(t){return this.extractDataFromEvent(t,e=>e)}getColumnIds(t){return this.extractDataFromEvent(t,e=>e.getColId())}onColumnEvent(t){this.onEvent(()=>{switch(t.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(t);break}case"columnGroupOpened":{this.processGroupOpenedEvent(t);break}case"columnPivotChanged":Fe("pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})}processGroupOpenedEvent(t){const{columnModel:e}=this;t.columnGroups.forEach(n=>{let i=null;n&&(i=e.getProvidedColGroup(n.getGroupId())),!(n&&!i)&&e.setColumnGroupOpened(i,n.isExpanded(),"alignedGridChanged")})}processColumnEvent(t){var c;const e=t.column;let n=null;if(e&&(n=this.columnModel.getColDefCol(e.getColId())),e&&!n)return;const i=this.getMasterColumns(t),{columnApplyStateService:s,columnSizeService:r,ctrlsService:o}=this;switch(t.type){case"columnMoved":{const f=t.api.getColumnState().map(p=>({colId:p.colId}));s.applyColumnState({state:f,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const f=t.api.getColumnState().map(p=>({colId:p.colId,hide:p.hide}));s.applyColumnState({state:f},"alignedGridChanged")}break;case"columnPinned":{const f=t.api.getColumnState().map(p=>({colId:p.colId,pinned:p.pinned}));s.applyColumnState({state:f},"alignedGridChanged")}break;case"columnResized":{const d=t,f={};i.forEach(p=>{f[p.getId()]={key:p.getColId(),newWidth:p.getActualWidth()}}),(c=d.flexColumns)==null||c.forEach(p=>{f[p.getId()]&&delete f[p.getId()]}),r.setColumnWidths(Object.values(f),!1,d.finished,"alignedGridChanged");break}}const l=o.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(d=>{d.setGridOption("alwaysShowVerticalScroll",l)})}},NDe={version:Mt,moduleName:"@ag-grid-community/aligned-grid",beans:[FDe]};function IDe(t,e){const n=t.columnModel.getColDefCol(e);return n?n.getColDef():null}function ODe(t){return t.columnModel.getColumnDefs()}function LDe(t,e){typeof e=="number"?t.columnSizeService.sizeColumnsToFit(e,"api"):t.ctrlsService.getGridBodyCtrl().sizeColumnsToFit(e)}function kDe(t,e,n){t.columnModel.setColumnGroupOpened(e,n,"api")}function BDe(t,e,n){return t.visibleColsService.getColumnGroup(e,n)}function HDe(t,e){return t.columnModel.getProvidedColGroup(e)}function VDe(t,e,n){return t.columnNameService.getDisplayNameForColumn(e,n)||""}function zDe(t,e,n){return t.columnNameService.getDisplayNameForColumnGroup(e,n)||""}function GDe(t,e){return t.columnModel.getColDefCol(e)}function UDe(t){return t.columnModel.getColDefCols()}function jDe(t,e){return t.columnApplyStateService.applyColumnState(e,"api")}function WDe(t){return t.columnGetStateService.getColumnState()}function $De(t){t.columnApplyStateService.resetColumnState("api")}function qDe(t){return t.columnGroupStateService.getColumnGroupState()}function KDe(t,e){t.columnGroupStateService.setColumnGroupState(e,"api")}function YDe(t){t.columnGroupStateService.resetColumnGroupState("api")}function XDe(t){return t.visibleColsService.isPinningLeft()||t.visibleColsService.isPinningRight()}function ZDe(t){return t.visibleColsService.isPinningLeft()}function JDe(t){return t.visibleColsService.isPinningRight()}function QDe(t,e){return t.visibleColsService.getColAfter(e)}function e_e(t,e){return t.visibleColsService.getColBefore(e)}function t_e(t,e,n){t.columnModel.setColsVisible([e],n,"api")}function n_e(t,e,n){t.columnModel.setColsVisible(e,n,"api")}function i_e(t,e,n){t.columnModel.setColsPinned([e],n,"api")}function s_e(t,e,n){t.columnModel.setColsPinned(e,n,"api")}function r_e(t){return t.columnModel.getCols()}function o_e(t){return t.visibleColsService.getLeftCols()}function a_e(t){return t.visibleColsService.getCenterCols()}function l_e(t){return t.visibleColsService.getRightCols()}function c_e(t){return t.visibleColsService.getAllCols()}function u_e(t){return t.columnViewportService.getViewportColumns()}function d_e(t,e,n){t.columnMoveService.moveColumns([e],n,"api")}function h_e(t,e,n){t.columnMoveService.moveColumnByIndex(e,n,"api")}function f_e(t,e,n){t.columnMoveService.moveColumns(e,n,"api")}function p_e(t,e,n,i=!0,s="api"){t.columnSizeService.setColumnWidths([{key:e,newWidth:n}],!1,i,s)}function m_e(t,e,n=!0,i="api"){t.columnSizeService.setColumnWidths(e,!1,n,i)}function g_e(t){return t.visibleColsService.getTreeLeft()}function v_e(t){return t.visibleColsService.getTreeCenter()}function y_e(t){return t.visibleColsService.getTreeRight()}function x_e(t){return t.visibleColsService.getAllTrees()}function C_e(t,e,n){return t.columnAutosizeService.autoSizeCols({colKeys:[e],skipHeader:n,source:"api"})}function w_e(t,e,n){t.columnAutosizeService.autoSizeCols({colKeys:e,skipHeader:n,source:"api"})}function b_e(t,e){t.columnAutosizeService.autoSizeAllColumns("api",e)}var S_e=class extends Ee{constructor(){super(...arguments),this.beanName="dataTypeService",this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(t){this.rowModel=t.rowModel,this.columnModel=t.columnModel,this.funcColsService=t.funcColsService,this.valueService=t.valueService,this.columnApplyStateService=t.columnApplyStateService,this.filterManager=t.filterManager}postConstruct(){this.groupHideOpenParents=this.gos.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gos.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",t=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs(Sd(t.source))})}processDataTypeDefinitions(){const t=this.getDefaultDataTypes();this.dataTypeDefinitions={},this.formatValueFuncs={};const e=i=>s=>{const{column:r,node:o,value:a}=s;let l=r.getColDef().valueFormatter;return l===i.groupSafeValueFormatter&&(l=i.valueFormatter),this.valueService.formatValue(r,o,a,l)};Object.entries(t).forEach(([i,s])=>{const r={...s,groupSafeValueFormatter:this.createGroupSafeValueFormatter(s)};this.dataTypeDefinitions[i]=r,this.formatValueFuncs[i]=e(r)});const n=this.gos.get("dataTypeDefinitions")??{};this.dataTypeMatchers={},Object.entries(n).forEach(([i,s])=>{const r=this.processDataTypeDefinition(s,n,[i],t);r&&(this.dataTypeDefinitions[i]=r,s.dataTypeMatcher&&(this.dataTypeMatchers[i]=s.dataTypeMatcher),this.formatValueFuncs[i]=e(r))}),this.checkObjectValueHandlers(t),["dateString","text","number","boolean","date"].forEach(i=>{const s=this.dataTypeMatchers[i];s&&delete this.dataTypeMatchers[i],this.dataTypeMatchers[i]=s??t[i].dataTypeMatcher})}mergeDataTypeDefinitions(t,e){const n={...t,...e};return t.columnTypes&&e.columnTypes&&e.appendColumnTypes&&(n.columnTypes=[...kw(t.columnTypes),...kw(e.columnTypes)]),n}processDataTypeDefinition(t,e,n,i){let s;const r=t.extendsDataType;if(t.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),t.extendsDataType===t.baseDataType){let o=i[r];const a=e[r];if(o&&a&&(o=a),!this.validateDataTypeDefinition(t,o,r))return;s=this.mergeDataTypeDefinitions(o,t)}else{if(n.includes(r)){Fe('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');return}const o=e[r];if(!this.validateDataTypeDefinition(t,o,r))return;const a=this.processDataTypeDefinition(o,e,[...n,r],i);if(!a)return;s=this.mergeDataTypeDefinitions(a,t)}return{...s,groupSafeValueFormatter:this.createGroupSafeValueFormatter(s)}}validateDataTypeDefinition(t,e,n){return e?e.baseDataType!==t.baseDataType?(Fe('The "baseDataType" property of a data type definition must match that of its parent.'),!1):!0:(Fe(`The data type definition ${n} does not exist.`),!1)}createGroupSafeValueFormatter(t){if(t.valueFormatter)return e=>{var n,i;if((n=e.node)!=null&&n.group){const s=(e.colDef.pivotValueColumn??e.column).getAggFunc();if(s){if(s==="first"||s==="last")return t.valueFormatter(e);if(t.baseDataType==="number"&&s!=="count"){if(typeof e.value=="number")return t.valueFormatter(e);if(typeof e.value=="object"){if(!e.value)return;if("toNumber"in e.value)return t.valueFormatter({...e,value:e.value.toNumber()});if("value"in e.value)return t.valueFormatter({...e,value:e.value.value})}}return}if((this.gos.get("suppressGroupMaintainValueType")||this.gos.get("groupDisplayType")==="groupRows")&&!this.gos.get("treeData"))return}else if(this.groupHideOpenParents&&e.column.isRowGroupActive()&&typeof e.value=="string"&&!((i=t.dataTypeMatcher)!=null&&i.call(t,e.value)))return;return t.valueFormatter(e)}}updateColDefAndGetColumnType(t,e,n){let{cellDataType:i}=e;const{field:s}=e;if(i===void 0&&(i=t.cellDataType),(i==null||i===!0)&&(i=this.canInferCellDataType(t,e)?this.inferCellDataType(s,n):!1),!i){t.cellDataType=!1;return}const r=this.dataTypeDefinitions[i];if(!r){Fe(`Missing data type definition - "${i}"`);return}return t.cellDataType=i,r.groupSafeValueFormatter&&(t.valueFormatter=r.groupSafeValueFormatter),r.valueParser&&(t.valueParser=r.valueParser),r.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(t,i,r,n),r.columnTypes}addColumnListeners(t){if(!this.isWaitingForRowData)return;const e=this.columnStateUpdatesPendingInference[t.getColId()];if(!e)return;const n=i=>{e.add(i.key)};t.addEventListener("columnStateUpdated",n),this.columnStateUpdateListenerDestroyFuncs.push(()=>t.removeEventListener("columnStateUpdated",n))}canInferCellDataType(t,e){if(!Gn(this.gos))return!1;const n={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(e,n))return!1;const i=e.type===null?t.type:e.type;if(i){const s=this.gos.get("columnTypes")??{};if(kw(i).some(o=>{const a=s[o.trim()];return a&&this.doColDefPropsPreventInference(a,n)}))return!1}return!this.doColDefPropsPreventInference(t,n)}doColDefPropsPreventInference(t,e){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([n,i])=>this.doesColDefPropPreventInference(t,e,n,i))}doesColDefPropPreventInference(t,e,n,i){if(!e[n])return!1;const s=t[n];return s===null?(e[n]=!1,!1):i===void 0?!!s:s===i}inferCellDataType(t,e){if(!t)return;let n;const i=this.getInitialData();if(i){const r=t.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");n=wv(i,t,r)}else this.initWaitForRowData(e);if(n==null)return;const[s]=Object.entries(this.dataTypeMatchers).find(([r,o])=>o(n))??["object"];return s}getInitialData(){const t=this.gos.get("rowData");if(t!=null&&t.length)return t[0];if(this.initialData)return this.initialData;{const e=this.rowModel.getRootNode().allLeafChildren;if(e!=null&&e.length)return e[0].data}return null}initWaitForRowData(t){if(this.columnStateUpdatesPendingInference[t]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const e=this.isColumnTypeOverrideInDataTypeDefinitions;e&&this.columnModel.queueResizeOperations();const[n]=this.addManagedEventListeners({rowDataUpdateStarted:i=>{const{firstRowData:s}=i;s&&(n==null||n(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(s,e),this.columnStateUpdatesPendingInference={},e&&this.columnModel.processResizeOperations(),this.eventService.dispatchEvent({type:"dataTypesInferred"}))}})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(t,e){this.initialData=t;const n=[];this.destroyColumnStateUpdateListeners();const i={},s={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([r,o])=>{const a=this.columnModel.getCol(r);if(!a)return;const l=a.getColDef();if(!this.columnModel.resetColDefIntoCol(a,"cellDataTypeInferred"))return;const c=a.getColDef();if(e&&c.type&&c.type!==l.type){const d=this.getUpdatedColumnState(a,o);d.rowGroup&&d.rowGroupIndex==null&&(i[r]=d),d.pivot&&d.pivotIndex==null&&(s[r]=d),n.push(d)}}),e&&n.push(...this.funcColsService.generateColumnStateForRowGroupAndPivotIndexes(i,s)),n.length&&this.columnApplyStateService.applyColumnState({state:n},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(t,e){const n=this.columnApplyStateService.getColumnStateFromColDef(t);return e.forEach(i=>{delete n[i],i==="rowGroup"?delete n.rowGroupIndex:i==="pivot"&&delete n.pivotIndex}),n}checkObjectValueHandlers(t){const e=this.dataTypeDefinitions.object,n=t.object;this.hasObjectValueParser=e.valueParser!==n.valueParser,this.hasObjectValueFormatter=e.valueFormatter!==n.valueFormatter}getDateStringTypeDefinition(t){return t?this.getDataTypeDefinition(t)??this.dataTypeDefinitions.dateString:this.dataTypeDefinitions.dateString}getDateParserFunction(t){return this.getDateStringTypeDefinition(t).dateParser}getDateFormatterFunction(t){return this.getDateStringTypeDefinition(t).dateFormatter}getDataTypeDefinition(t){const e=t.getColDef();if(e.cellDataType)return this.dataTypeDefinitions[e.cellDataType]}getBaseDataType(t){var e;return(e=this.getDataTypeDefinition(t))==null?void 0:e.baseDataType}checkType(t,e){var i;if(e==null)return!0;const n=(i=this.getDataTypeDefinition(t))==null?void 0:i.dataTypeMatcher;return n?n(e):!0}validateColDef(t){const e=n=>Fe(`Cell data type is "object" but no Value ${n} has been provided. Please either provide an object data type definition with a Value ${n}, or set "colDef.value${n}"`);t.cellDataType==="object"&&(t.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&e("Formatter"),t.editable&&t.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&e("Parser"))}getFormatValue(t){return this.formatValueFuncs[t]}setColDefPropertiesForBaseDataType(t,e,n,i){var r;const s=this.formatValueFuncs[e];switch(n.baseDataType){case"number":{t.cellEditor="agNumberCellEditor";break}case"boolean":{t.cellEditor="agCheckboxCellEditor",t.cellRenderer="agCheckboxCellRenderer",t.suppressKeyboardEvent=o=>!!o.colDef.editable&&o.event.key===ve.SPACE;break}case"date":{t.cellEditor="agDateCellEditor",t.keyCreator=s;break}case"dateString":{t.cellEditor="agDateStringCellEditor",t.keyCreator=s;break}case"object":{t.cellEditorParams={useFormatter:!0},t.comparator=(o,a)=>{const l=this.columnModel.getColDefCol(i),c=l==null?void 0:l.getColDef();if(!l||!c)return 0;const d=o==null?"":s({column:l,node:null,value:o}),f=a==null?"":s({column:l,node:null,value:a});return d===f?0:d>f?1:-1},t.keyCreator=s;break}}(r=this.filterManager)==null||r.setColDefPropertiesForDataType(t,n,s)}getDefaultDataTypes(){const t=n=>!!n.match("^\\d{4}-\\d{2}-\\d{2}$"),e=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:n=>{var i,s;return((s=(i=n.newValue)==null?void 0:i.trim)==null?void 0:s.call(i))===""?null:Number(n.newValue)},valueFormatter:n=>n.value==null?"":typeof n.value!="number"||isNaN(n.value)?e("invalidNumber","Invalid Number"):String(n.value),dataTypeMatcher:n=>typeof n=="number"},text:{baseDataType:"text",valueParser:n=>n.newValue===""?null:iD(n.newValue),dataTypeMatcher:n=>typeof n=="string"},boolean:{baseDataType:"boolean",valueParser:n=>{var i,s;return n.newValue==null?n.newValue:((s=(i=n.newValue)==null?void 0:i.trim)==null?void 0:s.call(i))===""?null:String(n.newValue).toLowerCase()==="true"},valueFormatter:n=>n.value==null?"":String(n.value),dataTypeMatcher:n=>typeof n=="boolean"},date:{baseDataType:"date",valueParser:n=>xr(n.newValue==null?null:String(n.newValue)),valueFormatter:n=>n.value==null?"":!(n.value instanceof Date)||isNaN(n.value.getTime())?e("invalidDate","Invalid Date"):Ao(n.value,!1)??"",dataTypeMatcher:n=>n instanceof Date},dateString:{baseDataType:"dateString",dateParser:n=>xr(n)??void 0,dateFormatter:n=>Ao(n??null,!1)??void 0,valueParser:n=>t(String(n.newValue))?n.newValue:null,valueFormatter:n=>t(String(n.value))?n.value:"",dataTypeMatcher:n=>typeof n=="string"&&t(n)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:n=>iD(n.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(t=>t()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}},E_e={version:Mt,moduleName:"@ag-grid-community/data-type",beans:[S_e]},M_e={version:Mt,moduleName:"@ag-grid-community/column-api",apiFunctions:{getColumnDef:IDe,getColumnDefs:ODe,sizeColumnsToFit:LDe,setColumnGroupOpened:kDe,getColumnGroup:BDe,getProvidedColumnGroup:HDe,getDisplayNameForColumn:VDe,getDisplayNameForColumnGroup:zDe,getColumn:GDe,getColumns:UDe,applyColumnState:jDe,getColumnState:WDe,resetColumnState:$De,getColumnGroupState:qDe,setColumnGroupState:KDe,resetColumnGroupState:YDe,isPinning:XDe,isPinningLeft:ZDe,isPinningRight:JDe,getDisplayedColAfter:QDe,getDisplayedColBefore:e_e,setColumnVisible:t_e,setColumnsVisible:n_e,setColumnPinned:i_e,setColumnsPinned:s_e,getAllGridColumns:r_e,getDisplayedLeftColumns:o_e,getDisplayedCenterColumns:a_e,getDisplayedRightColumns:l_e,getAllDisplayedColumns:c_e,getAllDisplayedVirtualColumns:u_e,moveColumn:d_e,moveColumnByIndex:h_e,moveColumns:f_e,setColumnWidth:p_e,setColumnWidths:m_e,getLeftDisplayedColumnGroups:g_e,getCenterDisplayedColumnGroups:v_e,getRightDisplayedColumnGroups:y_e,getAllDisplayedColumnGroups:x_e,autoSizeColumn:C_e,autoSizeColumns:w_e,autoSizeAllColumns:b_e}};function T_e(t,e){t.ctrlsService.getGridBodyCtrl().getRowDragFeature().addRowDropZone(e)}function R_e(t,e){const n=t.dragAndDropService.findExternalZone(e);n&&t.dragAndDropService.removeDropTarget(n)}function A_e(t,e){return t.ctrlsService.getGridBodyCtrl().getRowDragFeature().getRowDropZone(e)}var P_e={version:Mt,moduleName:"@ag-grid-community/drag-api",apiFunctions:{addRowDropZone:T_e,removeRowDropZone:R_e,getRowDropZoneParams:A_e}};function D_e(t){return t.pinnedRowModel.getPinnedTopRowCount()}function __e(t){return t.pinnedRowModel.getPinnedBottomRowCount()}function F_e(t,e){return t.pinnedRowModel.getPinnedTopRow(e)}function N_e(t,e){return t.pinnedRowModel.getPinnedBottomRow(e)}var I_e={version:Mt,moduleName:"@ag-grid-community/pinned-row-api",apiFunctions:{getPinnedTopRowCount:D_e,getPinnedBottomRowCount:__e,getPinnedTopRow:F_e,getPinnedBottomRow:N_e}};function O_e(t){t.overlayService.showLoadingOverlay()}function L_e(t){t.overlayService.showNoRowsOverlay()}function k_e(t){t.overlayService.hideOverlay()}var B_e={version:Mt,moduleName:"@ag-grid-community/overlay-api",apiFunctions:{showLoadingOverlay:O_e,showNoRowsOverlay:L_e,hideOverlay:k_e}};function H_e(t,e,n){if(!e)return;const i=t.ctrlsService.getGridBodyCtrl().getGui(),s=`aria-${e}`;n===null?i.removeAttribute(s):i.setAttribute(s,n)}function V_e(t,e={}){t.frameworkOverrides.wrapIncoming(()=>t.rowRenderer.refreshCells(e))}function z_e(t,e={}){const n=i=>Fe(`Since v31.1 api.flashCells parameter '${i}Delay' is deprecated. Please use '${i}Duration' instead.`);Ke(e.fadeDelay)&&n("fade"),Ke(e.flashDelay)&&n("flash"),t.frameworkOverrides.wrapIncoming(()=>t.rowRenderer.flashCells(e))}function G_e(t){t.frameworkOverrides.wrapIncoming(()=>t.ctrlsService.getHeaderRowContainerCtrls().forEach(e=>e.refresh()))}function U_e(t){return t.animationFrameService.isQueueEmpty()}function j_e(t){t.animationFrameService.flushAllFrames()}function W_e(t){return{rowHeight:z1(t.gos),headerHeight:t.columnModel.getHeaderHeight()}}function $_e(t,e={}){return t.rowRenderer.getCellRendererInstances(e).map(Sv)}var q_e={version:Mt,moduleName:"@ag-grid-community/render-api",apiFunctions:{setGridAriaProperty:H_e,refreshCells:V_e,flashCells:z_e,refreshHeader:G_e,isAnimationFrameQueueEmpty:U_e,flushAllAnimationFrames:j_e,getSizesForCurrentTheme:W_e,getCellRendererInstances:$_e}};function K_e(t){t.valueCache.expire()}function Y_e(t,e,n){return J$(t,{colKey:e,rowNode:n})}function J$(t,e){const{colKey:n,rowNode:i,useFormatter:s}=e,r=t.columnModel.getColDefCol(n)??t.columnModel.getCol(n);if(Yt(r))return null;const o=t.valueService.getValueForDisplay(r,i);return s?t.valueService.formatValue(r,i,o)??Ia(o,!0):o}function X_e(t){return t.context.getGridId()}function Z_e(t){t.gridDestroyService.destroy()}function J_e(t){return t.gridDestroyService.isDestroyCalled()}function Q_e(t,e){return t.gos.get(e)}function eFe(t,e,n){Q$(t,{[e]:n})}function Q$(t,e){t.gos.updateGridOptions({options:e})}function tFe(t,e,n){t.apiEventService.addEventListener(e,n)}function nFe(t,e,n){t.apiEventService.removeEventListener(e,n)}function iFe(t,e){t.apiEventService.addGlobalListener(e)}function sFe(t,e){t.apiEventService.removeGlobalListener(e)}function rFe(t){return t.focusService.getFocusedCell()}function oFe(t){return t.focusService.clearFocusedCell()}function aFe(t,e,n,i){t.focusService.setFocusedCell({rowIndex:e,column:n,rowPinned:i,forceBrowserFocus:!0})}function lFe(t,e){return t.navigationService.tabToNextCell(!1,e)}function cFe(t,e){return t.navigationService.tabToNextCell(!0,e)}function uFe(t,e,n=!1){const i=t.headerNavigationService.getHeaderPositionForColumn(e,n);i&&t.focusService.focusHeaderPosition({headerPosition:i})}function dFe(t,e,n){const i=t.columnModel.getCol(e);t.menuService.showColumnMenu({column:i,buttonElement:n,positionBy:"button"})}function hFe(t,e,n){let i=t.columnModel.getCol(e);if(i||(i=t.columnModel.getColDefCol(e)),!i){gn(`column '${e}' not found`);return}t.menuService.showColumnMenu({column:i,mouseEvent:n,positionBy:"mouse"})}function fFe(t,e){const n=t.columnModel.getCol(e);if(!n){gn(`column '${e}' not found`);return}t.menuService.showColumnMenu({column:n,positionBy:"auto"})}function pFe(t){t.menuService.hidePopupMenu()}function mFe(t,e={}){const n=e?e.rowNodes:void 0;t.frameworkOverrides.wrapIncoming(()=>t.rowRenderer.redrawRows(n))}function gFe(t,e,n,i,s){t.expansionService.setRowNodeExpanded(e,n,i,s)}function vFe(t,e){return t.rowModel.getRowNode(e)}function yFe(t,e,n,i){t.rowRenderer.addRenderedRowListener(e,n,i)}function xFe(t){return t.rowRenderer.getRenderedNodes()}function CFe(t,e,n){t.rowModel.forEachNode(e,n)}function wFe(t){return eq(t)}function eq(t){return t.rowRenderer.getFirstVirtualRenderedRow()}function bFe(t){return tq(t)}function tq(t){return t.rowRenderer.getLastVirtualRenderedRow()}function SFe(t,e){return t.rowModel.getRow(e)}function EFe(t){return t.rowModel.getRowCount()}function MFe(t){return t.rowModel}function TFe(t,e){if(!e.nodes.every(a=>a.rowPinned?(Fe("cannot select pinned rows"),!1):a.id===void 0?(Fe("cannot select node until id for node is known"),!1):!0))return;const{nodes:i,source:s,newValue:r}=e,o=i;t.selectionService.setNodesSelected({nodes:o,source:s??"api",newValue:r})}function RFe(t,e="apiSelectAll"){t.selectionService.selectAllRowNodes({source:e})}function AFe(t,e="apiSelectAll"){t.selectionService.deselectAllRowNodes({source:e})}function PFe(t,e="apiSelectAllFiltered"){t.selectionService.selectAllRowNodes({source:e,justFiltered:!0})}function DFe(t,e="apiSelectAllFiltered"){t.selectionService.deselectAllRowNodes({source:e,justFiltered:!0})}function _Fe(t,e="apiSelectAllCurrentPage"){t.selectionService.selectAllRowNodes({source:e,justCurrentPage:!0})}function FFe(t,e="apiSelectAllCurrentPage"){t.selectionService.deselectAllRowNodes({source:e,justCurrentPage:!0})}function NFe(t){return t.selectionService.getSelectedNodes()}function IFe(t){return t.selectionService.getSelectedRows()}function OFe(t){t.sortController.onSortChanged("api")}var LFe={version:Mt,moduleName:"@ag-grid-community/core-api",apiFunctions:{getGridId:X_e,destroy:Z_e,isDestroyed:J_e,getGridOption:Q_e,setGridOption:eFe,updateGridOptions:Q$}},kFe={version:Mt,moduleName:"@ag-grid-community/row-selection-api",apiFunctions:{setNodesSelected:TFe,selectAll:RFe,deselectAll:AFe,selectAllFiltered:PFe,deselectAllFiltered:DFe,selectAllOnCurrentPage:_Fe,deselectAllOnCurrentPage:FFe,getSelectedNodes:NFe,getSelectedRows:IFe}},BFe={version:Mt,moduleName:"@ag-grid-community/row-api",apiFunctions:{redrawRows:mFe,setRowNodeExpanded:gFe,getRowNode:vFe,addRenderedRowListener:yFe,getRenderedNodes:xFe,forEachNode:CFe,getFirstDisplayedRow:wFe,getFirstDisplayedRowIndex:eq,getLastDisplayedRow:bFe,getLastDisplayedRowIndex:tq,getDisplayedRowAtIndex:SFe,getDisplayedRowCount:EFe,getModel:MFe}},HFe={version:Mt,moduleName:"@ag-grid-community/scroll-api",apiFunctions:{getVerticalPixelRange:RPe,getHorizontalPixelRange:APe,ensureColumnVisible:$$,ensureIndexVisible:q$,ensureNodeVisible:PPe}},VFe={version:Mt,moduleName:"@ag-grid-community/keyboard-navigation-api",apiFunctions:{getFocusedCell:rFe,clearFocusedCell:oFe,setFocusedCell:aFe,setFocusedHeader:uFe,tabToNextCell:lFe,tabToPreviousCell:cFe}},zFe={version:Mt,moduleName:"@ag-grid-community/event-api",apiFunctions:{addEventListener:tFe,addGlobalListener:iFe,removeEventListener:nFe,removeGlobalListener:sFe}},GFe={version:Mt,moduleName:"@ag-grid-community/cell-api",apiFunctions:{expireValueCache:K_e,getValue:Y_e,getCellValue:J$}},UFe={version:Mt,moduleName:"@ag-grid-community/menu-api",apiFunctions:{showColumnMenuAfterButtonClick:dFe,showColumnMenuAfterMouseClick:hFe,showColumnMenu:fFe,hidePopupMenu:pFe}},jFe={version:Mt,moduleName:"@ag-grid-community/sort-api",apiFunctions:{onSortChanged:OFe}},WFe={version:Mt,moduleName:"@ag-grid-community/api",dependantModules:[LFe,I_e,kFe,M_e,BFe,P_e,HFe,B_e,VFe,zFe,q_e,GFe,UFe,jFe]};function $Fe(t){var e;return((e=t.stateService)==null?void 0:e.getState())??{}}function qFe(t){switch(t={...t},t.version||(t.version="32.1.0"),t.version){case"32.1.0":t=KFe(t)}return t}function KFe(t){return t.cellSelection=YFe(t,"rangeSelection"),t}function YFe(t,e){if(t&&typeof t=="object")return t[e]}var XFe=class extends Ee{constructor(){super(...arguments),this.beanName="stateService",this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=vr(()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=vr(()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),0),this.onRowSelectedDebounced=vr(()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}wireBeans(t){this.filterManager=t.filterManager,this.ctrlsService=t.ctrlsService,this.pivotResultColsService=t.pivotResultColsService,this.focusService=t.focusService,this.columnModel=t.columnModel,this.visibleColsService=t.visibleColsService,this.columnGroupStateService=t.columnGroupStateService,this.columnGetStateService=t.columnGetStateService,this.paginationService=t.paginationService,this.selectionService=t.selectionService,this.expansionService=t.expansionService,this.columnAnimationService=t.columnAnimationService,this.columnApplyStateService=t.columnApplyStateService,this.sideBarService=t.sideBarService,this.rangeService=t.rangeService}postConstruct(){this.isClientSideRowModel=Gn(this.gos),this.cachedState=this.getInitialState(),this.setCachedStateValue("version",Mt),this.ctrlsService.whenReady(this,()=>this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnGridReady()));const[t,e,n]=this.addManagedEventListeners({newColumnsLoaded:({source:i})=>{i==="gridInitializing"&&(t(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnColumnsInitialised()))},rowCountReady:()=>{e==null||e(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnRowCountReady())},firstDataRendered:()=>{n==null||n(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnFirstDataRendered())}})}getInitialState(){return qFe(this.gos.get("initialState")??{})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState());const t=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:t,sideBarUpdated:t})}setupStateOnColumnsInitialised(){const t=this.getInitialState();this.setColumnState(t),this.setColumnGroupState(t),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState());const e=n=>()=>this.updateColumnState([n]);this.addManagedEventListeners({columnValueChanged:e("aggregation"),columnMoved:e("columnOrder"),columnPinned:e("columnPinning"),columnResized:e("columnSizing"),columnVisible:e("columnVisibility"),columnPivotChanged:e("pivot"),columnPivotModeChanged:e("pivot"),columnRowGroupChanged:e("rowGroup"),sortChanged:e("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){const{filter:t,rowGroupExpansion:e,rowSelection:n,pagination:i}=this.getInitialState(),s=this.gos.get("advancedFilterModel");(t||s)&&this.setFilterState(t,s),e&&this.setRowGroupExpansionState(e),n&&this.setRowSelectionState(n),i&&this.setPaginationState(i),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState());const r=()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState());this.addManagedEventListeners({filterChanged:()=>this.updateCachedState("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:r,columnRowGroupChanged:r,rowDataUpdated:()=>{this.gos.get("groupDefaultExpanded")!==0&&setTimeout(()=>{r()})},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:o=>{(o.newPage||o.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){const{scroll:t,cellSelection:e,focusedCell:n,columnOrder:i}=this.getInitialState();n&&this.setFocusedCellState(n),e&&this.setCellSelectionState(e),t&&this.setScrollState(t),this.setColumnPivotState(!!(i!=null&&i.orderedColIds)),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState());const s=this.getRangeSelectionState();this.updateCachedState("rangeSelection",s),this.updateCachedState("cellSelection",s),this.updateCachedState("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>this.updateCachedState("focusedCell",this.getFocusedCellState()),cellSelectionChanged:r=>{if(r.finished){const o=this.getRangeSelectionState();this.updateCachedState("rangeSelection",o),this.updateCachedState("cellSelection",o)}},bodyScrollEnd:()=>this.updateCachedState("scroll",this.getScrollState())})}getColumnState(){const t=this.columnModel.isPivotMode(),e=[],n=[],i=[],s=[],r=[],o=[],a=[],l=[],c=[];let d=0;const f=this.columnGetStateService.getColumnState();for(let p=0;p<f.length;p++){const{colId:m,sort:y,sortIndex:C,rowGroup:x,rowGroupIndex:w,aggFunc:M,pivot:S,pivotIndex:R,pinned:P,hide:F,width:N,flex:I}=f[p];c.push(m),y&&(e[C??d++]={colId:m,sort:y}),x&&(n[w??0]=m),typeof M=="string"&&i.push({colId:m,aggFunc:M}),S&&(s[R??0]=m),P&&(P==="right"?o:r).push(m),F&&a.push(m),(I||N)&&l.push({colId:m,flex:I??void 0,width:N})}return{sort:e.length?{sortModel:e}:void 0,rowGroup:n.length?{groupColIds:n}:void 0,aggregation:i.length?{aggregationModel:i}:void 0,pivot:s.length||t?{pivotMode:t,pivotColIds:s}:void 0,columnPinning:r.length||o.length?{leftColIds:r,rightColIds:o}:void 0,columnVisibility:a.length?{hiddenColIds:a}:void 0,columnSizing:l.length?{columnSizingModel:l}:void 0,columnOrder:c.length?{orderedColIds:c}:void 0}}setColumnState(t){const{sort:e,rowGroup:n,aggregation:i,pivot:s,columnPinning:r,columnVisibility:o,columnSizing:a,columnOrder:l,partialColumnState:c}=t,d={},f=x=>{let w=d[x];return w||(w={colId:x},d[x]=w,w)},p=c?{}:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};e&&(e.sortModel.forEach(({colId:x,sort:w},M)=>{const S=f(x);S.sort=w,S.sortIndex=M}),p.sort=null,p.sortIndex=null),n&&(n.groupColIds.forEach((x,w)=>{const M=f(x);M.rowGroup=!0,M.rowGroupIndex=w}),p.rowGroup=null,p.rowGroupIndex=null),i&&(i.aggregationModel.forEach(({colId:x,aggFunc:w})=>{f(x).aggFunc=w}),p.aggFunc=null),s&&(s.pivotColIds.forEach((x,w)=>{const M=f(x);M.pivot=!0,M.pivotIndex=w}),this.gos.updateGridOptions({options:{pivotMode:s.pivotMode},source:"gridInitializing"}),p.pivot=null,p.pivotIndex=null),r&&(r.leftColIds.forEach(x=>{f(x).pinned="left"}),r.rightColIds.forEach(x=>{f(x).pinned="right"}),p.pinned=null),o&&(o.hiddenColIds.forEach(x=>{f(x).hide=!0}),p.hide=null),a&&(a.columnSizingModel.forEach(({colId:x,flex:w,width:M})=>{const S=f(x);S.flex=w??null,S.width=M}),p.flex=null);const m=l==null?void 0:l.orderedColIds,y=!!(m!=null&&m.length),C=y?m.map(x=>f(x)):Object.values(d);C.length&&(this.columnStates=C,this.columnApplyStateService.applyColumnState({state:C,applyOrder:y,defaultState:p},"gridInitializing"))}setColumnPivotState(t){const e=this.columnStates;this.columnStates=void 0;const n=this.columnGroupStates;if(this.columnGroupStates=void 0,!!this.pivotResultColsService.isPivotResultColsPresent()){if(e){const i=[];for(const s of e)this.pivotResultColsService.getPivotResultCol(s.colId)&&i.push(s);this.columnApplyStateService.applyColumnState({state:i,applyOrder:t},"gridInitializing")}n&&this.columnGroupStateService.setColumnGroupState(n,"gridInitializing")}}getColumnGroupState(){const t=this.columnGroupStateService.getColumnGroupState(),e=[];return t.forEach(({groupId:n,open:i})=>{i&&e.push(n)}),e.length?{openColumnGroupIds:e}:void 0}setColumnGroupState(t){var s;if(!Object.prototype.hasOwnProperty.call(t,"columnGroup"))return;const e=new Set((s=t.columnGroup)==null?void 0:s.openColumnGroupIds),i=this.columnGroupStateService.getColumnGroupState().map(({groupId:r})=>{const o=e.has(r);return o&&e.delete(r),{groupId:r,open:o}});e.forEach(r=>{i.push({groupId:r,open:!0})}),i.length&&(this.columnGroupStates=i),this.columnGroupStateService.setColumnGroupState(i,"gridInitializing")}getFilterState(){var n,i;let t=(n=this.filterManager)==null?void 0:n.getFilterModel();t&&Object.keys(t).length===0&&(t=void 0);const e=((i=this.filterManager)==null?void 0:i.getAdvancedFilterModel())??void 0;return t||e?{filterModel:t,advancedFilterModel:e}:void 0}setFilterState(t,e){var s,r;const{filterModel:n,advancedFilterModel:i}=t??{advancedFilterModel:e};n&&((s=this.filterManager)==null||s.setFilterModel(n,"columnFilter")),i&&((r=this.filterManager)==null||r.setAdvancedFilterModel(i))}getRangeSelectionState(){var e;const t=(e=this.rangeService)==null?void 0:e.getCellRanges().map(n=>{const{id:i,type:s,startRow:r,endRow:o,columns:a,startColumn:l}=n;return{id:i,type:s,startRow:r,endRow:o,colIds:a.map(c=>c.getColId()),startColId:l.getColId()}});return t!=null&&t.length?{cellRanges:t}:void 0}setCellSelectionState(t){const{gos:e,rangeService:n,columnModel:i,visibleColsService:s}=this;if(!Kl(e)||!n)return;const r=[];if(t.cellRanges.forEach(o=>{const a=[];if(o.colIds.forEach(c=>{const d=i.getCol(c);d&&a.push(d)}),!a.length)return;let l=i.getCol(o.startColId);if(!l){const c=s.getAllCols(),d=new Set(a);l=c.find(f=>d.has(f))}r.push({...o,columns:a,startColumn:l})}),AMe(e)&&PMe(e)&&r.length>1)return Fe("cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`");n.setCellRanges(r)}getScrollState(){var i;if(!this.isClientSideRowModel)return;const t=(i=this.ctrlsService.getGridBodyCtrl())==null?void 0:i.getScrollFeature(),{left:e}=(t==null?void 0:t.getHScrollPosition())??{left:0},{top:n}=(t==null?void 0:t.getVScrollPosition())??{top:0};return n||e?{top:n,left:e}:void 0}setScrollState(t){var i;if(!this.isClientSideRowModel)return;const{top:e,left:n}=t;(i=this.ctrlsService.getGridBodyCtrl())==null||i.getScrollFeature().setScrollPosition(e,n)}getSideBarState(){var t,e;return(e=(t=this.sideBarService)==null?void 0:t.getSideBarComp())==null?void 0:e.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const t=this.focusService.getFocusedCell();if(t){const{column:e,rowIndex:n,rowPinned:i}=t;return{colId:e.getColId(),rowIndex:n,rowPinned:i}}}setFocusedCellState(t){if(!this.isClientSideRowModel)return;const{colId:e,rowIndex:n,rowPinned:i}=t;this.focusService.setFocusedCell({column:this.columnModel.getCol(e),rowIndex:n,rowPinned:i,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){if(!this.paginationService)return;const t=this.paginationService.getCurrentPage(),e=this.gos.get("paginationAutoPageSize")?void 0:this.paginationService.getPageSize();if(!(!t&&!e))return{page:t,pageSize:e}}setPaginationState(t){this.paginationService&&(t.pageSize&&!this.gos.get("paginationAutoPageSize")&&this.paginationService.setPageSize(t.pageSize,"initialState"),typeof t.page=="number"&&this.paginationService.setPage(t.page))}getRowSelectionState(){var n;const t=this.selectionService.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!((n=t==null?void 0:t.toggledNodes)!=null&&n.length)?void 0:t}setRowSelectionState(t){this.selectionService.setSelectionState(t,"gridInitializing")}getRowGroupExpansionState(){const t=this.expansionService.getExpandedRows();return t.length?{expandedRowGroupIds:t}:void 0}setRowGroupExpansionState(t){this.expansionService.expandRows(t.expandedRowGroupIds)}updateColumnState(t){const e=this.getColumnState();let n=!1;Object.entries(e).forEach(([i,s])=>{kb(s,this.cachedState[i])||(n=!0)}),this.cachedState={...this.cachedState,...e},n&&this.dispatchStateUpdateEvent(t)}updateCachedState(t,e){const n=this.cachedState[t];this.setCachedStateValue(t,e),kb(e,n)||this.dispatchStateUpdateEvent([t])}setCachedStateValue(t,e){this.cachedState={...this.cachedState,[t]:e}}refreshStaleState(){this.staleStateKeys.forEach(t=>{switch(t){case"rowSelection":this.setCachedStateValue(t,this.getRowSelectionState());break}}),this.staleStateKeys.clear()}dispatchStateUpdateEvent(t){this.suppressEvents||(t.forEach(e=>this.queuedUpdateSources.add(e)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const t=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear(),this.eventService.dispatchEvent({type:"stateUpdated",sources:t,state:this.cachedState})}suppressEventsAndDispatchInitEvent(t){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),t(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}},nq={version:Mt,moduleName:"@ag-grid-community/state-core",beans:[XFe]},ZFe={version:Mt,moduleName:"@ag-grid-community/state-api",apiFunctions:{getState:$Fe},dependantModules:[nq]},JFe={version:Mt,moduleName:"@ag-grid-community/state",dependantModules:[nq,ZFe]};function QFe(t){return t.rowModel.isLastRowIndexKnown()}function eNe(t){var e;return((e=t.paginationService)==null?void 0:e.getPageSize())??100}function tNe(t){var e;return((e=t.paginationService)==null?void 0:e.getCurrentPage())??0}function nNe(t){var e;return((e=t.paginationService)==null?void 0:e.getTotalPages())??1}function iNe(t){return t.paginationService?t.paginationService.getMasterRowCount():t.rowModel.getRowCount()}function sNe(t){var e;(e=t.paginationService)==null||e.goToNextPage()}function rNe(t){var e;(e=t.paginationService)==null||e.goToPreviousPage()}function oNe(t){var e;(e=t.paginationService)==null||e.goToFirstPage()}function aNe(t){var e;(e=t.paginationService)==null||e.goToLastPage()}function lNe(t,e){var n;(n=t.paginationService)==null||n.goToPage(e)}var cNe=class extends Ee{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeService"}wireBeans(t){this.ctrlsService=t.ctrlsService,this.paginationService=t.paginationService}postConstruct(){this.ctrlsService.whenReady(this,t=>{this.centerRowsCtrl=t.center;const e=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:e,scrollVisibilityChanged:e}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.paginationService.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const t=this.centerRowsCtrl.getViewportSizeFeature().getBodyHeight();if(t>0){const e=()=>{const n=Math.max(z1(this.gos),1),i=Math.floor(t/n);this.paginationService.setPageSize(i,"autoCalculated")};this.isBodyRendered?vr(()=>e(),50)():(e(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};function uNe(t,e,n){t.addManagedElementListeners(e,{keydown:i=>{if(!i.defaultPrevented&&i.key===ve.TAB){const s=i.shiftKey;n.findNextFocusableElement(e,!1,s)||n.focusNextGridCoreContainer(s)&&i.preventDefault()}}})}var Pg="paginationPageSizeSelector",dNe=class extends On{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const t=this.selectPageSizeComp.getValue();if(!t)return;const e=Number(t);isNaN(e)||e<1||e===this.paginationService.getPageSize()||(this.paginationService.setPageSize(e,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(t){this.paginationService=t.paginationService}postConstruct(){this.addManagedPropertyListener(Pg,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:t=>this.handlePaginationChanged(t)})}handlePaginationChanged(t){if(!this.selectPageSizeComp||!(t!=null&&t.newPageSize))return;const e=this.paginationService.getPageSize();this.getPageSizeSelectorValues().includes(e)?this.selectPageSizeComp.setValue(e.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(t){this.selectPageSizeComp&&!t&&this.reset(),t&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){qr(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(Pg)!==!1}reloadPageSizesSelector(){const t=this.getPageSizeSelectorValues(),e=this.paginationService.getPageSize(),n=!e||!t.includes(e);if(n){const s=this.gos.exists("paginationPageSize"),r=this.gos.get(Pg)!==!0;Fe(`'paginationPageSize=${e}'${s?"":" (default value)"}, but ${e} is not included in${r?"":" the default"} paginationPageSizeSelector=[${t.join(", ")}].`),r||Fe(`Either set '${Pg}' to an array that includes ${e} or to 'false' to disable the page size selector.`),t.unshift("")}const i=String(n?"":e);this.selectPageSizeComp?(Cu(this.pageSizeOptions,t)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(t)),this.pageSizeOptions=t),this.selectPageSizeComp.setValue(i,!0)):this.createPageSizeSelectorComp(t,i),this.hasEmptyOption=n}createPageSizeSelectOptions(t){return t.map(e=>({value:String(e)}))}createPageSizeSelectorComp(t,e){const n=this.localeService.getLocaleTextFunc(),i=n("pageSizeSelectorLabel","Page Size:"),s=n("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new bN).addOptions(this.createPageSizeSelectOptions(t)).setValue(e).setAriaLabel(s).setLabel(i).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const t=[20,50,100],e=this.gos.get(Pg);return!Array.isArray(e)||jr(e)?t:[...e].sort((n,i)=>n-i)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},hNe={selector:"AG-PAGE-SIZE-SELECTOR",component:dNe},fNe=class extends nDe{constructor(){super(),this.btFirst=vt,this.btPrevious=vt,this.btNext=vt,this.btLast=vt,this.lbRecordCount=vt,this.lbFirstRowOnPage=vt,this.lbLastRowOnPage=vt,this.lbCurrent=vt,this.lbTotal=vt,this.pageSizeComp=vt,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1}wireBeans(t){this.rowModel=t.rowModel,this.paginationService=t.paginationService,this.focusService=t.focusService,this.ariaAnnouncementService=t.ariaAnnouncementService}postConstruct(){const t=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[hNe]);const{btFirst:e,btPrevious:n,btNext:i,btLast:s}=this;this.activateTabIndex([e,n,i,s]),e.insertAdjacentElement("afterbegin",Hr(t?"last":"first",this.gos)),n.insertAdjacentElement("afterbegin",Hr(t?"next":"previous",this.gos)),i.insertAdjacentElement("afterbegin",Hr(t?"previous":"next",this.gos)),s.insertAdjacentElement("afterbegin",Hr(t?"first":"last",this.gos)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:r=>{this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(r):this.focusService.focusGridInnerElement(r)},forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(t){this.allowFocusInnerElement=t}onPaginationChanged(){const e=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(e),e&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(t=>{const{el:e,fn:n}=t;this.addManagedListeners(e,{click:n,keydown:i=>{(i.key===ve.ENTER||i.key===ve.SPACE)&&(i.preventDefault(),n())}})}),uNe(this,this.getGui(),this.focusService),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationService.goToFirstPage()}formatNumber(t){const e=this.gos.getCallback("paginationNumberFormatter");if(e)return e({value:t});const n=this.localeService.getLocaleTextFunc(),i=n("thousandSeparator",","),s=n("decimalSeparator",".");return nAe(t,i,s)}getTemplate(){const t=this.localeService.getLocaleTextFunc(),e=t("page","Page"),n=t("to","to"),i=t("of","of"),s=t("firstPage","First Page"),r=t("previousPage","Previous Page"),o=t("nextPage","Next Page"),a=t("lastPage","Last Page"),l=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${l}">
                <ag-page-size-selector data-ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel">
                    <span id="ag-${l}-first-row" data-ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-to">${n}</span>
                    <span id="ag-${l}-last-row" data-ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-of">${i}</span>
                    <span id="ag-${l}-row-count" data-ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div data-ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${s}"></div>
                    <div data-ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${r}"></div>
                    <span class="ag-paging-description">
                        <span id="ag-${l}-start-page">${e}</span>
                        <span id="ag-${l}-start-page-number" data-ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-${l}-of-page">${i}</span>
                        <span id="ag-${l}-of-page-number" data-ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div data-ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>
                    <div data-ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>
                </span>
            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationService.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationService.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationService.goToLastPage()}enableOrDisableButtons(){const t=this.paginationService.getCurrentPage(),e=this.rowModel.isLastRowIndexKnown(),n=this.paginationService.getTotalPages();this.previousAndFirstButtonsDisabled=t===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const i=this.isZeroPagesToDisplay(),s=t===n-1;this.nextButtonDisabled=s||i,this.lastButtonDisabled=!e||i||t===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(t,e){gTe(t,e),t.classList.toggle("ag-disabled",e)}isZeroPagesToDisplay(){const t=this.rowModel.isLastRowIndexKnown(),e=this.paginationService.getTotalPages();return t&&e===0}updateLabels(){const t=this.rowModel.isLastRowIndexKnown(),e=this.paginationService.getTotalPages(),n=this.paginationService.getMasterRowCount(),i=t?n:null;if(i===1){const M=this.rowModel.getRow(0);if(M&&M.group&&!(M.groupData||M.aggData)){this.setTotalLabelsToZero();return}}const s=this.paginationService.getCurrentPage(),r=this.paginationService.getPageSize();let o,a;this.isZeroPagesToDisplay()?o=a=0:(o=r*s+1,a=o+r-1,t&&a>i&&(a=i));const l=o+r-1,c=!t&&n<l,d=this.formatNumber(o);this.lbFirstRowOnPage.textContent=d;let f;const p=this.localeService.getLocaleTextFunc();c?f=p("pageLastRowUnknown","?"):f=this.formatNumber(a),this.lbLastRowOnPage.textContent=f;const y=e>0?s+1:0,C=this.formatNumber(y);this.lbCurrent.textContent=C;let x,w;if(t)x=this.formatNumber(e),w=this.formatNumber(i);else{const M=p("more","more");x=M,w=M}this.lbTotal.textContent=x,this.lbRecordCount.textContent=w,this.announceAriaStatus(d,f,w,C,x)}announceAriaStatus(t,e,n,i,s){const r=this.localeService.getLocaleTextFunc(),o=r("page","Page"),a=r("to","to"),l=r("of","of"),c=`${t} ${a} ${e} ${l} ${n}`,d=`${o} ${i} ${l} ${s}`;c!==this.ariaRowStatus&&(this.ariaRowStatus=c,this.ariaAnnouncementService.announceValue(c,"paginationRow")),d!==this.ariaPageStatus&&(this.ariaPageStatus=d,this.ariaAnnouncementService.announceValue(d,"paginationPage"))}setTotalLabelsToZero(){const t=this.formatNumber(0);this.lbFirstRowOnPage.textContent=t,this.lbCurrent.textContent=t,this.lbLastRowOnPage.textContent=t,this.lbTotal.textContent=t,this.lbRecordCount.textContent=t,this.announceAriaStatus(t,t,t,t,t)}},pNe={selector:"AG-PAGINATION",component:fNe},mNe=class extends Ee{constructor(){super(...arguments),this.beanName="paginationService",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}wireBeans(t){this.rowModel=t.rowModel,this.pageBoundsService=t.pageBoundsService}postConstruct(){this.active=this.gos.get("pagination"),this.pageSizeFromGridOptions=this.gos.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return pNe}isPaginateChildRows(){return this.gos.get("groupRemoveSingleChildren")||this.gos.get("groupRemoveLowestSingleChildren")?!0:this.gos.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(t){!this.active||this.currentPage===t||typeof this.currentPage!="number"||(this.currentPage=t,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}isRowPresent(t){return t.rowIndex>=this.topDisplayedRowIndex&&t.rowIndex<=this.bottomDisplayedRowIndex}getPageForIndex(t){return Math.floor(t/this.pageSize)}goToPageWithIndex(t){if(!this.active)return;const e=this.getPageForIndex(t);this.goToPage(e)}isRowInPage(t){return this.active?this.getPageForIndex(t.rowIndex)===this.currentPage:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const t=this.rowModel.getRowCount(),e=Math.floor(t/this.pageSize);this.goToPage(e)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(t){this.currentPage=t}get pageSize(){return Ke(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:Ke(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:Ke(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:Ke(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.pageBoundsService.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const t=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==t&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(t,e){const n=this.pageSize;switch(e){case"autoCalculated":this.pageSizeAutoCalculated=t;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=t,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=t;break;case"gridOptions":this.pageSizeFromGridOptions=t,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}n!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}const t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.adjustCurrentPageIfInvalid();const e=this.pageSize*this.currentPage;let n=this.pageSize*(this.currentPage+1)-1;if(n>t&&(n=t),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(e),n===t)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const i=this.rowModel.getTopLevelRowDisplayedIndex(n+1);this.bottomDisplayedRowIndex=i-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}const t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>t&&(this.bottomDisplayedRowIndex=t)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(t){const{keepRenderedRows:e=!1,newPage:n=!1,newPageSize:i=!1}=t;this.eventService.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:n,newPageSize:i,keepRenderedRows:e})}},iq={version:Mt,moduleName:"@ag-grid-community/pagination-core",beans:[mNe,cNe]},gNe={version:Mt,moduleName:"@ag-grid-community/pagination-api",dependantModules:[iq],apiFunctions:{paginationIsLastPageFound:QFe,paginationGetPageSize:eNe,paginationGetCurrentPage:tNe,paginationGetTotalPages:nNe,paginationGetRowCount:iNe,paginationGoToNextPage:sNe,paginationGoToPreviousPage:rNe,paginationGoToFirstPage:oNe,paginationGoToLastPage:aNe,paginationGoToPage:lNe}},vNe={version:Mt,moduleName:"@ag-grid-community/pagination",dependantModules:[iq,gNe]},hr="clientSide",zs="serverSide",Sf="infinite",yNe={onGroupExpandedOrCollapsed:[hr],refreshClientSideRowModel:[hr],isRowDataEmpty:[hr],forEachLeafNode:[hr],forEachNodeAfterFilter:[hr],forEachNodeAfterFilterAndSort:[hr],resetRowHeights:[hr],applyTransaction:[hr],applyTransactionAsync:[hr],flushAsyncTransactions:[hr],getBestCostNodeSelection:[hr],getServerSideSelectionState:[zs],setServerSideSelectionState:[zs],applyServerSideTransaction:[zs],applyServerSideTransactionAsync:[zs],applyServerSideRowData:[zs],retryServerSideLoads:[zs],flushServerSideAsyncTransactions:[zs],refreshServerSide:[zs],getServerSideGroupLevelState:[zs],refreshInfiniteCache:[Sf],purgeInfiniteCache:[Sf],getInfiniteRowCount:[Sf],isLastRowIndexKnown:[Sf,zs],expandAll:[hr,zs],collapseAll:[hr,zs],onRowHeightChanged:[hr,zs],setRowCount:[Sf,zs],getCacheBlockState:[Sf,zs]},xNe={getValue:{version:"v31.3",new:"getCellValue"},getFirstDisplayedRow:{version:"v31.1",new:"getFirstDisplayedRowIndex"},getLastDisplayedRow:{version:"v31.1",new:"getLastDisplayedRowIndex"},getModel:{version:"v31.1",message:"Please use the appropriate grid API methods instead."},setColumnVisible:{version:"v31.1",old:"setColumnVisible(key,visible)",new:"setColumnsVisible([key],visible)"},setColumnPinned:{version:"v31.1",old:"setColumnPinned(key,pinned)",new:"setColumnsPinned([key],pinned)"},moveColumn:{version:"v31.1",old:"moveColumn(key, toIndex)",new:"moveColumns([key], toIndex)"},setColumnWidth:{version:"v31.1",old:"setColumnWidth(col, width)",new:"setColumnWidths([{key: col, newWidth: width}])"},autoSizeColumn:{version:"v31.1",old:"autoSizeColumn(key, skipHeader)",new:"autoSizeColumns([key], skipHeader)"},addAggFunc:{version:"v31.1",old:"addAggFunc(key, func)",new:"addAggFuncs({ key: func })"},removeValueColumn:{version:"v31.1",old:"removeValueColumn(colKey)",new:"removeValueColumns([colKey])"},addValueColumn:{version:"v31.1",old:"addValueColumn(colKey)",new:"addValueColumns([colKey])"},removeRowGroupColumn:{version:"v31.1",old:"removeRowGroupColumn(colKey)",new:"removeRowGroupColumns([colKey])"},addRowGroupColumn:{version:"v31.1",old:"addRowGroupColumn(colKey)",new:"addRowGroupColumns([colKey])"},removePivotColumn:{version:"v31.1",old:"removePivotColumn(colKey)",new:"removePivotColumns([colKey])"},addPivotColumn:{version:"v31.1",old:"addPivotColumn(colKey)",new:"addPivotColumns([colKey])"},showColumnMenuAfterButtonClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere."},showColumnMenuAfterMouseClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere."},getFilterInstance:{version:"v31.1",message:"'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."},showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"}};function CNe(t,e,n){const i=xNe[t];if(i){const{version:r,new:o,old:a,message:l}=i,c=a??t;return(...d)=>{const f=o?`Please use ${o} instead. `:"";return Fe(`Since ${r} api.${c} is deprecated. ${f}${l??""}`),e.apply(e,d)}}const s=yNe[t];return s?(...r)=>{const o=n.rowModel.getType();if(!s.includes(o)){gn(`api.${t} can only be called when gridOptions.rowModelType is ${s.join(" or ")}`);return}return e.apply(e,r)}:e}var wNe={columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"},checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}},Sc=(t,e)=>{const n=e.rowModelType??"clientSide";return n==="clientSide"||n==="serverSide"?{module:"@ag-grid-enterprise/row-grouping"}:null},bNe={enableRowGroup:Sc,rowGroup:Sc,rowGroupIndex:Sc,enablePivot:Sc,enableValue:Sc,pivot:Sc,pivotIndex:Sc,aggFunc:Sc,cellEditor:t=>t.cellEditor==="agRichSelect"||t.cellEditor==="agRichSelectCellEditor"?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:t=>{var n;const e=["columnsMenuTab","generalMenuTab"];return(n=t.menuTabs)!=null&&n.some(i=>e.includes(i))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(t,{rowSelection:e})=>e==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:e})=>e==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:e})=>e==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},children:()=>$f},SNe={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0},ENe=Object.keys(SNe),$f={objectName:"colDef",allProperties:ENe,docsUrl:"column-properties/",deprecations:wNe,validations:bNe},MNe=()=>({advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."},groupIncludeFooter:{version:"31.3",message:"Use `groupTotalRow` instead."},groupIncludeTotalFooter:{version:"31.3",message:"Use `grandTotalRow` instead."},suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."}}),TNe={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1},RNe=()=>({sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",validate:t=>{const e=t.rowModelType??"clientSide";switch(e){case"clientSide":{const n=`treeData requires 'getDataPath' in the ${e} row model.`;return t.getDataPath?null:n}case"serverSide":{const n=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${e} row model.`;return t.isServerSideGroup&&t.getServerSideGroupKey?null:n}}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],validate:t=>{switch(t.rowModelType??"clientSide"){case"clientSide":return null;case"serverSide":return t.suppressServerSideInfiniteScroll?"groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll":null}return null}},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:[void 0,"bottom"]}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},paginationPageSizeSelector:{validate:t=>{const e=t.paginationPageSizeSelector;return typeof e=="boolean"||e==null||e.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},rowSelection:{validate({rowSelection:t}){return t&&typeof t=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':t&&typeof t!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":null}},cellSelection:{module:"@ag-grid-enterprise/range-selection"},columnDefs:()=>$f,defaultColDef:()=>$f,defaultColGroupDef:()=>$f,autoGroupColumnDef:()=>$f,selectionColumnDef:()=>$f}),ANe=()=>({objectName:"gridOptions",allProperties:[...uy.ALL_PROPERTIES,...dy.EVENT_CALLBACKS],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:MNe(),validations:RNe()}),PNe=class extends Ee{constructor(){super(...arguments),this.beanName="validationService"}wireBeans(t){this.beans=t,this.gridOptions=t.gridOptions}postConstruct(){this.processGridOptions(this.gridOptions)}processGridOptions(t){this.processOptions(t,ANe())}validateApiFunction(t,e){return CNe(t,e,this.beans)}processOptions(t,e){const{validations:n,deprecations:i,allProperties:s,propertyExceptions:r,objectName:o,docsUrl:a}=e;s&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(t,[...r??[],...Object.keys(i)],s,o,a);const l=new Set;Object.keys(t).forEach(d=>{const f=i[d];if(f)if("renamed"in f){const{renamed:S,version:R}=f;l.add(`As of v${R}, ${String(d)} is deprecated. Please use ${String(S)} instead.`),t[S]=t[d]}else{const{message:S,version:R}=f;l.add(`As of v${R}, ${String(d)} is deprecated. ${S??""}`)}const p=t[d];if(p==null||p===!1)return;const m=n[d];let y;if(m)if(typeof m=="function"){const S=m(t,this.gridOptions);if(!S)return;if("objectName"in S){const R=t[d];if(Array.isArray(R)){R.forEach(P=>{this.processOptions(P,S)});return}this.processOptions(t[d],S);return}y=S}else y=m;else return;const{module:C,dependencies:x,validate:w,supportedRowModels:M}=y;if(M){const S=this.gridOptions.rowModelType??"clientSide";if(!M.includes(S)){l.add(`${String(d)} is not supported with the '${S}' row model.`);return}}if(C){const S=Array.isArray(C)?C:[C];let R=!0;if(S.forEach(P=>{this.gos.assertModuleRegistered(P,String(d))||(R=!1,l.add(`${String(d)} is only available when ${P} is loaded.`))}),!R)return}if(x){const S=this.checkForRequiredDependencies(d,x,t);if(S){l.add(S);return}}if(w){const S=w(t,this.gridOptions);if(S){l.add(S);return}}}),l.size>0&&l.forEach(d=>{Fe(d)})}checkForRequiredDependencies(t,e,n){const s=Object.entries(e).find(([a,l])=>{const c=n[a];return!l.includes(c)});if(!s)return null;const[r,o]=s;return o.length>1?`'${String(t)}' requires '${r}' to be one of [${o.join(", ")}].`:`'${String(t)}' requires '${r}' to be ${o[0]}.`}checkProperties(t,e,n,i,s){const r=["__ob__","__v_skip","__metadata__"],o=DNe(Object.getOwnPropertyNames(t),[...r,...e,...n],n);if(Wo(o,(a,l)=>{let c=`invalid ${i} property '${a}' did you mean any of these: ${l.slice(0,8).join(", ")}.`;n.includes("context")&&(c+=`
If you are trying to annotate ${i} with application data, use the '${i}.context' property instead.`),Fe(c)}),Object.keys(o).length>0&&s){const a=this.getFrameworkOverrides().getDocLink(s);Fe(`to see all the valid ${i} properties please check: ${a}`)}}};function DNe(t,e,n){const i={},s=t.filter(r=>!e.some(o=>o===r));return s.length>0&&s.forEach(r=>i[r]=s$({inputValue:r,allSuggestions:n}).values),i}var _Ne={version:Mt,moduleName:"@ag-grid-community/core"},FNe={version:Mt,moduleName:"@ag-grid-community/core-validations",beans:[PNe]},NNe={version:Mt,moduleName:"@ag-grid-community/core-community-features",dependantModules:[_Ne,FNe,qPe,VAe,JFe,E_e,NDe,vNe,WFe]},INe=class extends Ee{constructor(){super(...arguments),this.beanName="gridDestroyService",this.destroyCalled=!1}wireBeans(t){this.beans=t}destroy(){var t,e;this.destroyCalled||(this.eventService.dispatchEvent({type:"gridPreDestroyed",state:((t=this.beans.stateService)==null?void 0:t.getState())??{}}),this.destroyCalled=!0,(e=this.beans.ctrlsService.get("gridCtrl"))==null||e.destroyGridUi(),this.beans.context.destroy(),super.destroy())}isDestroyCalled(){return this.destroyCalled}},Hw=new Set(["gridPreDestroyed","fillStart","pasteStart"]),ONe=t=>t==="checkboxSelected"||t==="rowClicked"||t==="spaceKey"||t==="uiSelectAll"||t==="uiSelectAllCurrentPage"||t==="uiSelectAllFiltered",LNe=new Map([...uy.BOOLEAN_PROPERTIES.map(t=>[t,rD]),...uy.NUMBER_PROPERTIES.map(t=>[t,b$]),["groupAggFiltering",t=>typeof t=="function"?t:rD(t)],["pageSize",xa(1)],["autoSizePadding",xa(0)],["keepDetailRowsCount",xa(1)],["rowBuffer",xa(0)],["infiniteInitialRowCount",xa(1)],["cacheOverflowSize",xa(1)],["cacheBlockSize",xa(1)],["serverSideInitialRowCount",xa(1)],["viewportRowModelPageSize",xa(1)],["viewportRowModelBufferSize",xa(0)]]);function sq(t,e){const n=LNe.get(t);return n?n(e):e}function kNe(t){const e={};return Object.entries(t).forEach(([n,i])=>{const s=sq(n,i);e[n]=s}),e}var rq=class oq extends Ee{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new im,this.globalEventHandlerFactory=e=>(n,i)=>{if(!this.isAlive())return;const s=Hw.has(n);if(s&&!e||!s&&e)return;const r=dy.getCallbackForEvent(n),o=this.gridOptions[r];typeof o=="function"&&this.frameworkOverrides.wrapOutgoing(()=>{o(i)})}}wireBeans(e){this.gridOptions=e.gridOptions,this.eGridDiv=e.eGridDiv,this.validationService=e.validationService,this.environment=e.environment,this.api=e.gridApi,this.gridId=e.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){const e=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),e),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:n})=>{this.updateGridOptions({options:n,force:!0,source:"gridOptionsUpdated"})}})}get(e){return this.gridOptions[e]??TNe[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return Ke(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(i=>{const s=i;return s.api=this.api,s.context=this.gridOptionsContext,e(s)})}updateGridOptions({options:e,force:n,source:i="api"}){var o;const s={id:oq.changeSetId++,properties:[]},r=[];Object.entries(e).forEach(([a,l])=>{i==="api"&&cTe[a]&&Fe(`${a} is an initial property and cannot be updated.`);const c=sq(a,l),d=n||typeof c=="object"&&i==="api",f=this.gridOptions[a];if(d||f!==c){this.gridOptions[a]=c;const p={type:a,currentValue:c,previousValue:f,changeSet:s,source:i};r.push(p)}}),(o=this.validationService)==null||o.processGridOptions(this.gridOptions),s.properties=r.map(a=>a.type),r.forEach(a=>{this.gridOptions.debug&&Kc(`Updated property ${a.type} from`,a.previousValue," to ",a.currentValue),this.propertyEventService.dispatchEvent(a)})}addPropertyEventListener(e,n){this.propertyEventService.addEventListener(e,n)}removePropertyEventListener(e,n){this.propertyEventService.removeEventListener(e,n)}getDomDataKey(){return this.domDataKey}getGridCommonParams(){return{api:this.api,context:this.gridOptionsContext}}addGridCommonParams(e){const n=e;return n.api=this.api,n.context=this.gridOptionsContext,n}assertModuleRegistered(e,n){return $o.__assertRegistered(e,n,this.gridId)}isModuleRegistered(e){return $o.__isRegistered(e,this.gridId)}};rq.changeSetId=0;var BNe=rq,HNe=class extends Ee{constructor(){super(...arguments),this.beanName="headerPositionUtils"}wireBeans(t){this.visibleColsService=t.visibleColsService,this.ctrlsService=t.ctrlsService}findHeader(t,e){let n,i;if(Ei(t.column)?n=this.visibleColsService.getGroupAtDirection(t.column,e):(i=`getCol${e}`,n=this.visibleColsService[i](t.column)),!n)return;const{headerRowIndex:s}=t;if(this.getHeaderRowType(s)!=="filter"){const a=[n];for(;n.getParent();)n=n.getParent(),a.push(n);n=a[a.length-1-s]}const{column:r,headerRowIndex:o}=this.getHeaderIndexToFocus(n,s);return{column:r,headerRowIndex:o}}getHeaderIndexToFocus(t,e){let n;if(Ei(t)&&this.isAnyChildSpanningHeaderHeight(t)&&t.isPadding()){const i=t;n=i.getLeafColumns()[0];let s=n;for(;s!==i;)e++,s=s.getParent()}return{column:n||t,headerRowIndex:e}}isAnyChildSpanningHeaderHeight(t){return t?t.getLeafColumns().some(e=>e.isSpanHeaderHeight()):!1}getColumnVisibleParent(t,e){const n=this.getHeaderRowType(e),i=n==="filter",s=n==="column";let r=i?t:t.getParent(),o=e-1,a=o;if(s&&this.isAnyChildSpanningHeaderHeight(t.getParent())){for(;r&&r.isPadding();)r=r.getParent(),o--;a=o,o<0&&(r=t,o=e,a=void 0)}return{column:r,headerRowIndex:o,headerRowIndexWithoutSpan:a}}getColumnVisibleChild(t,e,n="After"){const i=this.getHeaderRowType(e);let s=t,r=e+1;const o=r;if(i==="group"){const a=t.getDisplayedLeafColumns(),l=n==="After"?a[0]:Kt(a),c=[];let d=l;for(;d.getParent()!==t;)d=d.getParent(),c.push(d);if(s=l,l.isSpanHeaderHeight())for(let f=c.length-1;f>=0;f--){const p=c[f];if(!p.isPadding()){s=p;break}r++}else s=Kt(c),s||(s=l)}return{column:s,headerRowIndex:r,headerRowIndexWithoutSpan:o}}getHeaderRowType(t){const e=this.ctrlsService.getHeaderRowContainerCtrl();if(e)return e.getRowType(t)}findColAtEdgeForHeaderRow(t,e){const n=this.visibleColsService.getAllCols(),i=n[e==="start"?0:n.length-1];if(!i)return;const s=this.ctrlsService.getHeaderRowContainerCtrl(i.getPinned()),r=s==null?void 0:s.getRowType(t);if(r=="group"){const o=this.visibleColsService.getColGroupAtLevel(i,t);return{headerRowIndex:t,column:o}}return{headerRowIndex:r==null?-1:t,column:i}}},VNe=class extends Ee{constructor(){super(...arguments),this.beanName="localeService"}getLocaleTextFunc(){const t=this.gos.getCallback("getLocaleText");if(t)return(n,i,s)=>t({key:n,defaultValue:i,variableValues:s});const e=this.gos.get("localeText");return(n,i,s)=>{let r=e&&e[n];if(r&&s&&s.length){let o=0;for(;!(o>=s.length||r.indexOf("${variable}")===-1);)r=r.replace("${variable}",s[o++])}return r??i}}},zNe=class extends Ee{constructor(){super(...arguments),this.beanName="apiEventService",this.syncEventListeners=new Map,this.asyncEventListeners=new Map,this.syncGlobalEventListeners=new Set,this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new oN(this.getFrameworkOverrides())}addEventListener(t,e){const n=this.frameworkEventWrappingService.wrap(e),i=Hb(this.gos)&&!Hw.has(t),s=i?this.asyncEventListeners:this.syncEventListeners;s.has(t)||s.set(t,new Set),s.get(t).add(n),this.eventService.addEventListener(t,n,i)}removeEventListener(t,e){var r;const n=this.frameworkEventWrappingService.unwrap(e),i=this.asyncEventListeners.get(t),s=!!(i!=null&&i.delete(n));s||(r=this.syncEventListeners.get(t))==null||r.delete(n),this.eventService.removeEventListener(t,n,s)}addGlobalListener(t){const e=this.frameworkEventWrappingService.wrapGlobal(t);if(Hb(this.gos)){const i=(r,o)=>{Hw.has(r)&&e(r,o)},s=(r,o)=>{Hw.has(r)||e(r,o)};this.globalEventListenerPairs.set(t,{syncListener:i,asyncListener:s}),this.eventService.addGlobalListener(i,!1),this.eventService.addGlobalListener(s,!0)}else this.syncGlobalEventListeners.add(e),this.eventService.addGlobalListener(e,!1)}removeGlobalListener(t){const e=this.frameworkEventWrappingService.unwrapGlobal(t);if(this.globalEventListenerPairs.has(e)){const{syncListener:i,asyncListener:s}=this.globalEventListenerPairs.get(e);this.eventService.removeGlobalListener(i,!1),this.eventService.removeGlobalListener(s,!0),this.globalEventListenerPairs.delete(t)}else this.syncGlobalEventListeners.delete(e),this.eventService.removeGlobalListener(e,!1)}destroyEventListeners(t,e){t.forEach((n,i)=>{n.forEach(s=>this.eventService.removeEventListener(i,s,e)),n.clear()}),t.clear()}destroyGlobalListeners(t,e){t.forEach(n=>this.eventService.removeGlobalListener(n,e)),t.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach(({syncListener:t,asyncListener:e})=>{this.eventService.removeGlobalListener(t,!1),this.eventService.removeGlobalListener(e,!0)}),this.globalEventListenerPairs.clear()}},GNe=class extends Ee{constructor(){super(...arguments),this.beanName="pageBoundsListener"}wireBeans(t){this.rowModel=t.rowModel,this.paginationService=t.paginationService,this.pageBoundsService=t.pageBoundsService}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(t){this.calculatePages(),this.eventService.dispatchEvent({type:"paginationChanged",animate:(t==null?void 0:t.animate)??!1,newData:(t==null?void 0:t.newData)??!1,newPage:(t==null?void 0:t.newPage)??!1,newPageSize:(t==null?void 0:t.newPageSize)??!1,keepRenderedRows:(t==null?void 0:t.keepRenderedRows)??!1})}calculatePages(){this.paginationService?this.paginationService.calculatePages():this.pageBoundsService.calculateBounds(0,this.rowModel.getRowCount()-1)}},UNe=class extends Ee{constructor(){super(...arguments),this.beanName="pageBoundsService",this.pixelOffset=0}wireBeans(t){this.rowModel=t.rowModel}getFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getCurrentPageHeight(){return Yt(this.topRowBounds)||Yt(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){const t=this.topRowBounds?this.topRowBounds.rowTop:0,e=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:t,pageLastPixel:e}}calculateBounds(t,e){this.topRowBounds=this.rowModel.getRowBounds(t),this.topRowBounds&&(this.topRowBounds.rowIndex=t),this.bottomRowBounds=this.rowModel.getRowBounds(e),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=e),this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const t=Ke(this.topRowBounds)?this.topRowBounds.rowTop:0;this.pixelOffset!==t&&(this.pixelOffset=t,this.eventService.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},jNe=class extends Ee{constructor(){super(),this.beanName="ariaAnnouncementService",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.updateAnnouncement=vr(this.updateAnnouncement.bind(this),200)}wireBeans(t){this.eGridDiv=t.eGridDiv}postConstruct(){const t=di(this.gos),e=this.descriptionContainer=t.createElement("div");e.classList.add("ag-aria-description-container"),V9(e,"polite"),mTe(e,"additions text"),pTe(e,!0),this.eGridDiv.appendChild(e)}announceValue(t,e){this.pendingAnnouncements.set(e,t),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const t=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.isAlive()&&this.descriptionContainer&&(this.descriptionContainer.textContent=t)},50)}destroy(){super.destroy();const{descriptionContainer:t}=this;t&&(qr(t),t.parentElement&&t.parentElement.removeChild(t)),this.descriptionContainer=null,this.eGridDiv=null,this.pendingAnnouncements.clear()}},WNe=class extends Ee{constructor(){super(...arguments),this.beanName="columnAnimationService",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}wireBeans(t){this.ctrlsService=t.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,t=>this.gridBodyCtrl=t.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(t){this.suppressAnimation=t}start(){this.active||this.gos.get("suppressColumnMoveAnimation")||this.gos.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(t){this.activeNext?this.executeNextFuncs.push(t):t()}executeLaterVMTurn(t){this.active?this.executeLaterFuncs.push(t):t()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const t=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===t&&this.gridBodyCtrl.setColumnMovingCss(!1)})}flush(t,e){if(this.executeNextFuncs.length===0&&this.executeLaterFuncs.length===0){t(),e();return}const n=i=>{for(;i.length;){const s=i.pop();s&&s()}};this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{t(),n(this.executeNextFuncs)},0),window.setTimeout(()=>{e(),n(this.executeLaterFuncs)},200)})}},$Ne=class extends Ee{constructor(){super(...arguments),this.beanName="columnHoverService"}setMouseOver(t){this.updateState(t)}clearMouseOver(){this.updateState(null)}isHovered(t){return!!this.selectedColumns&&this.selectedColumns.indexOf(t)>=0}updateState(t){this.selectedColumns=t,this.eventService.dispatchEvent({type:"columnHoverChanged"})}},qNe=class extends Ee{constructor(){super(...arguments),this.beanName="overlayService",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}wireBeans(t){this.userComponentFactory=t.userComponentFactory,this.rowModel=t.rowModel,this.columnModel=t.columnModel,this.ctrlsService=t.ctrlsService}postConstruct(){this.isClientSide=Gn(this.gos);const t=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:t,rowDataUpdated:t,gridSizeChanged:this.onGridSizeChanged.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",t)}setOverlayWrapperComp(t){this.overlayWrapperComp=t,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.overlayWrapperComp}isExclusive(){return this.state===1&&!!this.overlayWrapperComp}getOverlayWrapper(){return this.overlayWrapperComp}showLoadingOverlay(){this.showInitialOverlay=!1;const t=this.gos.get("loading");!t&&(t!==void 0||this.gos.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1,!(this.gos.get("loading")||this.gos.get("suppressNoRowsOverlay"))&&this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){Fe("Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.");return}this.doHideOverlay()}updateOverlayVisibility(){if(!this.overlayWrapperComp){this.state=0;return}let t=this.gos.get("loading");this.showInitialOverlay&&t===void 0&&!this.gos.get("suppressLoadingOverlay")&&(t=!this.gos.get("columnDefs")||!this.columnModel.isReady()||!this.gos.get("rowData")&&this.isClientSide),t?this.state!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,this.rowModel.isEmpty()&&!this.gos.get("suppressNoRowsOverlay")&&this.isClientSide?this.state!==2&&this.doShowNoRowsOverlay():this.state!==0&&this.doHideOverlay())}doShowLoadingOverlay(){this.overlayWrapperComp&&(this.state=1,this.showOverlay(this.userComponentFactory.getLoadingOverlayCompDetails({}),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.overlayWrapperComp&&(this.state=2,this.showOverlay(this.userComponentFactory.getNoRowsOverlayCompDetails({}),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.overlayWrapperComp&&(this.state=0,this.overlayWrapperComp.hideOverlay(),this.updateExclusive())}showOverlay(t,e,n){var s;const i=t.newAgStackInstance();(s=this.overlayWrapperComp)==null||s.showOverlay(i,e,this.isExclusive(),n),this.refreshWrapperPadding()}updateExclusive(){const t=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==t&&this.eventService.dispatchEvent({type:"overlayExclusiveChanged"})}onGridSizeChanged(){this.refreshWrapperPadding()}refreshWrapperPadding(){if(!this.overlayWrapperComp)return;let t=0;if(this.state===2){const e=this.ctrlsService.get("gridHeaderCtrl");t=(e==null?void 0:e.getHeaderHeight())||0}else this.wrapperPadding!==0&&(t=0);this.wrapperPadding!==t&&(this.wrapperPadding=t,this.overlayWrapperComp.updateOverlayWrapperPaddingTop(t))}},KNe=class extends Ee{constructor(){super(...arguments),this.beanName="rowCssClassCalculator"}wireBeans(t){this.stylingService=t.stylingService}getInitialRowClasses(t){const e=[];return Ke(t.extraCssClass)&&e.push(t.extraCssClass),e.push("ag-row"),e.push(t.rowFocused?"ag-row-focus":"ag-row-no-focus"),t.fadeRowIn&&e.push("ag-opacity-zero"),e.push(t.rowIsEven?"ag-row-even":"ag-row-odd"),t.rowNode.isRowPinned()&&e.push("ag-row-pinned"),t.rowNode.isSelected()&&e.push("ag-row-selected"),t.rowNode.footer&&e.push("ag-row-footer"),e.push("ag-row-level-"+t.rowLevel),t.rowNode.stub&&e.push("ag-row-loading"),t.fullWidthRow&&e.push("ag-full-width-row"),t.expandable&&(e.push("ag-row-group"),e.push(t.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),t.rowNode.dragging&&e.push("ag-row-dragging"),tV(e,this.processClassesFromGridOptions(t.rowNode)),tV(e,this.preProcessRowClassRules(t.rowNode)),e.push(t.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),t.firstRowOnPage&&e.push("ag-row-first"),t.lastRowOnPage&&e.push("ag-row-last"),t.fullWidthRow&&(t.pinned==="left"&&e.push("ag-cell-last-left-pinned"),t.pinned==="right"&&e.push("ag-cell-first-right-pinned")),e}processClassesFromGridOptions(t){const e=[],n=r=>{typeof r=="string"?e.push(r):Array.isArray(r)&&r.forEach(o=>e.push(o))},i=this.gos.get("rowClass");if(i){if(typeof i=="function")return Fe("rowClass should not be a function, please use getRowClass instead"),[];n(i)}const s=this.gos.getCallback("getRowClass");if(s){const r={data:t.data,node:t,rowIndex:t.rowIndex},o=s(r);n(o)}return e}preProcessRowClassRules(t){const e=[];return this.processRowClassRules(t,n=>{e.push(n)},()=>{}),e}processRowClassRules(t,e,n){const i=this.gos.addGridCommonParams({data:t.data,node:t,rowIndex:t.rowIndex});this.stylingService.processClassRules(void 0,this.gos.get("rowClassRules"),i,e,n)}calculateRowLevel(t){return t.group?t.level:t.parent?t.parent.level+1:0}},YNe=class extends Ee{constructor(){super(...arguments),this.beanName="rowContainerHeightService",this.scrollY=0,this.uiBodyHeight=0}wireBeans(t){this.ctrlsService=t.ctrlsService}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=TTe(),this.gos.get("debug")&&Kc("RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,n=this.getUiBodyHeight();(e!==this.scrollY||n!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=n,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const t=this.scrollY/this.maxScrollY,e=t*this.pixelsToShave;this.gos.get("debug")&&Kc(`RowContainerHeightService - Div Stretch Offset = ${e} (${this.pixelsToShave} * ${t})`),this.setDivStretchOffset(e)}setUiContainerHeight(t){t!==this.uiContainerHeight&&(this.uiContainerHeight=t,this.eventService.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(t){const e=typeof t=="number"?Math.floor(t):null;this.divStretchOffset!==e&&(this.divStretchOffset=e,this.eventService.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(t){this.modelHeight=t,this.stretching=t!=null&&this.maxDivHeight>0&&t>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(t){return t-this.divStretchOffset}getUiBodyHeight(){const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(t){if(this.pixelsToShave<=0)return t;const e=this.modelHeight-this.getUiBodyHeight(),n=t/e;return this.maxScrollY*n}},XNe=class extends Ee{constructor(){super(...arguments),this.beanName="rowNodeSorter"}wireBeans(t){this.valueService=t.valueService,this.columnModel=t.columnModel,this.showRowGroupColsService=t.showRowGroupColsService}postConstruct(){this.isAccentedSort=this.gos.get("accentedSort"),this.primaryColumnsSortGroups=Ma(this.gos),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=Ma(this.gos))}doFullSort(t,e){const n=(s,r)=>({currentPos:r,rowNode:s}),i=t.map(n);return i.sort(this.compareRowNodes.bind(this,e)),i.map(s=>s.rowNode)}compareRowNodes(t,e,n){const i=e.rowNode,s=n.rowNode;for(let r=0,o=t.length;r<o;r++){const a=t[r],l=a.sort==="desc",c=this.getValue(i,a.column),d=this.getValue(s,a.column);let f;const p=this.getComparator(a,i);if(p?f=p(c,d,i,s,l):f=bMe(c,d,this.isAccentedSort),!isNaN(f)&&f!==0)return a.sort==="asc"?f:f*-1}return e.currentPos-n.currentPos}getComparator(t,e){const n=t.column,i=n.getColDef().comparator;if(i!=null)return i;if(!n.getColDef().showRowGroup)return;const s=!e.group&&n.getColDef().field;if(!s)return;const r=this.columnModel.getColDefCol(s);if(r)return r.getColDef().comparator}getValue(t,e){var i,s,r;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(e,t,!1,!1);if(t.rowGroupColumn===e){if(nN(this.gos,this.columnModel.isPivotActive())){const l=(i=t.allLeafChildren)==null?void 0:i[0];return l?this.valueService.getValue(e,l,!1,!1):void 0}const a=(s=this.showRowGroupColsService)==null?void 0:s.getShowRowGroupCol(e.getId());return a?(r=t.groupData)==null?void 0:r[a.getId()]:void 0}if(!(t.group&&e.getColDef().showRowGroup))return this.valueService.getValue(e,t,!1,!1)}},Y1=class{constructor(t,e){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=t,this.pathRoot={rowNode:e,children:null},this.mapToItems[e.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(t,e){if(t.children)for(let n=0;n<t.children.length;n++)this.depthFirstSearchChangedPath(t.children[n],e);e(t.rowNode)}depthFirstSearchEverything(t,e,n){if(t.childrenAfterGroup)for(let i=0;i<t.childrenAfterGroup.length;i++){const s=t.childrenAfterGroup[i];s.childrenAfterGroup?this.depthFirstSearchEverything(t.childrenAfterGroup[i],e,n):n&&e(s)}e(t)}forEachChangedNodeDepthFirst(t,e=!1,n=!1){this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,t):this.depthFirstSearchEverything(this.pathRoot.rowNode,t,e)}executeFromRootNode(t){t(this.pathRoot.rowNode)}createPathItems(t){let e=t,n=0;for(;!this.mapToItems[e.id];){const i={rowNode:e,children:null};this.mapToItems[e.id]=i,n++,e=e.parent}return n}populateColumnsMap(t,e){if(!this.keepingColumns||!e)return;let n=t;for(;n;)this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={}),e.forEach(i=>this.nodeIdsToColumns[n.id][i.getId()]=!0),n=n.parent}linkPathItems(t,e){let n=t;for(let i=0;i<e;i++){const s=this.mapToItems[n.id],r=this.mapToItems[n.parent.id];r.children||(r.children=[]),r.children.push(s),n=n.parent}}addParentNode(t,e){if(!t||t.isRowPinned())return;const n=this.createPathItems(t);this.linkPathItems(t,n),this.populateColumnsMap(t,e)}canSkip(t){return this.active&&!this.mapToItems[t.id]}getValueColumnsForNode(t,e){if(!this.keepingColumns)return e;const n=this.nodeIdsToColumns[t.id];return e.filter(s=>n[s.getId()])}getNotValueColumnsForNode(t,e){if(!this.keepingColumns)return null;const n=this.nodeIdsToColumns[t.id];return e.filter(s=>!n[s.getId()])}},aq=class extends Ee{constructor(){super(...arguments),this.beanName="selectionService",this.selectedNodes=new Map,this.selectionCtx=new QPe,this.rowSelectionMode=void 0}wireBeans(t){this.rowModel=t.rowModel,this.pageBoundsService=t.pageBoundsService}postConstruct(){const{gos:t,rowModel:e,onRowSelected:n}=this;this.selectionCtx.init(e),this.rowSelectionMode=zb(t),this.groupSelectsChildren=hh(t),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],()=>{const i=hh(t),s=zb(t);(i!==this.groupSelectsChildren||s!==this.rowSelectionMode)&&(this.groupSelectsChildren=i,this.rowSelectionMode=s,this.deselectAllRowNodes({source:"api"}))}),this.addManagedEventListeners({rowSelected:n.bind(this)})}destroy(){super.destroy(),this.resetNodes(),this.selectionCtx.reset()}isMultiSelect(){return this.rowSelectionMode==="multiRow"}overrideSelectionValue(t,e){if(!ONe(e))return t;const n=this.selectionCtx.getRoot();return n?n.isSelected()??!1:!0}setNodesSelected(t){var f;const{newValue:e,clearSelection:n,suppressFinishActions:i,rangeSelect:s,nodes:r,event:o,source:a}=t;if(r.length===0)return 0;if(r.length>1&&!this.isMultiSelect())return Fe("cannot multi select unless selection mode is 'multiRow'"),0;const l=this.groupSelectsChildren&&t.groupSelectsFiltered===!0,c=r.map(p=>p.footer?p.sibling:p);if(s){if(c.length>1)return Fe("cannot range select while selecting multiple rows"),0;const p=c[0],m=this.overrideSelectionValue(e,a);if(this.isMultiSelect()){if(this.selectionCtx.isInRange(p)){const y=this.selectionCtx.truncate(p);return m&&this.selectRange(y.discard,!1,a),this.selectRange(y.keep,m,a)}else if(this.selectionCtx.getRoot()!==p){const x=this.selectionCtx.extend(p,this.groupSelectsChildren);return m&&this.selectRange(x.discard,!1,a),this.selectRange(x.keep,m,a)}}}i||this.selectionCtx.setRoot(c[0]);let d=0;for(let p=0;p<c.length;p++){const m=c[p];l&&m.group||m.selectThisNode(e,o,a)&&d++,this.groupSelectsChildren&&((f=m.childrenAfterGroup)!=null&&f.length)&&(d+=this.selectChildren(m,e,l,a))}return i||(e&&(n||!this.isMultiSelect())&&(d+=this.clearOtherNodes(c[0],a)),d>0&&(this.updateGroupsFromChildrenSelections(a),this.dispatchSelectionChanged(a))),d}selectRange(t,e,n){let i=0;return t.forEach(s=>{if(s.group&&this.groupSelectsChildren)return;s.selectThisNode(e,void 0,n)&&i++}),i>0&&(this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)),i}selectChildren(t,e,n,i){const s=n?t.childrenAfterAggFilter:t.childrenAfterGroup;return Yt(s)?0:this.setNodesSelected({newValue:e,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:n,source:i,nodes:s})}getSelectedNodes(){const t=[];return this.selectedNodes.forEach(e=>{e&&t.push(e)}),t}getSelectedRows(){const t=[];return this.selectedNodes.forEach(e=>{e&&e.data&&t.push(e.data)}),t}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(t){const e=new Map;this.selectedNodes.forEach((n,i)=>{n&&t(n)&&e.set(i,n)}),this.selectedNodes=e}updateGroupsFromChildrenSelections(t,e){if(!this.groupSelectsChildren||!Gn(this.gos))return!1;const i=this.rowModel.getRootNode();e||(e=new Y1(!0,i),e.setInactive());let s=!1;return e.forEachChangedNodeDepthFirst(r=>{if(r!==i){const o=r.calculateSelectedFromChildren();s=r.selectThisNode(o===null?!1:o,void 0,t)||s}}),s}clearOtherNodes(t,e){const n=new Map;let i=0;return this.selectedNodes.forEach(s=>{if(s&&s.id!==t.id){const r=this.selectedNodes.get(s.id);i+=r.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:e}),this.groupSelectsChildren&&s.parent&&n.set(s.parent.id,s.parent)}}),n.forEach(s=>{const r=s.calculateSelectedFromChildren();s.selectThisNode(r===null?!1:r,void 0,e)}),i}onRowSelected(t){const e=t.node;this.groupSelectsChildren&&e.group||(e.isSelected()?this.selectedNodes.set(e.id,e):this.selectedNodes.delete(e.id))}syncInRowNode(t,e){this.syncInOldRowNode(t,e),this.syncInNewRowNode(t)}syncInOldRowNode(t,e){if(Ke(e)&&t.id!==e.id&&e){const i=e.id;this.selectedNodes.get(i)==t&&this.selectedNodes.set(e.id,e)}}syncInNewRowNode(t){this.selectedNodes.has(t.id)?(t.setSelectedInitialValue(!0),this.selectedNodes.set(t.id,t)):t.setSelectedInitialValue(!1)}reset(t){const e=this.getSelectionCount();this.resetNodes(),e&&this.dispatchSelectionChanged(t)}resetNodes(){var t;(t=this.selectedNodes)==null||t.clear()}getBestCostNodeSelection(){if(!Gn(this.gos))return;const e=this.rowModel.getTopLevelNodes();if(e===null)return;const n=[];function i(s){for(let r=0,o=s.length;r<o;r++){const a=s[r];if(a.isSelected())n.push(a);else{const l=a;l.group&&l.children&&i(l.children)}}}return i(e),n}isEmpty(){let t=0;return this.selectedNodes.forEach(e=>{e&&t++}),t===0}deselectAllRowNodes(t){const e=o=>o.selectThisNode(!1,void 0,i),n=Gn(this.gos),{source:i,justFiltered:s,justCurrentPage:r}=t;if(r||s){if(!n){gn("selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(s,r).forEach(e)}else this.selectedNodes.forEach(o=>{o&&e(o)}),this.reset(i);this.selectionCtx.reset(),n&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(i),this.dispatchSelectionChanged(i)}getSelectedCounts(t,e){let n=0,i=0;const s=r=>{this.groupSelectsChildren&&r.group||(r.isSelected()?n++:r.selectable&&i++)};return this.getNodesToSelect(t,e).forEach(s),{selectedCount:n,notSelectedCount:i}}getSelectAllState(t,e){const{selectedCount:n,notSelectedCount:i}=this.getSelectedCounts(t,e);return n===0&&i===0?!1:n>0&&i>0?null:n>0}hasNodesToSelect(t=!1,e=!1){return this.getNodesToSelect(t,e).filter(n=>n.selectable).length>0}getNodesToSelect(t=!1,e=!1){this.validateSelectAllType();const n=[];if(e)return this.forEachNodeOnPage(s=>{if(!s.group){n.push(s);return}if(!s.expanded){const r=o=>{var a;n.push(o),(a=o.childrenAfterFilter)!=null&&a.length&&o.childrenAfterFilter.forEach(r)};r(s);return}this.groupSelectsChildren||n.push(s)}),n;const i=this.rowModel;return t?(i.forEachNodeAfterFilter(s=>{n.push(s)}),n):(i.forEachNode(s=>{n.push(s)}),n)}forEachNodeOnPage(t){const e=this.pageBoundsService.getFirstRow(),n=this.pageBoundsService.getLastRow();for(let i=e;i<=n;i++){const s=this.rowModel.getRow(i);s&&t(s)}}selectAllRowNodes(t){if(RMe(this.gos)&&!R9(this.gos))return Fe("cannot multi select unless selection mode is 'multiRow'");this.validateSelectAllType();const{source:e,justFiltered:n,justCurrentPage:i}=t,s=this.getNodesToSelect(n,i);s.forEach(r=>r.selectThisNode(!0,void 0,e)),this.selectionCtx.setRoot(s[0]??null),this.selectionCtx.setEndRange(Kt(s)??null),Gn(this.gos)&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(e),this.dispatchSelectionChanged(e)}getSelectionState(){const t=[];return this.selectedNodes.forEach(e=>{e!=null&&e.id&&t.push(e.id)}),t.length?t:null}setSelectionState(t,e){if(!Array.isArray(t))return gn("Invalid selection state. When using client-side row model, the state must conform to `string[]`.");const n=new Set(t),i=[];this.rowModel.forEachNode(s=>{n.has(s.id)&&i.push(s)}),this.setNodesSelected({newValue:!0,nodes:i,source:e})}dispatchSelectionChanged(t){this.eventService.dispatchEvent({type:"selectionChanged",source:t})}validateSelectAllType(){if(!Gn(this.gos))throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`)}},ZNe=class extends Ee{constructor(){super(...arguments),this.beanName="selectableService"}wireBeans(t){this.rowModel=t.rowModel,this.selectionService=t.selectionService}postConstruct(){this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>this.updateSelectable())}updateSelectableAfterGrouping(){this.updateSelectable(!0)}updateSelectable(t=!1){const{gos:e}=this,n=Bb(e),i=iN(e);if(!n||!i)return;const s=hh(e),r=Gn(e)&&s,o=[],a=l=>{if(t&&!l.group)return;if(r&&l.group){const d=l.childrenAfterGroup.some(f=>f.selectable===!0);l.setRowSelectable(d,!0);return}const c=(i==null?void 0:i(l))??!0;l.setRowSelectable(c,!0),!c&&l.isSelected()&&o.push(l)};if(r){const l=this.rowModel;new Y1(!1,l.getRootNode()).forEachChangedNodeDepthFirst(a,!0,!0)}else this.rowModel.forEachNode(a);o.length&&this.selectionService.setNodesSelected({nodes:o,newValue:!1,source:"selectableChanged"}),r&&this.selectionService instanceof aq&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}},TV=["asc","desc",null],JNe=class extends Ee{constructor(){super(...arguments),this.beanName="sortController"}wireBeans(t){this.columnModel=t.columnModel,this.funcColsService=t.funcColsService,this.showRowGroupColsService=t.showRowGroupColsService}progressSort(t,e,n){const i=this.getNextSortDirection(t);this.setSortForColumn(t,i,e,n)}setSortForColumn(t,e,n,i){e!=="asc"&&e!=="desc"&&(e=null);const s=Ma(this.gos);let r=[t];if(s&&t.getColDef().showRowGroup){const l=this.funcColsService.getSourceColumnsForGroupColumn(t),c=l==null?void 0:l.filter(d=>d.isSortable());c&&(r=[t,...c])}r.forEach(l=>l.setSort(e,i));const o=(n||this.gos.get("alwaysMultiSort"))&&!this.gos.get("suppressMultiSort"),a=[];if(!o){const l=this.clearSortBarTheseColumns(r,i);a.push(...l)}this.updateSortIndex(t),a.push(...r),this.dispatchSortChangedEvents(i,a)}updateSortIndex(t){var a;const e=Ma(this.gos),n=(a=this.showRowGroupColsService)==null?void 0:a.getShowRowGroupCol(t.getId()),i=e&&n||t,s=this.getColumnsWithSortingOrdered();this.columnModel.getAllCols().forEach(l=>l.setSortIndex(null));const r=s.filter(l=>e&&l.getColDef().showRowGroup?!1:l!==i);(i.getSort()?[...r,i]:r).forEach((l,c)=>{l.setSortIndex(c)})}onSortChanged(t,e){this.dispatchSortChangedEvents(t,e)}isSortActive(){const e=this.columnModel.getAllCols().filter(n=>!!n.getSort());return e&&e.length>0}dispatchSortChangedEvents(t,e){const n={type:"sortChanged",source:t};e&&(n.columns=e),this.eventService.dispatchEvent(n)}clearSortBarTheseColumns(t,e){const n=[];return this.columnModel.getAllCols().forEach(i=>{t.includes(i)||(i.getSort()&&n.push(i),i.setSort(void 0,e))}),n}getNextSortDirection(t){let e;if(t.getColDef().sortingOrder?e=t.getColDef().sortingOrder:this.gos.get("sortingOrder")?e=this.gos.get("sortingOrder"):e=TV,!Array.isArray(e)||e.length<=0)return Fe(`sortingOrder must be an array with at least one element, currently it's ${e}`),null;const n=e.indexOf(t.getSort()),i=n<0,s=n==e.length-1;let r;return i||s?r=e[0]:r=e[n+1],TV.indexOf(r)<0?(Fe("invalid sort type ",r),null):r}getIndexedSortMap(){let t=this.columnModel.getAllCols().filter(r=>!!r.getSort());if(this.columnModel.isPivotMode()){const r=Ma(this.gos);t=t.filter(o=>{var d;const a=!!o.getAggFunc(),l=!o.isPrimary(),c=r?(d=this.showRowGroupColsService)==null?void 0:d.getShowRowGroupCol(o.getId()):o.getColDef().showRowGroup;return a||l||c})}const e=this.funcColsService.getRowGroupColumns().filter(r=>!!r.getSort()),n={};t.forEach((r,o)=>n[r.getId()]=o),t.sort((r,o)=>{const a=r.getSortIndex(),l=o.getSortIndex();if(a!=null&&l!=null)return a-l;if(a==null&&l==null){const c=n[r.getId()],d=n[o.getId()];return c>d?1:-1}else return l==null?-1:1});const i=Ma(this.gos)&&!!e.length;i&&(t=[...new Set(t.map(r=>{var o;return((o=this.showRowGroupColsService)==null?void 0:o.getShowRowGroupCol(r.getId()))??r}))]);const s=new Map;return t.forEach((r,o)=>s.set(r,o)),i&&e.forEach(r=>{const o=this.showRowGroupColsService.getShowRowGroupCol(r.getId());s.set(r,s.get(o))}),s}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([t,e],[n,i])=>e-i).map(([t])=>t)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(t=>t.getSort()).map(t=>({sort:t.getSort(),colId:t.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(t=>t.getSort()).map(t=>({sort:t.getSort(),column:t}))}canColumnDisplayMixedSort(t){const e=Ma(this.gos),n=!!t.getColDef().showRowGroup;return e&&n}getDisplaySortForColumn(t){const e=this.funcColsService.getSourceColumnsForGroupColumn(t);if(!this.canColumnDisplayMixedSort(t)||!(e!=null&&e.length))return t.getSort();const i=t.getColDef().field!=null||!!t.getColDef().valueGetter?[t,...e]:e,s=i[0].getSort();return i.every(o=>o.getSort()==s)?s:"mixed"}getDisplaySortIndexForColumn(t){return this.getIndexedSortMap().get(t)}},QNe=class extends Ee{constructor(){super(...arguments),this.beanName="syncService",this.waitingForColumns=!1}wireBeans(t){this.ctrlsService=t.ctrlsService,this.columnModel=t.columnModel,this.rowModel=t.rowModel}postConstruct(){this.addManagedPropertyListener("columnDefs",t=>this.setColumnDefs(t))}start(){this.ctrlsService.whenReady(this,()=>{const t=this.gos.get("columnDefs");t?this.setColumnsAndData(t):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(t){this.columnModel.setColumnDefs(t??[],"gridInitializing"),this.rowModel.start()}gridReady(){this.eventService.dispatchEvent({type:"gridReady"});const t=this.gos.isModuleRegistered("@ag-grid-enterprise/core");this.gos.get("debug")&&Kc(`initialised successfully, enterprise = ${t}`)}setColumnDefs(t){const e=this.gos.get("columnDefs");if(e){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(e);return}this.columnModel.setColumnDefs(e,Sd(t.source))}}},eIe="paste",tIe=class extends Ee{constructor(){super(...arguments),this.beanName="changeDetectionService"}wireBeans(t){this.rowModel=t.rowModel,this.rowRenderer=t.rowRenderer}postConstruct(){Gn(this.gos)&&(this.clientSideRowModel=this.rowModel),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(t){t.source!==eIe&&this.doChangeDetection(t.node,t.column)}doChangeDetection(t,e){if(this.gos.get("suppressChangeDetection"))return;const n=[t];if(this.clientSideRowModel&&!t.isRowPinned()){const i=this.gos.get("aggregateOnlyChangedColumns"),s=new Y1(i,this.clientSideRowModel.getRootNode());s.addParentNode(t.parent,[e]),this.clientSideRowModel.doAggregate(s),s.forEachChangedNodeDepthFirst(r=>{n.push(r)})}this.rowRenderer.refreshCells({rowNodes:n})}},nIe=class extends Ee{constructor(){super(...arguments),this.beanName="expressionService",this.expressionToFunctionCache={}}evaluate(t,e){if(typeof t=="string")return this.evaluateExpression(t,e);gn("value should be either a string or a function",t)}evaluateExpression(t,e){try{return this.createExpressionFunction(t)(e.value,e.context,e.oldValue,e.newValue,e.value,e.node,e.data,e.colDef,e.rowIndex,e.api,e.getValue,e.column,e.columnGroup)}catch(n){return Kc("Processing of the expression failed"),Kc("Expression = ",t),Kc("Params = ",e),Kc("Exception = ",n),null}}createExpressionFunction(t){if(this.expressionToFunctionCache[t])return this.expressionToFunctionCache[t];const e=this.createFunctionBody(t),n=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",e);return this.expressionToFunctionCache[t]=n,n}createFunctionBody(t){return t.indexOf("return")>=0?t:"return "+t+";"}},iIe=class extends Ee{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){this.active=this.gos.get("valueCache"),this.neverExpires=this.gos.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(t,e,n){this.active&&(t.__cacheVersion!==this.cacheVersion&&(t.__cacheVersion=this.cacheVersion,t.__cacheData={}),t.__cacheData[e]=n)}getValue(t,e){if(!(!this.active||t.__cacheVersion!==this.cacheVersion))return t.__cacheData[e]}},sIe=class extends Ee{constructor(){super(...arguments),this.beanName="valueService",this.initialised=!1,this.isSsrm=!1}wireBeans(t){this.expressionService=t.expressionService,this.columnModel=t.columnModel,this.valueCache=t.valueCache,this.dataTypeService=t.dataTypeService}postConstruct(){this.initialised||this.init()}init(){this.isSsrm=Th(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const t=n=>this.callColumnCellValueChangedHandler(n),e=Hb(this.gos);this.eventService.addEventListener("cellValueChanged",t,e),this.addDestroyFunc(()=>this.eventService.removeEventListener("cellValueChanged",t,e)),this.addManagedPropertyListener("treeData",n=>this.isTreeData=n.currentValue)}getValueForDisplay(t,e){const n=e.leafGroup&&this.columnModel.isPivotMode(),i=e.group&&e.expanded&&!e.footer&&!n,s=this.gos.get("groupSuppressBlankHeader");if(!i||s)return this.getValue(t,e);let r=!1;const o=this.gos.get("groupTotalRow")??this.gos.get("groupIncludeFooter");typeof o!="function"?r=!!o:r=!!(this.gos.getCallback("groupTotalRow")??this.gos.getCallback("groupIncludeFooter"))({node:this});const a=i&&r;return this.getValue(t,e,!1,a)}getValue(t,e,n=!1,i=!1){if(this.initialised||this.init(),!e)return;const s=t.getColDef(),r=s.field,o=t.getColId(),a=e.data;let l;const c=e.groupData&&e.groupData[o]!==void 0,d=!i&&e.aggData&&e.aggData[o]!==void 0,f=this.isSsrm&&i&&!!t.getColDef().aggFunc,p=this.isSsrm&&e.footer&&e.field&&(t.getColDef().showRowGroup===!0||t.getColDef().showRowGroup===e.field);if(n&&s.filterValueGetter?l=this.executeFilterValueGetter(s.filterValueGetter,a,t,e):this.isTreeData&&d?l=e.aggData[o]:this.isTreeData&&s.valueGetter?l=this.executeValueGetter(s.valueGetter,a,t,e):this.isTreeData&&r&&a?l=wv(a,r,t.isFieldContainsDots()):c?l=e.groupData[o]:d?l=e.aggData[o]:s.valueGetter?l=this.executeValueGetter(s.valueGetter,a,t,e):p?l=wv(a,e.field,t.isFieldContainsDots()):r&&a&&!f&&(l=wv(a,r,t.isFieldContainsDots())),this.cellExpressions&&typeof l=="string"&&l.indexOf("=")===0){const m=l.substring(1);l=this.executeValueGetter(m,a,t,e)}if(l==null){const m=this.getOpenedGroup(e,t);if(m!=null)return m}return l}parseValue(t,e,n,i){const s=t.getColDef(),r=s.valueParser;if(Ke(r)){const o=this.gos.addGridCommonParams({node:e,data:e==null?void 0:e.data,oldValue:i,newValue:n,colDef:s,column:t});return typeof r=="function"?r(o):this.expressionService.evaluate(r,o)}return n}getDeleteValue(t,e){return Ke(t.getColDef().valueParser)?this.parseValue(t,e,"",this.getValueForDisplay(t,e))??null:null}formatValue(t,e,n,i,s=!0){let r=null,o;const a=t.getColDef();if(i?o=i:s&&(o=a.valueFormatter),o){const l=this.gos.addGridCommonParams({value:n,node:e,data:e?e.data:null,colDef:a,column:t});typeof o=="function"?r=o(l):r=this.expressionService.evaluate(o,l)}else if(a.refData)return a.refData[n]||"";return r==null&&Array.isArray(n)&&(r=n.join(", ")),r}getOpenedGroup(t,e){if(!this.gos.get("showOpenedGroup")||!e.getColDef().showRowGroup)return;const i=e.getColDef().showRowGroup;let s=t.parent;for(;s!=null;){if(s.rowGroupColumn&&(i===!0||i===s.rowGroupColumn.getColId()))return s.key;s=s.parent}}setValue(t,e,n,i){const s=this.columnModel.getColDefCol(e);if(!t||!s)return!1;Yt(t.data)&&(t.data={});const{field:r,valueSetter:o}=s.getColDef();if(Yt(r)&&Yt(o))return Fe("you need either field or valueSetter set on colDef for editing to work"),!1;if(this.dataTypeService&&!this.dataTypeService.checkType(s,n))return Fe("Data type of the new value does not match the cell data type of the column"),!1;const a=this.gos.addGridCommonParams({node:t,data:t.data,oldValue:this.getValue(s,t),newValue:n,colDef:s.getColDef(),column:s});a.newValue=n;let l;if(Ke(o)?typeof o=="function"?l=o(a):l=this.expressionService.evaluate(o,a):l=this.setValueUsingField(t.data,r,n,s.isFieldContainsDots()),l===void 0&&(l=!0),!l)return!1;t.resetQuickFilterAggregateText(),this.valueCache.onDataChanged();const c=this.getValue(s,t);return this.eventService.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:a.column,colDef:a.colDef,data:t.data,node:t,oldValue:a.oldValue,newValue:c,value:c,source:i}),!0}callColumnCellValueChangedHandler(t){const e=t.colDef.onCellValueChanged;typeof e=="function"&&this.getFrameworkOverrides().wrapOutgoing(()=>{e({node:t.node,data:t.data,oldValue:t.oldValue,newValue:t.newValue,colDef:t.colDef,column:t.column,api:t.api,context:t.context})})}setValueUsingField(t,e,n,i){if(!e)return!1;let s=!1;if(!i)s=t[e]===n,s||(t[e]=n);else{const r=e.split(".");let o=t;for(;r.length>0&&o;){const a=r.shift();r.length===0?(s=o[a]===n,s||(o[a]=n)):o=o[a]}}return!s}executeFilterValueGetter(t,e,n,i){const s=this.gos.addGridCommonParams({data:e,node:i,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,i)});return typeof t=="function"?t(s):this.expressionService.evaluate(t,s)}executeValueGetter(t,e,n,i){const s=n.getColId(),r=this.valueCache.getValue(i,s);if(r!==void 0)return r;const o=this.gos.addGridCommonParams({data:e,node:i,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,i)});let a;return typeof t=="function"?a=t(o):a=this.expressionService.evaluate(t,o),this.valueCache.setValue(i,s,a),a}getValueCallback(t,e){const n=this.columnModel.getColDefCol(e);return n?this.getValue(n,t):null}getKeyForNode(t,e){const n=this.getValue(t,e),i=t.getColDef().keyCreator;let s=n;if(i){const r=this.gos.addGridCommonParams({value:n,colDef:t.getColDef(),column:t,node:e,data:e.data});s=i(r)}return typeof s=="string"||s==null||(s=String(s),s==="[object Object]"&&Fe("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),s}},NN=class fd{static applyGlobalGridOptions(e){if(!fd.gridOptions)return e;let n={};return $s(n,fd.gridOptions,!0,!0),fd.mergeStrategy==="deep"?$s(n,e,!0,!0):n={...n,...e},fd.gridOptions.context&&(n.context=fd.gridOptions.context),e.context&&(fd.mergeStrategy==="deep"&&n.context&&$s(e.context,n.context,!0,!0),n.context=e.context),n}};NN.gridOptions=void 0;NN.mergeStrategy="shallow";var lq=NN;function rIe(t){var e;return(e=lq.gridOptions)==null?void 0:e[t]}var oIe=1,aIe=class{create(t,e,n,i,s){const r=lq.applyGlobalGridOptions(e),o=kNe(r),a=o.gridId??String(oIe++),l=this.getRegisteredModules(s,a),c=this.createBeansList(o.rowModelType,l,a),d=this.createProvidedBeans(t,o,s);if(!c){gn("Failed to create grid.");return}const f={providedBeanInstances:d,beanClasses:c,gridId:a,beanInitComparator:xDe,beanDestroyComparator:CDe,derivedBeans:[uDe]},p=new TRe(f);return this.registerModuleUserComponents(p,l),this.registerControllers(p,l),this.registerModuleApiFunctions(p,l),n(p),p.getBean("syncService").start(),i&&i(p),p.getBean("gridApi")}registerControllers(t,e){const n=t.getBean("ctrlsFactory");e.forEach(i=>{i.controllers&&i.controllers.forEach(s=>n.register(s))})}getRegisteredModules(t,e){const n=t?t.modules:null,i=$o.__getRegisteredModules(e),s=[],r={},o=(a,l,c)=>{(f=>{r[f.moduleName]||(r[f.moduleName]=!0,s.push(f),$o.__register(f,a,c))})(l),l.dependantModules&&l.dependantModules.forEach(f=>o(a,f,c))};return o(!!(n!=null&&n.length)||!$o.__isPackageBased(),NNe,void 0),n&&n.forEach(a=>o(!0,a,e)),i&&i.forEach(a=>o(!$o.__isPackageBased(),a,void 0)),s}registerModuleUserComponents(t,e){const n=this.extractModuleEntity(e,s=>s.userComponents?s.userComponents:[]),i=t.getBean("userComponentRegistry");n.forEach(({name:s,classImp:r,params:o})=>{i.registerDefaultComponent(s,r,o)})}registerModuleApiFunctions(t,e){const n=t.getBean("apiFunctionService");e.forEach(i=>{const s=i.apiFunctions;s&&Object.keys(s).forEach(o=>{n==null||n.addFunction(o,s[o])})})}createProvidedBeans(t,e,n){let i=n?n.frameworkOverrides:null;Yt(i)&&(i=new X$);const s={gridOptions:e,eGridDiv:t,globalEventListener:n?n.globalEventListener:null,globalSyncEventListener:n?n.globalSyncEventListener:null,frameworkOverrides:i};return n&&n.providedBeanInstances&&Object.assign(s,n.providedBeanInstances),s}createBeansList(t="clientSide",e,n){const i=e.filter(l=>!l.rowModel||l.rowModel===t),s={clientSide:"@ag-grid-community/client-side-row-model",infinite:"@ag-grid-community/infinite-row-model",serverSide:"@ag-grid-enterprise/server-side-row-model",viewport:"@ag-grid-enterprise/viewport-row-model"};if(!s[t]){gn("Could not find row model for rowModelType = ",t);return}if(!$o.__assertRegistered(s[t],`rowModelType = '${t}'`,n))return;const r=[MDe,SDe,HNe,INe,cDe,oRe,gDe,vDe,aPe,r$,YNe,rPe,VNe,JPe,DRe,oTe,ADe,BNe,rDe,aq,KMe,zAe,UNe,GNe,XPe,nIe,qMe,sPe,iIe,sIe,KPe,oPe,RRe,PDe,iPe,TDe,aDe,eDe,nPe,JNe,$Ne,WNe,ZNe,tIe,lPe,dDe,KNe,XNe,bDe,DDe,EDe,wDe,QNe,qNe,cPe,zNe,jNe,uPe,ZMe,hDe,JMe,YMe,fDe,pDe,sTe,XMe,nTe,mDe,iTe,GMe],o=this.extractModuleEntity(i,l=>l.beans?l.beans:[]);r.push(...o);const a=[];return r.forEach(l=>{a.indexOf(l)<0&&a.push(l)}),a}extractModuleEntity(t,e){return[].concat(...t.map(e))}},lIe=class extends Ee{constructor(){super(...arguments),this.beanName="rowModelHelperService"}wireBeans(t){this.rowModel=t.rowModel}postConstruct(){const t=this.rowModel;switch(t.getType()){case"clientSide":this.clientSideRowModel=t;break;case"infinite":this.infiniteRowModel=t;break;case"serverSide":this.serverSideRowModel=t;break}}getClientSideRowModel(){return this.clientSideRowModel}getInfiniteRowModel(){return this.infiniteRowModel}getServerSideRowModel(){return this.serverSideRowModel}};function cIe(t){t.expansionService.expandAll(!0)}function uIe(t){t.expansionService.expandAll(!1)}function dIe(t){var i,s;const e=(i=t.rowModelHelperService)==null?void 0:i.getClientSideRowModel(),n=(s=t.rowModelHelperService)==null?void 0:s.getServerSideRowModel();e?e.onRowHeightChanged():n&&n.onRowHeightChanged()}var hIe={version:Mt,moduleName:"@ag-grid-community/csrm-ssrm-shared-api",apiFunctions:{expandAll:cIe,collapseAll:uIe,onRowHeightChanged:dIe}},fIe=class{wrap(t,e,n=[],i){const s=this.createWrapper(t,i);return e.forEach(r=>{this.createMethod(s,r,!0)}),n.forEach(r=>{this.createMethod(s,r,!1)}),s}createMethod(t,e,n){t.addMethod(e,this.createMethodProxy(t,e,n))}createMethodProxy(t,e,n){return function(){return t.hasMethod(e)?t.callMethod(e,arguments):(n&&Fe("Framework component is missing the method "+e+"()"),null)}}},am=typeof global>"u"?{}:global;am.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;am.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;am.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;am.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;am.Node=typeof Node>"u"?{}:Node;am.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var pIe="ROOT_NODE_ID",bA=0,mIe=class{constructor(t,e,n,i,s,r){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=t,this.gos=e,this.eventService=n,this.funcColsService=i,this.beans=r,this.selectionService=s,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=pIe,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}getCopyOfNodesMap(){return N9(this.allNodesMap)}getRowNode(t){return this.allNodesMap[t]}setRowData(t){if(typeof t=="string"){Fe("rowData must be an array.");return}this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(t);const e=this.rootNode,n=this.rootNode.sibling;e.childrenAfterFilter=null,e.childrenAfterGroup=null,e.childrenAfterAggFilter=null,e.childrenAfterSort=null,e.childrenMapped=null,e.updateHasChildren(),this.nextId=0,this.allNodesMap={},t?e.allLeafChildren=t.map((i,s)=>this.createNode(i,this.rootNode,bA,s)):(e.allLeafChildren=[],e.childrenAfterGroup=[]),n&&(n.childrenAfterFilter=e.childrenAfterFilter,n.childrenAfterGroup=e.childrenAfterGroup,n.childrenAfterAggFilter=e.childrenAfterAggFilter,n.childrenAfterSort=e.childrenAfterSort,n.childrenMapped=e.childrenMapped,n.allLeafChildren=e.allLeafChildren)}updateRowData(t){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(t.add);const e={rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},n=[];return this.executeRemove(t,e,n),this.executeUpdate(t,e,n),this.executeAdd(t,e),this.updateSelection(n,"rowDataChanged"),e}updateRowOrderFromRowData(t){const e=this.rootNode.allLeafChildren,n=(e==null?void 0:e.length)??0,i=new Map;let s=-1,r=-1;for(let o=0;o<n;++o){const a=e[o],l=a.data;l!==t[o]&&(r<0&&(s=o),r=o,i.set(l,a))}if(s<0)return!1;for(let o=s;o<=r;++o){const a=i.get(t[o]);a!==void 0&&(e[o]=a,a.sourceRowIndex=o)}return!0}isRowCountReady(){return this.rowCountReady}dispatchRowDataUpdateStartedEvent(t){this.eventService.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:t!=null&&t.length?t[0]:null})}updateSelection(t,e){const n=t.length>0;n&&this.selectionService.setNodesSelected({newValue:!1,nodes:t,suppressFinishActions:!0,source:e}),this.selectionService.updateGroupsFromChildrenSelections(e),n&&this.eventService.dispatchEvent({type:"selectionChanged",source:e})}executeAdd(t,e){const n=t.add;if(jr(n))return;const i=this.rootNode.allLeafChildren;let s=i.length;if(typeof t.addIndex=="number"&&(s=this.sanitizeAddIndex(t.addIndex),s>0&&this.gos.get("treeData")))for(let l=0;l<i.length;l++){const c=i[l];if((c==null?void 0:c.rowIndex)==s-1){s=l+1;break}}const r=n.map((a,l)=>this.createNode(a,this.rootNode,bA,s+l));if(s<i.length){const a=i.slice(0,s),l=i.slice(s,i.length),c=a.length+r.length;for(let d=0,f=l.length;d<f;++d)l[d].sourceRowIndex=c+d;this.rootNode.allLeafChildren=[...a,...r,...l],e.rowsInserted=!0}else this.rootNode.allLeafChildren=i.concat(r);const o=this.rootNode.sibling;o&&(o.allLeafChildren=i),e.rowNodeTransaction.add=r}sanitizeAddIndex(t){var n;const e=((n=this.rootNode.allLeafChildren)==null?void 0:n.length)??0;return t<0||t>=e||Number.isNaN(t)?e:Math.ceil(t)}executeRemove(t,{rowNodeTransaction:e},n){var o,a;const{remove:i}=t;if(jr(i))return;const s={};i.forEach(l=>{const c=this.lookupRowNode(l);c&&(c.isSelected()&&n.push(c),c.clearRowTopAndRowIndex(),s[c.id]=!0,delete this.allNodesMap[c.id],e.remove.push(c))}),this.rootNode.allLeafChildren=((o=this.rootNode.allLeafChildren)==null?void 0:o.filter(l=>!s[l.id]))??null,(a=this.rootNode.allLeafChildren)==null||a.forEach((l,c)=>{l.sourceRowIndex=c});const r=this.rootNode.sibling;r&&(r.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(t,{rowNodeTransaction:e},n){const{update:i}=t;jr(i)||i.forEach(s=>{const r=this.lookupRowNode(s);r&&(r.updateData(s),!r.selectable&&r.isSelected()&&n.push(r),this.setMasterForRow(r,s,bA,!1),e.update.push(r))})}lookupRowNode(t){var i;const e=f0(this.gos);let n;if(e){const s=e({data:t,level:0});if(n=this.allNodesMap[s],!n)return gn(`could not find row id=${s}, data item was not found for this id`),null}else if(n=(i=this.rootNode.allLeafChildren)==null?void 0:i.find(s=>s.data===t),!n)return gn("could not find data item as object was not found",t),gn("Consider using getRowId to help the Grid find matching row data"),null;return n||null}createNode(t,e,n,i){const s=new Xd(this.beans);return s.sourceRowIndex=i,s.group=!1,this.setMasterForRow(s,t,n,!0),e&&(s.parent=e),s.level=n,s.setDataAndId(t,this.nextId.toString()),this.allNodesMap[s.id]&&Fe(`duplicate node id '${s.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[s.id]=s,this.nextId++,s}setMasterForRow(t,e,n,i){if(this.gos.get("treeData"))t.setMaster(!1),i&&(t.expanded=!1);else{if(this.gos.get("masterDetail")){const o=this.gos.get("isRowMaster");o?t.setMaster(o(e)):t.setMaster(!0)}else t.setMaster(!1);if(i){const o=this.funcColsService.getRowGroupColumns(),a=o?o.length:0,l=n+a;t.expanded=t.master?this.isExpanded(l):!1}}}isExpanded(t){const e=this.gos.get("groupDefaultExpanded");return e===-1?!0:t<e}},gIe=class extends Ee{constructor(){super(...arguments),this.beanName="rowModel",this.onRowHeightChanged_debounced=vr(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[],this.hasStarted=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowCountReady=!1}wireBeans(t){this.beans=t,this.columnModel=t.columnModel,this.funcColsService=t.funcColsService,this.selectionService=t.selectionService,this.valueCache=t.valueCache,this.environment=t.environment,this.filterStage=t.filterStage,this.sortStage=t.sortStage,this.flattenStage=t.flattenStage,this.groupStage=t.groupStage,this.aggregationStage=t.aggregationStage,this.pivotStage=t.pivotStage,this.filterAggregatesStage=t.filterAggregatesStage}postConstruct(){const t=this.refreshModel.bind(this,{step:jt.EVERYTHING}),e=!this.gos.get("suppressAnimationFrame"),n=this.refreshModel.bind(this,{step:jt.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:e});this.addManagedEventListeners({newColumnsLoaded:n,columnRowGroupChanged:t,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:jt.PIVOT}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:t,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new Xd(this.beans),this.nodeManager=new mIe(this.rootNode,this.gos,this.eventService,this.funcColsService,this.selectionService,this.beans)}addPropertyListeners(){const t=new Set(["treeData","masterDetail"]),e=new Set(["groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),n=new Set(["excludeChildrenWhenTreeDataFiltering"]),i=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),s=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly","grandTotalRow"]),r=new Set(["postSortRows","groupDisplayType","accentedSort"]),o=new Set([]),a=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter","groupTotalRow"]),l=[...t,...e,...n,...i,...i,...s,...r,...o,...a];this.addManagedPropertyListeners(l,c=>{var p;const d=(p=c.changeSet)==null?void 0:p.properties;if(!d)return;const f=m=>d.some(y=>m.has(y));if(f(t)){this.setRowData(this.rootNode.allLeafChildren.map(m=>m.data));return}if(f(e)){this.refreshModel({step:jt.EVERYTHING});return}if(f(n)){this.refreshModel({step:jt.FILTER});return}if(f(i)){this.refreshModel({step:jt.PIVOT});return}if(f(s)){this.refreshModel({step:jt.AGGREGATE});return}if(f(r)){this.refreshModel({step:jt.SORT});return}if(f(o)){this.refreshModel({step:jt.FILTER_AGGREGATES});return}f(a)&&this.refreshModel({step:jt.MAP})}),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()}setInitialData(){const t=this.gos.get("rowData");t&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(t))}ensureRowHeightsValid(t,e,n,i){let s,r=!1;do{s=!1;const o=this.getRowIndexAtPixel(t),a=this.getRowIndexAtPixel(e),l=Math.max(o,n),c=Math.min(a,i);for(let d=l;d<=c;d++){const f=this.getRow(d);if(f.rowHeightEstimated){const p=au(this.gos,f);f.setRowHeight(p.height),s=!0,r=!0}}s&&this.setRowTopAndRowIndex()}while(s);return r}setRowTopAndRowIndex(){const t=this.environment.getDefaultRowHeight();let e=0;const n=new Set,i=ds(this.gos,"normal");for(let s=0;s<this.rowsToDisplay.length;s++){const r=this.rowsToDisplay[s];if(r.id!=null&&n.add(r.id),r.rowHeight==null){const o=au(this.gos,r,i,t);r.setRowHeight(o.height,o.estimated)}r.setRowTop(e),r.setRowIndex(s),e+=r.rowHeight}return n}clearRowTopAndRowIndex(t,e){const n=t.isActive(),i=r=>{r&&r.id!=null&&!e.has(r.id)&&r.clearRowTopAndRowIndex()},s=r=>{if(i(r),i(r.detailNode),i(r.sibling),r.hasChildren()&&r.childrenAfterGroup){const o=r.level==-1;n&&!o&&!r.expanded||r.childrenAfterGroup.forEach(s)}};s(this.rootNode)}ensureRowsAtPixel(t,e,n=0){const i=this.getRowIndexAtPixel(e),s=this.getRow(i),r=!this.gos.get("suppressAnimationFrame");if(s===t[0])return!1;const o=this.rootNode.allLeafChildren;return t.forEach(a=>{yr(o,a)}),t.forEach((a,l)=>{Gb(o,a,Math.max(i+n,0)+l)}),t.forEach((a,l)=>{a.sourceRowIndex=l}),this.refreshModel({step:jt.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:r,rowNodesOrderChanged:!0}),!0}highlightRowAtPixel(t,e){const n=e!=null?this.getRowIndexAtPixel(e):null,i=n!=null?this.getRow(n):null;if(!i||!t||e==null){this.clearHighlightedRow();return}const s=this.getHighlightPosition(e,i),r=this.isHighlightingCurrentPosition(t,i,s),o=this.lastHighlightedRow!=null&&this.lastHighlightedRow!==i;(r||o)&&(this.clearHighlightedRow(),r)||(i.setHighlighted(s),this.lastHighlightedRow=i)}getHighlightPosition(t,e){if(!e){const s=this.getRowIndexAtPixel(t);if(e=this.getRow(s||0),!e)return ev.Below}const{rowTop:n,rowHeight:i}=e;return t-n<i/2?ev.Above:ev.Below}getLastHighlightedRowNode(){return this.lastHighlightedRow}isHighlightingCurrentPosition(t,e,n){if(t===e)return!0;const i=n===ev.Above?-1:1;return this.getRow(e.rowIndex+i)===t}clearHighlightedRow(){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;const e=this.rootNode.childrenAfterAggFilter,n=this.rootNode.sibling?1:0;return(e?e.length:0)+n}getTopLevelRowDisplayedIndex(t){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return t;let n=t;if(this.rowsToDisplay[0].footer){if(t===0)return 0;n-=1}const i=this.rowsToDisplay[this.rowsToDisplay.length-1],s=n>=this.rootNode.childrenAfterSort.length;if(i.footer&&s)return i.rowIndex;let r=this.rootNode.childrenAfterSort[n];if(this.gos.get("groupHideOpenParents"))for(;r.expanded&&r.childrenAfterSort&&r.childrenAfterSort.length>0;)r=r.childrenAfterSort[0];return r.rowIndex}getRowBounds(t){if(Yt(this.rowsToDisplay))return null;const e=this.rowsToDisplay[t];return e?{rowTop:e.rowTop,rowHeight:e.rowHeight}:null}onRowGroupOpened(){const t=gp(this.gos);this.refreshModel({step:jt.MAP,keepRenderedRows:!0,animate:t})}onFilterChanged(t){if(t.afterDataChange)return;const e=gp(this.gos),i=t.columns.length===0||t.columns.some(s=>s.isPrimary())?jt.FILTER:jt.FILTER_AGGREGATES;this.refreshModel({step:i,keepRenderedRows:!0,animate:e})}onSortChanged(){const t=gp(this.gos);this.refreshModel({step:jt.SORT,keepRenderedRows:!0,animate:t,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:jt.PIVOT}):this.refreshModel({step:jt.AGGREGATE})}createChangePath(t){const e=jr(t),n=new Y1(!1,this.rootNode);return e&&n.setInactive(),n}isSuppressModelUpdateAfterUpdateTransaction(t){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction")||t.rowNodeTransactions==null)return!1;const e=t.rowNodeTransactions.filter(i=>i.add!=null&&i.add.length>0||i.remove!=null&&i.remove.length>0);return e==null||e.length==0}buildRefreshModelParams(t){let e=jt.EVERYTHING;const n={everything:jt.EVERYTHING,group:jt.EVERYTHING,filter:jt.FILTER,map:jt.MAP,aggregate:jt.AGGREGATE,filter_aggregates:jt.FILTER_AGGREGATES,sort:jt.SORT,pivot:jt.PIVOT,nothing:jt.NOTHING};if(Ke(t)&&(e=n[t]),Yt(e)){gn(`invalid step ${t}, available steps are ${Object.keys(n).join(", ")}`);return}const i=!this.gos.get("suppressAnimationFrame");return{step:e,keepRenderedRows:!0,keepEditingRows:!0,animate:i}}refreshModel(t){if(!this.hasStarted||this.isRefreshingModel||this.columnModel.isChangeEventsDispatching())return;const e=typeof t=="object"&&"step"in t?t:this.buildRefreshModelParams(t);if(!e||this.isSuppressModelUpdateAfterUpdateTransaction(e))return;const n=this.createChangePath(e.rowNodeTransactions);switch(this.isRefreshingModel=!0,e.step){case jt.EVERYTHING:this.doRowGrouping(e.rowNodeTransactions,n,!!e.rowNodesOrderChanged,!!e.afterColumnsChanged);case jt.FILTER:this.doFilter(n);case jt.PIVOT:this.doPivot(n);case jt.AGGREGATE:this.doAggregate(n);case jt.FILTER_AGGREGATES:this.doFilterAggregates(n);case jt.SORT:this.doSort(e.rowNodeTransactions,n);case jt.MAP:this.doRowsToDisplay()}const i=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(n,i),this.isRefreshingModel=!1,this.eventService.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){const t=Yt(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return Yt(this.rootNode)||t||!this.columnModel.isReady()}isRowsToRender(){return Ke(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(t,e){let n=!1,i=!1;const s=[],r=hh(this.gos);return this.forEachNodeAfterFilterAndSort(o=>{if(i)return;if(n&&(o===e||o===t)&&(i=!0,o.group&&r)){s.push(...o.allLeafChildren);return}if(!n){if(o!==e&&o!==t)return;n=!0}if(!o.group||!r){s.push(o);return}}),s}setDatasource(t){gn("should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(t){return this.rowsToDisplay[t]}isRowPresent(t){return this.rowsToDisplay.indexOf(t)>=0}getRowIndexAtPixel(t){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;let e=0,n=this.rowsToDisplay.length-1;if(t<=0)return 0;if(Kt(this.rowsToDisplay).rowTop<=t)return this.rowsToDisplay.length-1;let s=-1,r=-1;for(;;){const o=Math.floor((e+n)/2),a=this.rowsToDisplay[o];if(this.isRowInPixel(a,t)||(a.rowTop<t?e=o+1:a.rowTop>t&&(n=o-1),s===e&&r===n))return o;s=e,r=n}}isRowInPixel(t,e){const n=t.rowTop,i=t.rowTop+t.rowHeight;return n<=e&&i>e}forEachLeafNode(t){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((e,n)=>t(e,n))}forEachNode(t,e=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:t,recursionType:0,index:0,includeFooterNodes:e})}forEachNodeAfterFilter(t,e=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:t,recursionType:1,index:0,includeFooterNodes:e})}forEachNodeAfterFilterAndSort(t,e=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:t,recursionType:2,index:0,includeFooterNodes:e})}forEachPivotNode(t,e=!1){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:t,recursionType:3,index:0,includeFooterNodes:e})}recursivelyWalkNodesAndCallback(t){const{nodes:e,callback:n,recursionType:i,includeFooterNodes:s}=t;let{index:r}=t;const o=a=>{var m;const l=(m=e[0])==null?void 0:m.parent;if(!l)return;const c=s&&E9(this.gos),d=M9(this.gos),f=s&&d({node:l});if(l===this.rootNode){c===a&&(l.createFooter(),n(l.sibling,r++));return}f===a&&(l.createFooter(),n(l.sibling,r++))};o("top");for(let a=0;a<e.length;a++){const l=e[a];if(n(l,r++),l.hasChildren()&&!l.footer){let c=null;switch(i){case 0:c=l.childrenAfterGroup;break;case 1:c=l.childrenAfterAggFilter;break;case 2:c=l.childrenAfterSort;break;case 3:c=l.leafGroup?null:l.childrenAfterSort;break}c&&(r=this.recursivelyWalkNodesAndCallback({nodes:[...c],callback:n,recursionType:i,index:r,includeFooterNodes:s}))}}return o("bottom"),r}doAggregate(t){var e;(e=this.aggregationStage)==null||e.execute({rowNode:this.rootNode,changedPath:t})}doFilterAggregates(t){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:t}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(t){const e=this.gos.get("treeData"),n=this.columnModel.isPivotActive(),i=s=>{s&&s.forEach(r=>{const o=()=>{r.expanded=t,i(r.childrenAfterGroup)};if(e){Ke(r.childrenAfterGroup)&&o();return}if(n){!r.leafGroup&&o();return}r.group&&o()})};this.rootNode&&i(this.rootNode.childrenAfterGroup),this.refreshModel({step:jt.MAP}),this.eventService.dispatchEvent({type:"expandOrCollapseAll",source:t?"expandAll":"collapseAll"})}doSort(t,e){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,changedPath:e})}doRowGrouping(t,e,n,i){if(this.groupStage)t?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,rowNodesOrderChanged:n,changedPath:e}):this.groupStage.execute({rowNode:this.rootNode,changedPath:e,afterColumnsChanged:i}),hh(this.gos)&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",e)&&this.eventService.dispatchEvent({type:"selectionChanged",source:"rowGroupChanged"});else{const s=this.rootNode,r=s.sibling;s.childrenAfterGroup=s.allLeafChildren,r&&(r.childrenAfterGroup=s.childrenAfterGroup),this.rootNode.updateHasChildren()}this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:"rowCountReady"}))}doFilter(t){this.filterStage.execute({rowNode:this.rootNode,changedPath:t})}doPivot(t){var e;(e=this.pivotStage)==null||e.execute({rowNode:this.rootNode,changedPath:t})}getNodeManager(){return this.nodeManager}getRowNode(t){if(typeof t=="string"&&t.indexOf(Xd.ID_PREFIX_ROW_GROUP)==0){let n;return this.forEachNode(i=>{i.id===t&&(n=i)}),n}return this.nodeManager.getRowNode(t)}setRowData(t){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(t),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()}dispatchUpdateEventsAndRefresh(){this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:jt.EVERYTHING,newData:!0})}batchUpdateRowData(t,e){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const n=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},n)}this.rowDataTransactionBatch.push({rowDataTransaction:t,callback:e})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){var i;this.valueCache.onDataChanged();const t=[],e=[];let n=!1;(i=this.rowDataTransactionBatch)==null||i.forEach(s=>{const{rowNodeTransaction:r,rowsInserted:o}=this.nodeManager.updateRowData(s.rowDataTransaction);o&&(n=!0),e.push(r),s.callback&&t.push(s.callback.bind(null,r))}),this.commonUpdateRowData(e,n),t.length>0&&window.setTimeout(()=>{t.forEach(s=>s())},0),e.length>0&&this.eventService.dispatchEvent({type:"asyncTransactionsFlushed",results:e}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(t){this.valueCache.onDataChanged();const{rowNodeTransaction:e,rowsInserted:n}=this.nodeManager.updateRowData(t);return this.commonUpdateRowData([e],n),e}afterImmutableDataChange(t,e){this.commonUpdateRowData([t],e)}commonUpdateRowData(t,e){if(!this.hasStarted)return;const n=!this.gos.get("suppressAnimationFrame");this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:jt.EVERYTHING,rowNodeTransactions:t,rowNodesOrderChanged:e,keepRenderedRows:!0,keepEditingRows:!0,animate:n})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:jt.MAP,keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const t=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let t=!1;return this.forEachNode(e=>{e.setRowHeight(e.rowHeight,!0);const n=e.detailNode;n&&n.setRowHeight(n.rowHeight,!0),e.sibling&&e.sibling.setRowHeight(e.sibling.rowHeight,!0),t=!0}),t}onGridStylesChanges(t){if(t.rowHeightChanged){if(this.columnModel.isAutoRowHeightActive())return;this.resetRowHeights()}}onGridReady(){this.hasStarted||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.clearHighlightedRow()}};function vIe(t){t.expansionService.onGroupExpandedOrCollapsed()}function yIe(t,e){var n,i;(i=(n=t.rowModelHelperService)==null?void 0:n.getClientSideRowModel())==null||i.refreshModel(e)}function xIe(t){var e,n;return((n=(e=t.rowModelHelperService)==null?void 0:e.getClientSideRowModel())==null?void 0:n.isEmpty())??!0}function CIe(t,e){var n,i;(i=(n=t.rowModelHelperService)==null?void 0:n.getClientSideRowModel())==null||i.forEachLeafNode(e)}function wIe(t,e){var n,i;(i=(n=t.rowModelHelperService)==null?void 0:n.getClientSideRowModel())==null||i.forEachNodeAfterFilter(e)}function bIe(t,e){var n,i;(i=(n=t.rowModelHelperService)==null?void 0:n.getClientSideRowModel())==null||i.forEachNodeAfterFilterAndSort(e)}function SIe(t){var e,n;if(t.columnModel.isAutoRowHeightActive()){Fe("calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}(n=(e=t.rowModelHelperService)==null?void 0:e.getClientSideRowModel())==null||n.resetRowHeights()}function EIe(t,e){return t.frameworkOverrides.wrapIncoming(()=>{var n,i;return(i=(n=t.rowModelHelperService)==null?void 0:n.getClientSideRowModel())==null?void 0:i.updateRowData(e)})}function MIe(t,e,n){t.frameworkOverrides.wrapIncoming(()=>{var i,s;return(s=(i=t.rowModelHelperService)==null?void 0:i.getClientSideRowModel())==null?void 0:s.batchUpdateRowData(e,n)})}function TIe(t){t.frameworkOverrides.wrapIncoming(()=>{var e,n;return(n=(e=t.rowModelHelperService)==null?void 0:e.getClientSideRowModel())==null?void 0:n.flushAsyncTransactions()})}function RIe(t){return t.selectionService.getBestCostNodeSelection()}var AIe=class extends Ee{constructor(){super(...arguments),this.beanName="filterStage"}wireBeans(t){this.filterManager=t.filterManager}execute(t){const{changedPath:e}=t;this.filter(e)}filter(t){var n;const e=!!((n=this.filterManager)!=null&&n.isChildFilterPresent());this.filterNodes(e,t)}filterNodes(t,e){const n=(i,s)=>{i.hasChildren()&&t&&!s?i.childrenAfterFilter=i.childrenAfterGroup.filter(r=>{const o=r.childrenAfterFilter&&r.childrenAfterFilter.length>0,a=r.data&&this.filterManager.doesRowPassFilter({rowNode:r});return o||a}):i.childrenAfterFilter=i.childrenAfterGroup,i.sibling&&(i.sibling.childrenAfterFilter=i.childrenAfterFilter)};if(this.doingTreeDataFiltering()){const i=(r,o)=>{if(r.childrenAfterGroup)for(let a=0;a<r.childrenAfterGroup.length;a++){const l=r.childrenAfterGroup[a],c=o||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?i(r.childrenAfterGroup[a],c):n(l,c)}n(r,o)},s=r=>i(r,!1);e.executeFromRootNode(s)}else{const i=s=>n(s,!1);e.forEachChangedNodeDepthFirst(i,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},PIe=class extends Ee{constructor(){super(...arguments),this.beanName="flattenStage"}wireBeans(t){this.beans=t,this.columnModel=t.columnModel}execute(t){const e=t.rowNode,n=[],i=this.columnModel.isPivotMode(),s=i&&e.leafGroup,r=s?[e]:e.childrenAfterSort,o=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(o,r,n,i,0);const a=n.length>0;if(!s&&a&&o.grandTotalRow){e.createFooter();const c=o.grandTotalRow==="top";this.addRowNodeToRowsToDisplay(o,e.sibling,n,0,c)}return n}getFlattenDetails(){const t=this.gos.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!t&&this.gos.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:t,isGroupMultiAutoColumn:MMe(this.gos),hideOpenParents:this.gos.get("groupHideOpenParents"),grandTotalRow:E9(this.gos),groupTotalRow:M9(this.gos)}}recursivelyAddToRowsToDisplay(t,e,n,i,s){if(!jr(e))for(let r=0;r<e.length;r++){const o=e[r],a=o.hasChildren(),l=i&&!a,c=t.groupRemoveSingleChildren&&a&&o.childrenAfterGroup.length===1,d=t.groupRemoveLowestSingleChildren&&a&&o.leafGroup&&o.childrenAfterGroup.length===1,f=i&&o.leafGroup,p=t.hideOpenParents&&o.expanded&&!o.master&&!f;if(!l&&!p&&!c&&!d&&this.addRowNodeToRowsToDisplay(t,o,n,s),!(i&&o.leafGroup)){if(a){const y=c||d;if(o.expanded||y){const C=t.groupTotalRow({node:o});C||o.destroyFooter();const x=y?s:s+1;C==="top"&&(o.createFooter(),this.addRowNodeToRowsToDisplay(t,o.sibling,n,x)),this.recursivelyAddToRowsToDisplay(t,o.childrenAfterSort,n,i,x),C==="bottom"&&(o.createFooter(),this.addRowNodeToRowsToDisplay(t,o.sibling,n,x))}}else if(o.master&&o.expanded){const y=this.createDetailNode(o);this.addRowNodeToRowsToDisplay(t,y,n,s)}}}}addRowNodeToRowsToDisplay(t,e,n,i,s){s?n.unshift(e):n.push(e),e.setUiLevel(t.isGroupMultiAutoColumn?0:i)}createDetailNode(t){if(Ke(t.detailNode))return t.detailNode;const e=new Xd(this.beans);return e.detail=!0,e.selectable=!1,e.parent=t,Ke(t.id)&&(e.id="detail_"+t.id),e.data=t.data,e.level=t.level+1,t.detailNode=e,e}},DIe=class extends Ee{constructor(){super(...arguments),this.beanName="immutableService"}wireBeans(t){this.rowModel=t.rowModel,this.selectionService=t.selectionService}postConstruct(){Gn(this.gos)&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",()=>this.onRowDataUpdated()))}isActive(){const t=this.gos.exists("getRowId");return this.gos.get("resetRowDataOnUpdate")?!1:t}setRowData(t){const e=this.createTransactionForRowData(t);if(!e)return;const n=this.clientSideRowModel.getNodeManager(),{rowNodeTransaction:i,rowsInserted:s}=n.updateRowData(e);let r=!1;this.gos.get("suppressMaintainUnsortedOrder")||(r=n.updateRowOrderFromRowData(t)),this.clientSideRowModel.afterImmutableDataChange(i,r||s)}createTransactionForRowData(t){if(!Gn(this.gos))return gn("ImmutableService only works with ClientSideRowModel"),null;const e=f0(this.gos);if(e==null)return gn("ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!"),null;const n=this.clientSideRowModel.getNodeManager().getCopyOfNodesMap(),i=[],s=[],r=[];return Ke(t)&&t.forEach(o=>{const a=e({data:o,level:0}),l=n[a];l?(l.data!==o&&s.push(o),n[a]=void 0):r.push(o)}),Wo(n,(o,a)=>{a&&i.push(a.data)}),{remove:i,update:s,add:r}}onRowDataUpdated(){const t=this.gos.get("rowData");t&&(this.isActive()?this.setRowData(t):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(t)))}},_Ie=class extends Ee{constructor(){super(...arguments),this.beanName="sortService"}wireBeans(t){this.columnModel=t.columnModel,this.funcColsService=t.funcColsService,this.rowNodeSorter=t.rowNodeSorter,this.showRowGroupColsService=t.showRowGroupColsService}sort(t,e,n,i,s,r){const o=this.gos.get("groupMaintainOrder"),a=this.columnModel.getCols().some(p=>p.isRowGroupActive());let l={};n&&i&&(l=this.calculateDirtyNodes(i));const c=this.columnModel.isPivotMode(),d=this.gos.getCallback("postSortRows"),f=p=>{var C;this.pullDownGroupDataForHideOpenParents(p.childrenAfterAggFilter,!0);const m=c&&p.leafGroup;if(o&&a&&!p.leafGroup&&!r){const x=(C=this.funcColsService.getRowGroupColumns())==null?void 0:C[p.level+1],w=(x==null?void 0:x.getSort())===null,M=p.childrenAfterAggFilter.slice(0);if(p.childrenAfterSort&&!w){const S={};p.childrenAfterSort.forEach((R,P)=>{S[R.id]=P}),M.sort((R,P)=>(S[R.id]??0)-(S[P.id]??0))}p.childrenAfterSort=M}else!e||m?p.childrenAfterSort=p.childrenAfterAggFilter.slice(0):n?p.childrenAfterSort=this.doDeltaSort(p,l,s,t):p.childrenAfterSort=this.rowNodeSorter.doFullSort(p.childrenAfterAggFilter,t);if(p.sibling&&(p.sibling.childrenAfterSort=p.childrenAfterSort),this.updateChildIndexes(p),d){const x={nodes:p.childrenAfterSort};d(x)}};s&&s.forEachChangedNodeDepthFirst(f),this.updateGroupDataForHideOpenParents(s)}calculateDirtyNodes(t){const e={},n=i=>{i&&i.forEach(s=>e[s.id]=!0)};return t&&t.forEach(i=>{n(i.add),n(i.update),n(i.remove)}),e}doDeltaSort(t,e,n,i){const s=t.childrenAfterAggFilter,r=t.childrenAfterSort;if(!r)return this.rowNodeSorter.doFullSort(s,i);const o={},a=[];s.forEach(f=>{e[f.id]||!n.canSkip(f)?a.push(f):o[f.id]=!0});const l=r.filter(f=>o[f.id]),c=(f,p)=>({currentPos:p,rowNode:f}),d=a.map(c).sort((f,p)=>this.rowNodeSorter.compareRowNodes(i,f,p));return this.mergeSortedArrays(i,d,l.map(c)).map(({rowNode:f})=>f)}mergeSortedArrays(t,e,n){const i=[];let s=0,r=0;for(;s<e.length&&r<n.length;)this.rowNodeSorter.compareRowNodes(t,e[s],n[r])<0?i.push(e[s++]):i.push(n[r++]);for(;s<e.length;)i.push(e[s++]);for(;r<n.length;)i.push(n[r++]);return i}updateChildIndexes(t){if(Yt(t.childrenAfterSort))return;const e=t.childrenAfterSort;for(let n=0;n<e.length;n++){const i=e[n],s=n===0,r=n===t.childrenAfterSort.length-1;i.setFirstChild(s),i.setLastChild(r),i.setChildIndex(n)}}updateGroupDataForHideOpenParents(t){if(!this.gos.get("groupHideOpenParents"))return;if(this.gos.get("treeData"))return Fe("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;const e=n=>{this.pullDownGroupDataForHideOpenParents(n.childrenAfterSort,!1),n.childrenAfterSort.forEach(i=>{i.hasChildren()&&e(i)})};t&&t.executeFromRootNode(n=>e(n))}pullDownGroupDataForHideOpenParents(t,e){!this.gos.get("groupHideOpenParents")||Yt(t)||t.forEach(n=>{var s;(((s=this.showRowGroupColsService)==null?void 0:s.getShowRowGroupCols())??[]).forEach(r=>{const o=r.getColDef().showRowGroup;if(typeof o!="string"){gn("groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}const a=o,l=this.columnModel.getColDefCol(a);if(l!==n.rowGroupColumn)if(e)n.setGroupValue(r.getId(),void 0);else{const d=this.getFirstChildOfFirstChild(n,l);d&&n.setGroupValue(r.getId(),d.key)}})})}getFirstChildOfFirstChild(t,e){let n=t;for(;n;){const i=n.parent;if(i&&n.firstChild){if(i.rowGroupColumn===e)return i}else return null;n=i}return null}},FIe=class extends Ee{constructor(){super(...arguments),this.beanName="sortStage"}wireBeans(t){this.sortService=t.sortService,this.sortController=t.sortController}execute(t){const e=this.sortController.getSortOptions(),n=Ke(e)&&e.length>0,i=n&&Ke(t.rowNodeTransactions)&&this.gos.get("deltaSort"),s=e.some(r=>Ma(this.gos)?r.column.isPrimary()&&r.column.isRowGroupActive():!!r.column.getColDef().showRowGroup);this.sortService.sort(e,n,i,t.rowNodeTransactions,t.changedPath,s)}},IN="32.3.3",cq={version:IN,moduleName:`${h0.ClientSideRowModelModule}-core`,rowModel:"clientSide",beans:[gIe,AIe,FIe,PIe,_Ie,DIe]},NIe={version:IN,moduleName:`${h0.ClientSideRowModelModule}-api`,beans:[lIe],apiFunctions:{onGroupExpandedOrCollapsed:vIe,refreshClientSideRowModel:yIe,isRowDataEmpty:xIe,forEachLeafNode:CIe,forEachNodeAfterFilter:wIe,forEachNodeAfterFilterAndSort:bIe,resetRowHeights:SIe,applyTransaction:EIe,applyTransactionAsync:MIe,flushAsyncTransactions:TIe,getBestCostNodeSelection:RIe},dependantModules:[cq,hIe]},uq={version:IN,moduleName:h0.ClientSideRowModelModule,dependantModules:[cq,NIe]},Fs=ne.createContext({}),y0=(t,e,n,i)=>{if(!t||t.componentFromFramework||e.isDestroyed())return;const r=t.newAgStackInstance();if(r==null)return;let o,a,l=!1;return r.then(c=>{if(l){e.destroyBean(c);return}o=c,a=o.getGui(),n.appendChild(a),RV(i,o)}),()=>{var c;l=!0,o&&((c=a==null?void 0:a.parentElement)==null||c.removeChild(a),e.destroyBean(o),i&&RV(i,void 0))}},RV=(t,e)=>{if(t)if(t instanceof Function)t(e);else{const n=t;n.current=e}},Go=(...t)=>t.filter(n=>n!=null&&n!=="").join(" "),So=class dq{constructor(...e){this.classesMap={},e.forEach(n=>{this.classesMap[n]=!0})}setClass(e,n){if(!!this.classesMap[e]==n)return this;const s=new dq;return s.classesMap={...this.classesMap},s.classesMap[e]=n,s}toString(){return Object.keys(this.classesMap).filter(n=>this.classesMap[n]).join(" ")}},lm=t=>{const e=()=>typeof Symbol=="function"&&Symbol.for,n=()=>e()?Symbol.for("react.memo"):60115;return typeof t=="function"&&!(t.prototype&&t.prototype.isReactComponent)||typeof t=="object"&&t.$$typeof===n()},yG,SD=(yG=ne.version)==null?void 0:yG.split(".")[0],IIe=SD==="16"||SD==="17";function OIe(){return SD==="19"}var Vw=!1;function LIe(t){return Vw||setTimeout(()=>Vw=!1,0),Vw=!0,t()}var ON=(t,e)=>{!IIe&&t&&!Vw?qf.flushSync(e):e()};function LN(t,e,n){if(e==null||t==null)return e;if(t===e||e.length===0&&t.length===0)return t;if(n||t.length===0&&e.length>0||t.length>0&&e.length===0)return e;const i=[],s=[],r=new Map,o=new Map;for(let a=0;a<e.length;a++){const l=e[a];o.set(l.instanceId,l)}for(let a=0;a<t.length;a++){const l=t[a];r.set(l.instanceId,l),o.has(l.instanceId)&&i.push(l)}for(let a=0;a<e.length;a++){const l=e[a],c=l.instanceId;r.has(c)||s.push(l)}return i.length===t.length&&s.length===0?t:i.length===0&&s.length===e.length?e:i.length===0?s:s.length===0?i:[...i,...s]}var hq=E.forwardRef((t,e)=>{var Q;const{ctrlsFactory:n,context:i}=E.useContext(Fs),s=E.useRef(null),r=E.useRef(null),o=E.useRef(null),a=E.useRef(null),l=E.useRef(null),c=E.useRef(),[d,f]=E.useState(),[p,m]=E.useState(),[y,C]=E.useState(),[x,w]=E.useState(()=>new So),[M,S]=E.useState(()=>new So("ag-hidden")),[R,P]=E.useState(()=>new So("ag-hidden")),[F,N]=E.useState(()=>new So("ag-invisible"));E.useImperativeHandle(e,()=>({refresh(){return!1}})),E.useLayoutEffect(()=>y0(d,i,r.current),[d]);const I=E.useCallback(q=>{if(s.current=q,!q){c.current=i.destroyBean(c.current);return}const X={setInnerRenderer:(ee,ge)=>{f(ee),C(ge)},setChildCount:ee=>m(ee),addOrRemoveCssClass:(ee,ge)=>w(Se=>Se.setClass(ee,ge)),setContractedDisplayed:ee=>P(ge=>ge.setClass("ag-hidden",!ee)),setExpandedDisplayed:ee=>S(ge=>ge.setClass("ag-hidden",!ee)),setCheckboxVisible:ee=>N(ge=>ge.setClass("ag-invisible",!ee))},H=n.getInstance("groupCellRendererCtrl");H&&(c.current=i.createBean(H),c.current.init(X,q,o.current,a.current,l.current,hq,t))},[]),_=E.useMemo(()=>`ag-cell-wrapper ${x.toString()}`,[x]),A=E.useMemo(()=>`ag-group-expanded ${M.toString()}`,[M]),O=E.useMemo(()=>`ag-group-contracted ${R.toString()}`,[R]),k=E.useMemo(()=>`ag-group-checkbox ${F.toString()}`,[F]),z=d&&d.componentFromFramework,W=z?d.componentClass:void 0,K=d==null&&y!=null,V=Ia(y,!0);return ne.createElement("span",{className:_,ref:I,...t.colDef?{}:{role:(Q=c.current)==null?void 0:Q.getCellAriaRole()}},ne.createElement("span",{className:A,ref:a}),ne.createElement("span",{className:O,ref:l}),ne.createElement("span",{className:k,ref:o}),ne.createElement("span",{className:"ag-group-value",ref:r},K&&ne.createElement(ne.Fragment,null,V),z&&ne.createElement(W,{...d.params})),ne.createElement("span",{className:"ag-group-child-count"},p))}),AV=hq,kN=E.createContext({setMethods:()=>{}}),kIe=t=>{const{initialProps:e,addUpdateCallback:n,CustomComponentClass:i,setMethods:s}=t,[{key:r,...o},a]=E.useState(e);return E.useEffect(()=>{n(l=>a(l))},[]),ne.createElement(kN.Provider,{value:{setMethods:s}},ne.createElement(i,{key:r,...o}))},BIe=E.memo(kIe),HIe=0;function PV(){return`agPortalKey_${++HIe}`}var fq=class{constructor(t,e,n,i){this.portal=null,this.oldPortal=null,this.reactComponent=t,this.portalManager=e,this.componentType=n,this.suppressFallbackMethods=!!i,this.statelessComponent=this.isStateless(this.reactComponent),this.key=PV(),this.portalKey=PV(),this.instanceCreated=this.isStatelessComponent()?ui.resolve(!1):new ui(s=>{this.resolveInstanceCreated=s})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const t=this.portal;t&&this.portalManager.destroyPortal(t)}createParentElement(t){const e=this.portalManager.getComponentWrappingElement(),n=document.createElement(e||"div");return n.classList.add("ag-react-container"),t.reactContainer=n,n}addParentContainerStyleAndClasses(){this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&(Fe('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses()&&(Fe('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),this.componentInstance.getReactContainerClasses().forEach(e=>this.eParentElement.classList.add(e))))}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(t){return typeof t=="function"&&!(t.prototype&&t.prototype.isReactComponent)||typeof t=="object"&&t.$$typeof===this.getMemoType()}hasMethod(t){const e=this.getFrameworkComponentInstance();return!!e&&e[t]!=null||this.fallbackMethodAvailable(t)}callMethod(t,e){const n=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(t,e&&e[0]?e[0]:{});if(!n){setTimeout(()=>this.callMethod(t,e));return}const i=n[t];if(i)return i.apply(n,e);if(this.fallbackMethodAvailable(t))return this.fallbackMethod(t,e&&e[0]?e[0]:{})}addMethod(t,e){this[t]=e}init(t){return this.eParentElement=this.createParentElement(t),this.createOrUpdatePortal(t),new ui(e=>this.createReactComponent(e))}createOrUpdatePortal(t){this.isStatelessComponent()||(this.ref=e=>{var n;this.componentInstance=e,this.addParentContainerStyleAndClasses(),(n=this.resolveInstanceCreated)==null||n.call(this,!0),this.resolveInstanceCreated=void 0},t.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...t,key:this.key}),this.portal=ky.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(t,e){return E.createElement(t,e)}createReactComponent(t){this.portalManager.mountReactPortal(this.portal,this,t)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(t){this.oldPortal=this.portal,this.createOrUpdatePortal(t),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(t,e){const n=this[`${t}Component`];if(!this.suppressFallbackMethods&&n)return n.bind(this)(e)}fallbackMethodAvailable(t){return this.suppressFallbackMethods?!1:!!this[`${t}Component`]}};function BN(t,e,n){t.forEach(i=>{const s=e[i];s&&(n[i]=s)})}var qa=class extends fq{constructor(){super(...arguments),this.awaitUpdateCallback=new ui(t=>{this.resolveUpdateCallback=t}),this.wrapperComponent=BIe}init(t){return this.sourceParams=t,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(t,e){return super.createElement(this.wrapperComponent,{initialProps:e,CustomComponentClass:t,setMethods:n=>this.setMethods(n),addUpdateCallback:n=>{this.updateCallback=()=>(n(this.getProps()),new ui(i=>{setTimeout(()=>{i()})})),this.resolveUpdateCallback()}})}setMethods(t){this.providedMethods=t,BN(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new ui(t=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>t())}))}},VIe=class extends qa{refresh(t){return this.sourceParams=t,this.refreshProps(),!0}},zIe=class extends qa{constructor(){super(...arguments),this.date=null,this.onDateChange=t=>this.updateDate(t)}getDate(){return this.date}setDate(t){this.date=t,this.refreshProps()}refresh(t){this.sourceParams=t,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(t){this.setDate(t),this.sourceParams.onDateChanged()}getProps(){const t=super.getProps();return t.date=this.date,t.onDateChange=this.onDateChange,delete t.onDateChanged,t}},GIe=class extends qa{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(t,e){this.icon=t,this.shake=e,this.refreshProps()}setLabel(t){this.label=t,this.refreshProps()}getProps(){const t=super.getProps(),{label:e,icon:n,shake:i}=this;return t.label=e,t.icon=n,t.shake=i,t}},UIe=class extends qa{constructor(){super(...arguments),this.model=null,this.onModelChange=t=>this.updateModel(t),this.onUiChange=()=>this.sourceParams.filterChangedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1}isFilterActive(){return this.model!=null}doesFilterPass(t){return this.providedMethods.doesFilterPass(t)}getModel(){return this.model}setModel(t){return this.expectingNewMethods=!0,this.model=t,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(t){return this.sourceParams=t,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(t){var e;this.expectingNewMethods===!1&&this.hasBeenActive&&((e=this.providedMethods)==null?void 0:e.doesFilterPass)!==(t==null?void 0:t.doesFilterPass)&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(t)}updateModel(t){this.setModel(t).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const t=super.getProps();return t.model=this.model,t.onModelChange=this.onModelChange,t.onUiChange=this.onUiChange,delete t.filterChangedCallback,delete t.filterModifiedCallback,delete t.valueGetter,t}};function pq(t,e){t.parentFilterInstance(n=>{(n.setModel(e)||ui.resolve()).then(()=>{t.filterParams.filterChangedCallback()})})}var jIe=class{constructor(t,e){this.floatingFilterParams=t,this.refreshProps=e,this.model=null,this.onModelChange=n=>this.updateModel(n)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(t){this.model=t,this.refreshProps()}refresh(t){this.floatingFilterParams=t,this.refreshProps()}setMethods(t){BN(this.getOptionalMethods(),t,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(t){this.model=t,this.refreshProps(),pq(this.floatingFilterParams,t)}},WIe=class extends qa{constructor(){super(...arguments),this.model=null,this.onModelChange=t=>this.updateModel(t)}onParentModelChanged(t){this.model=t,this.refreshProps()}refresh(t){this.sourceParams=t,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(t){this.model=t,this.refreshProps(),pq(this.sourceParams,t)}getProps(){const t=super.getProps();return t.model=this.model,t.onModelChange=this.onModelChange,t}},$Ie=class extends qa{refresh(t){this.sourceParams=t,this.refreshProps()}},qIe=class extends qa{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=t=>this.updateActive(t)}setActive(t){this.awaitSetActive(t)}setExpanded(t){this.expanded=t,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(t){return this.active=t,this.refreshProps()}updateActive(t){const e=this.awaitSetActive(t);t&&e.then(()=>this.sourceParams.onItemActivated())}getProps(){const t=super.getProps();return t.active=this.active,t.expanded=this.expanded,t.onActiveChange=this.onActiveChange,delete t.onItemActivated,t}},KIe=class extends qa{refresh(t){this.sourceParams=t,this.refreshProps()}},YIe=class extends qa{refresh(t){return this.sourceParams=t,this.refreshProps(),!0}},XIe=class extends qa{constructor(){super(...arguments),this.onStateChange=t=>this.updateState(t)}refresh(t){return this.sourceParams=t,this.refreshProps(),!0}getState(){return this.state}updateState(t){this.state=t,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const t=super.getProps();return t.state=this.state,t.onStateChange=this.onStateChange,t}};function HN(){Fe("As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.")}var ZIe=1e3,JIe=class{constructor(t,e,n){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=e||"div",this.refresher=t,this.maxComponentCreationTimeMs=n||ZIe}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(t){this.portals=this.portals.filter(e=>e!==t),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(t,e,n){this.portals=[...this.portals,t],this.waitForInstance(e,n),this.batchUpdate()}updateReactPortal(t,e){this.portals[this.portals.indexOf(t)]=e,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(t,e,n=Date.now()){if(this.destroyed){e(null);return}if(t.rendered())e(t);else{if(Date.now()-n>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout(()=>{this.waitForInstance(t,e,n)})}}},QIe=({ctrl:t})=>{const e=t.isAlive(),{context:n}=E.useContext(Fs),i=e?t.getColId():void 0,[s,r]=E.useState(),o=E.useRef(),a=E.useRef(null),l=E.useRef(null),c=E.useRef(null),d=E.useRef(),f=E.useRef();e&&!f.current&&(f.current=new m0(()=>a.current));const p=E.useCallback(x=>{var S;if(a.current=x,o.current=x?n.createBean(new sm):n.destroyBean(o.current),!x||!e)return;const w={setWidth:R=>{a.current&&(a.current.style.width=R)},addOrRemoveCssClass:(R,P)=>f.current.addOrRemoveCssClass(R,P),setAriaSort:R=>{a.current&&(R?STe(a.current,R):ETe(a.current))},setUserCompDetails:R=>r(R),getUserCompInstance:()=>d.current||void 0};t.setComp(w,x,l.current,c.current,o.current);const M=t.getSelectAllGui();(S=l.current)==null||S.insertAdjacentElement("afterend",M),o.current.addDestroyFunc(()=>M.remove())},[]);E.useLayoutEffect(()=>y0(s,n,c.current,d),[s]),E.useEffect(()=>{t.setDragSource(a.current)},[s]);const m=E.useMemo(()=>!!((s==null?void 0:s.componentFromFramework)&&lm(s.componentClass)),[s]),y=s&&s.componentFromFramework,C=s&&s.componentClass;return ne.createElement("div",{ref:p,className:"ag-header-cell","col-id":i,role:"columnheader"},ne.createElement("div",{ref:l,className:"ag-header-cell-resize",role:"presentation"}),ne.createElement("div",{ref:c,className:"ag-header-cell-comp-wrapper",role:"presentation"},y&&m&&ne.createElement(C,{...s.params}),y&&!m&&ne.createElement(C,{...s.params,ref:d})))},eOe=E.memo(QIe),tOe=({ctrl:t})=>{const{context:e,gos:n}=E.useContext(Fs),[i,s]=E.useState(()=>new So("ag-header-cell","ag-floating-filter")),[r,o]=E.useState(()=>new So),[a,l]=E.useState(()=>new So("ag-floating-filter-button","ag-hidden")),[c,d]=E.useState("false"),[f,p]=E.useState(),[,m]=E.useState(1),y=E.useRef(),C=E.useRef(null),x=E.useRef(null),w=E.useRef(null),M=E.useRef(null),S=E.useRef(),R=E.useRef(),P=V=>{V!=null&&S.current&&S.current(V)},F=E.useCallback(V=>{if(C.current=V,y.current=V?e.createBean(new sm):e.destroyBean(y.current),!V)return;R.current=new ui(q=>{S.current=q});const Q={addOrRemoveCssClass:(q,X)=>s(H=>H.setClass(q,X)),addOrRemoveBodyCssClass:(q,X)=>o(H=>H.setClass(q,X)),setButtonWrapperDisplayed:q=>{l(X=>X.setClass("ag-hidden",!q)),d(q?"false":"true")},setWidth:q=>{C.current&&(C.current.style.width=q)},setCompDetails:q=>p(q),getFloatingFilterComp:()=>R.current?R.current:null,setMenuIcon:q=>{var X;return(X=M.current)==null?void 0:X.appendChild(q)}};t.setComp(Q,V,M.current,x.current,y.current)},[]);E.useLayoutEffect(()=>y0(f,e,x.current,P),[f]);const N=E.useMemo(()=>i.toString(),[i]),I=E.useMemo(()=>r.toString(),[r]),_=E.useMemo(()=>a.toString(),[a]),A=E.useMemo(()=>!!(f&&f.componentFromFramework&&lm(f.componentClass)),[f]),O=E.useMemo(()=>n.get("reactiveCustomComponents"),[]),k=E.useMemo(()=>{if(f)if(O){const V=new jIe(f.params,()=>m(Q=>Q+1));return P(V),V}else f.componentFromFramework&&HN()},[f]),z=k==null?void 0:k.getProps(),W=f&&f.componentFromFramework,K=f&&f.componentClass;return ne.createElement("div",{ref:F,className:N,role:"gridcell"},ne.createElement("div",{ref:x,className:I,role:"presentation"},W&&!O&&ne.createElement(K,{...f.params,ref:A?()=>{}:P}),W&&O&&ne.createElement(kN.Provider,{value:{setMethods:V=>k.setMethods(V)}},ne.createElement(K,{...z}))),ne.createElement("div",{ref:w,"aria-hidden":c,className:_,role:"presentation"},ne.createElement("button",{ref:M,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},nOe=E.memo(tOe),iOe=({ctrl:t})=>{const{context:e}=E.useContext(Fs),[n,i]=E.useState(()=>new So),[s,r]=E.useState(()=>new So),[o,a]=E.useState("false"),[l,c]=E.useState(),[d,f]=E.useState(),p=E.useMemo(()=>t.getColId(),[]),m=E.useRef(),y=E.useRef(null),C=E.useRef(null),x=E.useRef(null),w=E.useRef(),M=E.useCallback(I=>{if(y.current=I,m.current=I?e.createBean(new sm):e.destroyBean(m.current),!I)return;const _={setWidth:A=>{y.current&&(y.current.style.width=A)},addOrRemoveCssClass:(A,O)=>i(k=>k.setClass(A,O)),setHeaderWrapperHidden:A=>{const O=x.current;O&&(A?O.style.setProperty("display","none"):O.style.removeProperty("display"))},setHeaderWrapperMaxHeight:A=>{const O=x.current;O&&(A!=null?O.style.setProperty("max-height",`${A}px`):O.style.removeProperty("max-height"),O.classList.toggle("ag-header-cell-comp-wrapper-limited-height",A!=null))},setUserCompDetails:A=>f(A),setResizableDisplayed:A=>{r(O=>O.setClass("ag-hidden",!A)),a(A?"false":"true")},setAriaExpanded:A=>c(A),getUserCompInstance:()=>w.current||void 0};t.setComp(_,I,C.current,x.current,m.current)},[]);E.useLayoutEffect(()=>y0(d,e,x.current),[d]),E.useEffect(()=>{y.current&&t.setDragSource(y.current)},[d]);const S=E.useMemo(()=>!!((d==null?void 0:d.componentFromFramework)&&lm(d.componentClass)),[d]),R=E.useMemo(()=>"ag-header-group-cell "+n.toString(),[n]),P=E.useMemo(()=>"ag-header-cell-resize "+s.toString(),[s]),F=d&&d.componentFromFramework,N=d&&d.componentClass;return ne.createElement("div",{ref:M,className:R,"col-id":p,role:"columnheader","aria-expanded":l},ne.createElement("div",{ref:x,className:"ag-header-cell-comp-wrapper",role:"presentation"},F&&S&&ne.createElement(N,{...d.params}),F&&!S&&ne.createElement(N,{...d.params,ref:w})),ne.createElement("div",{ref:C,"aria-hidden":o,className:P}))},sOe=E.memo(iOe),rOe=({ctrl:t})=>{const{context:e}=E.useContext(Fs),{topOffset:n,rowHeight:i}=E.useMemo(()=>t.getTopAndHeight(),[]),s=t.getAriaRowIndex(),r=t.getHeaderRowClass(),[o,a]=E.useState(()=>i+"px"),[l,c]=E.useState(()=>n+"px"),d=E.useRef(null),f=E.useRef(null),[p,m]=E.useState(()=>t.getHeaderCtrls()),y=E.useRef(),C=E.useRef(null),x=E.useCallback(S=>{if(C.current=S,y.current=S?e.createBean(new sm):e.destroyBean(y.current),!S)return;const R={setHeight:P=>a(P),setTop:P=>c(P),setHeaderCtrls:(P,F,N)=>{f.current=d.current,d.current=P;const I=LN(f.current,P,F);I!==f.current&&ON(N,()=>m(I))},setWidth:P=>{C.current&&(C.current.style.width=P)}};t.setComp(R,y.current,!1)},[]),w=E.useMemo(()=>({height:o,top:l}),[o,l]),M=E.useCallback(S=>{switch(t.getType()){case yD.COLUMN_GROUP:return ne.createElement(sOe,{ctrl:S,key:S.instanceId});case yD.FLOATING_FILTER:return ne.createElement(nOe,{ctrl:S,key:S.instanceId});default:return ne.createElement(eOe,{ctrl:S,key:S.instanceId})}},[]);return ne.createElement("div",{ref:x,className:r,role:"row",style:w,"aria-rowindex":s},p.map(M))},oOe=E.memo(rOe),aOe=({pinned:t})=>{const[e,n]=E.useState(!0),[i,s]=E.useState([]),{context:r}=E.useContext(Fs),o=E.useRef(null),a=E.useRef(null),l=E.useRef(),c=t==="left",d=t==="right",f=!c&&!d,p=E.useCallback(C=>{if(o.current=C,l.current=C?r.createBean(new r2e(t)):r.destroyBean(l.current),!C)return;const x={setDisplayed:n,setCtrls:w=>s(w),setCenterWidth:w=>{a.current&&(a.current.style.width=w)},setViewportScrollLeft:w=>{o.current&&(o.current.scrollLeft=w)},setPinnedContainerWidth:w=>{o.current&&(o.current.style.width=w,o.current.style.minWidth=w,o.current.style.maxWidth=w)}};l.current.setComp(x,o.current)},[]),m=e?"":"ag-hidden",y=()=>i.map(C=>ne.createElement(oOe,{ctrl:C,key:C.instanceId}));return ne.createElement(ne.Fragment,null,c&&ne.createElement("div",{ref:p,className:"ag-pinned-left-header "+m,"aria-hidden":!e,role:"rowgroup"},y()),d&&ne.createElement("div",{ref:p,className:"ag-pinned-right-header "+m,"aria-hidden":!e,role:"rowgroup"},y()),f&&ne.createElement("div",{ref:p,className:"ag-header-viewport "+m,role:"presentation"},ne.createElement("div",{ref:a,className:"ag-header-container",role:"rowgroup"},y())))},SA=E.memo(aOe),lOe=()=>{const[t,e]=E.useState(()=>new So),[n,i]=E.useState(),{context:s}=E.useContext(Fs),r=E.useRef(null),o=E.useRef(),a=E.useCallback(d=>{if(r.current=d,o.current=d?s.createBean(new GAe):s.destroyBean(o.current),!d)return;const f={addOrRemoveCssClass:(p,m)=>e(y=>y.setClass(p,m)),setHeightAndMinHeight:p=>i(p)};o.current.setComp(f,d,d)},[]),l=E.useMemo(()=>"ag-header "+t.toString(),[t]),c=E.useMemo(()=>({height:n,minHeight:n}),[n]);return ne.createElement("div",{ref:a,className:l,style:c,role:"presentation"},ne.createElement(SA,{pinned:"left"}),ne.createElement(SA,{pinned:null}),ne.createElement(SA,{pinned:"right"}))},cOe=E.memo(lOe),uOe=(t,e)=>{E.useEffect(()=>{const n=e.current;if(n){const i=n.parentElement;if(i){const s=document.createComment(t);return i.insertBefore(s,n),()=>{i.removeChild(s)}}}},[t])},Md=uOe,dOe=class{constructor(t,e){this.cellEditorParams=t,this.refreshProps=e,this.instanceCreated=new ui(n=>{this.resolveInstanceCreated=n}),this.onValueChange=n=>this.updateValue(n),this.value=t.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(t){this.cellEditorParams=t,this.refreshProps()}setMethods(t){BN(this.getOptionalMethods(),t,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(t){var e;this.componentInstance=t,(e=this.resolveInstanceCreated)==null||e.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(t){this.value=t,this.refreshProps()}},hOe=t=>{const e=E.useRef(t),n=E.useRef(),i=E.useRef(!1),s=E.useRef(!1),[,r]=E.useState(0);i.current&&(s.current=!0),E.useEffect(()=>(i.current||(n.current=e.current(),i.current=!0),r(o=>o+1),()=>{var o;s.current&&((o=n.current)==null||o.call(n))}),[])},fOe=t=>{const[e,n]=E.useState(),{context:i,popupService:s,localeService:r,gos:o,editService:a}=E.useContext(Fs);return hOe(()=>{var R,P;const{editDetails:l,cellCtrl:c,eParentCell:d}=t,{compDetails:f}=l,p=o.get("stopEditingWhenCellsLoseFocus"),m=i.createBean(a.createPopupEditorWrapper(f.params)),y=m.getGui();if(t.jsChildComp){const F=t.jsChildComp.getGui();F&&y.appendChild(F)}const C={column:c.getColumn(),rowNode:c.getRowNode(),type:"popupCellEditor",eventSource:d,ePopup:y,position:l.popupPosition,keepWithinBounds:!0},x=s.positionPopupByComponent.bind(s,C),w=r.getLocaleTextFunc(),M=s.addPopup({modal:p,eChild:y,closeOnEsc:!0,closedCallback:()=>{c.onPopupEditorClosed()},anchorToElement:d,positionCallback:x,ariaLabel:w("ariaLabelCellEditor","Cell Editor")}),S=M?M.hideFunc:void 0;return n(m),(P=(R=t.jsChildComp)==null?void 0:R.afterGuiAttached)==null||P.call(R),()=>{S==null||S(),i.destroyBean(m)}}),ne.createElement(ne.Fragment,null,e&&t.wrappedContent&&ky.createPortal(t.wrappedContent,e.getGui()))},DV=E.memo(fOe),pOe=(t,e,n,i,s,r)=>{const{context:o}=E.useContext(Fs),a=E.useCallback(()=>{const l=s.current;if(!l)return;const c=l.getGui();c&&c.parentElement&&c.parentElement.removeChild(c),o.destroyBean(l),s.current=void 0},[]);E.useEffect(()=>{const l=t!=null,c=(t==null?void 0:t.compDetails)&&!t.compDetails.componentFromFramework,d=e&&n==null;if(!(l&&c&&!d)){a();return}const p=t.compDetails;if(s.current){const y=s.current,x=y.refresh!=null&&t.force==!1?y.refresh(p.params):!1;if(x===!0||x===void 0)return;a()}const m=p.newAgStackInstance();m!=null&&m.then(y=>{if(!y)return;const C=y.getGui();if(!C)return;(e?n:r.current).appendChild(C),s.current=y})},[t,e,i]),E.useEffect(()=>a,[])},mOe=pOe,gOe=(t,e,n)=>{const{compProxy:i}=t;n(i);const s=i.getProps(),r=lm(e);return ne.createElement(kN.Provider,{value:{setMethods:o=>i.setMethods(o)}},r?ne.createElement(e,{...s}):ne.createElement(e,{...s,ref:o=>i.setRef(o)}))},_V=(t,e,n)=>{const i=t.compProxy;return ne.createElement(ne.Fragment,null,i?gOe(t,e,n):ne.createElement(e,{...t.compDetails.params,ref:n}))},vOe=(t,e,n,i,s)=>{const r=t.compDetails,o=r.componentClass,a=r.componentFromFramework&&!t.popup,l=r.componentFromFramework&&t.popup,c=!r.componentFromFramework&&t.popup;return ne.createElement(ne.Fragment,null,a&&_V(t,o,e),l&&ne.createElement(DV,{editDetails:t,cellCtrl:i,eParentCell:n,wrappedContent:_V(t,o,e)}),c&&s&&ne.createElement(DV,{editDetails:t,cellCtrl:i,eParentCell:n,jsChildComp:s}))},yOe=(t,e,n,i,s,r,o)=>{const{compDetails:a,value:l}=t,c=!a,d=a&&a.componentFromFramework,f=a&&a.componentClass,p=l!=null&&l.toString?l.toString():l,m=()=>ne.createElement(ne.Fragment,null,c&&ne.createElement(ne.Fragment,null,p),d&&!r&&ne.createElement(f,{...a.params,key:e,ref:i}),d&&r&&ne.createElement(f,{...a.params,key:e}));return ne.createElement(ne.Fragment,null,s?ne.createElement("span",{role:"presentation",id:`cell-${n}`,className:"ag-cell-value",ref:o},m()):m())},xOe=({cellCtrl:t,printLayout:e,editingRow:n})=>{const{context:i}=E.useContext(Fs),{colIdSanitised:s,instanceId:r}=t,o=E.useRef(),[a,l]=E.useState(()=>t.isCellRenderer()?void 0:{compDetails:void 0,value:t.getValueToDisplay(),force:!1}),[c,d]=E.useState(),[f,p]=E.useState(1),[m,y]=E.useState(),[C,x]=E.useState(!1),[w,M]=E.useState(!1),[S,R]=E.useState(!1),[P,F]=E.useState(),N=E.useMemo(()=>t.isForceWrapper(),[t]),I=E.useMemo(()=>t.getCellAriaRole(),[t]),_=E.useRef(null),A=E.useRef(null),O=E.useRef(),k=E.useRef(),z=E.useRef(),W=E.useRef([]),K=E.useRef(),[V,Q]=E.useState(0),q=E.useCallback(Le=>{K.current=Le,Q(we=>we+1)},[]),X=a!=null&&(C||S||w),H=N||X,ee=E.useCallback(Le=>{if(k.current=Le,Le){const we=Le.isCancelBeforeStart&&Le.isCancelBeforeStart();setTimeout(()=>{we?(t.stopEditing(!0),t.focusCell(!0)):t.cellEditorAttached()})}},[t]),ge=E.useRef();ge.current||(ge.current=new m0(()=>_.current)),mOe(a,H,K.current,V,O,_);const Se=E.useRef();E.useLayoutEffect(()=>{var U;const Le=Se.current,we=a;if(Se.current=a,Le==null||Le.compDetails==null||we==null||we.compDetails==null)return;const $e=Le.compDetails,ce=we.compDetails;if($e.componentClass!=ce.componentClass||((U=A.current)==null?void 0:U.refresh)==null)return;A.current.refresh(ce.params)!=!0&&p(ke=>ke+1)},[a]),E.useLayoutEffect(()=>{if(!(c&&!c.compDetails.componentFromFramework))return;const we=c.compDetails,$e=c.popup===!0,ce=we.newAgStackInstance();return ce.then(Ce=>{if(!Ce)return;const U=Ce.getGui();if(ee(Ce),!$e){const ke=(N?z:_).current;ke==null||ke.appendChild(U),Ce.afterGuiAttached&&Ce.afterGuiAttached()}F(Ce)}),()=>{ce.then(Ce=>{var ke;const U=Ce.getGui();i.destroyBean(Ce),ee(void 0),F(void 0),(ke=U==null?void 0:U.parentElement)==null||ke.removeChild(U)})}},[c]);const Z=E.useCallback(Le=>{if(z.current=Le,!Le){W.current.forEach($e=>$e()),W.current=[];return}const we=$e=>{if($e){const ce=$e.getGui();Le.insertAdjacentElement("afterbegin",ce),W.current.push(()=>{i.destroyBean($e),fh(ce)})}return $e};if(C){const $e=t.createSelectionCheckbox();we($e)}S&&we(t.createDndSource()),w&&we(t.createRowDragComp())},[t,i,S,w,C]),ae=E.useCallback(Le=>{if(_.current=Le,o.current=Le?i.createBean(new sm):i.destroyBean(o.current),!Le||!t)return;const we={addOrRemoveCssClass:(ce,Ce)=>ge.current.addOrRemoveCssClass(ce,Ce),setUserStyles:ce=>y(ce),getFocusableElement:()=>_.current,setIncludeSelection:ce=>x(ce),setIncludeRowDrag:ce=>M(ce),setIncludeDndSource:ce=>R(ce),getCellEditor:()=>k.current||null,getCellRenderer:()=>A.current??O.current,getParentOfValue:()=>K.current??z.current??_.current,setRenderDetails:(ce,Ce,U)=>{l(ke=>(ke==null?void 0:ke.compDetails)!==ce||(ke==null?void 0:ke.value)!==Ce||(ke==null?void 0:ke.force)!==U?{value:Ce,compDetails:ce,force:U}:ke)},setEditDetails:(ce,Ce,U,ke)=>{if(ce){let De;ke?De=new dOe(ce.params,()=>p(Xe=>Xe+1)):ce.componentFromFramework&&HN(),d({compDetails:ce,popup:Ce,popupPosition:U,compProxy:De}),Ce||l(void 0)}else d(De=>{De!=null&&De.compProxy&&(k.current=void 0)})}},$e=z.current||void 0;t.setComp(we,Le,$e,e,n,o.current)},[]),xe=E.useMemo(()=>{var we;return!!(((we=a==null?void 0:a.compDetails)==null?void 0:we.componentFromFramework)&&lm(a.compDetails.componentClass))},[a]);E.useLayoutEffect(()=>{var Le;_.current&&(ge.current.addOrRemoveCssClass("ag-cell-value",!H),ge.current.addOrRemoveCssClass("ag-cell-inline-editing",!!c&&!c.popup),ge.current.addOrRemoveCssClass("ag-cell-popup-editing",!!c&&!!c.popup),ge.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!c||!!c.popup),(Le=t.getRowCtrl())==null||Le.setInlineEditingCss(),t.shouldRestoreFocus()&&!t.isEditing()&&_.current.focus({preventScroll:!0}))});const Me=()=>ne.createElement(ne.Fragment,null,a!=null&&yOe(a,f,r,A,H,xe,q),c!=null&&vOe(c,ee,_.current,t,P)),Oe=E.useCallback(()=>t.onFocusOut(),[]);return ne.createElement("div",{ref:ae,style:m,role:I,"col-id":s,onBlur:Oe},H?ne.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:Z},Me()):Me())},COe=E.memo(xOe),wOe=({rowCtrl:t,containerType:e})=>{const{context:n,gos:i}=E.useContext(Fs),s=E.useRef(),r=E.useRef(t.getDomOrder()),o=t.isFullWidth(),a=t.getRowNode().displayed,[l,c]=E.useState(()=>a?t.getRowIndex():null),[d,f]=E.useState(()=>t.getRowId()),[p,m]=E.useState(()=>t.getBusinessKey()),[y,C]=E.useState(()=>t.getRowStyles()),x=E.useRef(null),w=E.useRef(null),[M,S]=E.useState(()=>null),[R,P]=E.useState(),[F,N]=E.useState(()=>a?t.getInitialRowTop(e):void 0),[I,_]=E.useState(()=>a?t.getInitialTransform(e):void 0),A=E.useRef(null),O=E.useRef(),k=E.useRef(!1),[z,W]=E.useState(0);E.useEffect(()=>{var ae;if(k.current||!R||z>10)return;const Z=(ae=A.current)==null?void 0:ae.firstChild;Z?(t.setupDetailRowAutoHeight(Z),k.current=!0):W(xe=>xe+1)},[R,z]);const K=E.useRef();K.current||(K.current=new m0(()=>A.current));const V=E.useCallback(Z=>{if(A.current=Z,s.current=Z?n.createBean(new sm):n.destroyBean(s.current),!Z){t.unsetComp(e);return}if(!t.isAlive())return;const ae={setTop:N,setTransform:_,addOrRemoveCssClass:(xe,Me)=>K.current.addOrRemoveCssClass(xe,Me),setDomOrder:xe=>r.current=xe,setRowIndex:c,setRowId:f,setRowBusinessKey:m,setUserStyles:C,setCellCtrls:(xe,Me)=>{w.current=x.current,x.current=xe;const Oe=LN(w.current,xe,r.current);Oe!==w.current&&ON(Me,()=>S(Oe))},showFullWidth:xe=>P(xe),getFullWidthCellRenderer:()=>O.current,refreshFullWidth:xe=>ee.current?(P(Me=>({...Me,params:xe()})),!0):!O.current||!O.current.refresh?!1:O.current.refresh(xe())};t.setComp(ae,Z,e,s.current)},[]);E.useLayoutEffect(()=>y0(R,n,A.current,O),[R]);const Q=E.useMemo(()=>{const Z={top:F,transform:I};return Object.assign(Z,y),Z},[F,I,y]),q=o&&(R==null?void 0:R.componentFromFramework),X=!o&&M!=null,H=E.useMemo(()=>!!((R==null?void 0:R.componentFromFramework)&&lm(R.componentClass)),[R]),ee=E.useRef(!1);E.useEffect(()=>{ee.current=H&&!!R&&!!i.get("reactiveCustomComponents")},[H,R]);const ge=()=>M==null?void 0:M.map(Z=>ne.createElement(COe,{cellCtrl:Z,editingRow:t.isEditing(),printLayout:t.isPrintLayout(),key:Z.instanceId})),Se=()=>{const Z=R.componentClass;return ne.createElement(ne.Fragment,null,H?ne.createElement(Z,{...R.params}):ne.createElement(Z,{...R.params,ref:O}))};return ne.createElement("div",{ref:V,role:"row",style:Q,"row-index":l,"row-id":d,"row-business-key":p},X&&ge(),q&&Se())},bOe=E.memo(wOe),SOe=({name:t})=>{const{context:e}=E.useContext(Fs),n=E.useMemo(()=>np(t),[t]),i=E.useRef(null),s=E.useRef(null),r=E.useRef([]),o=E.useRef([]),[a,l]=E.useState(()=>[]),c=E.useRef(!1),d=E.useRef(),f=E.useMemo(()=>Go(n.viewport),[n]),p=E.useMemo(()=>Go(n.container),[n]),m=n.type==="center",y=m?i:s;Md(" AG Row Container "+t+" ",y);const C=E.useCallback(()=>m?i.current!=null&&s.current!=null:s.current!=null,[]),x=E.useCallback(()=>m?i.current==null&&s.current==null:s.current==null,[]),w=E.useCallback(()=>{if(x()&&(d.current=e.destroyBean(d.current)),C()){const P=N=>{const I=LN(o.current,r.current,c.current);I!==o.current&&(o.current=I,ON(N,()=>l(I)))},F={setHorizontalScroll:N=>{i.current&&(i.current.scrollLeft=N)},setViewportHeight:N=>{i.current&&(i.current.style.height=N)},setRowCtrls:({rowCtrls:N,useFlushSync:I})=>{const _=!!I&&r.current.length>0&&N.length>0;r.current=N,P(_)},setDomOrder:N=>{c.current!=N&&(c.current=N,P(!1))},setContainerWidth:N=>{s.current&&(s.current.style.width=N)},setOffsetTop:N=>{s.current&&(s.current.style.transform=`translateY(${N})`)}};d.current=e.createBean(new Z2e(t)),d.current.setComp(F,s.current,i.current)}},[C,x]),M=E.useCallback(P=>{s.current=P,w()},[w]),S=E.useCallback(P=>{i.current=P,w()},[w]),R=()=>ne.createElement("div",{className:p,ref:M,role:"rowgroup"},a.map(P=>ne.createElement(bOe,{rowCtrl:P,containerType:n.type,key:P.instanceId})));return ne.createElement(ne.Fragment,null,m?ne.createElement("div",{className:f,ref:S,role:"presentation"},R()):R())},EOe=E.memo(SOe),MOe=()=>{const{context:t,resizeObserverService:e}=E.useContext(Fs),[n,i]=E.useState(""),[s,r]=E.useState(0),[o,a]=E.useState(0),[l,c]=E.useState("0px"),[d,f]=E.useState("0px"),[p,m]=E.useState("100%"),[y,C]=E.useState("0px"),[x,w]=E.useState("0px"),[M,S]=E.useState("100%"),[R,P]=E.useState(""),[F,N]=E.useState(""),[I,_]=E.useState(null),[A,O]=E.useState(""),[k,z]=E.useState(null),[W,K]=E.useState("ag-layout-normal"),V=E.useRef();V.current||(V.current=new m0(()=>Q.current));const Q=E.useRef(null),q=E.useRef(null),X=E.useRef(null),H=E.useRef(null),ee=E.useRef(null),ge=E.useRef(null),Se=E.useRef(null),Z=E.useRef([]),ae=E.useRef([]);Md(" AG Grid Body ",Q),Md(" AG Pinned Top ",q),Md(" AG Sticky Top ",X),Md(" AG Middle ",ge),Md(" AG Pinned Bottom ",Se);const xe=E.useCallback(Ge=>{if(Q.current=Ge,!Ge){Z.current=t.destroyBeans(Z.current),ae.current.forEach(he=>he()),ae.current=[];return}if(!t)return;const $=(he,je)=>{he.appendChild(je),ae.current.push(()=>he.removeChild(je))},B=he=>{const je=t.createBean(new he);return Z.current.push(je),je},de=(he,je,We)=>{$(he,document.createComment(We)),$(he,B(je).getGui())};de(Ge,a2e," AG Fake Horizontal Scroll "),de(Ge,o2e," AG Overlay Wrapper "),ee.current&&de(ee.current,l2e," AG Fake Vertical Scroll ");const te={setRowAnimationCssOnBodyViewport:i,setColumnCount:he=>{Q.current&&wTe(Q.current,he)},setRowCount:he=>{Q.current&&xTe(Q.current,he)},setTopHeight:r,setBottomHeight:a,setStickyTopHeight:c,setStickyTopTop:f,setStickyTopWidth:m,setTopDisplay:P,setBottomDisplay:N,setColumnMovingCss:(he,je)=>V.current.addOrRemoveCssClass(he,je),updateLayoutClasses:K,setAlwaysVerticalScrollClass:_,setPinnedTopBottomOverflowY:O,setCellSelectableCss:(he,je)=>z(je?he:null),setBodyViewportWidth:he=>{ge.current&&(ge.current.style.width=he)},registerBodyViewportResizeListener:he=>{if(ge.current){const je=e.observeResize(ge.current,he);ae.current.push(()=>je())}},setStickyBottomHeight:C,setStickyBottomBottom:w,setStickyBottomWidth:S},fe=t.createBean(new tPe);Z.current.push(fe),fe.setComp(te,Ge,ge.current,q.current,Se.current,X.current,H.current)},[]),Me=E.useMemo(()=>Go("ag-root","ag-unselectable",W),[W]),Oe=E.useMemo(()=>Go("ag-body-viewport",n,W,I,k),[n,W,I,k]),Le=E.useMemo(()=>Go("ag-body",W),[W]),we=E.useMemo(()=>Go("ag-floating-top",k),[k]),$e=E.useMemo(()=>Go("ag-sticky-top",k),[k]),ce=E.useMemo(()=>Go("ag-sticky-bottom",y==="0px"?"ag-hidden":null,k),[k,y]),Ce=E.useMemo(()=>Go("ag-floating-bottom",k),[k]),U=E.useMemo(()=>({height:s,minHeight:s,display:R,overflowY:A}),[s,R,A]),ke=E.useMemo(()=>({height:l,top:d,width:p}),[l,d,p]),De=E.useMemo(()=>({height:y,bottom:x,width:M}),[y,x,M]),Xe=E.useMemo(()=>({height:o,minHeight:o,display:F,overflowY:A}),[o,F,A]),Ve=Ge=>ne.createElement(EOe,{name:Ge,key:`${Ge}-container`}),at=({section:Ge,children:$,className:B,style:de})=>ne.createElement("div",{ref:Ge,className:B,role:"presentation",style:de},$.map(Ve));return ne.createElement("div",{ref:xe,className:Me,role:"treegrid"},ne.createElement(cOe,null),at({section:q,className:we,style:U,children:["topLeft","topCenter","topRight","topFullWidth"]}),ne.createElement("div",{className:Le,ref:ee,role:"presentation"},at({section:ge,className:Oe,children:["left","center","right","fullWidth"]})),at({section:X,className:$e,style:ke,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),at({section:H,className:ce,style:De,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),at({section:Se,className:Ce,style:Xe,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},TOe=E.memo(MOe),ROe=(t,e)=>{const{children:n,eFocusableElement:i,onTabKeyDown:s,gridCtrl:r,forceFocusOutWhenTabGuardsAreEmpty:o}=t,{context:a}=E.useContext(Fs),l=E.useRef(null),c=E.useRef(null),d=E.useRef(),f=x=>{const w=x==null?void 0:parseInt(x,10).toString();[l,c].forEach(M=>{var S,R;w===void 0?(S=M.current)==null||S.removeAttribute("tabindex"):(R=M.current)==null||R.setAttribute("tabindex",w)})};E.useImperativeHandle(e,()=>({forceFocusOutOfContainer(x){var w;(w=d.current)==null||w.forceFocusOutOfContainer(x)}}));const p=E.useCallback(()=>{const x=l.current,w=c.current;if(!x&&!w){d.current=a.destroyBean(d.current);return}if(x&&w){const M={setTabIndex:f};d.current=a.createBean(new Y$({comp:M,eTopGuard:x,eBottomGuard:w,eFocusableElement:i,onTabKeyDown:s,forceFocusOutWhenTabGuardsAreEmpty:o,focusInnerElement:S=>r.focusInnerElement(S)}))}},[]),m=E.useCallback(x=>{l.current=x,p()},[p]),y=E.useCallback(x=>{c.current=x,p()},[p]),C=x=>{const w=x==="top"?Bw.TAB_GUARD_TOP:Bw.TAB_GUARD_BOTTOM;return ne.createElement("div",{className:`${Bw.TAB_GUARD} ${w}`,role:"presentation",ref:x==="top"?m:y})};return ne.createElement(ne.Fragment,null,C("top"),n,C("bottom"))},AOe=E.forwardRef(ROe),POe=E.memo(AOe),DOe=({context:t})=>{const[e,n]=E.useState(""),[i,s]=E.useState(""),[r,o]=E.useState(""),[a,l]=E.useState(null),[c,d]=E.useState(null),[f,p]=E.useState(!1),[m,y]=E.useState(),C=E.useRef(),x=E.useRef(null),w=E.useRef(),[M,S]=E.useState(null),R=E.useRef(()=>{}),P=E.useRef(),F=E.useRef([]),N=E.useCallback(()=>{},[]),I=E.useMemo(()=>t.isDestroyed()?null:t.getBeans(),[t]);Md(" AG Grid ",x);const _=E.useCallback(W=>{if(x.current=W,C.current=W?t.createBean(new _De):t.destroyBean(C.current),!W||t.isDestroyed())return;const K=C.current;R.current=K.focusInnerElement.bind(K);const V={destroyGridUi:()=>{},setRtlClass:n,setGridThemeClass:s,forceFocusOutOfContainer:Q=>{var q,X;if(!Q&&((q=P.current)!=null&&q.isDisplayed())){P.current.forceFocusOutOfContainer(Q);return}(X=w.current)==null||X.forceFocusOutOfContainer(Q)},updateLayoutClasses:o,getFocusableContainers:()=>{var X;const Q=[],q=(X=x.current)==null?void 0:X.querySelector(".ag-root");return q&&Q.push({getGui:()=>q}),F.current.forEach(H=>{H.isDisplayed()&&Q.push(H)}),Q},setCursor:l,setUserSelect:d};K.setComp(V,W,W),p(!0)},[]);E.useEffect(()=>{const W=C.current,K=x.current;if(!m||!I||!W||!M||!K)return;const V=[],{watermarkSelector:Q,paginationSelector:q,sideBarSelector:X,statusBarSelector:H,gridHeaderDropZonesSelector:ee}=W.getOptionalSelectors(),ge=[];if(ee){const Z=t.createBean(new ee.component),ae=Z.getGui();K.insertAdjacentElement("afterbegin",ae),ge.push(ae),V.push(Z)}if(X){const Z=t.createBean(new X.component),ae=Z.getGui(),xe=M.querySelector(".ag-tab-guard-bottom");xe&&(xe.insertAdjacentElement("beforebegin",ae),ge.push(ae)),V.push(Z),F.current.push(Z)}const Se=Z=>{const ae=t.createBean(new Z),xe=ae.getGui();return K.insertAdjacentElement("beforeend",xe),ge.push(xe),V.push(ae),ae};if(H&&Se(H.component),q){const Z=Se(q.component);P.current=Z,F.current.push(Z)}return Q&&Se(Q.component),()=>{t.destroyBeans(V),ge.forEach(Z=>{var ae;(ae=Z.parentElement)==null||ae.removeChild(Z)})}},[m,M,I]);const A=E.useMemo(()=>Go("ag-root-wrapper",e,i,r),[e,i,r]),O=E.useMemo(()=>Go("ag-root-wrapper-body","ag-focus-managed",r),[r]),k=E.useMemo(()=>({userSelect:c??"",WebkitUserSelect:c??"",cursor:a??""}),[c,a]),z=E.useCallback(W=>{w.current=W,y(W!==null)},[]);return ne.createElement("div",{ref:_,className:A,style:k,role:"presentation"},ne.createElement("div",{className:O,ref:S,role:"presentation"},f&&M&&I&&ne.createElement(Fs.Provider,{value:I},ne.createElement(POe,{ref:z,eFocusableElement:M,onTabKeyDown:N,gridCtrl:C.current,forceFocusOutWhenTabGuardsAreEmpty:!0},ne.createElement(TOe,null)))))},_Oe=E.memo(DOe),FOe=class extends Ee{wireBeans(t){this.ctrlsService=t.ctrlsService}areHeaderCellsRendered(){return this.ctrlsService.getHeaderRowContainerCtrls().every(t=>t.getAllCtrls().every(e=>e.areCellsRendered()))}},mq=t=>{var x;const e=E.useRef(),n=E.useRef(null),i=E.useRef(null),s=E.useRef([]),r=E.useRef([]),o=E.useRef(t),a=E.useRef(),l=E.useRef(),c=E.useRef(!1),[d,f]=E.useState(void 0),[,p]=E.useState(0),m=E.useCallback(w=>{if(n.current=w,!w){s.current.forEach(O=>O()),s.current.length=0;return}const M=t.modules||[];i.current||(i.current=new JIe(()=>p(O=>O+1),t.componentWrappingElement,t.maxComponentCreationTimeMs),s.current.push(()=>{var O;(O=i.current)==null||O.destroy(),i.current=null}));const S=uTe(t.gridOptions,t),R=()=>{if(c.current){const O=()=>{var z;return(z=a.current)!=null&&z.shouldQueueUpdates()?void 0:r.current.shift()};let k=O();for(;k;)k(),k=O()}},P=new LOe(R);a.current=P;const F=new FOe,N={providedBeanInstances:{frameworkComponentWrapper:new IOe(i.current,S.reactiveCustomComponents??rIe("reactiveCustomComponents")??!0),renderStatusService:F},modules:M,frameworkOverrides:P},I=O=>{f(O),O.createBean(F),s.current.push(()=>{O.destroy()}),O.getBean("ctrlsService").whenReady({addDestroyFunc:k=>{s.current.push(k)}},()=>{var z;if(O.isDestroyed())return;const k=e.current;k&&((z=t.setGridApi)==null||z.call(t,k))})},_=O=>{O.getBean("ctrlsService").whenReady({addDestroyFunc:k=>{s.current.push(k)}},()=>{r.current.forEach(k=>k()),r.current.length=0,c.current=!0})},A=new aIe;S.gridId??(S.gridId=l.current),e.current=A.create(w,S,I,_,N),s.current.push(()=>{e.current=void 0}),e.current&&(l.current=e.current.getGridId())},[]),y=E.useMemo(()=>({height:"100%",...t.containerStyle||{}}),[t.containerStyle]),C=E.useCallback(w=>{var M;c.current&&!((M=a.current)!=null&&M.shouldQueueUpdates())?w():r.current.push(w)},[]);return E.useEffect(()=>{const w=NOe(o.current,t);o.current=t,C(()=>{e.current&&dTe(w,e.current)})},[t]),ne.createElement("div",{style:y,className:t.className,ref:m},d&&!d.isDestroyed()?ne.createElement(_Oe,{context:d}):null,((x=i.current)==null?void 0:x.getPortals())??null)};function NOe(t,e){const n={};return Object.keys(e).forEach(i=>{const s=e[i];t[i]!==s&&(n[i]=s)}),n}var IOe=class extends fIe{constructor(t,e){super(),this.parent=t,this.reactiveCustomComponents=e}createWrapper(t,e){if(this.reactiveCustomComponents){const s=(r=>{switch(r){case"filter":return UIe;case"floatingFilterComponent":return WIe;case"dateComponent":return zIe;case"dragAndDropImageComponent":return GIe;case"loadingOverlayComponent":return $Ie;case"noRowsOverlayComponent":return KIe;case"statusPanel":return YIe;case"toolPanel":return XIe;case"menuItem":return qIe;case"cellRenderer":return VIe}})(e.propertyName);if(s)return new s(t,this.parent,e)}else switch(e.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":HN();break}const n=!e.cellRenderer&&e.propertyName!=="toolPanel";return new fq(t,this.parent,e,n)}},OOe=E.forwardRef((t,e)=>{const{ctrlsFactory:n,context:i,gos:s,resizeObserverService:r,rowModel:o}=E.useContext(Fs),[a,l]=E.useState(()=>new So),[c,d]=E.useState(()=>new So),[f,p]=E.useState(),[m,y]=E.useState(),C=E.useRef(),x=E.useRef(null),w=E.useRef(),M=E.useMemo(()=>$o.__getGridRegisteredModules(t.api.getGridId()),[t]),S=E.useMemo(()=>a.toString()+" ag-details-row",[a]),R=E.useMemo(()=>c.toString()+" ag-details-grid",[c]);e&&E.useImperativeHandle(e,()=>({refresh(){var N;return((N=C.current)==null?void 0:N.refresh())??!1}})),t.template&&Fe("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");const P=E.useCallback(N=>{var A;if(x.current=N,!N){C.current=i.destroyBean(C.current),(A=w.current)==null||A.call(w);return}const I={addOrRemoveCssClass:(O,k)=>l(z=>z.setClass(O,k)),addOrRemoveDetailGridCssClass:(O,k)=>d(z=>z.setClass(O,k)),setDetailGrid:O=>p(O),setRowData:O=>y(O),getGui:()=>x.current},_=n.getInstance("detailCellRenderer");if(_&&(i.createBean(_),_.init(I,t),C.current=_,s.get("detailRowAutoHeight"))){const O=()=>{if(x.current==null)return;const k=x.current.clientHeight;k!=null&&k>0&&setTimeout(()=>{t.node.setRowHeight(k),(Gn(s)||Th(s))&&o.onRowHeightChanged()},0)};w.current=r.observeResize(N,O),O()}},[]),F=E.useCallback(N=>{var I;(I=C.current)==null||I.registerDetailWithMaster(N)},[]);return ne.createElement("div",{className:S,ref:P},f&&ne.createElement(mq,{className:R,...f,modules:M,rowData:m,setGridApi:F}))}),LOe=class extends X${constructor(t){super("react"),this.processQueuedUpdates=t,this.queueUpdates=!1,this.frameworkComponents={agGroupCellRenderer:AV,agGroupRowRenderer:AV,agDetailCellRenderer:OOe},this.wrapIncoming=(e,n)=>n==="ensureVisible"?LIe(e):e(),this.renderingEngine="react"}frameworkComponent(t){return this.frameworkComponents[t]}isFrameworkComponent(t){if(!t)return!1;const e=t.prototype;return!(e&&"getGui"in e)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return OIe()}},gq=class extends E.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=t=>{this.api=t,this.apiListeners.forEach(e=>e(t))}}registerApiListener(t){this.apiListeners.push(t)}componentWillUnmount(){this.apiListeners.length=0}render(){return ne.createElement(mq,{...this.props,setGridApi:this.setGridApi})}};const vq=u0(v.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),yq=u0(v.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),kOe=E.createContext(),xq=({onUpload:t,children:e})=>{const[n,i]=E.useState([]),[s,r]=E.useState(!1),o=l=>{const c=Array.from(l.target.files),d=c.map(f=>URL.createObjectURL(f));i([...n,...c]),t&&t(d[0])},a=l=>{i(n.filter((c,d)=>d!==l))};return v.jsxs(kOe.Provider,{value:{attachments:n},children:[e,v.jsxs("div",{children:[v.jsx("input",{type:"file",multiple:!0,onChange:o,style:{display:"none"},id:"file-upload"}),v.jsx("div",{className:"flex mt-4",children:v.jsx("label",{htmlFor:"file-upload",className:"btn-light w-full text-center cursor-pointer",children:"Upload File"})}),v.jsx("div",{style:{marginTop:"10px",display:"flex",flexWrap:"wrap",gap:"10px"},children:v.jsx("div",{className:"flex w-180 justify-between items-center",children:n.slice(0,4).map((l,c)=>v.jsx("div",{style:{marginBottom:"10px"},children:l.type.startsWith("image/")?v.jsx("img",{src:URL.createObjectURL(l),alt:`Uploaded Preview ${c+1}`,style:{maxWidth:"100px",height:"100px",borderRadius:"8px",padding:"5px"}}):v.jsxs("p",{children:[v.jsx("strong",{children:"File:"})," ",l.name," ",v.jsx("a",{href:URL.createObjectURL(l),download:l.name,style:{color:"blue",textDecoration:"underline"},children:"(Download)"})]})},c))})}),n.length>4&&v.jsx("div",{className:"items-center justify-center flex",children:v.jsx("button",{className:"btn-light",onClick:()=>r(!0),children:"See More"})}),v.jsxs($F,{open:s,onClose:()=>r(!1),children:[v.jsx(KF,{children:"All Attachments"}),v.jsx(qF,{children:v.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px"},children:[n.map((l,c)=>v.jsxs("div",{style:{marginBottom:"10px"},children:[l.type.startsWith("image/")?v.jsx("img",{src:URL.createObjectURL(l),alt:`Uploaded Preview ${c+1}`,style:{maxWidth:"100px",height:"100px",borderRadius:"8px",padding:"5px"}}):v.jsx("p",{children:l.name}),v.jsx("button",{className:"btn-light",onClick:()=>a(c),children:"Delete"})]},c)),v.jsx("div",{className:"btn-light h-10 flex flex-end w-full items-center justify-center",children:v.jsx("button",{className:"btn-light",onClick:()=>r(!1),children:"Close"})})]})})]})]})]})},Cq=u0(v.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.89-2-2-2m0 16H5V7h14zm-5.5-6c0 .83-.67 1.5-1.5 1.5s-1.5-.67-1.5-1.5.67-1.5 1.5-1.5 1.5.67 1.5 1.5M12 9c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"Preview");$o.registerModules([uq]);const wq=()=>{const t=fs(),e=Hi(),[n,i]=E.useState(!1),[s,r]=E.useState(null),[o,a]=E.useState({title:"",author:"",image:""}),l=N=>N>=1e6?(N/1e6).toFixed(1).replace(/\.0$/,"")+"M":N>=1e3?(N/1e3).toFixed(1).replace(/\.0$/,"")+"K":N,c=()=>{if(s)C(N=>N.map(I=>I.id===s.id?{...s}:I));else{const N={...o,id:Date.now().toString(),datePublished:{seconds:Math.floor(Date.now()/1e3)},comments:0,views:0,image:o.image||"https://via.placeholder.com/150"};C(I=>[...I,N])}i(!1),r(null),a({title:"",author:"",image:""})},d=[{title:"Company Growth Strategies for 2025",author:"CEO John Doe",datePublished:{seconds:1616161616},comments:325,views:9456,likes:3455,flex:1,image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRtp0yBOpspCBHdj3aWQOrpZuC7K9fzfmNImA&s"},{title:"Sustainability Initiatives in Our Business",author:"Jane Smith",datePublished:{seconds:1616161626},comments:54545,views:95853453,likes:94,flex:1,image:"https://i.mydramalist.com/eJ8Dd_5c.jpg"},{title:"The Future of AI in Business Operations",author:"Michael Lee",datePublished:{seconds:1616161636},comments:1200,views:123456,likes:23904,flex:2,image:"https://i.mydramalist.com/jBq4b_5f.jpg"},{title:"Remote Work: The New Normal?",author:"Sophia Chen",datePublished:{seconds:1616161646},comments:875,views:65432,likes:82394,image:"https://od2-image-api.abs-cbn.com/prod/editorImage/1735922206940SHOWTIME-JM-On-Unforgettable-Firsts-Main.jpg"},{title:"Marketing Trends to Watch in 2025",author:"David Brown",datePublished:{seconds:1616161656},comments:2345,views:789654,likes:904,image:"https://cdn-images.dzcdn.net/images/artist/53df60edbde3b362ebe1b6f8936a5545/1900x1900-000000-80-0-0.jpg"},{title:"Employee Well-being and Productivity",author:"Olivia Martinez",datePublished:{seconds:1616161676},comments:432,views:98765,likes:982,image:"https://www.vivaartistsagency.ph/wp-content/uploads/2020/01/ANNE-CURTIS.jpg"}],f=[{title:"How I Learned React in 3 Months",author:"Alice Johnson",datePublished:{seconds:1616161636},comments:35123,views:156,likes:4,image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRtp0yBOpspCBHdj3aWQOrpZuC7K9fzfmNImA&s"},{title:"Work-Life Balance Tips from a Remote Worker",author:"Bob Williams",datePublished:{seconds:1616161646},comments:6912334,views:480,likes:3904,image:"https://i.mydramalist.com/eJ8Dd_5c.jpg"},{title:"Mastering Time Management as a Developer",author:"Chris Evans",datePublished:{seconds:1616161656},comments:872,views:12e3,likes:9823904,image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRtp0yBOpspCBHdj3aWQOrpZuC7K9fzfmNImA&s"},{title:"Overcoming Imposter Syndrome in Tech",author:"Jessica Smith",datePublished:{seconds:1616161666},comments:1456,views:65432,likes:493090,image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRtp0yBOpspCBHdj3aWQOrpZuC7K9fzfmNImA&s"},{title:"The Power of Networking for Career Growth",author:"Daniel White",datePublished:{seconds:1616161676},comments:678,views:7654,likes:8548,image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRtp0yBOpspCBHdj3aWQOrpZuC7K9fzfmNImA&s"},{title:"Lessons from My First Year as a Software Engineer",author:"Megan Taylor",datePublished:{seconds:1616161686},comments:2345,views:98765,likes:89435,image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRtp0yBOpspCBHdj3aWQOrpZuC7K9fzfmNImA&s"},{title:"How to Stay Motivated While Working Remotely",author:"Ethan Harris",datePublished:{seconds:1616161696},comments:453,views:5432,likes:33,image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRtp0yBOpspCBHdj3aWQOrpZuC7K9fzfmNImA&s"}],[p,m]=E.useState("company"),[y,C]=E.useState(d),x=()=>{m(p==="company"?"employee":"company"),C(p==="company"?f:d),console.log("Blog Data:",y)},w=N=>{r(N),i(!0)},M=N=>{C(y.filter(I=>I.id!==N))},S=y.length,R=y.reduce((N,I)=>N+(I.comments||0),0),P=y.reduce((N,I)=>N+(I.views||0),0),F=y.reduce((N,I)=>N+(I.likes||0),0);return v.jsx(v.Fragment,{children:e.pathname.includes("/blog/details/")?v.jsx(Ly,{}):v.jsxs(v.Fragment,{children:[v.jsxs("header",{className:"container flex h-12 items-center justify-between flex-wrap",children:[v.jsx("div",{className:"hidden lg:flex md-flex gap-4 items-center ",children:v.jsx("img",{src:Zo,alt:"Fullsuite Logo",className:"h-8"})}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{className:"btn-primary",onClick:x,children:p==="company"?"Employee Blog":"Company Blog"}),v.jsx("button",{className:"btn-primary",onClick:()=>{r(null),a({title:"",author:""}),i(!0),t(p==="company"?"/app/blogs/new-company-blog":"/app/my-blogs/new-blog")},children:"+ Add Blog"})]})]}),v.jsxs("div",{className:"flex flex-col md:grid md:grid-cols-2 lg:flex-row gap-4 p-4 bg-white shadow-md rounded-lg mb-4",children:[v.jsxs("div",{className:"p-4 bg-gray-200 rounded-lg w-full h-10 flex items-center justify-between",children:[v.jsx("span",{className:"text-lg font-bold",children:"News"}),v.jsx("span",{className:"text-2xl",children:l(S)})]}),v.jsxs("div",{className:"p-4 bg-gray-200 rounded-lg w-full h-10 flex items-center justify-between",children:[v.jsx("span",{className:"text-lg font-bold",children:"Total Comments"}),v.jsx("span",{className:"text-2xl",children:l(R)})]}),v.jsxs("div",{className:"p-4 bg-gray-200 rounded-lg w-full h-10 flex items-center justify-between",children:[v.jsx("span",{className:"text-lg font-bold",children:"Total Views"}),v.jsx("span",{className:"text-2xl",children:l(P)})]}),v.jsxs("div",{className:"p-4 bg-gray-200 rounded-lg w-full h-10 flex items-center justify-between",children:[v.jsx("span",{className:"text-lg font-bold",children:"Total Likes"}),v.jsx("span",{className:"text-2xl",children:l(F)})]})]}),v.jsx("div",{className:"flex gap-4",children:v.jsx("div",{className:"w-full overflow-x-auto",children:v.jsx("div",{className:"ag-theme-quartz p-3 sm:p-5 min-w-[800px] lg:w-full",style:{height:"700px"},children:v.jsx(gq,{rowData:y,columnDefs:[{headerName:"Image",field:"image",flex:2,filter:"agTextColumnFilter",headerClass:"text-primary font-bold bg-tertiary",cellRenderer:N=>N.value?v.jsx("img",{src:N.value,alt:"News",className:"w-[80px] h-[80px] sm:w-[100px] sm:h-[100px] rounded-md object-cover mx-auto"}):v.jsx("span",{children:"No Image"})},{headerName:"Title",field:"title",flex:2,filter:"agTextColumnFilter",headerClass:"text-primary font-bold bg-tertiary"},{headerName:"Author",field:"author",flex:1,filter:"agTextColumnFilter",headerClass:"text-primary font-bold bg-tertiary"},{headerName:"Date Published",field:"datePublished",flex:1,headerClass:"text-primary font-bold bg-tertiary",valueGetter:N=>new Date(N.data.datePublished.seconds*1e3).toLocaleString()},{headerName:"Views",field:"views",flex:1,filter:"agTextColumnFilter",valueGetter:N=>l(N.data.views),headerClass:"text-primary font-bold bg-tertiary"},{headerName:"Likes",field:"likes",flex:1,filter:"agTextColumnFilter",headerClass:"text-primary font-bold bg-tertiary",valueGetter:N=>l(N.data.likes)},{headerName:"Comments",field:"comments",flex:1,filter:"agTextColumnFilter",headerClass:"text-primary font-bold bg-tertiary",valueGetter:N=>l(N.data.comments)},{headerName:"Action",field:"action",flex:2,headerClass:"text-primary font-bold bg-tertiary text-center",cellRenderer:N=>v.jsxs("div",{className:"flex justify-center items-center gap-2",children:[v.jsx("button",{className:"btn-update",onClick:()=>w(N.data),children:v.jsx(yq,{})}),v.jsx("button",{className:"btn-delete",onClick:()=>M(N.data.id),children:v.jsx(vq,{})}),v.jsx("button",{className:"btn-view",onClick:()=>t(`details/${N.data.id}`),children:v.jsx(Cq,{})})]})}],defaultColDef:{filter:"agTextColumnFilter",floatingFilter:!0,sortable:!0,cellStyle:{display:"flex",alignItems:"center",justifyContent:"left"}},rowHeight:100,pagination:!0,paginationPageSize:5,paginationPageSizeSelector:[5,10,20,50]})})})}),v.jsxs($F,{open:n,onClose:()=>i(!1),children:[v.jsxs("div",{className:"relative p-6",children:[" ",v.jsx("button",{className:"absolute top-2 right-2 p-2 rounded-full hover:bg-gray-200",onClick:()=>i(!1),children:"✖"})]}),v.jsx(KF,{className:"w-full text-center",children:s?"Edit Blog":"Add New Blog"}),v.jsxs(qF,{children:[v.jsx(x9,{label:"Author",fullWidth:!0,margin:"normal",value:(s==null?void 0:s.author)||o.author,onChange:N=>s?r({...s,author:N.target.value}):a({...o,author:N.target.value})}),v.jsx(i0,{titleChange:N=>{const I=N.replace(/<\/?[^>]+(>|$)/g,"");s?r({...s,title:I}):a({...o,title:I})}}),v.jsx(xq,{onUpload:N=>{console.log("File uploaded:",N),s?r(I=>({...I,image:N})):a(I=>({...I,image:N}))}}),v.jsx("button",{className:"btn-primary flex-end w-full",onClick:c,children:s?"Update":"Add"})]})]})]})})},BOe=Object.freeze(Object.defineProperty({__proto__:null,default:wq},Symbol.toStringTag,{value:"Module"})),HOe=u0(v.jsx("path",{d:"M16 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V8zM7 7h5v2H7zm10 10H7v-2h10zm0-4H7v-2h10zm-2-4V5l4 4z"}),"Feed");$o.registerModules([uq]);const bq=()=>{const t=Hi(),[e,n]=E.useState(!1),[i,s]=E.useState(null),[r,o]=E.useState({title:"",author:"",image:""}),a=fs(),l=S=>S>=1e6?(S/1e6).toFixed(1).replace(/\.0$/,"")+"M":S>=1e3?(S/1e3).toFixed(1).replace(/\.0$/,"")+"K":S,c=()=>{if(i)y(S=>S.map(R=>R.id===i.id?{...i}:R));else{const S={...r,id:Date.now().toString(),datePublished:{seconds:Math.floor(Date.now()/1e3)},comments:0,views:0,image:r.image||"https://via.placeholder.com/150"};y(R=>[...R,S])}n(!1),s(null),o({title:"",author:"",image:""})},d=S=>{s({...S}),n(!0)},f=S=>{y(R=>R.filter(P=>P.id!==S))},p=[{id:"",title:"Marvin Bautista Wanted for Estafa",author:"Melbraei Santiago",datePublished:{seconds:1716161616},comments:1023,views:1025489,likes:4567,image:"https://media.licdn.com/dms/image/v2/D5603AQGic1L2sEBlGg/profile-displayphoto-shrink_800_800/profile-displayphoto-shrink_800_800/0/1707479304553?e=1747267200&v=beta&t=ZjrI_w18mjT_NlZpz34dVSolaLog44oyvCmcaSiqMZk"},{id:"",title:"Marvin Bautista Adonis Hunk",author:"Melbraei Santiago",datePublished:{seconds:1716161626},comments:874,views:65823,likes:2398,image:"https://img.mensxp.com/media/content/2020/Sep/Male-Celebrities-Who-Have-Dabbled-With-Some-Really-Outlandish-1_5f62130740f8d.jpeg?w=780&h=524&cc=1"},{id:"",title:"Viva Film Hunk ",author:"Melbraei Santiago",datePublished:{seconds:1716161636},comments:567,views:34876,likes:9873,image:"https://i.mydramalist.com/jBq4b_5f.jpg"},{id:"",title:"Daddy Daddy, Yes Papa",author:"Melbraei Santiago",datePublished:{seconds:1716161646},comments:1345,views:89234,likes:13567,image:"https://od2-image-api.abs-cbn.com/prod/editorImage/1735922206940SHOWTIME-JM-On-Unforgettable-Firsts-Main.jpg"},{id:"",title:"Blockchain Beyond Cryptocurrency: Real-World Applications",author:"Melbraei Santiago",datePublished:{seconds:1716161656},comments:432,views:54321,likes:6789,image:"https://www.vivaartistsagency.ph/wp-content/uploads/2020/01/ANNE-CURTIS.jpg"},{id:"",title:"The Evolution of Smart Homes and IoT Devices",author:"Melbraei Santiago",datePublished:{seconds:1716161676},comments:789,views:74256,likes:5432,image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRtp0yBOpspCBHdj3aWQOrpZuC7K9fzfmNImA&s"}],[m,y]=E.useState(p),C=m.length,x=m.reduce((S,R)=>S+(R.comments||0),0),w=m.reduce((S,R)=>S+(R.views||0),0),M=m.reduce((S,R)=>S+(R.likes||0),0);return v.jsx(v.Fragment,{children:t.pathname.includes("/news/details/")?v.jsx(Ly,{}):v.jsxs(v.Fragment,{children:[v.jsxs("header",{className:"container flex h-12 items-center justify-between flex-wrap",children:[v.jsx("div",{className:"hidden lg:flex md-flex gap-4 items-center ",children:v.jsx("img",{src:Zo,alt:"Fullsuite Logo",className:"h-8"})}),v.jsxs("div",{className:"flex",children:[v.jsx("button",{className:"hidden sm:block btn-primary",onClick:()=>{a("/app/news/new-news")},children:"+ Add News"}),v.jsxs("button",{className:"sm:hidden p-2 btn-primary",onClick:()=>n(!0),children:[v.jsx("span",{children:"+"})," ",v.jsx(HOe,{})]})]})]}),v.jsxs("div",{className:"flex flex-col md:grid md:grid-cols-2 lg:flex-row gap-4 p-4 bg-white shadow-md rounded-lg mb-4",children:[v.jsxs("div",{className:"p-4 bg-gray-200 rounded-lg w-full h-10 flex items-center justify-between",children:[v.jsx("span",{className:"text-lg font-bold",children:"News"}),v.jsx("span",{className:"text-2xl",children:l(C)})]}),v.jsxs("div",{className:"p-4 bg-gray-200 rounded-lg w-full h-10 flex items-center justify-between",children:[v.jsx("span",{className:"text-lg font-bold",children:"Total Comments"}),v.jsx("span",{className:"text-2xl",children:l(x)})]}),v.jsxs("div",{className:"p-4 bg-gray-200 rounded-lg w-full h-10 flex items-center justify-between",children:[v.jsx("span",{className:"text-lg font-bold",children:"Total Views"}),v.jsx("span",{className:"text-2xl",children:l(w)})]}),v.jsxs("div",{className:"p-4 bg-gray-200 rounded-lg w-full h-10 flex items-center justify-between",children:[v.jsx("span",{className:"text-lg font-bold",children:"Total Likes"}),v.jsx("span",{className:"text-2xl",children:l(M)})]})]}),v.jsx("div",{className:"flex gap-4",children:v.jsx("div",{className:"w-full overflow-x-auto",children:v.jsx("div",{className:"ag-theme-quartz p-3 sm:p-5 min-w-[600px] lg:w-full",style:{height:"auto"},children:v.jsx(gq,{rowData:m,columnDefs:[{headerName:"Image",field:"image",flex:2,filter:"agTextColumnFilter",headerClass:"text-primary font-bold bg-tertiary",cellRenderer:S=>S.value?v.jsx("img",{src:S.value,alt:"News",className:"w-[80px] h-[80px] sm:w-[100px] sm:h-[100px] rounded-md object-cover mx-auto"}):v.jsx("span",{children:"No Image"})},{headerName:"Title",field:"title",flex:2,filter:"agTextColumnFilter",headerClass:"text-primary font-bold bg-tertiary",valueGetter:S=>S.data.title.replace(/<[^>]*>/g,"")},{headerName:"Author",field:"author",flex:1,filter:"agTextColumnFilter",headerClass:"text-primary font-bold bg-tertiary",hide:window.innerWidth<640},{headerName:"Date Published",field:"datePublished",flex:1,headerClass:"text-primary font-bold bg-tertiary",valueGetter:S=>new Date(S.data.datePublished.seconds*1e3).toLocaleString(),hide:window.innerWidth<768},{headerName:"Views",field:"views",flex:1,filter:"agTextColumnFilter",headerClass:"text-primary font-bold bg-tertiary",valueGetter:S=>l(S.data.views)},{headerName:"Likes",field:"likes",flex:1,filter:"agTextColumnFilter",headerClass:"text-primary font-bold bg-tertiary",valueGetter:S=>l(S.data.likes)},{headerName:"Comments",field:"comments",flex:1,filter:"agTextColumnFilter",headerClass:"text-primary font-bold bg-tertiary",valueGetter:S=>l(S.data.comments),hide:window.innerWidth<768},{headerName:"Action",field:"action",flex:2,headerClass:"text-primary font-bold bg-tertiary",cellRenderer:S=>v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{className:"btn-update",onClick:()=>d(S.data),children:v.jsx(yq,{})}),v.jsx("button",{className:"btn-delete",onClick:()=>f(S.data.id),children:v.jsx(vq,{})}),v.jsx("button",{className:"btn-preview",onClick:()=>a(`details/${S.data.id}`),children:v.jsx(Cq,{})})]})}],defaultColDef:{filter:"agTextColumnFilter",floatingFilter:!0,sortable:!0,cellStyle:{display:"flex",alignItems:"center",justifyContent:"left"}},domLayout:"autoHeight",rowHeight:window.innerWidth<640?60:window.innerWidth<768?70:80,pagination:!0,paginationPageSize:5,paginationPageSizeSelector:[5,10,20,50]})})})}),v.jsxs($F,{open:e,onClose:()=>n(!1),children:[v.jsxs("div",{className:"relative p-6",children:[" ",v.jsx("button",{className:"absolute top-2 right-2 p-2 rounded-full hover:bg-gray-200",onClick:()=>n(!1),children:"✖"})]}),v.jsx(KF,{className:"w-full text-center",children:i?"Edit News":"Add News"}),v.jsxs(qF,{children:[v.jsx(x9,{label:"Author",fullWidth:!0,margin:"normal",value:(i==null?void 0:i.author)||r.author,onChange:S=>i?s({...i,author:S.target.value}):o({...r,author:S.target.value})}),v.jsx(i0,{titleChange:S=>i?s({...i,title:S}):o({...r,title:S})}),v.jsx(xq,{onUpload:S=>i?s({...i,image:S}):o({...r,image:S})}),v.jsx("button",{className:"btn-primary flex-end w-full",onClick:c,children:i?"Update":"Add"})]})]})]})})},VOe=Object.freeze(Object.defineProperty({__proto__:null,default:bq},Symbol.toStringTag,{value:"Module"}));function zOe({onChange:t}){const[e,n]=E.useState([]),[i,s]=E.useState([]);E.useEffect(()=>{(async()=>{try{const a=await on.get("/api/all-tags");n(a.data.data)}catch(a){console.error("Error fetching tags:",a)}})()},[]);const r=o=>{s(a=>{const c=a.some(d=>d.tagId===o.tagId)?a.filter(d=>d.tagId!==o.tagId):[...a,o];return t(c.map(d=>d.tagId)),c})};return v.jsx("div",{className:"w-full bg-white p-4 rounded-lg border border-gray-300",children:e.length>0?v.jsx("div",{className:"space-y-2",children:e.map(o=>v.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:i.some(a=>a.tagId===o.tagId),onChange:()=>r(o),className:"size-4 rounded border-gray-300 text-blue-500 focus:ring-blue-400"}),v.jsx("span",{className:"text-gray-900 text-sm",children:o.tagName})]},o.tagId))}):v.jsx("p",{className:"text-gray-500 text-sm",children:"No tags found."})})}const Sq=()=>{const t=fs(),e=wo(C=>C.user),[n,i]=E.useState([]),[s,r]=E.useState(""),[o,a]=E.useState(""),[l,c]=E.useState(""),d=C=>{i([...C.target.files])},f=C=>{r(C)},p=C=>{a(C)},m=C=>{c(C)},y=async C=>{var x;if(C.preventDefault(),l.length===0){Nn.error("Please select at least 1 tag.");return}if(!s.trim()||!o.trim()){Nn.error("Blog title and description cannot be empty.");return}if(n.length===0){Nn.error("Please upload at least 1 image.");return}try{const w={title:s.trim(),description:o.trim(),userId:e.id,tags:l},M=await on.post("/api/add-company-blog",w);if(!((x=M.data)!=null&&x.id)){Nn.error("Failed to create news. Please try again.");return}const S=M.data.id;if(console.log(S),n.length>0){const R=new FormData;n.forEach(P=>R.append("images",P)),await on.post(`/api/upload-save-image/cBlog/blogs/${S}`,R,{headers:{"Content-Type":"multipart/form-data"}})}M.data.isSuccess?Nn.success(M.data.message||"Blog added successfully!"):Nn.error(M.data.message||"Something went wrong.")}catch(w){console.error("Error adding blog:",w),Nn.error("Something went wrong. Please try again.")}};return v.jsxs("section",{className:"p-2 xl:p-3",children:[v.jsxs("div",{className:"lg:flex items-center justify-between hidden",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("h2",{className:"font-avenir-black",children:"Create Company Blog"}),v.jsx(i1,{className:"w-4 h-4 text-gray-500"})]}),v.jsx("span",{onClick:()=>t("/app/news"),className:"font-avenir-black text-red-400 text-sm cursor-pointer",children:"Discard Blog"})]}),v.jsxs("section",{className:"p-5 rounded-lg",style:{boxShadow:"rgba(0, 0, 0, 0.08) 0px 4px 12px"},children:[v.jsx("section",{className:"my-3",children:v.jsx(zOe,{onChange:m})}),v.jsx(i0,{handleFileChange:d,handleTitleChange:f,handleDescriptionChange:p,handleSubmit:y,type:"cblog"})]})]})},GOe=Object.freeze(Object.defineProperty({__proto__:null,default:Sq},Symbol.toStringTag,{value:"Module"})),UOe=()=>{const t=wo(e=>e.services)||[];return v.jsx(E.Suspense,{fallback:v.jsx("div",{className:"h-full w-full grid place-content-center",children:v.jsx(qy,{})}),children:v.jsx(BG,{children:t.map(({feature_name:e},n)=>{if(!e)return null;const i=e.toLowerCase().replace(/\s+/g,""),s="Admin"+e.replace(/\s+/g,"").replace(/^\w/,o=>o.toUpperCase());if(e==="Blogs")return v.jsxs(ne.Fragment,{children:[v.jsx(tn,{path:i,element:v.jsx(wq,{})}),v.jsx(tn,{path:`${i}/new-company-blog`,element:v.jsx(Sq,{})})]},i);if(e==="News")return v.jsxs(ne.Fragment,{children:[v.jsx(tn,{path:i,element:v.jsx(bq,{})}),v.jsx(tn,{path:`${i}/new-news`,element:v.jsx(AW,{})})]},i);const r=E.lazy(()=>bCe(Object.assign({"../../pages/admin/AdminBlogCreate.jsx":()=>Sl(()=>Promise.resolve().then(()=>GOe),[]),"../../pages/admin/AdminBlogs.jsx":()=>Sl(()=>Promise.resolve().then(()=>BOe),void 0),"../../pages/admin/AdminContents.jsx":()=>Sl(()=>import("./AdminContents-Dgz7PfdF.js"),__vite__mapDeps([0,1,2,3])),"../../pages/admin/AdminDashboard.jsx":()=>Sl(()=>import("./AdminDashboard-BQjW9cL0.js"),__vite__mapDeps([4,5])),"../../pages/admin/AdminEvents.jsx":()=>Sl(()=>import("./AdminEvents-BotjZivY.js"),__vite__mapDeps([6,2,5,3,7,8])),"../../pages/admin/AdminJobListings.jsx":()=>Sl(()=>import("./AdminJobListings-CADikh4o.js"),__vite__mapDeps([9,7,1,2])),"../../pages/admin/AdminNews.jsx":()=>Sl(()=>Promise.resolve().then(()=>VOe),void 0),"../../pages/admin/AdminNewsCreate.jsx":()=>Sl(()=>Promise.resolve().then(()=>SCe),void 0)}),`../../pages/admin/${s}.jsx`,5));return v.jsx(tn,{path:i,element:v.jsx(r,{})},i)})})})},jOe=()=>{const t=wo(a=>a.setServices),e=wo(a=>a.services),n=wo(a=>a.user),i=wo(a=>a.setUser),[s,r]=E.useState(!0),o=async()=>{try{let a=await rb();if(a||await Sle()&&(a=await rb()),a){i(a);const l=await ble(a.id);t(l)}else i(null),t([])}catch(a){console.error("Error fetching user data:",a),i(null),t([])}finally{r(!1)}};return E.useEffect(()=>{o()},[]),s?v.jsx("section",{className:"w-dvw h-dvh",children:v.jsx(qy,{})}):n&&e?v.jsx(Ly,{}):v.jsx(kG,{to:"/login"})},Eq=6048e5,WOe=864e5,FV=Symbol.for("constructDateFrom");function na(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&FV in t?t[FV](e):t instanceof Date?new t.constructor(e):new Date(e)}function or(t,e){return na(e||t,t)}function Mq(t,e,n){const i=or(t,n==null?void 0:n.in);if(isNaN(e))return na(t,NaN);if(!e)return i;const s=i.getDate(),r=na(t,i.getTime());r.setMonth(i.getMonth()+e+1,0);const o=r.getDate();return s>=o?r:(i.setFullYear(r.getFullYear(),r.getMonth(),s),i)}let $Oe={};function x0(){return $Oe}function Hp(t,e){var a,l,c,d;const n=x0(),i=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,s=or(t,e==null?void 0:e.in),r=s.getDay(),o=(r<i?7:0)+r-i;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Jb(t,e){return Hp(t,{...e,weekStartsOn:1})}function Tq(t,e){const n=or(t,e==null?void 0:e.in),i=n.getFullYear(),s=na(n,0);s.setFullYear(i+1,0,4),s.setHours(0,0,0,0);const r=Jb(s),o=na(n,0);o.setFullYear(i,0,4),o.setHours(0,0,0,0);const a=Jb(o);return n.getTime()>=r.getTime()?i+1:n.getTime()>=a.getTime()?i:i-1}function NV(t){const e=or(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function X1(t,...e){const n=na.bind(null,e.find(i=>typeof i=="object"));return e.map(n)}function Qb(t,e){const n=or(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function qOe(t,e,n){const[i,s]=X1(n==null?void 0:n.in,t,e),r=Qb(i),o=Qb(s),a=+r-NV(r),l=+o-NV(o);return Math.round((a-l)/WOe)}function KOe(t,e){const n=Tq(t,e),i=na(t,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),Jb(i)}function IV(t,e,n){const[i,s]=X1(n==null?void 0:n.in,t,e);return+Qb(i)==+Qb(s)}function YOe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function XOe(t){return!(!YOe(t)&&typeof t!="number"||isNaN(+or(t)))}function ZOe(t,e){const n=or(t,e==null?void 0:e.in),i=n.getMonth();return n.setFullYear(n.getFullYear(),i+1,0),n.setHours(23,59,59,999),n}function JOe(t,e){const[n,i]=X1(t,e.start,e.end);return{start:n,end:i}}function QOe(t,e){const{start:n,end:i}=JOe(e==null?void 0:e.in,t);let s=+n>+i;const r=s?+n:+i,o=s?i:n;o.setHours(0,0,0,0);let a=1;const l=[];for(;+o<=r;)l.push(na(n,o)),o.setDate(o.getDate()+a),o.setHours(0,0,0,0);return s?l.reverse():l}function eLe(t,e){const n=or(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function tLe(t,e){const n=or(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function nLe(t,e){var a,l;const n=x0(),i=n.weekStartsOn??((l=(a=n.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??0,s=or(t,e==null?void 0:e.in),r=s.getDay(),o=(r<i?-7:0)+6-(r-i);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}const iLe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},sLe=(t,e,n)=>{let i;const s=iLe[t];return typeof s=="string"?i=s:e===1?i=s.one:i=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function EA(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const rLe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},oLe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},aLe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},lLe={date:EA({formats:rLe,defaultWidth:"full"}),time:EA({formats:oLe,defaultWidth:"full"}),dateTime:EA({formats:aLe,defaultWidth:"full"})},cLe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},uLe=(t,e,n,i)=>cLe[t];function Dg(t){return(e,n)=>{const i=n!=null&&n.context?String(n.context):"standalone";let s;if(i==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const r=t.argumentCallback?t.argumentCallback(e):e;return s[r]}}const dLe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},hLe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},fLe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},pLe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mLe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},gLe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vLe=(t,e)=>{const n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},yLe={ordinalNumber:vLe,era:Dg({values:dLe,defaultWidth:"wide"}),quarter:Dg({values:hLe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Dg({values:fLe,defaultWidth:"wide"}),day:Dg({values:pLe,defaultWidth:"wide"}),dayPeriod:Dg({values:mLe,defaultWidth:"wide",formattingValues:gLe,defaultFormattingWidth:"wide"})};function _g(t){return(e,n={})=>{const i=n.width,s=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],r=e.match(s);if(!r)return null;const o=r[0],a=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?CLe(a,f=>f.test(o)):xLe(a,f=>f.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(o.length);return{value:c,rest:d}}}function xLe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function CLe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function wLe(t){return(e,n={})=>{const i=e.match(t.matchPattern);if(!i)return null;const s=i[0],r=e.match(t.parsePattern);if(!r)return null;let o=t.valueCallback?t.valueCallback(r[0]):r[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const bLe=/^(\d+)(th|st|nd|rd)?/i,SLe=/\d+/i,ELe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},MLe={any:[/^b/i,/^(a|c)/i]},TLe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},RLe={any:[/1/i,/2/i,/3/i,/4/i]},ALe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},PLe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},DLe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_Le={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},FLe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},NLe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ILe={ordinalNumber:wLe({matchPattern:bLe,parsePattern:SLe,valueCallback:t=>parseInt(t,10)}),era:_g({matchPatterns:ELe,defaultMatchWidth:"wide",parsePatterns:MLe,defaultParseWidth:"any"}),quarter:_g({matchPatterns:TLe,defaultMatchWidth:"wide",parsePatterns:RLe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:_g({matchPatterns:ALe,defaultMatchWidth:"wide",parsePatterns:PLe,defaultParseWidth:"any"}),day:_g({matchPatterns:DLe,defaultMatchWidth:"wide",parsePatterns:_Le,defaultParseWidth:"any"}),dayPeriod:_g({matchPatterns:FLe,defaultMatchWidth:"any",parsePatterns:NLe,defaultParseWidth:"any"})},OLe={code:"en-US",formatDistance:sLe,formatLong:lLe,formatRelative:uLe,localize:yLe,match:ILe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function LLe(t,e){const n=or(t,e==null?void 0:e.in);return qOe(n,tLe(n))+1}function kLe(t,e){const n=or(t,e==null?void 0:e.in),i=+Jb(n)-+KOe(n);return Math.round(i/Eq)+1}function Rq(t,e){var d,f,p,m;const n=or(t,e==null?void 0:e.in),i=n.getFullYear(),s=x0(),r=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(p=s.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,o=na((e==null?void 0:e.in)||t,0);o.setFullYear(i+1,0,r),o.setHours(0,0,0,0);const a=Hp(o,e),l=na((e==null?void 0:e.in)||t,0);l.setFullYear(i,0,r),l.setHours(0,0,0,0);const c=Hp(l,e);return+n>=+a?i+1:+n>=+c?i:i-1}function BLe(t,e){var a,l,c,d;const n=x0(),i=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,s=Rq(t,e),r=na((e==null?void 0:e.in)||t,0);return r.setFullYear(s,0,i),r.setHours(0,0,0,0),Hp(r,e)}function HLe(t,e){const n=or(t,e==null?void 0:e.in),i=+Hp(n,e)-+BLe(n,e);return Math.round(i/Eq)+1}function Cn(t,e){const n=t<0?"-":"",i=Math.abs(t).toString().padStart(e,"0");return n+i}const Ec={y(t,e){const n=t.getFullYear(),i=n>0?n:1-n;return Cn(e==="yy"?i%100:i,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Cn(n+1,2)},d(t,e){return Cn(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Cn(t.getHours()%12||12,e.length)},H(t,e){return Cn(t.getHours(),e.length)},m(t,e){return Cn(t.getMinutes(),e.length)},s(t,e){return Cn(t.getSeconds(),e.length)},S(t,e){const n=e.length,i=t.getMilliseconds(),s=Math.trunc(i*Math.pow(10,n-3));return Cn(s,e.length)}},Ef={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},OV={G:function(t,e,n){const i=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const i=t.getFullYear(),s=i>0?i:1-i;return n.ordinalNumber(s,{unit:"year"})}return Ec.y(t,e)},Y:function(t,e,n,i){const s=Rq(t,i),r=s>0?s:1-s;if(e==="YY"){const o=r%100;return Cn(o,2)}return e==="Yo"?n.ordinalNumber(r,{unit:"year"}):Cn(r,e.length)},R:function(t,e){const n=Tq(t);return Cn(n,e.length)},u:function(t,e){const n=t.getFullYear();return Cn(n,e.length)},Q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return Cn(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return Cn(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,e,n){const i=t.getMonth();switch(e){case"M":case"MM":return Ec.M(t,e);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,e,n){const i=t.getMonth();switch(e){case"L":return String(i+1);case"LL":return Cn(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,e,n,i){const s=HLe(t,i);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):Cn(s,e.length)},I:function(t,e,n){const i=kLe(t);return e==="Io"?n.ordinalNumber(i,{unit:"week"}):Cn(i,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ec.d(t,e)},D:function(t,e,n){const i=LLe(t);return e==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Cn(i,e.length)},E:function(t,e,n){const i=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,e,n,i){const s=t.getDay(),r=(s-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(r);case"ee":return Cn(r,2);case"eo":return n.ordinalNumber(r,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,i){const s=t.getDay(),r=(s-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(r);case"cc":return Cn(r,e.length);case"co":return n.ordinalNumber(r,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const i=t.getDay(),s=i===0?7:i;switch(e){case"i":return String(s);case"ii":return Cn(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const i=t.getHours();let s;switch(i===12?s=Ef.noon:i===0?s=Ef.midnight:s=i/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const i=t.getHours();let s;switch(i>=17?s=Ef.evening:i>=12?s=Ef.afternoon:i>=4?s=Ef.morning:s=Ef.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let i=t.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Ec.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ec.H(t,e)},K:function(t,e,n){const i=t.getHours()%12;return e==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Cn(i,e.length)},k:function(t,e,n){let i=t.getHours();return i===0&&(i=24),e==="ko"?n.ordinalNumber(i,{unit:"hour"}):Cn(i,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ec.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ec.s(t,e)},S:function(t,e){return Ec.S(t,e)},X:function(t,e,n){const i=t.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return kV(i);case"XXXX":case"XX":return pd(i);case"XXXXX":case"XXX":default:return pd(i,":")}},x:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"x":return kV(i);case"xxxx":case"xx":return pd(i);case"xxxxx":case"xxx":default:return pd(i,":")}},O:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+LV(i,":");case"OOOO":default:return"GMT"+pd(i,":")}},z:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+LV(i,":");case"zzzz":default:return"GMT"+pd(i,":")}},t:function(t,e,n){const i=Math.trunc(+t/1e3);return Cn(i,e.length)},T:function(t,e,n){return Cn(+t,e.length)}};function LV(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),s=Math.trunc(i/60),r=i%60;return r===0?n+String(s):n+String(s)+e+Cn(r,2)}function kV(t,e){return t%60===0?(t>0?"-":"+")+Cn(Math.abs(t)/60,2):pd(t,e)}function pd(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),s=Cn(Math.trunc(i/60),2),r=Cn(i%60,2);return n+s+e+r}const BV=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Aq=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},VLe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],i=n[1],s=n[2];if(!s)return BV(t,e);let r;switch(i){case"P":r=e.dateTime({width:"short"});break;case"PP":r=e.dateTime({width:"medium"});break;case"PPP":r=e.dateTime({width:"long"});break;case"PPPP":default:r=e.dateTime({width:"full"});break}return r.replace("{{date}}",BV(i,e)).replace("{{time}}",Aq(s,e))},zLe={p:Aq,P:VLe},GLe=/^D+$/,ULe=/^Y+$/,jLe=["D","DD","YY","YYYY"];function WLe(t){return GLe.test(t)}function $Le(t){return ULe.test(t)}function qLe(t,e,n){const i=KLe(t,e,n);if(console.warn(i),jLe.includes(t))throw new RangeError(i)}function KLe(t,e,n){const i=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const YLe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,XLe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ZLe=/^'([^]*?)'?$/,JLe=/''/g,QLe=/[a-zA-Z]/;function Yc(t,e,n){var d,f,p,m;const i=x0(),s=i.locale??OLe,r=i.firstWeekContainsDate??((f=(d=i.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=i.weekStartsOn??((m=(p=i.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,a=or(t,n==null?void 0:n.in);if(!XOe(a))throw new RangeError("Invalid time value");let l=e.match(XLe).map(y=>{const C=y[0];if(C==="p"||C==="P"){const x=zLe[C];return x(y,s.formatLong)}return y}).join("").match(YLe).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const C=y[0];if(C==="'")return{isToken:!1,value:eke(y)};if(OV[C])return{isToken:!0,value:y};if(C.match(QLe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:r,weekStartsOn:o,locale:s};return l.map(y=>{if(!y.isToken)return y.value;const C=y.value;($Le(C)||WLe(C))&&qLe(C,e,String(t));const x=OV[C[0]];return x(a,C,s.localize,c)}).join("")}function eke(t){const e=t.match(ZLe);return e?e[1].replace(JLe,"'"):t}function tke(t,e,n){const[i,s]=X1(n==null?void 0:n.in,t,e);return i.getFullYear()===s.getFullYear()&&i.getMonth()===s.getMonth()}function nke(t,e,n){return Mq(t,-1,n)}const ike=["Su","Mo","Tu","We","Th","Fr","Sa"],ske=({eventDates:t})=>{const e=t.reduce((a,l)=>(a[l]=!0,a),{}),[n,i]=E.useState(new Date),s=Hp(eLe(n)),r=nLe(ZOe(n)),o=QOe({start:s,end:r});return v.jsxs("div",{className:"w-full max-w-md mx-auto rounded-lg",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4 px-5",children:[v.jsx("button",{onClick:()=>i(nke(n)),className:"text-gray-600 cursor-pointer",children:v.jsx(D6,{className:"text-gray-500 w-5 h-5"})}),v.jsx("span",{className:"text-primary",children:Yc(n,"MMMM yyyy")}),v.jsx("button",{onClick:()=>i(Mq(n,1)),className:"text-gray-600 cursor-pointer",children:v.jsx(_6,{className:"text-gray-500 w-5 h-5"})})]}),v.jsx("div",{className:"grid grid-cols-7 text-center font-medium text-gray-600",children:ike.map(a=>v.jsx("div",{className:"py-2",children:a},a))}),v.jsx("div",{className:"grid grid-cols-7 text-center",children:o.map(a=>{const l=tke(a,n);return v.jsxs("div",{className:`grid place-items-center w-9 h-9 relative rounded-full ${l?"text-black":"text-gray-300"} ${IV(a,new Date)&&"bg-primary text-white"}
              `,children:[Yc(a,"d"),e[Yc(a,"yyyy-MM-dd")]&&v.jsx("div",{className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 w-1.5 h-1.5 bg-primary rounded-full"}),IV(a,new Date)&&e[Yc(a,"yyyy-MM-dd")]&&v.jsx("div",{className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 w-1.5 h-1.5 bg-white rounded-full"})]},a)})})]})},HV=({event:t,isUpcoming:e})=>{const n=Yc(new Date(t.date_time),"EEE"),i=Yc(new Date(t.date_time),"d");return v.jsxs("section",{className:`border border-gray-200 p-4 rounded-lg flex gap-4 items-center
      ${e?"flex gap-4 items-center":""}  
      `,children:[v.jsxs("div",{className:`flex-col items-center justify-center border-r pr-3 border-gray-300
        ${e?"flex":"hidden"}  
          `,children:[v.jsx("span",{className:"text-black text-base",children:n}),v.jsx("h1",{className:"font-avenir-black my-0! text-primary",children:i})]}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("span",{className:"text-black text-base block truncate",children:t.title}),v.jsxs("div",{className:"flex items-start gap-3 mt-2",children:[v.jsx(K6,{className:"size-5 text-primary flex-shrink-0"}),v.jsx("p",{className:"line-clamp-2 text-sm overflow-hidden text-gray-400",children:t.description})]}),v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx(qde,{className:"size-5 text-primary flex-shrink-0"}),v.jsx("p",{className:"line-clamp-2 text-sm overflow-hidden font-avenir-black text-gray-400",children:Yc(t.date_time,"dd MMM yyyy hh:mm:ss a")})]})]})]})},rke=()=>{const[t,e]=E.useState([]),[n,i]=E.useState([]),[s,r]=E.useState(0),[o,a]=E.useState(0),[l,c]=E.useState(JSON.parse(localStorage.getItem("showTodayEvent"))??!0),[d,f]=E.useState(JSON.parse(localStorage.getItem("showUpcommingEvent"))??!1),[p,m]=E.useState(!1);E.useEffect(()=>{(async()=>{try{const w=await on.get("/api/all-events");e(w.data);const M=w.data.reduce((F,N)=>{const I=Yc(new Date(N.date_time),"yyyy-MM-dd");return F.push(I),F},[]);i(M);const S=new Date().toISOString().split("T")[0],R=M.filter(F=>F===S).length;r(R);const P=M.filter(F=>F>S).length;a(P)}catch(w){console.log(w)}})()},[]),E.useEffect(()=>{try{m(!0);const x=JSON.parse(localStorage.getItem("showTodayEvent"))??!0,w=JSON.parse(localStorage.getItem("showUpcommingEvent"))??!1;c(x),f(w)}catch(x){console.error(x)}finally{m(!1)}},[]);const y=()=>{const x=!l;localStorage.setItem("showTodayEvent",x),c(x)},C=()=>{const x=!d;localStorage.setItem("showUpcommingEvent",x),f(x)};return p?null:v.jsxs("aside",{className:"w-52 md:w-64 lg:w-72 h-dvh flex flex-col p-2 xl:p-3",children:[v.jsx("section",{className:"flex justify-between items-baseline",children:v.jsx("h2",{className:"font-avenir-black",children:"Events"})}),v.jsx(ske,{eventDates:n}),v.jsx("section",{className:"mt-5",children:v.jsx("div",{className:"w-full",children:v.jsxs("div",{className:"",children:[v.jsxs(yb,{as:"div",defaultOpen:l,children:[v.jsxs(qv,{className:"group flex w-full items-center justify-between",onClick:y,children:[v.jsxs("p",{className:"font-avenir-black text-primary",children:["Today (",s,")"]}),v.jsx(lb,{className:"size-5 text-primary cursor-pointer group-data-[open]:rotate-180"})]}),v.jsx(Kv,{className:"mt-3 flex flex-col gap-3",children:t.filter(x=>{const w=new Date().toISOString().split("T")[0];return new Date(x.date_time).toISOString().split("T")[0]===w}).map((x,w)=>v.jsx("div",{children:v.jsx(HV,{event:x})},w))})]}),v.jsxs(yb,{as:"div",defaultOpen:d,children:[v.jsxs(qv,{className:"group my-3 flex w-full items-center justify-between",onClick:C,children:[v.jsxs("p",{className:"font-avenir-black text-black",children:["Upcoming (",o,")"]}),v.jsx(lb,{className:"size-5 text-primary cursor-pointer group-data-[open]:rotate-180"})]}),v.jsx(Kv,{className:"mt-3 flex flex-col gap-3",children:t.filter(x=>{const w=new Date().toISOString().split("T")[0];return new Date(x.date_time).toISOString().split("T")[0]>=w}).map((x,w)=>v.jsx("div",{children:v.jsx(HV,{event:x,isUpcoming:new Date(x.date_time).toISOString().split("T")[0]>new Date().toISOString().split("T")[0]})},w))})]})]})})})]})},Pq=({isOpen:t,handleClose:e})=>{const n=async()=>{e();try{(await on.post("/api/logout")).data.isLoggedOut?window.location.href="/":console.log("Failed to log out")}catch(s){console.log(s)}},i=()=>{e()};return v.jsx(U_,{appear:!0,show:t,as:E.Fragment,className:"z-40",children:v.jsxs(k7,{as:"div",className:"relative z-10",onClose:e,children:[v.jsx(Mp,{as:E.Fragment,children:v.jsx("div",{className:"fixed inset-0 bg-black opacity-40"})}),v.jsx("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:v.jsx("div",{className:"flex items-center justify-center min-h-full p-4 text-center",children:v.jsx(Mp,{as:E.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:v.jsxs(W_,{className:"w-full max-w-md p-6 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-xl",children:[v.jsx(L7,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:"Confirm Logout"}),v.jsx("div",{className:"mt-2",children:v.jsx("p",{className:"text-sm text-gray-500",children:"Are you sure you want to log out?"})}),v.jsxs("div",{className:"flex justify-between mt-4",children:[v.jsx("button",{type:"button",className:"inline-flex justify-center px-4 py-2 text-sm font-medium text-white border border-transparent rounded-md bg-arfagreen cursor-pointer bg-primary ",onClick:n,children:"Yes, Log out"}),v.jsx("button",{type:"button",className:"inline-flex justify-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md cursor-pointer",onClick:i,children:"Cancel"})]})]})})})})]})})},oke={dashboard:{default:R6},joblistings:{default:T6},blogs:{default:A6},news:{default:n1},events:{default:t1},contents:{default:M6}},ake=[{feature_name:"Blogs Feed",path:"blogs-feed",icon:n1},{feature_name:"My Blogs",path:"my-blogs",icon:F6},{feature_name:"Threads",path:"threads",icon:S6},{feature_name:"Events",path:"company-events",icon:t1},{feature_name:"Workshops",path:"worshops",icon:O6},{feature_name:"Personality Test",path:"personality-test",icon:I6}],lke=({onClose:t})=>{const e=wo(r=>r.services)||[],[n,i]=E.useState(!1),s=()=>{t&&t("-100%")};return v.jsxs("nav",{className:"lg:hidden relative pb-10",children:[v.jsx(Pq,{isOpen:n,handleClose:()=>i(!1)}),v.jsxs("section",{className:"flex justify-between pt-5",children:[v.jsx("div",{className:"w-20 h-auto",children:v.jsx("img",{src:Zo,alt:"fullsuite",className:"w-full h-full"})}),v.jsx(Vue,{className:"w-9 h-9 rounded-full p-1",onClick:s})]}),v.jsxs("section",{className:"",children:[v.jsx("section",{className:" flex-1 ",children:v.jsxs("ul",{className:"list-none!",children:[ake.map((r,o)=>v.jsx("li",{children:v.jsxs(fn,{to:`/app/${r.path}`,className:({isActive:a})=>a?"bg-primary text-white transition-none! p-3 rounded-lg flex items-center gap-3 no-underline!":"bg-white text-primary transition-none! p-3 rounded-lg flex items-center gap-3 no-underline! hover:bg-blue-50",onClick:s,children:[r?v.jsx(r.icon,{className:"size-4 group-hover:hidden"}):v.jsx(cb,{className:"size-4 group-hover:hidden"}),v.jsx("span",{className:"no-underline! font-avenir-black",children:r.feature_name})]})},o)),e.length!==0&&v.jsxs(yb,{as:"div",defaultOpen:!0,children:[v.jsxs(qv,{className:"group cursor-pointer flex w-full items-center justify-between",children:[v.jsx("p",{className:"font-avenir-black text-primary p-3",children:"Admin Tools"}),v.jsx(lb,{className:"size-5 text-primary  group-data-[open]:rotate-180"})]}),v.jsx(Kv,{className:"mt-1 ml-5 flex flex-col",children:e.map(({feature_name:r},o)=>{if(!r)return null;const a=r.toLowerCase().replace(" ",""),l=r.toLowerCase().replace(/\s+/g,""),c=oke[l]||null;return v.jsx("li",{children:v.jsxs(fn,{to:`/app/${a}`,className:({isActive:d})=>d?"bg-primary text-white p-3 transition-none! rounded-lg flex items-center gap-3 no-underline!":"bg-white text-primary p-3 transition-none! rounded-lg flex items-center gap-3 no-underline! hover:bg-blue-50",children:[c?v.jsx(c.default,{className:"size-4 group-hover:hidden"}):v.jsx(cb,{className:"size-4 group-hover:hidden"}),v.jsx("span",{className:"no-underline! font-avenir-black",children:r})]},a)},o)})})]})]})}),v.jsxs("section",{className:"mt-5 mx-auto cursor-pointer text-sm flex justify-center items-center gap-2 w-min",onClick:()=>{i(!0),s()},children:[v.jsx("span",{className:"text-primary font-avenir-black",children:"Logout"}),v.jsx("button",{className:" cursor-pointer",children:v.jsx(E6,{className:"w-6 h-6 text-primary"})})]})]})]})},cke=({direction:t})=>t==="left"?v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",id:"Layer_1","data-name":"Layer 1",viewBox:"0 0 24 24",className:"size-4 cursor-pointer text-primary hover:text-primary-dark",children:v.jsx("path",{fill:"currentColor",d:"M9,2H3C1.346,2,0,3.346,0,5V22H9V2Zm-3,14H3v-2h3v2Zm0-4H3v-2h3v2Zm-3-4v-2h3v2H3Zm21-3V22H11V2h10c1.654,0,3,1.346,3,3Z"})}):v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",id:"Layer_1","data-name":"Layer 1",viewBox:"0 0 24 24",className:"size-4 cursor-pointer text-primary hover:text-primary-dark",children:v.jsx("path",{fill:"currentColor",d:"M13,22H0V5c0-1.654,1.346-3,3-3H13V22ZM24,5V22H15V2h6c1.654,0,3,1.346,3,3Zm-3,9h-3v2h3v-2Zm0-4h-3v2h3v-2Zm0-4h-3v2h3v-2Z"})}),uke={dashboard:{default:R6},joblistings:{default:T6},blogs:{default:A6},news:{default:n1},events:{default:t1},contents:{default:M6}},dke=[{feature_name:"Blogs Feed",path:"blogs-feed",icon:n1},{feature_name:"My Blogs",path:"my-blogs",icon:F6},{feature_name:"Threads",path:"threads",icon:S6},{feature_name:"Events",path:"company-events",icon:t1},{feature_name:"Workshops",path:"worshops",icon:O6},{feature_name:"Personality Test",path:"personality-test",icon:I6}],hke=()=>{var w,M,S,R;const t=wo(P=>P.services)||[],[e,n]=E.useState(!1),i=wo(P=>P.user),[s,r]=E.useState(JSON.parse(localStorage.getItem("isCollapsed"))??!1),[o,a]=E.useState(JSON.parse(localStorage.getItem("showTools"))??!0),[l,c]=E.useState(!0),[d,f]=E.useState(null),[p,m]=E.useState(!1);E.useEffect(()=>{try{c(!0);const P=JSON.parse(localStorage.getItem("isCollapsed"))??!1,F=JSON.parse(localStorage.getItem("showTools"))??!0;r(P),a(F)}catch(P){console.log(P)}finally{c(!1)}},[]),E.useEffect(()=>{const P=F=>{F.preventDefault(),f(F),m(!0)};return window.addEventListener("beforeinstallprompt",P),()=>{window.removeEventListener("beforeinstallprompt",P)}},[]);const y=()=>{localStorage.setItem("isCollapsed",!s),r(P=>!P)},C=()=>{const P=!o;localStorage.setItem("showTools",P),a(P)},x=()=>{d?(console.log("hello"),d.prompt(),d.userChoice.then(P=>{P.outcome==="accepted"?console.log("User accepted PWA install"):console.log("User dismissed PWA install"),f(null),m(!1)})):console.log("noww")};return l?null:v.jsx("section",{children:v.jsxs("nav",{className:`${s&&"w-min"} h-dvh flex flex-col`,children:[v.jsx(Pq,{isOpen:e,handleClose:()=>n(!1)}),v.jsxs("section",{className:`relative ${s?"pt-8":"py-5"}`,children:[v.jsx("section",{className:`${s?"flex justify-center":"absolute top-8 right-0"}`,onClick:y,children:v.jsx(cke,{direction:"left"})}),v.jsx("div",{className:`size-20 mx-auto mb-3 ${s?"mt-3":"mb-3"}`,children:v.jsx("img",{src:"http://sa.kapamilya.com/absnews/abscbnnews/media/2020/tvpatrol/06/01/james-reid.jpg",alt:"Hernani",className:"w-full h-full object-cover rounded-full"})}),!s&&v.jsxs(v.Fragment,{children:[v.jsx("p",{className:"font-avenir-black text-center truncate",children:`${(i==null?void 0:i.first_name)??"Unknown"} ${(i==null?void 0:i.last_name)??"User"}`}),v.jsx("p",{className:"text-sm text-center text-primary",children:`@${((M=(w=i==null?void 0:i.first_name)==null?void 0:w.trim())==null?void 0:M.toLowerCase())??"unknown"}.${((R=(S=i==null?void 0:i.last_name)==null?void 0:S.trim())==null?void 0:R.toLowerCase())??"user"}`})]})]}),v.jsx("section",{className:" flex-1 ",children:v.jsxs("ul",{className:"list-none!",children:[dke.map((P,F)=>v.jsx("li",{children:v.jsxs(fn,{to:`/app/${P.path}`,className:({isActive:N})=>N?`bg-primary text-white transition-none p-3 rounded-lg flex items-center gap-3 no-underline ${s?"w-min":"w-full"}`:`bg-white text-primary transition-none p-3 rounded-lg flex items-center gap-3 no-underline hover:bg-blue-50 ${s?"w-min":"w-full"}`,children:[P?v.jsx(P.icon,{className:"size-4 group-hover:hidden"}):v.jsx(cb,{className:"size-4 group-hover:hidden"}),!s&&v.jsx("span",{className:"no-underline! truncate font-avenir-black",children:P.feature_name})]})},F)),t.length!==0&&v.jsxs(yb,{as:"div",defaultOpen:o,children:[v.jsxs(qv,{className:"group cursor-pointer flex w-full items-center justify-between",onClick:C,children:[!s&&v.jsx("p",{className:"font-avenir-black text-primary p-3",children:"Admin Tools"}),v.jsx(lb,{className:"size-5 text-primary  group-data-[open]:rotate-180"})]}),v.jsx(Kv,{className:`${!s&&"ml-5"} mt-1 flex flex-col`,children:t.map(({feature_name:P},F)=>{if(!P)return null;const N=P.toLowerCase().replace(" ",""),I=P.toLowerCase().replace(/\s+/g,""),_=uke[I]||null;return v.jsx("li",{children:v.jsxs(fn,{to:`/app/${N}`,className:({isActive:A})=>A?`bg-primary text-white transition-none p-3 rounded-lg flex items-center gap-3 no-underline ${s?"w-min":"w-full"}`:`bg-white text-primary transition-none p-3 rounded-lg flex items-center gap-3 no-underline hover:bg-blue-50 ${s?"w-min":"w-full"}`,children:[_?v.jsx(_.default,{className:"size-4 group-hover:hidden"}):v.jsx(cb,{className:"size-4 group-hover:hidden"}),!s&&v.jsx("span",{className:"no-underline! font-avenir-black",children:P})]},N)},F)})})]})]})}),v.jsxs("section",{className:"p-5 py-7 flex flex-col gap-4",children:[v.jsx("div",{className:"mx-auto",children:v.jsx("button",{className:"bg-primary text-sm px-3 py-1 rounded-md text-white cursor-pointer",onClick:x,children:"Install App"})}),v.jsxs("div",{className:"flex justify-between",children:[!s&&v.jsx("img",{src:Zo,alt:"fullsuitelogo",className:"w-20 h-auto"}),v.jsx("button",{className:" cursor-pointer",onClick:()=>n(!0),children:v.jsx(E6,{className:"w-6 h-6 text-primary"})})]})]})]})})},fke=()=>{const t=fs();return v.jsx("span",{onClick:()=>{t("/app/my-blogs/new-blog")},className:"font-avenir-black text-primary text-sm cursor-pointer",children:"+ Create new blog"})},pke=()=>v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{className:"text-gray-500 hidden sm:block border border-gray-200 bg-gray-100 px-3 py-2 rounded-md cursor-pointer",children:"+ Job Listing"}),v.jsx("button",{className:"text-gray-500 hidden sm:block border border-gray-200 bg-gray-100 px-3 py-2 rounded-md cursor-pointer",children:"+ Industry"}),v.jsxs("button",{className:"text-gray-500 border rounded-md cursor-pointer bg-gray-100 border-gray-200 sm:hidden px-3 py-2 flex items-center gap-1",children:[v.jsx("span",{children:"+"}),v.jsx(zde,{className:"w-5 h-5"})]}),v.jsxs("button",{className:"text-gray-500 border rounded-md cursor-pointer bg-gray-100 border-gray-200 sm:hidden px-3 py-2 flex items-center gap-1",children:[v.jsx("span",{children:"+"})," ",v.jsx(Ude,{className:"w-5 h-5"})]})]}),mke=({page:t})=>{switch(t){case"My Blogs":case"Blogs Feed":return v.jsx(fke,{});case"Dashboard":return v.jsx(pke,{});default:return null}},gke=()=>{const e=Hi().pathname.split("/"),n=e[e.length-1],i=s=>s.replace(/-/g," ").replace(/\b\w/g,r=>r.toUpperCase());return v.jsx("nav",{className:"p-2 xl:pt-3",children:v.jsxs("div",{className:"lg:flex items-center justify-between hidden",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("h2",{className:"font-avenir-black",children:i(n)}),v.jsx("span",{className:"text-sm text-gray-500 font-avenir-roman",children:"(6)"}),v.jsx(i1,{className:"w-4 h-4 text-gray-500"})]}),v.jsx(mke,{page:i(n)})]})})},vke=()=>{const t=E.useRef(),e=n=>{t.current.style.top=n};return v.jsxs("section",{className:"flex gap-4 h-dvh flex-col lg:flex-row overflow-hidden",style:{maxWidth:"1800px",margin:"0 auto",padding:"0 1rem"},children:[v.jsx("section",{className:"px-6 bg-white fixed -top-full left-0 right-0 z-50 transition-all duration-300",ref:t,children:v.jsx(lke,{onClose:e})}),v.jsx("section",{className:"hidden lg:block overflow-y-auto pr-3",children:v.jsx(hke,{})}),v.jsxs("section",{className:"lg:hidden flex justify-between pt-5 px-2",children:[v.jsx("div",{className:"w-20 h-auto",children:v.jsx("img",{src:Zo,alt:"fullsuite",className:"w-full h-full"})}),v.jsx(wue,{className:"w-9 h-9 rounded-full p-2 bg-[#B2E0E8]",onClick:()=>e("0%")})]}),v.jsxs("section",{className:"flex-1",children:[v.jsx(gke,{}),v.jsx("main",{className:"overflow-y-auto h-dvh",children:v.jsx(Ly,{})})]}),v.jsx("section",{className:"hidden lg:block overflow-y-auto",children:v.jsx(rke,{})})]})};/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Z1="174",yke={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},xke={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Dq=0,ED=1,_q=2,Cke=3,wke=0,VN=1,Fq=2,wa=3,Xl=0,Js=1,Ta=2,Hl=0,Qd=1,MD=2,TD=3,RD=4,Nq=5,Gc=100,Iq=101,Oq=102,Lq=103,kq=104,Bq=200,Hq=201,Vq=202,zq=203,eS=204,tS=205,Gq=206,Uq=207,jq=208,Wq=209,$q=210,qq=211,Kq=212,Yq=213,Xq=214,nS=0,iS=1,sS=2,ph=3,rS=4,oS=5,aS=6,lS=7,C0=0,Zq=1,Jq=2,Vl=0,Qq=1,eK=2,tK=3,nK=4,iK=5,sK=6,rK=7,AD="attached",oK="detached",J1=300,Zl=301,cu=302,my=303,gy=304,cm=306,vy=1e3,Eo=1001,yy=1002,hs=1003,zN=1004,bke=1004,ip=1005,Ske=1005,Li=1006,Tv=1007,Eke=1007,Pa=1008,Mke=1008,za=1009,GN=1010,UN=1011,Vp=1012,Q1=1013,Jl=1014,Cr=1015,um=1016,eE=1017,tE=1018,mh=1020,jN=35902,WN=1021,$N=1022,Xs=1023,qN=1024,KN=1025,eh=1026,gh=1027,nE=1028,w0=1029,YN=1030,iE=1031,Tke=1032,sE=1033,Rv=33776,Av=33777,Pv=33778,Dv=33779,cS=35840,uS=35841,dS=35842,hS=35843,fS=36196,pS=37492,mS=37496,gS=37808,vS=37809,yS=37810,xS=37811,CS=37812,wS=37813,bS=37814,SS=37815,ES=37816,MS=37817,TS=37818,RS=37819,AS=37820,PS=37821,_v=36492,DS=36494,_S=36495,XN=36283,FS=36284,NS=36285,IS=36286,aK=2200,lK=2201,cK=2202,xy=2300,OS=2301,zw=2302,Ld=2400,kd=2401,Cy=2402,rE=2500,ZN=2501,Rke=0,Ake=1,Pke=2,uK=3200,dK=3201,Dke=3202,_ke=3203,bu=0,hK=1,Rl="",mr="srgb",vh="srgb-linear",wy="linear",xn="srgb",Fke=0,md=7680,Nke=7681,Ike=7682,Oke=7683,Lke=34055,kke=34056,Bke=5386,Hke=512,Vke=513,zke=514,Gke=515,Uke=516,jke=517,Wke=518,PD=519,fK=512,pK=513,mK=514,JN=515,gK=516,vK=517,yK=518,xK=519,by=35044,$ke=35048,qke=35040,Kke=35045,Yke=35049,Xke=35041,Zke=35046,Jke=35050,Qke=35042,e3e="100",DD="300 es",Ko=2e3,Sy=2001,t3e={COMPUTE:"compute",RENDER:"render"};class Ka{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){const i=this._listeners;if(i===void 0)return;const s=i[e];if(s!==void 0){const r=s.indexOf(n);r!==-1&&s.splice(r,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const i=n[e.type];if(i!==void 0){e.target=this;const s=i.slice(0);for(let r=0,o=s.length;r<o;r++)s[r].call(this,e);e.target=null}}}const ys=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let VV=1234567;const th=Math.PI/180,zp=180/Math.PI;function Wr(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(ys[t&255]+ys[t>>8&255]+ys[t>>16&255]+ys[t>>24&255]+"-"+ys[e&255]+ys[e>>8&255]+"-"+ys[e>>16&15|64]+ys[e>>24&255]+"-"+ys[n&63|128]+ys[n>>8&255]+"-"+ys[n>>16&255]+ys[n>>24&255]+ys[i&255]+ys[i>>8&255]+ys[i>>16&255]+ys[i>>24&255]).toLowerCase()}function It(t,e,n){return Math.max(e,Math.min(n,t))}function QN(t,e){return(t%e+e)%e}function n3e(t,e,n,i,s){return i+(t-e)*(s-i)/(n-e)}function i3e(t,e,n){return t!==e?(n-t)/(e-t):0}function Fv(t,e,n){return(1-n)*t+n*e}function s3e(t,e,n,i){return Fv(t,e,1-Math.exp(-n*i))}function r3e(t,e=1){return e-Math.abs(QN(t,e*2)-e)}function o3e(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function a3e(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function l3e(t,e){return t+Math.floor(Math.random()*(e-t+1))}function c3e(t,e){return t+Math.random()*(e-t)}function u3e(t){return t*(.5-Math.random())}function d3e(t){t!==void 0&&(VV=t);let e=VV+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function h3e(t){return t*th}function f3e(t){return t*zp}function p3e(t){return(t&t-1)===0&&t!==0}function m3e(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function g3e(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function v3e(t,e,n,i,s){const r=Math.cos,o=Math.sin,a=r(n/2),l=o(n/2),c=r((e+i)/2),d=o((e+i)/2),f=r((e-i)/2),p=o((e-i)/2),m=r((i-e)/2),y=o((i-e)/2);switch(s){case"XYX":t.set(a*d,l*f,l*p,a*c);break;case"YZY":t.set(l*p,a*d,l*f,a*c);break;case"ZXZ":t.set(l*f,l*p,a*d,a*c);break;case"XZX":t.set(a*d,l*y,l*m,a*c);break;case"YXY":t.set(l*m,a*d,l*y,a*c);break;case"ZYZ":t.set(l*y,l*m,a*d,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+s)}}function qs(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Lt(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const y3e={DEG2RAD:th,RAD2DEG:zp,generateUUID:Wr,clamp:It,euclideanModulo:QN,mapLinear:n3e,inverseLerp:i3e,lerp:Fv,damp:s3e,pingpong:r3e,smoothstep:o3e,smootherstep:a3e,randInt:l3e,randFloat:c3e,randFloatSpread:u3e,seededRandom:d3e,degToRad:h3e,radToDeg:f3e,isPowerOfTwo:p3e,ceilPowerOfTwo:m3e,floorPowerOfTwo:g3e,setQuaternionFromProperEuler:v3e,normalize:Lt,denormalize:qs};class ze{constructor(e=0,n=0){ze.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,s=e.elements;return this.x=s[0]*n+s[3]*i+s[6],this.y=s[1]*n+s[4]*i+s[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=It(this.x,e.x,n.x),this.y=It(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=It(this.x,e,n),this.y=It(this.y,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(It(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(It(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),s=Math.sin(n),r=this.x-e.x,o=this.y-e.y;return this.x=r*i-o*s+e.x,this.y=r*s+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ot{constructor(e,n,i,s,r,o,a,l,c){Ot.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,i,s,r,o,a,l,c)}set(e,n,i,s,r,o,a,l,c){const d=this.elements;return d[0]=e,d[1]=s,d[2]=a,d[3]=n,d[4]=r,d[5]=l,d[6]=i,d[7]=o,d[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,s=n.elements,r=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],d=i[4],f=i[7],p=i[2],m=i[5],y=i[8],C=s[0],x=s[3],w=s[6],M=s[1],S=s[4],R=s[7],P=s[2],F=s[5],N=s[8];return r[0]=o*C+a*M+l*P,r[3]=o*x+a*S+l*F,r[6]=o*w+a*R+l*N,r[1]=c*C+d*M+f*P,r[4]=c*x+d*S+f*F,r[7]=c*w+d*R+f*N,r[2]=p*C+m*M+y*P,r[5]=p*x+m*S+y*F,r[8]=p*w+m*R+y*N,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],s=e[2],r=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8];return n*o*d-n*a*c-i*r*d+i*a*l+s*r*c-s*o*l}invert(){const e=this.elements,n=e[0],i=e[1],s=e[2],r=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],f=d*o-a*c,p=a*l-d*r,m=c*r-o*l,y=n*f+i*p+s*m;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const C=1/y;return e[0]=f*C,e[1]=(s*c-d*i)*C,e[2]=(a*i-s*o)*C,e[3]=p*C,e[4]=(d*n-s*l)*C,e[5]=(s*r-a*n)*C,e[6]=m*C,e[7]=(i*l-c*n)*C,e[8]=(o*n-i*r)*C,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,s,r,o,a){const l=Math.cos(r),c=Math.sin(r);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-s*c,s*l,-s*(-c*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(MA.makeScale(e,n)),this}rotate(e){return this.premultiply(MA.makeRotation(-e)),this}translate(e,n){return this.premultiply(MA.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,i,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,i=e.elements;for(let s=0;s<9;s++)if(n[s]!==i[s])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const MA=new Ot;function CK(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const x3e={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function sp(t,e){return new x3e[t](e)}function Ey(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function wK(){const t=Ey("canvas");return t.style.display="block",t}const zV={};function gd(t){t in zV||(zV[t]=!0,console.warn(t))}function C3e(t,e,n){return new Promise(function(i,s){function r(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:s();break;case t.TIMEOUT_EXPIRED:setTimeout(r,n);break;default:i()}}setTimeout(r,n)})}function w3e(t){const e=t.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function b3e(t){const e=t.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const GV=new Ot().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),UV=new Ot().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function S3e(){const t={enabled:!0,workingColorSpace:vh,spaces:{},convert:function(s,r,o){return this.enabled===!1||r===o||!r||!o||(this.spaces[r].transfer===xn&&(s.r=zl(s.r),s.g=zl(s.g),s.b=zl(s.b)),this.spaces[r].primaries!==this.spaces[o].primaries&&(s.applyMatrix3(this.spaces[r].toXYZ),s.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===xn&&(s.r=xp(s.r),s.g=xp(s.g),s.b=xp(s.b))),s},fromWorkingColorSpace:function(s,r){return this.convert(s,this.workingColorSpace,r)},toWorkingColorSpace:function(s,r){return this.convert(s,r,this.workingColorSpace)},getPrimaries:function(s){return this.spaces[s].primaries},getTransfer:function(s){return s===Rl?wy:this.spaces[s].transfer},getLuminanceCoefficients:function(s,r=this.workingColorSpace){return s.fromArray(this.spaces[r].luminanceCoefficients)},define:function(s){Object.assign(this.spaces,s)},_getMatrix:function(s,r,o){return s.copy(this.spaces[r].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(s){return this.spaces[s].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(s=this.workingColorSpace){return this.spaces[s].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],i=[.3127,.329];return t.define({[vh]:{primaries:e,whitePoint:i,transfer:wy,toXYZ:GV,fromXYZ:UV,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:mr},outputColorSpaceConfig:{drawingBufferColorSpace:mr}},[mr]:{primaries:e,whitePoint:i,transfer:xn,toXYZ:GV,fromXYZ:UV,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:mr}}}),t}const nn=S3e();function zl(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function xp(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Mf;class bK{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Mf===void 0&&(Mf=Ey("canvas")),Mf.width=e.width,Mf.height=e.height;const i=Mf.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),n=Mf}return n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Ey("canvas");n.width=e.width,n.height=e.height;const i=n.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const s=i.getImageData(0,0,e.width,e.height),r=s.data;for(let o=0;o<r.length;o++)r[o]=zl(r[o]/255)*255;return i.putImageData(s,0,0),n}else if(e.data){const n=e.data.slice(0);for(let i=0;i<n.length;i++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[i]=Math.floor(zl(n[i]/255)*255):n[i]=zl(n[i]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let E3e=0;class Xc{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:E3e++}),this.uuid=Wr(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},s=this.data;if(s!==null){let r;if(Array.isArray(s)){r=[];for(let o=0,a=s.length;o<a;o++)s[o].isDataTexture?r.push(TA(s[o].image)):r.push(TA(s[o]))}else r=TA(s);i.url=r}return n||(e.images[this.uuid]=i),i}}function TA(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?bK.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let M3e=0;class hi extends Ka{constructor(e=hi.DEFAULT_IMAGE,n=hi.DEFAULT_MAPPING,i=Eo,s=Eo,r=Li,o=Pa,a=Xs,l=za,c=hi.DEFAULT_ANISOTROPY,d=Rl){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:M3e++}),this.uuid=Wr(),this.name="",this.source=new Xc(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=i,this.wrapT=s,this.magFilter=r,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new ze(0,0),this.repeat=new ze(1,1),this.center=new ze(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ot,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=d,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),n||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==J1)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case vy:e.x=e.x-Math.floor(e.x);break;case Eo:e.x=e.x<0?0:1;break;case yy:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case vy:e.y=e.y-Math.floor(e.y);break;case Eo:e.y=e.y<0?0:1;break;case yy:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}hi.DEFAULT_IMAGE=null;hi.DEFAULT_MAPPING=J1;hi.DEFAULT_ANISOTROPY=1;class rn{constructor(e=0,n=0,i=0,s=1){rn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=i,this.w=s}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,s){return this.x=e,this.y=n,this.z=i,this.w=s,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,s=this.z,r=this.w,o=e.elements;return this.x=o[0]*n+o[4]*i+o[8]*s+o[12]*r,this.y=o[1]*n+o[5]*i+o[9]*s+o[13]*r,this.z=o[2]*n+o[6]*i+o[10]*s+o[14]*r,this.w=o[3]*n+o[7]*i+o[11]*s+o[15]*r,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,s,r;const l=e.elements,c=l[0],d=l[4],f=l[8],p=l[1],m=l[5],y=l[9],C=l[2],x=l[6],w=l[10];if(Math.abs(d-p)<.01&&Math.abs(f-C)<.01&&Math.abs(y-x)<.01){if(Math.abs(d+p)<.1&&Math.abs(f+C)<.1&&Math.abs(y+x)<.1&&Math.abs(c+m+w-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const S=(c+1)/2,R=(m+1)/2,P=(w+1)/2,F=(d+p)/4,N=(f+C)/4,I=(y+x)/4;return S>R&&S>P?S<.01?(i=0,s=.707106781,r=.707106781):(i=Math.sqrt(S),s=F/i,r=N/i):R>P?R<.01?(i=.707106781,s=0,r=.707106781):(s=Math.sqrt(R),i=F/s,r=I/s):P<.01?(i=.707106781,s=.707106781,r=0):(r=Math.sqrt(P),i=N/r,s=I/r),this.set(i,s,r,n),this}let M=Math.sqrt((x-y)*(x-y)+(f-C)*(f-C)+(p-d)*(p-d));return Math.abs(M)<.001&&(M=1),this.x=(x-y)/M,this.y=(f-C)/M,this.z=(p-d)/M,this.w=Math.acos((c+m+w-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=It(this.x,e.x,n.x),this.y=It(this.y,e.y,n.y),this.z=It(this.z,e.z,n.z),this.w=It(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=It(this.x,e,n),this.y=It(this.y,e,n),this.z=It(this.z,e,n),this.w=It(this.w,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(It(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class oE extends Ka{constructor(e=1,n=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new rn(0,0,e,n),this.scissorTest=!1,this.viewport=new rn(0,0,e,n);const s={width:e,height:n,depth:1};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Li,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},i);const r=new hi(s,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);r.flipY=!1,r.generateMipmaps=i.generateMipmaps,r.internalFormat=i.internalFormat,this.textures=[];const o=i.count;for(let a=0;a<o;a++)this.textures[a]=r.clone(),this.textures[a].isRenderTargetTexture=!0,this.textures[a].renderTarget=this;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,i=1){if(this.width!==e||this.height!==n||this.depth!==i){this.width=e,this.height=n,this.depth=i;for(let s=0,r=this.textures.length;s<r;s++)this.textures[s].image.width=e,this.textures[s].image.height=n,this.textures[s].image.depth=i;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,i=e.textures.length;n<i;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const s=Object.assign({},e.textures[n].image);this.textures[n].source=new Xc(s)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Ga extends oE{constructor(e=1,n=1,i={}){super(e,n,i),this.isWebGLRenderTarget=!0}}class b0 extends hi{constructor(e=null,n=1,i=1,s=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:i,depth:s},this.magFilter=hs,this.minFilter=hs,this.wrapR=Eo,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class T3e extends Ga{constructor(e=1,n=1,i=1,s={}){super(e,n,s),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new b0(null,e,n,i),this.texture.isRenderTargetTexture=!0}}class aE extends hi{constructor(e=null,n=1,i=1,s=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:i,depth:s},this.magFilter=hs,this.minFilter=hs,this.wrapR=Eo,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class R3e extends Ga{constructor(e=1,n=1,i=1,s={}){super(e,n,s),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new aE(null,e,n,i),this.texture.isRenderTargetTexture=!0}}class Sr{constructor(e=0,n=0,i=0,s=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=i,this._w=s}static slerpFlat(e,n,i,s,r,o,a){let l=i[s+0],c=i[s+1],d=i[s+2],f=i[s+3];const p=r[o+0],m=r[o+1],y=r[o+2],C=r[o+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=d,e[n+3]=f;return}if(a===1){e[n+0]=p,e[n+1]=m,e[n+2]=y,e[n+3]=C;return}if(f!==C||l!==p||c!==m||d!==y){let x=1-a;const w=l*p+c*m+d*y+f*C,M=w>=0?1:-1,S=1-w*w;if(S>Number.EPSILON){const P=Math.sqrt(S),F=Math.atan2(P,w*M);x=Math.sin(x*F)/P,a=Math.sin(a*F)/P}const R=a*M;if(l=l*x+p*R,c=c*x+m*R,d=d*x+y*R,f=f*x+C*R,x===1-a){const P=1/Math.sqrt(l*l+c*c+d*d+f*f);l*=P,c*=P,d*=P,f*=P}}e[n]=l,e[n+1]=c,e[n+2]=d,e[n+3]=f}static multiplyQuaternionsFlat(e,n,i,s,r,o){const a=i[s],l=i[s+1],c=i[s+2],d=i[s+3],f=r[o],p=r[o+1],m=r[o+2],y=r[o+3];return e[n]=a*y+d*f+l*m-c*p,e[n+1]=l*y+d*p+c*f-a*m,e[n+2]=c*y+d*m+a*p-l*f,e[n+3]=d*y-a*f-l*p-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,s){return this._x=e,this._y=n,this._z=i,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const i=e._x,s=e._y,r=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),d=a(s/2),f=a(r/2),p=l(i/2),m=l(s/2),y=l(r/2);switch(o){case"XYZ":this._x=p*d*f+c*m*y,this._y=c*m*f-p*d*y,this._z=c*d*y+p*m*f,this._w=c*d*f-p*m*y;break;case"YXZ":this._x=p*d*f+c*m*y,this._y=c*m*f-p*d*y,this._z=c*d*y-p*m*f,this._w=c*d*f+p*m*y;break;case"ZXY":this._x=p*d*f-c*m*y,this._y=c*m*f+p*d*y,this._z=c*d*y+p*m*f,this._w=c*d*f-p*m*y;break;case"ZYX":this._x=p*d*f-c*m*y,this._y=c*m*f+p*d*y,this._z=c*d*y-p*m*f,this._w=c*d*f+p*m*y;break;case"YZX":this._x=p*d*f+c*m*y,this._y=c*m*f+p*d*y,this._z=c*d*y-p*m*f,this._w=c*d*f-p*m*y;break;case"XZY":this._x=p*d*f-c*m*y,this._y=c*m*f-p*d*y,this._z=c*d*y+p*m*f,this._w=c*d*f+p*m*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,s=Math.sin(i);return this._x=e.x*s,this._y=e.y*s,this._z=e.z*s,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],s=n[4],r=n[8],o=n[1],a=n[5],l=n[9],c=n[2],d=n[6],f=n[10],p=i+a+f;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(d-l)*m,this._y=(r-c)*m,this._z=(o-s)*m}else if(i>a&&i>f){const m=2*Math.sqrt(1+i-a-f);this._w=(d-l)/m,this._x=.25*m,this._y=(s+o)/m,this._z=(r+c)/m}else if(a>f){const m=2*Math.sqrt(1+a-i-f);this._w=(r-c)/m,this._x=(s+o)/m,this._y=.25*m,this._z=(l+d)/m}else{const m=2*Math.sqrt(1+f-i-a);this._w=(o-s)/m,this._x=(r+c)/m,this._y=(l+d)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let i=e.dot(n)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(It(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const s=Math.min(1,n/i);return this.slerp(e,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,s=e._y,r=e._z,o=e._w,a=n._x,l=n._y,c=n._z,d=n._w;return this._x=i*d+o*a+s*c-r*l,this._y=s*d+o*l+r*a-i*c,this._z=r*d+o*c+i*l-s*a,this._w=o*d-i*a-s*l-r*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const i=this._x,s=this._y,r=this._z,o=this._w;let a=o*e._w+i*e._x+s*e._y+r*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=s,this._z=r,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-n;return this._w=m*o+n*this._w,this._x=m*i+n*this._x,this._y=m*s+n*this._y,this._z=m*r+n*this._z,this.normalize(),this}const c=Math.sqrt(l),d=Math.atan2(c,a),f=Math.sin((1-n)*d)/c,p=Math.sin(n*d)/c;return this._w=o*f+this._w*p,this._x=i*f+this._x*p,this._y=s*f+this._y*p,this._z=r*f+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,n,i){return this.copy(e).slerp(n,i)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),i=Math.random(),s=Math.sqrt(1-i),r=Math.sqrt(i);return this.set(s*Math.sin(e),s*Math.cos(e),r*Math.sin(n),r*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Y{constructor(e=0,n=0,i=0){Y.prototype.isVector3=!0,this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(jV.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(jV.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,s=this.z,r=e.elements;return this.x=r[0]*n+r[3]*i+r[6]*s,this.y=r[1]*n+r[4]*i+r[7]*s,this.z=r[2]*n+r[5]*i+r[8]*s,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,s=this.z,r=e.elements,o=1/(r[3]*n+r[7]*i+r[11]*s+r[15]);return this.x=(r[0]*n+r[4]*i+r[8]*s+r[12])*o,this.y=(r[1]*n+r[5]*i+r[9]*s+r[13])*o,this.z=(r[2]*n+r[6]*i+r[10]*s+r[14])*o,this}applyQuaternion(e){const n=this.x,i=this.y,s=this.z,r=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*s-a*i),d=2*(a*n-r*s),f=2*(r*i-o*n);return this.x=n+l*c+o*f-a*d,this.y=i+l*d+a*c-r*f,this.z=s+l*f+r*d-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,s=this.z,r=e.elements;return this.x=r[0]*n+r[4]*i+r[8]*s,this.y=r[1]*n+r[5]*i+r[9]*s,this.z=r[2]*n+r[6]*i+r[10]*s,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=It(this.x,e.x,n.x),this.y=It(this.y,e.y,n.y),this.z=It(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=It(this.x,e,n),this.y=It(this.y,e,n),this.z=It(this.z,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(It(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,s=e.y,r=e.z,o=n.x,a=n.y,l=n.z;return this.x=s*l-r*a,this.y=r*o-i*l,this.z=i*a-s*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return RA.copy(this).projectOnVector(e),this.sub(RA)}reflect(e){return this.sub(RA.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(It(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,s=this.z-e.z;return n*n+i*i+s*s}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const s=Math.sin(n)*e;return this.x=s*Math.sin(i),this.y=Math.cos(n)*e,this.z=s*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),s=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=s,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,i=Math.sqrt(1-n*n);return this.x=i*Math.cos(e),this.y=n,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const RA=new Y,jV=new Sr;class Qs{constructor(e=new Y(1/0,1/0,1/0),n=new Y(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n+=3)this.expandByPoint(Bo.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,i=e.count;n<i;n++)this.expandByPoint(Bo.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=Bo.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const r=i.getAttribute("position");if(n===!0&&r!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=r.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,Bo):Bo.fromBufferAttribute(r,o),Bo.applyMatrix4(e.matrixWorld),this.expandByPoint(Bo);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),fC.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),fC.copy(i.boundingBox)),fC.applyMatrix4(e.matrixWorld),this.union(fC)}const s=e.children;for(let r=0,o=s.length;r<o;r++)this.expandByObject(s[r],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Bo),Bo.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Fg),pC.subVectors(this.max,Fg),Tf.subVectors(e.a,Fg),Rf.subVectors(e.b,Fg),Af.subVectors(e.c,Fg),Mc.subVectors(Rf,Tf),Tc.subVectors(Af,Rf),Ku.subVectors(Tf,Af);let n=[0,-Mc.z,Mc.y,0,-Tc.z,Tc.y,0,-Ku.z,Ku.y,Mc.z,0,-Mc.x,Tc.z,0,-Tc.x,Ku.z,0,-Ku.x,-Mc.y,Mc.x,0,-Tc.y,Tc.x,0,-Ku.y,Ku.x,0];return!AA(n,Tf,Rf,Af,pC)||(n=[1,0,0,0,1,0,0,0,1],!AA(n,Tf,Rf,Af,pC))?!1:(mC.crossVectors(Mc,Tc),n=[mC.x,mC.y,mC.z],AA(n,Tf,Rf,Af,pC))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Bo).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Bo).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(gl[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),gl[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),gl[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),gl[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),gl[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),gl[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),gl[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),gl[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(gl),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const gl=[new Y,new Y,new Y,new Y,new Y,new Y,new Y,new Y],Bo=new Y,fC=new Qs,Tf=new Y,Rf=new Y,Af=new Y,Mc=new Y,Tc=new Y,Ku=new Y,Fg=new Y,pC=new Y,mC=new Y,Yu=new Y;function AA(t,e,n,i,s){for(let r=0,o=t.length-3;r<=o;r+=3){Yu.fromArray(t,r);const a=s.x*Math.abs(Yu.x)+s.y*Math.abs(Yu.y)+s.z*Math.abs(Yu.z),l=e.dot(Yu),c=n.dot(Yu),d=i.dot(Yu);if(Math.max(-Math.max(l,c,d),Math.min(l,c,d))>a)return!1}return!0}const A3e=new Qs,Ng=new Y,PA=new Y;class Ps{constructor(e=new Y,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):A3e.setFromPoints(e).getCenter(i);let s=0;for(let r=0,o=e.length;r<o;r++)s=Math.max(s,i.distanceToSquared(e[r]));return this.radius=Math.sqrt(s),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Ng.subVectors(e,this.center);const n=Ng.lengthSq();if(n>this.radius*this.radius){const i=Math.sqrt(n),s=(i-this.radius)*.5;this.center.addScaledVector(Ng,s/i),this.radius+=s}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(PA.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Ng.copy(e.center).add(PA)),this.expandByPoint(Ng.copy(e.center).sub(PA))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const vl=new Y,DA=new Y,gC=new Y,Rc=new Y,_A=new Y,vC=new Y,FA=new Y;class dm{constructor(e=new Y,n=new Y(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,vl)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=vl.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(vl.copy(this.origin).addScaledVector(this.direction,n),vl.distanceToSquared(e))}distanceSqToSegment(e,n,i,s){DA.copy(e).add(n).multiplyScalar(.5),gC.copy(n).sub(e).normalize(),Rc.copy(this.origin).sub(DA);const r=e.distanceTo(n)*.5,o=-this.direction.dot(gC),a=Rc.dot(this.direction),l=-Rc.dot(gC),c=Rc.lengthSq(),d=Math.abs(1-o*o);let f,p,m,y;if(d>0)if(f=o*l-a,p=o*a-l,y=r*d,f>=0)if(p>=-y)if(p<=y){const C=1/d;f*=C,p*=C,m=f*(f+o*p+2*a)+p*(o*f+p+2*l)+c}else p=r,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+c;else p=-r,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+c;else p<=-y?(f=Math.max(0,-(-o*r+a)),p=f>0?-r:Math.min(Math.max(-r,-l),r),m=-f*f+p*(p+2*l)+c):p<=y?(f=0,p=Math.min(Math.max(-r,-l),r),m=p*(p+2*l)+c):(f=Math.max(0,-(o*r+a)),p=f>0?r:Math.min(Math.max(-r,-l),r),m=-f*f+p*(p+2*l)+c);else p=o>0?-r:r,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,f),s&&s.copy(DA).addScaledVector(gC,p),m}intersectSphere(e,n){vl.subVectors(e.center,this.origin);const i=vl.dot(this.direction),s=vl.dot(vl)-i*i,r=e.radius*e.radius;if(s>r)return null;const o=Math.sqrt(r-s),a=i-o,l=i+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,s,r,o,a,l;const c=1/this.direction.x,d=1/this.direction.y,f=1/this.direction.z,p=this.origin;return c>=0?(i=(e.min.x-p.x)*c,s=(e.max.x-p.x)*c):(i=(e.max.x-p.x)*c,s=(e.min.x-p.x)*c),d>=0?(r=(e.min.y-p.y)*d,o=(e.max.y-p.y)*d):(r=(e.max.y-p.y)*d,o=(e.min.y-p.y)*d),i>o||r>s||((r>i||isNaN(i))&&(i=r),(o<s||isNaN(s))&&(s=o),f>=0?(a=(e.min.z-p.z)*f,l=(e.max.z-p.z)*f):(a=(e.max.z-p.z)*f,l=(e.min.z-p.z)*f),i>l||a>s)||((a>i||i!==i)&&(i=a),(l<s||s!==s)&&(s=l),s<0)?null:this.at(i>=0?i:s,n)}intersectsBox(e){return this.intersectBox(e,vl)!==null}intersectTriangle(e,n,i,s,r){_A.subVectors(n,e),vC.subVectors(i,e),FA.crossVectors(_A,vC);let o=this.direction.dot(FA),a;if(o>0){if(s)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Rc.subVectors(this.origin,e);const l=a*this.direction.dot(vC.crossVectors(Rc,vC));if(l<0)return null;const c=a*this.direction.dot(_A.cross(Rc));if(c<0||l+c>o)return null;const d=-a*Rc.dot(FA);return d<0?null:this.at(d/o,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Tt{constructor(e,n,i,s,r,o,a,l,c,d,f,p,m,y,C,x){Tt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,i,s,r,o,a,l,c,d,f,p,m,y,C,x)}set(e,n,i,s,r,o,a,l,c,d,f,p,m,y,C,x){const w=this.elements;return w[0]=e,w[4]=n,w[8]=i,w[12]=s,w[1]=r,w[5]=o,w[9]=a,w[13]=l,w[2]=c,w[6]=d,w[10]=f,w[14]=p,w[3]=m,w[7]=y,w[11]=C,w[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Tt().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,i){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,i=e.elements,s=1/Pf.setFromMatrixColumn(e,0).length(),r=1/Pf.setFromMatrixColumn(e,1).length(),o=1/Pf.setFromMatrixColumn(e,2).length();return n[0]=i[0]*s,n[1]=i[1]*s,n[2]=i[2]*s,n[3]=0,n[4]=i[4]*r,n[5]=i[5]*r,n[6]=i[6]*r,n[7]=0,n[8]=i[8]*o,n[9]=i[9]*o,n[10]=i[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,i=e.x,s=e.y,r=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(s),c=Math.sin(s),d=Math.cos(r),f=Math.sin(r);if(e.order==="XYZ"){const p=o*d,m=o*f,y=a*d,C=a*f;n[0]=l*d,n[4]=-l*f,n[8]=c,n[1]=m+y*c,n[5]=p-C*c,n[9]=-a*l,n[2]=C-p*c,n[6]=y+m*c,n[10]=o*l}else if(e.order==="YXZ"){const p=l*d,m=l*f,y=c*d,C=c*f;n[0]=p+C*a,n[4]=y*a-m,n[8]=o*c,n[1]=o*f,n[5]=o*d,n[9]=-a,n[2]=m*a-y,n[6]=C+p*a,n[10]=o*l}else if(e.order==="ZXY"){const p=l*d,m=l*f,y=c*d,C=c*f;n[0]=p-C*a,n[4]=-o*f,n[8]=y+m*a,n[1]=m+y*a,n[5]=o*d,n[9]=C-p*a,n[2]=-o*c,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const p=o*d,m=o*f,y=a*d,C=a*f;n[0]=l*d,n[4]=y*c-m,n[8]=p*c+C,n[1]=l*f,n[5]=C*c+p,n[9]=m*c-y,n[2]=-c,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*c,y=a*l,C=a*c;n[0]=l*d,n[4]=C-p*f,n[8]=y*f+m,n[1]=f,n[5]=o*d,n[9]=-a*d,n[2]=-c*d,n[6]=m*f+y,n[10]=p-C*f}else if(e.order==="XZY"){const p=o*l,m=o*c,y=a*l,C=a*c;n[0]=l*d,n[4]=-f,n[8]=c*d,n[1]=p*f+C,n[5]=o*d,n[9]=m*f-y,n[2]=y*f-m,n[6]=a*d,n[10]=C*f+p}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(P3e,e,D3e)}lookAt(e,n,i){const s=this.elements;return Nr.subVectors(e,n),Nr.lengthSq()===0&&(Nr.z=1),Nr.normalize(),Ac.crossVectors(i,Nr),Ac.lengthSq()===0&&(Math.abs(i.z)===1?Nr.x+=1e-4:Nr.z+=1e-4,Nr.normalize(),Ac.crossVectors(i,Nr)),Ac.normalize(),yC.crossVectors(Nr,Ac),s[0]=Ac.x,s[4]=yC.x,s[8]=Nr.x,s[1]=Ac.y,s[5]=yC.y,s[9]=Nr.y,s[2]=Ac.z,s[6]=yC.z,s[10]=Nr.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,s=n.elements,r=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],d=i[1],f=i[5],p=i[9],m=i[13],y=i[2],C=i[6],x=i[10],w=i[14],M=i[3],S=i[7],R=i[11],P=i[15],F=s[0],N=s[4],I=s[8],_=s[12],A=s[1],O=s[5],k=s[9],z=s[13],W=s[2],K=s[6],V=s[10],Q=s[14],q=s[3],X=s[7],H=s[11],ee=s[15];return r[0]=o*F+a*A+l*W+c*q,r[4]=o*N+a*O+l*K+c*X,r[8]=o*I+a*k+l*V+c*H,r[12]=o*_+a*z+l*Q+c*ee,r[1]=d*F+f*A+p*W+m*q,r[5]=d*N+f*O+p*K+m*X,r[9]=d*I+f*k+p*V+m*H,r[13]=d*_+f*z+p*Q+m*ee,r[2]=y*F+C*A+x*W+w*q,r[6]=y*N+C*O+x*K+w*X,r[10]=y*I+C*k+x*V+w*H,r[14]=y*_+C*z+x*Q+w*ee,r[3]=M*F+S*A+R*W+P*q,r[7]=M*N+S*O+R*K+P*X,r[11]=M*I+S*k+R*V+P*H,r[15]=M*_+S*z+R*Q+P*ee,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],s=e[8],r=e[12],o=e[1],a=e[5],l=e[9],c=e[13],d=e[2],f=e[6],p=e[10],m=e[14],y=e[3],C=e[7],x=e[11],w=e[15];return y*(+r*l*f-s*c*f-r*a*p+i*c*p+s*a*m-i*l*m)+C*(+n*l*m-n*c*p+r*o*p-s*o*m+s*c*d-r*l*d)+x*(+n*c*f-n*a*m-r*o*f+i*o*m+r*a*d-i*c*d)+w*(-s*a*d-n*l*f+n*a*p+s*o*f-i*o*p+i*l*d)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const s=this.elements;return e.isVector3?(s[12]=e.x,s[13]=e.y,s[14]=e.z):(s[12]=e,s[13]=n,s[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],s=e[2],r=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],f=e[9],p=e[10],m=e[11],y=e[12],C=e[13],x=e[14],w=e[15],M=f*x*c-C*p*c+C*l*m-a*x*m-f*l*w+a*p*w,S=y*p*c-d*x*c-y*l*m+o*x*m+d*l*w-o*p*w,R=d*C*c-y*f*c+y*a*m-o*C*m-d*a*w+o*f*w,P=y*f*l-d*C*l-y*a*p+o*C*p+d*a*x-o*f*x,F=n*M+i*S+s*R+r*P;if(F===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const N=1/F;return e[0]=M*N,e[1]=(C*p*r-f*x*r-C*s*m+i*x*m+f*s*w-i*p*w)*N,e[2]=(a*x*r-C*l*r+C*s*c-i*x*c-a*s*w+i*l*w)*N,e[3]=(f*l*r-a*p*r-f*s*c+i*p*c+a*s*m-i*l*m)*N,e[4]=S*N,e[5]=(d*x*r-y*p*r+y*s*m-n*x*m-d*s*w+n*p*w)*N,e[6]=(y*l*r-o*x*r-y*s*c+n*x*c+o*s*w-n*l*w)*N,e[7]=(o*p*r-d*l*r+d*s*c-n*p*c-o*s*m+n*l*m)*N,e[8]=R*N,e[9]=(y*f*r-d*C*r-y*i*m+n*C*m+d*i*w-n*f*w)*N,e[10]=(o*C*r-y*a*r+y*i*c-n*C*c-o*i*w+n*a*w)*N,e[11]=(d*a*r-o*f*r-d*i*c+n*f*c+o*i*m-n*a*m)*N,e[12]=P*N,e[13]=(d*C*s-y*f*s+y*i*p-n*C*p-d*i*x+n*f*x)*N,e[14]=(y*a*s-o*C*s-y*i*l+n*C*l+o*i*x-n*a*x)*N,e[15]=(o*f*s-d*a*s+d*i*l-n*f*l-o*i*p+n*a*p)*N,this}scale(e){const n=this.elements,i=e.x,s=e.y,r=e.z;return n[0]*=i,n[4]*=s,n[8]*=r,n[1]*=i,n[5]*=s,n[9]*=r,n[2]*=i,n[6]*=s,n[10]*=r,n[3]*=i,n[7]*=s,n[11]*=r,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],s=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,s))}makeTranslation(e,n,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),s=Math.sin(n),r=1-i,o=e.x,a=e.y,l=e.z,c=r*o,d=r*a;return this.set(c*o+i,c*a-s*l,c*l+s*a,0,c*a+s*l,d*a+i,d*l-s*o,0,c*l-s*a,d*l+s*o,r*l*l+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i,s,r,o){return this.set(1,i,r,0,e,1,o,0,n,s,1,0,0,0,0,1),this}compose(e,n,i){const s=this.elements,r=n._x,o=n._y,a=n._z,l=n._w,c=r+r,d=o+o,f=a+a,p=r*c,m=r*d,y=r*f,C=o*d,x=o*f,w=a*f,M=l*c,S=l*d,R=l*f,P=i.x,F=i.y,N=i.z;return s[0]=(1-(C+w))*P,s[1]=(m+R)*P,s[2]=(y-S)*P,s[3]=0,s[4]=(m-R)*F,s[5]=(1-(p+w))*F,s[6]=(x+M)*F,s[7]=0,s[8]=(y+S)*N,s[9]=(x-M)*N,s[10]=(1-(p+C))*N,s[11]=0,s[12]=e.x,s[13]=e.y,s[14]=e.z,s[15]=1,this}decompose(e,n,i){const s=this.elements;let r=Pf.set(s[0],s[1],s[2]).length();const o=Pf.set(s[4],s[5],s[6]).length(),a=Pf.set(s[8],s[9],s[10]).length();this.determinant()<0&&(r=-r),e.x=s[12],e.y=s[13],e.z=s[14],Ho.copy(this);const c=1/r,d=1/o,f=1/a;return Ho.elements[0]*=c,Ho.elements[1]*=c,Ho.elements[2]*=c,Ho.elements[4]*=d,Ho.elements[5]*=d,Ho.elements[6]*=d,Ho.elements[8]*=f,Ho.elements[9]*=f,Ho.elements[10]*=f,n.setFromRotationMatrix(Ho),i.x=r,i.y=o,i.z=a,this}makePerspective(e,n,i,s,r,o,a=Ko){const l=this.elements,c=2*r/(n-e),d=2*r/(i-s),f=(n+e)/(n-e),p=(i+s)/(i-s);let m,y;if(a===Ko)m=-(o+r)/(o-r),y=-2*o*r/(o-r);else if(a===Sy)m=-o/(o-r),y=-o*r/(o-r);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=d,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=y,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,i,s,r,o,a=Ko){const l=this.elements,c=1/(n-e),d=1/(i-s),f=1/(o-r),p=(n+e)*c,m=(i+s)*d;let y,C;if(a===Ko)y=(o+r)*f,C=-2*f;else if(a===Sy)y=r*f,C=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*d,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=C,l[14]=-y,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let s=0;s<16;s++)if(n[s]!==i[s])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}const Pf=new Y,Ho=new Tt,P3e=new Y(0,0,0),D3e=new Y(1,1,1),Ac=new Y,yC=new Y,Nr=new Y,WV=new Tt,$V=new Sr;class Kr{constructor(e=0,n=0,i=0,s=Kr.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=i,this._order=s}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,s=this._order){return this._x=e,this._y=n,this._z=i,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,i=!0){const s=e.elements,r=s[0],o=s[4],a=s[8],l=s[1],c=s[5],d=s[9],f=s[2],p=s[6],m=s[10];switch(n){case"XYZ":this._y=Math.asin(It(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-d,m),this._z=Math.atan2(-o,r)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-It(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,r),this._z=0);break;case"ZXY":this._x=Math.asin(It(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-f,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,r));break;case"ZYX":this._y=Math.asin(-It(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,r)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(It(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,c),this._y=Math.atan2(-f,r)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-It(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,r)):(this._x=Math.atan2(-d,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return WV.makeRotationFromQuaternion(e),this.setFromRotationMatrix(WV,n,i)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return $V.setFromEuler(this),this.setFromQuaternion($V,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Kr.DEFAULT_ORDER="XYZ";class lE{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let _3e=0;const qV=new Y,Df=new Sr,yl=new Tt,xC=new Y,Ig=new Y,F3e=new Y,N3e=new Sr,KV=new Y(1,0,0),YV=new Y(0,1,0),XV=new Y(0,0,1),ZV={type:"added"},I3e={type:"removed"},_f={type:"childadded",child:null},NA={type:"childremoved",child:null};class an extends Ka{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_3e++}),this.uuid=Wr(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=an.DEFAULT_UP.clone();const e=new Y,n=new Kr,i=new Sr,s=new Y(1,1,1);function r(){i.setFromEuler(n,!1)}function o(){n.setFromQuaternion(i,void 0,!1)}n._onChange(r),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new Tt},normalMatrix:{value:new Ot}}),this.matrix=new Tt,this.matrixWorld=new Tt,this.matrixAutoUpdate=an.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=an.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new lE,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Df.setFromAxisAngle(e,n),this.quaternion.multiply(Df),this}rotateOnWorldAxis(e,n){return Df.setFromAxisAngle(e,n),this.quaternion.premultiply(Df),this}rotateX(e){return this.rotateOnAxis(KV,e)}rotateY(e){return this.rotateOnAxis(YV,e)}rotateZ(e){return this.rotateOnAxis(XV,e)}translateOnAxis(e,n){return qV.copy(e).applyQuaternion(this.quaternion),this.position.add(qV.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(KV,e)}translateY(e){return this.translateOnAxis(YV,e)}translateZ(e){return this.translateOnAxis(XV,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(yl.copy(this.matrixWorld).invert())}lookAt(e,n,i){e.isVector3?xC.copy(e):xC.set(e,n,i);const s=this.parent;this.updateWorldMatrix(!0,!1),Ig.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?yl.lookAt(Ig,xC,this.up):yl.lookAt(xC,Ig,this.up),this.quaternion.setFromRotationMatrix(yl),s&&(yl.extractRotation(s.matrixWorld),Df.setFromRotationMatrix(yl),this.quaternion.premultiply(Df.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(ZV),_f.child=e,this.dispatchEvent(_f),_f.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(I3e),NA.child=e,this.dispatchEvent(NA),NA.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),yl.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),yl.multiply(e.parent.matrixWorld)),e.applyMatrix4(yl),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(ZV),_f.child=e,this.dispatchEvent(_f),_f.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,i=[]){this[e]===n&&i.push(this);const s=this.children;for(let r=0,o=s.length;r<o;r++)s[r].getObjectsByProperty(e,n,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ig,e,F3e),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ig,N3e,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let i=0,s=n.length;i<s;i++)n[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let i=0,s=n.length;i<s;i++)n[i].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let i=0,s=n.length;i<s;i++)n[i].updateMatrixWorld(e)}updateWorldMatrix(e,n){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const s=this.children;for(let r=0,o=s.length;r<o;r++)s[r].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const s={};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.castShadow===!0&&(s.castShadow=!0),this.receiveShadow===!0&&(s.receiveShadow=!0),this.visible===!1&&(s.visible=!1),this.frustumCulled===!1&&(s.frustumCulled=!1),this.renderOrder!==0&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(s.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(s.type="BatchedMesh",s.perObjectFrustumCulled=this.perObjectFrustumCulled,s.sortObjects=this.sortObjects,s.drawRanges=this._drawRanges,s.reservedRanges=this._reservedRanges,s.visibility=this._visibility,s.active=this._active,s.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),s.maxInstanceCount=this._maxInstanceCount,s.maxVertexCount=this._maxVertexCount,s.maxIndexCount=this._maxIndexCount,s.geometryInitialized=this._geometryInitialized,s.geometryCount=this._geometryCount,s.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(s.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(s.boundingSphere={center:s.boundingSphere.center.toArray(),radius:s.boundingSphere.radius}),this.boundingBox!==null&&(s.boundingBox={min:s.boundingBox.min.toArray(),max:s.boundingBox.max.toArray()}));function r(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(s.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=r(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,d=l.length;c<d;c++){const f=l[c];r(e.shapes,f)}else r(e.shapes,l)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(e.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(r(e.materials,this.material[l]));s.material=a}else s.material=r(e.materials,this.material);if(this.children.length>0){s.children=[];for(let a=0;a<this.children.length;a++)s.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){s.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];s.animations.push(r(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),d=o(e.images),f=o(e.shapes),p=o(e.skeletons),m=o(e.animations),y=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),d.length>0&&(i.images=d),f.length>0&&(i.shapes=f),p.length>0&&(i.skeletons=p),m.length>0&&(i.animations=m),y.length>0&&(i.nodes=y)}return i.object=s,i;function o(a){const l=[];for(const c in a){const d=a[c];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let i=0;i<e.children.length;i++){const s=e.children[i];this.add(s.clone())}return this}}an.DEFAULT_UP=new Y(0,1,0);an.DEFAULT_MATRIX_AUTO_UPDATE=!0;an.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Vo=new Y,xl=new Y,IA=new Y,Cl=new Y,Ff=new Y,Nf=new Y,JV=new Y,OA=new Y,LA=new Y,kA=new Y,BA=new rn,HA=new rn,VA=new rn;class gr{constructor(e=new Y,n=new Y,i=new Y){this.a=e,this.b=n,this.c=i}static getNormal(e,n,i,s){s.subVectors(i,n),Vo.subVectors(e,n),s.cross(Vo);const r=s.lengthSq();return r>0?s.multiplyScalar(1/Math.sqrt(r)):s.set(0,0,0)}static getBarycoord(e,n,i,s,r){Vo.subVectors(s,n),xl.subVectors(i,n),IA.subVectors(e,n);const o=Vo.dot(Vo),a=Vo.dot(xl),l=Vo.dot(IA),c=xl.dot(xl),d=xl.dot(IA),f=o*c-a*a;if(f===0)return r.set(0,0,0),null;const p=1/f,m=(c*l-a*d)*p,y=(o*d-a*l)*p;return r.set(1-m-y,y,m)}static containsPoint(e,n,i,s){return this.getBarycoord(e,n,i,s,Cl)===null?!1:Cl.x>=0&&Cl.y>=0&&Cl.x+Cl.y<=1}static getInterpolation(e,n,i,s,r,o,a,l){return this.getBarycoord(e,n,i,s,Cl)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(r,Cl.x),l.addScaledVector(o,Cl.y),l.addScaledVector(a,Cl.z),l)}static getInterpolatedAttribute(e,n,i,s,r,o){return BA.setScalar(0),HA.setScalar(0),VA.setScalar(0),BA.fromBufferAttribute(e,n),HA.fromBufferAttribute(e,i),VA.fromBufferAttribute(e,s),o.setScalar(0),o.addScaledVector(BA,r.x),o.addScaledVector(HA,r.y),o.addScaledVector(VA,r.z),o}static isFrontFacing(e,n,i,s){return Vo.subVectors(i,n),xl.subVectors(e,n),Vo.cross(xl).dot(s)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,s){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[s]),this}setFromAttributeAndIndices(e,n,i,s){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,s),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Vo.subVectors(this.c,this.b),xl.subVectors(this.a,this.b),Vo.cross(xl).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return gr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return gr.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,i,s,r){return gr.getInterpolation(e,this.a,this.b,this.c,n,i,s,r)}containsPoint(e){return gr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return gr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const i=this.a,s=this.b,r=this.c;let o,a;Ff.subVectors(s,i),Nf.subVectors(r,i),OA.subVectors(e,i);const l=Ff.dot(OA),c=Nf.dot(OA);if(l<=0&&c<=0)return n.copy(i);LA.subVectors(e,s);const d=Ff.dot(LA),f=Nf.dot(LA);if(d>=0&&f<=d)return n.copy(s);const p=l*f-d*c;if(p<=0&&l>=0&&d<=0)return o=l/(l-d),n.copy(i).addScaledVector(Ff,o);kA.subVectors(e,r);const m=Ff.dot(kA),y=Nf.dot(kA);if(y>=0&&m<=y)return n.copy(r);const C=m*c-l*y;if(C<=0&&c>=0&&y<=0)return a=c/(c-y),n.copy(i).addScaledVector(Nf,a);const x=d*y-m*f;if(x<=0&&f-d>=0&&m-y>=0)return JV.subVectors(r,s),a=(f-d)/(f-d+(m-y)),n.copy(s).addScaledVector(JV,a);const w=1/(x+C+p);return o=C*w,a=p*w,n.copy(i).addScaledVector(Ff,o).addScaledVector(Nf,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const SK={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Pc={h:0,s:0,l:0},CC={h:0,s:0,l:0};function zA(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class ut{constructor(e,n,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,i)}set(e,n,i){if(n===void 0&&i===void 0){const s=e;s&&s.isColor?this.copy(s):typeof s=="number"?this.setHex(s):typeof s=="string"&&this.setStyle(s)}else this.setRGB(e,n,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=mr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,nn.toWorkingColorSpace(this,n),this}setRGB(e,n,i,s=nn.workingColorSpace){return this.r=e,this.g=n,this.b=i,nn.toWorkingColorSpace(this,s),this}setHSL(e,n,i,s=nn.workingColorSpace){if(e=QN(e,1),n=It(n,0,1),i=It(i,0,1),n===0)this.r=this.g=this.b=i;else{const r=i<=.5?i*(1+n):i+n-i*n,o=2*i-r;this.r=zA(o,r,e+1/3),this.g=zA(o,r,e),this.b=zA(o,r,e-1/3)}return nn.toWorkingColorSpace(this,s),this}setStyle(e,n=mr){function i(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let s;if(s=/^(\w+)\(([^\)]*)\)/.exec(e)){let r;const o=s[1],a=s[2];switch(o){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,n);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,n);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=s[1],o=r.length;if(o===3)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(r,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=mr){const i=SK[e.toLowerCase()];return i!==void 0?this.setHex(i,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=zl(e.r),this.g=zl(e.g),this.b=zl(e.b),this}copyLinearToSRGB(e){return this.r=xp(e.r),this.g=xp(e.g),this.b=xp(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=mr){return nn.fromWorkingColorSpace(xs.copy(this),e),Math.round(It(xs.r*255,0,255))*65536+Math.round(It(xs.g*255,0,255))*256+Math.round(It(xs.b*255,0,255))}getHexString(e=mr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=nn.workingColorSpace){nn.fromWorkingColorSpace(xs.copy(this),n);const i=xs.r,s=xs.g,r=xs.b,o=Math.max(i,s,r),a=Math.min(i,s,r);let l,c;const d=(a+o)/2;if(a===o)l=0,c=0;else{const f=o-a;switch(c=d<=.5?f/(o+a):f/(2-o-a),o){case i:l=(s-r)/f+(s<r?6:0);break;case s:l=(r-i)/f+2;break;case r:l=(i-s)/f+4;break}l/=6}return e.h=l,e.s=c,e.l=d,e}getRGB(e,n=nn.workingColorSpace){return nn.fromWorkingColorSpace(xs.copy(this),n),e.r=xs.r,e.g=xs.g,e.b=xs.b,e}getStyle(e=mr){nn.fromWorkingColorSpace(xs.copy(this),e);const n=xs.r,i=xs.g,s=xs.b;return e!==mr?`color(${e} ${n.toFixed(3)} ${i.toFixed(3)} ${s.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(i*255)},${Math.round(s*255)})`}offsetHSL(e,n,i){return this.getHSL(Pc),this.setHSL(Pc.h+e,Pc.s+n,Pc.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,i){return this.r=e.r+(n.r-e.r)*i,this.g=e.g+(n.g-e.g)*i,this.b=e.b+(n.b-e.b)*i,this}lerpHSL(e,n){this.getHSL(Pc),e.getHSL(CC);const i=Fv(Pc.h,CC.h,n),s=Fv(Pc.s,CC.s,n),r=Fv(Pc.l,CC.l,n);return this.setHSL(i,s,r),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,i=this.g,s=this.b,r=e.elements;return this.r=r[0]*n+r[3]*i+r[6]*s,this.g=r[1]*n+r[4]*i+r[7]*s,this.b=r[2]*n+r[5]*i+r[8]*s,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const xs=new ut;ut.NAMES=SK;let O3e=0;class Ns extends Ka{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:O3e++}),this.uuid=Wr(),this.name="",this.type="Material",this.blending=Qd,this.side=Xl,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=eS,this.blendDst=tS,this.blendEquation=Gc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new ut(0,0,0),this.blendAlpha=0,this.depthFunc=ph,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=PD,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=md,this.stencilZFail=md,this.stencilZPass=md,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const i=e[n];if(i===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const s=this[n];if(s===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}s&&s.isColor?s.set(i):s&&s.isVector3&&i&&i.isVector3?s.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Qd&&(i.blending=this.blending),this.side!==Xl&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==eS&&(i.blendSrc=this.blendSrc),this.blendDst!==tS&&(i.blendDst=this.blendDst),this.blendEquation!==Gc&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==ph&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==PD&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==md&&(i.stencilFail=this.stencilFail),this.stencilZFail!==md&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==md&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function s(r){const o=[];for(const a in r){const l=r[a];delete l.metadata,o.push(l)}return o}if(n){const r=s(e.textures),o=s(e.images);r.length>0&&(i.textures=r),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let i=null;if(n!==null){const s=n.length;i=new Array(s);for(let r=0;r!==s;++r)i[r]=n[r].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class Su extends Ns{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ut(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Kr,this.combine=C0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Al=L3e();function L3e(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),i=new Uint32Array(512),s=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,s[l]=24,s[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,s[l]=-c-1,s[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,s[l]=13,s[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,s[l]=24,s[l|256]=24):(i[l]=31744,i[l|256]=64512,s[l]=13,s[l|256]=13)}const r=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,d=0;for(;(c&8388608)===0;)c<<=1,d-=8388608;c&=-8388609,d+=947912704,r[l]=c|d}for(let l=1024;l<2048;++l)r[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:i,shiftTable:s,mantissaTable:r,exponentTable:o,offsetTable:a}}function pr(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=It(t,-65504,65504),Al.floatView[0]=t;const e=Al.uint32View[0],n=e>>23&511;return Al.baseTable[n]+((e&8388607)>>Al.shiftTable[n])}function nv(t){const e=t>>10;return Al.uint32View[0]=Al.mantissaTable[Al.offsetTable[e]+(t&1023)]+Al.exponentTable[e],Al.floatView[0]}class k3e{static toHalfFloat(e){return pr(e)}static fromHalfFloat(e){return nv(e)}}const Si=new Y,wC=new ze;let B3e=0;class An{constructor(e,n,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:B3e++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=i,this.usage=by,this.updateRanges=[],this.gpuType=Cr,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,i){e*=this.itemSize,i*=n.itemSize;for(let s=0,r=this.itemSize;s<r;s++)this.array[e+s]=n.array[i+s];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)wC.fromBufferAttribute(this,n),wC.applyMatrix3(e),this.setXY(n,wC.x,wC.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)Si.fromBufferAttribute(this,n),Si.applyMatrix3(e),this.setXYZ(n,Si.x,Si.y,Si.z);return this}applyMatrix4(e){for(let n=0,i=this.count;n<i;n++)Si.fromBufferAttribute(this,n),Si.applyMatrix4(e),this.setXYZ(n,Si.x,Si.y,Si.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)Si.fromBufferAttribute(this,n),Si.applyNormalMatrix(e),this.setXYZ(n,Si.x,Si.y,Si.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)Si.fromBufferAttribute(this,n),Si.transformDirection(e),this.setXYZ(n,Si.x,Si.y,Si.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let i=this.array[e*this.itemSize+n];return this.normalized&&(i=qs(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=Lt(i,this.array)),this.array[e*this.itemSize+n]=i,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=qs(n,this.array)),n}setX(e,n){return this.normalized&&(n=Lt(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=qs(n,this.array)),n}setY(e,n){return this.normalized&&(n=Lt(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=qs(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Lt(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=qs(n,this.array)),n}setW(e,n){return this.normalized&&(n=Lt(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=Lt(n,this.array),i=Lt(i,this.array)),this.array[e+0]=n,this.array[e+1]=i,this}setXYZ(e,n,i,s){return e*=this.itemSize,this.normalized&&(n=Lt(n,this.array),i=Lt(i,this.array),s=Lt(s,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=s,this}setXYZW(e,n,i,s,r){return e*=this.itemSize,this.normalized&&(n=Lt(n,this.array),i=Lt(i,this.array),s=Lt(s,this.array),r=Lt(r,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=s,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==by&&(e.usage=this.usage),e}}class H3e extends An{constructor(e,n,i){super(new Int8Array(e),n,i)}}class V3e extends An{constructor(e,n,i){super(new Uint8Array(e),n,i)}}class z3e extends An{constructor(e,n,i){super(new Uint8ClampedArray(e),n,i)}}class G3e extends An{constructor(e,n,i){super(new Int16Array(e),n,i)}}class eI extends An{constructor(e,n,i){super(new Uint16Array(e),n,i)}}class U3e extends An{constructor(e,n,i){super(new Int32Array(e),n,i)}}class tI extends An{constructor(e,n,i){super(new Uint32Array(e),n,i)}}class j3e extends An{constructor(e,n,i){super(new Uint16Array(e),n,i),this.isFloat16BufferAttribute=!0}getX(e){let n=nv(this.array[e*this.itemSize]);return this.normalized&&(n=qs(n,this.array)),n}setX(e,n){return this.normalized&&(n=Lt(n,this.array)),this.array[e*this.itemSize]=pr(n),this}getY(e){let n=nv(this.array[e*this.itemSize+1]);return this.normalized&&(n=qs(n,this.array)),n}setY(e,n){return this.normalized&&(n=Lt(n,this.array)),this.array[e*this.itemSize+1]=pr(n),this}getZ(e){let n=nv(this.array[e*this.itemSize+2]);return this.normalized&&(n=qs(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Lt(n,this.array)),this.array[e*this.itemSize+2]=pr(n),this}getW(e){let n=nv(this.array[e*this.itemSize+3]);return this.normalized&&(n=qs(n,this.array)),n}setW(e,n){return this.normalized&&(n=Lt(n,this.array)),this.array[e*this.itemSize+3]=pr(n),this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=Lt(n,this.array),i=Lt(i,this.array)),this.array[e+0]=pr(n),this.array[e+1]=pr(i),this}setXYZ(e,n,i,s){return e*=this.itemSize,this.normalized&&(n=Lt(n,this.array),i=Lt(i,this.array),s=Lt(s,this.array)),this.array[e+0]=pr(n),this.array[e+1]=pr(i),this.array[e+2]=pr(s),this}setXYZW(e,n,i,s,r){return e*=this.itemSize,this.normalized&&(n=Lt(n,this.array),i=Lt(i,this.array),s=Lt(s,this.array),r=Lt(r,this.array)),this.array[e+0]=pr(n),this.array[e+1]=pr(i),this.array[e+2]=pr(s),this.array[e+3]=pr(r),this}}class mt extends An{constructor(e,n,i){super(new Float32Array(e),n,i)}}let W3e=0;const fo=new Tt,GA=new an,If=new Y,Ir=new Qs,Og=new Qs,Wi=new Y;class zt extends Ka{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:W3e++}),this.uuid=Wr(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(CK(e)?tI:eI)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,i=0){this.groups.push({start:e,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const r=new Ot().getNormalMatrix(e);i.applyNormalMatrix(r),i.needsUpdate=!0}const s=this.attributes.tangent;return s!==void 0&&(s.transformDirection(e),s.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return fo.makeRotationFromQuaternion(e),this.applyMatrix4(fo),this}rotateX(e){return fo.makeRotationX(e),this.applyMatrix4(fo),this}rotateY(e){return fo.makeRotationY(e),this.applyMatrix4(fo),this}rotateZ(e){return fo.makeRotationZ(e),this.applyMatrix4(fo),this}translate(e,n,i){return fo.makeTranslation(e,n,i),this.applyMatrix4(fo),this}scale(e,n,i){return fo.makeScale(e,n,i),this.applyMatrix4(fo),this}lookAt(e){return GA.lookAt(e),GA.updateMatrix(),this.applyMatrix4(GA.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(If).negate(),this.translate(If.x,If.y,If.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const i=[];for(let s=0,r=e.length;s<r;s++){const o=e[s];i.push(o.x,o.y,o.z||0)}this.setAttribute("position",new mt(i,3))}else{const i=Math.min(e.length,n.count);for(let s=0;s<i;s++){const r=e[s];n.setXYZ(s,r.x,r.y,r.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Qs);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Y(-1/0,-1/0,-1/0),new Y(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let i=0,s=n.length;i<s;i++){const r=n[i];Ir.setFromBufferAttribute(r),this.morphTargetsRelative?(Wi.addVectors(this.boundingBox.min,Ir.min),this.boundingBox.expandByPoint(Wi),Wi.addVectors(this.boundingBox.max,Ir.max),this.boundingBox.expandByPoint(Wi)):(this.boundingBox.expandByPoint(Ir.min),this.boundingBox.expandByPoint(Ir.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ps);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Y,1/0);return}if(e){const i=this.boundingSphere.center;if(Ir.setFromBufferAttribute(e),n)for(let r=0,o=n.length;r<o;r++){const a=n[r];Og.setFromBufferAttribute(a),this.morphTargetsRelative?(Wi.addVectors(Ir.min,Og.min),Ir.expandByPoint(Wi),Wi.addVectors(Ir.max,Og.max),Ir.expandByPoint(Wi)):(Ir.expandByPoint(Og.min),Ir.expandByPoint(Og.max))}Ir.getCenter(i);let s=0;for(let r=0,o=e.count;r<o;r++)Wi.fromBufferAttribute(e,r),s=Math.max(s,i.distanceToSquared(Wi));if(n)for(let r=0,o=n.length;r<o;r++){const a=n[r],l=this.morphTargetsRelative;for(let c=0,d=a.count;c<d;c++)Wi.fromBufferAttribute(a,c),l&&(If.fromBufferAttribute(e,c),Wi.add(If)),s=Math.max(s,i.distanceToSquared(Wi))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=n.position,s=n.normal,r=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new An(new Float32Array(4*i.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let I=0;I<i.count;I++)a[I]=new Y,l[I]=new Y;const c=new Y,d=new Y,f=new Y,p=new ze,m=new ze,y=new ze,C=new Y,x=new Y;function w(I,_,A){c.fromBufferAttribute(i,I),d.fromBufferAttribute(i,_),f.fromBufferAttribute(i,A),p.fromBufferAttribute(r,I),m.fromBufferAttribute(r,_),y.fromBufferAttribute(r,A),d.sub(c),f.sub(c),m.sub(p),y.sub(p);const O=1/(m.x*y.y-y.x*m.y);isFinite(O)&&(C.copy(d).multiplyScalar(y.y).addScaledVector(f,-m.y).multiplyScalar(O),x.copy(f).multiplyScalar(m.x).addScaledVector(d,-y.x).multiplyScalar(O),a[I].add(C),a[_].add(C),a[A].add(C),l[I].add(x),l[_].add(x),l[A].add(x))}let M=this.groups;M.length===0&&(M=[{start:0,count:e.count}]);for(let I=0,_=M.length;I<_;++I){const A=M[I],O=A.start,k=A.count;for(let z=O,W=O+k;z<W;z+=3)w(e.getX(z+0),e.getX(z+1),e.getX(z+2))}const S=new Y,R=new Y,P=new Y,F=new Y;function N(I){P.fromBufferAttribute(s,I),F.copy(P);const _=a[I];S.copy(_),S.sub(P.multiplyScalar(P.dot(_))).normalize(),R.crossVectors(F,_);const O=R.dot(l[I])<0?-1:1;o.setXYZW(I,S.x,S.y,S.z,O)}for(let I=0,_=M.length;I<_;++I){const A=M[I],O=A.start,k=A.count;for(let z=O,W=O+k;z<W;z+=3)N(e.getX(z+0)),N(e.getX(z+1)),N(e.getX(z+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new An(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let p=0,m=i.count;p<m;p++)i.setXYZ(p,0,0,0);const s=new Y,r=new Y,o=new Y,a=new Y,l=new Y,c=new Y,d=new Y,f=new Y;if(e)for(let p=0,m=e.count;p<m;p+=3){const y=e.getX(p+0),C=e.getX(p+1),x=e.getX(p+2);s.fromBufferAttribute(n,y),r.fromBufferAttribute(n,C),o.fromBufferAttribute(n,x),d.subVectors(o,r),f.subVectors(s,r),d.cross(f),a.fromBufferAttribute(i,y),l.fromBufferAttribute(i,C),c.fromBufferAttribute(i,x),a.add(d),l.add(d),c.add(d),i.setXYZ(y,a.x,a.y,a.z),i.setXYZ(C,l.x,l.y,l.z),i.setXYZ(x,c.x,c.y,c.z)}else for(let p=0,m=n.count;p<m;p+=3)s.fromBufferAttribute(n,p+0),r.fromBufferAttribute(n,p+1),o.fromBufferAttribute(n,p+2),d.subVectors(o,r),f.subVectors(s,r),d.cross(f),i.setXYZ(p+0,d.x,d.y,d.z),i.setXYZ(p+1,d.x,d.y,d.z),i.setXYZ(p+2,d.x,d.y,d.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,i=e.count;n<i;n++)Wi.fromBufferAttribute(e,n),Wi.normalize(),e.setXYZ(n,Wi.x,Wi.y,Wi.z)}toNonIndexed(){function e(a,l){const c=a.array,d=a.itemSize,f=a.normalized,p=new c.constructor(l.length*d);let m=0,y=0;for(let C=0,x=l.length;C<x;C++){a.isInterleavedBufferAttribute?m=l[C]*a.data.stride+a.offset:m=l[C]*d;for(let w=0;w<d;w++)p[y++]=c[m++]}return new An(p,d,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new zt,i=this.index.array,s=this.attributes;for(const a in s){const l=s[a],c=e(l,i);n.setAttribute(a,c)}const r=this.morphAttributes;for(const a in r){const l=[],c=r[a];for(let d=0,f=c.length;d<f;d++){const p=c[d],m=e(p,i);l.push(m)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const s={};let r=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],d=[];for(let f=0,p=c.length;f<p;f++){const m=c[f];d.push(m.toJSON(e.data))}d.length>0&&(s[l]=d,r=!0)}r&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(n));const s=e.attributes;for(const c in s){const d=s[c];this.setAttribute(c,d.clone(n))}const r=e.morphAttributes;for(const c in r){const d=[],f=r[c];for(let p=0,m=f.length;p<m;p++)d.push(f[p].clone(n));this.morphAttributes[c]=d}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,d=o.length;c<d;c++){const f=o[c];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const QV=new Tt,Xu=new dm,bC=new Ps,ez=new Y,SC=new Y,EC=new Y,MC=new Y,UA=new Y,TC=new Y,tz=new Y,RC=new Y;class Ri extends an{constructor(e=new zt,n=new Su){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const s=n[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=s.length;r<o;r++){const a=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}getVertexPosition(e,n){const i=this.geometry,s=i.attributes.position,r=i.morphAttributes.position,o=i.morphTargetsRelative;n.fromBufferAttribute(s,e);const a=this.morphTargetInfluences;if(r&&a){TC.set(0,0,0);for(let l=0,c=r.length;l<c;l++){const d=a[l],f=r[l];d!==0&&(UA.fromBufferAttribute(f,e),o?TC.addScaledVector(UA,d):TC.addScaledVector(UA.sub(n),d))}n.add(TC)}return n}raycast(e,n){const i=this.geometry,s=this.material,r=this.matrixWorld;s!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),bC.copy(i.boundingSphere),bC.applyMatrix4(r),Xu.copy(e.ray).recast(e.near),!(bC.containsPoint(Xu.origin)===!1&&(Xu.intersectSphere(bC,ez)===null||Xu.origin.distanceToSquared(ez)>(e.far-e.near)**2))&&(QV.copy(r).invert(),Xu.copy(e.ray).applyMatrix4(QV),!(i.boundingBox!==null&&Xu.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,n,Xu)))}_computeIntersections(e,n,i){let s;const r=this.geometry,o=this.material,a=r.index,l=r.attributes.position,c=r.attributes.uv,d=r.attributes.uv1,f=r.attributes.normal,p=r.groups,m=r.drawRange;if(a!==null)if(Array.isArray(o))for(let y=0,C=p.length;y<C;y++){const x=p[y],w=o[x.materialIndex],M=Math.max(x.start,m.start),S=Math.min(a.count,Math.min(x.start+x.count,m.start+m.count));for(let R=M,P=S;R<P;R+=3){const F=a.getX(R),N=a.getX(R+1),I=a.getX(R+2);s=AC(this,w,e,i,c,d,f,F,N,I),s&&(s.faceIndex=Math.floor(R/3),s.face.materialIndex=x.materialIndex,n.push(s))}}else{const y=Math.max(0,m.start),C=Math.min(a.count,m.start+m.count);for(let x=y,w=C;x<w;x+=3){const M=a.getX(x),S=a.getX(x+1),R=a.getX(x+2);s=AC(this,o,e,i,c,d,f,M,S,R),s&&(s.faceIndex=Math.floor(x/3),n.push(s))}}else if(l!==void 0)if(Array.isArray(o))for(let y=0,C=p.length;y<C;y++){const x=p[y],w=o[x.materialIndex],M=Math.max(x.start,m.start),S=Math.min(l.count,Math.min(x.start+x.count,m.start+m.count));for(let R=M,P=S;R<P;R+=3){const F=R,N=R+1,I=R+2;s=AC(this,w,e,i,c,d,f,F,N,I),s&&(s.faceIndex=Math.floor(R/3),s.face.materialIndex=x.materialIndex,n.push(s))}}else{const y=Math.max(0,m.start),C=Math.min(l.count,m.start+m.count);for(let x=y,w=C;x<w;x+=3){const M=x,S=x+1,R=x+2;s=AC(this,o,e,i,c,d,f,M,S,R),s&&(s.faceIndex=Math.floor(x/3),n.push(s))}}}}function $3e(t,e,n,i,s,r,o,a){let l;if(e.side===Js?l=i.intersectTriangle(o,r,s,!0,a):l=i.intersectTriangle(s,r,o,e.side===Xl,a),l===null)return null;RC.copy(a),RC.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(RC);return c<n.near||c>n.far?null:{distance:c,point:RC.clone(),object:t}}function AC(t,e,n,i,s,r,o,a,l,c){t.getVertexPosition(a,SC),t.getVertexPosition(l,EC),t.getVertexPosition(c,MC);const d=$3e(t,e,n,i,SC,EC,MC,tz);if(d){const f=new Y;gr.getBarycoord(tz,SC,EC,MC,f),s&&(d.uv=gr.getInterpolatedAttribute(s,a,l,c,f,new ze)),r&&(d.uv1=gr.getInterpolatedAttribute(r,a,l,c,f,new ze)),o&&(d.normal=gr.getInterpolatedAttribute(o,a,l,c,f,new Y),d.normal.dot(i.direction)>0&&d.normal.multiplyScalar(-1));const p={a,b:l,c,normal:new Y,materialIndex:0};gr.getNormal(SC,EC,MC,p.normal),d.face=p,d.barycoord=f}return d}class _h extends zt{constructor(e=1,n=1,i=1,s=1,r=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:s,heightSegments:r,depthSegments:o};const a=this;s=Math.floor(s),r=Math.floor(r),o=Math.floor(o);const l=[],c=[],d=[],f=[];let p=0,m=0;y("z","y","x",-1,-1,i,n,e,o,r,0),y("z","y","x",1,-1,i,n,-e,o,r,1),y("x","z","y",1,1,e,i,n,s,o,2),y("x","z","y",1,-1,e,i,-n,s,o,3),y("x","y","z",1,-1,e,n,i,s,r,4),y("x","y","z",-1,-1,e,n,-i,s,r,5),this.setIndex(l),this.setAttribute("position",new mt(c,3)),this.setAttribute("normal",new mt(d,3)),this.setAttribute("uv",new mt(f,2));function y(C,x,w,M,S,R,P,F,N,I,_){const A=R/N,O=P/I,k=R/2,z=P/2,W=F/2,K=N+1,V=I+1;let Q=0,q=0;const X=new Y;for(let H=0;H<V;H++){const ee=H*O-z;for(let ge=0;ge<K;ge++){const Se=ge*A-k;X[C]=Se*M,X[x]=ee*S,X[w]=W,c.push(X.x,X.y,X.z),X[C]=0,X[x]=0,X[w]=F>0?1:-1,d.push(X.x,X.y,X.z),f.push(ge/N),f.push(1-H/I),Q+=1}}for(let H=0;H<I;H++)for(let ee=0;ee<N;ee++){const ge=p+ee+K*H,Se=p+ee+K*(H+1),Z=p+(ee+1)+K*(H+1),ae=p+(ee+1)+K*H;l.push(ge,Se,ae),l.push(Se,Z,ae),q+=6}a.addGroup(m,q,_),m+=q,p+=Q}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _h(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Gp(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const s=t[n][i];s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture||s.isQuaternion)?s.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][i]=null):e[n][i]=s.clone():Array.isArray(s)?e[n][i]=s.slice():e[n][i]=s}}return e}function Us(t){const e={};for(let n=0;n<t.length;n++){const i=Gp(t[n]);for(const s in i)e[s]=i[s]}return e}function q3e(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function EK(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:nn.workingColorSpace}const MK={clone:Gp,merge:Us};var K3e=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Y3e=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ia extends Ns{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=K3e,this.fragmentShader=Y3e,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Gp(e.uniforms),this.uniformsGroups=q3e(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const s in this.uniforms){const o=this.uniforms[s].value;o&&o.isTexture?n.uniforms[s]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[s]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[s]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[s]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[s]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[s]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[s]={type:"m4",value:o.toArray()}:n.uniforms[s]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const i={};for(const s in this.extensions)this.extensions[s]===!0&&(i[s]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}class cE extends an{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Tt,this.projectionMatrix=new Tt,this.projectionMatrixInverse=new Tt,this.coordinateSystem=Ko}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Dc=new Y,nz=new ze,iz=new ze;class us extends cE{constructor(e=50,n=1,i=.1,s=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=s,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=zp*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(th*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return zp*2*Math.atan(Math.tan(th*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,i){Dc.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Dc.x,Dc.y).multiplyScalar(-e/Dc.z),Dc.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Dc.x,Dc.y).multiplyScalar(-e/Dc.z)}getViewSize(e,n){return this.getViewBounds(e,nz,iz),n.subVectors(iz,nz)}setViewOffset(e,n,i,s,r,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=s,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(th*.5*this.fov)/this.zoom,i=2*n,s=this.aspect*i,r=-.5*s;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;r+=o.offsetX*s/l,n-=o.offsetY*i/c,s*=o.width/l,i*=o.height/c}const a=this.filmOffset;a!==0&&(r+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+s,n,n-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Of=-90,Lf=1;class TK extends an{constructor(e,n,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const s=new us(Of,Lf,e,n);s.layers=this.layers,this.add(s);const r=new us(Of,Lf,e,n);r.layers=this.layers,this.add(r);const o=new us(Of,Lf,e,n);o.layers=this.layers,this.add(o);const a=new us(Of,Lf,e,n);a.layers=this.layers,this.add(a);const l=new us(Of,Lf,e,n);l.layers=this.layers,this.add(l);const c=new us(Of,Lf,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[i,s,r,o,a,l]=n;for(const c of n)this.remove(c);if(e===Ko)i.up.set(0,1,0),i.lookAt(1,0,0),s.up.set(0,1,0),s.lookAt(-1,0,0),r.up.set(0,0,-1),r.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Sy)i.up.set(0,-1,0),i.lookAt(-1,0,0),s.up.set(0,-1,0),s.lookAt(1,0,0),r.up.set(0,0,1),r.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:s}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,o,a,l,c,d]=this.children,f=e.getRenderTarget(),p=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),y=e.xr.enabled;e.xr.enabled=!1;const C=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,s),e.render(n,r),e.setRenderTarget(i,1,s),e.render(n,o),e.setRenderTarget(i,2,s),e.render(n,a),e.setRenderTarget(i,3,s),e.render(n,l),e.setRenderTarget(i,4,s),e.render(n,c),i.texture.generateMipmaps=C,e.setRenderTarget(i,5,s),e.render(n,d),e.setRenderTarget(f,p,m),e.xr.enabled=y,i.texture.needsPMREMUpdate=!0}}class S0 extends hi{constructor(e,n,i,s,r,o,a,l,c,d){e=e!==void 0?e:[],n=n!==void 0?n:Zl,super(e,n,i,s,r,o,a,l,c,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class RK extends Ga{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},s=[i,i,i,i,i,i];this.texture=new S0(s,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Li}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},s=new _h(5,5,5),r=new ia({name:"CubemapFromEquirect",uniforms:Gp(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Js,blending:Hl});r.uniforms.tEquirect.value=n;const o=new Ri(s,r),a=n.minFilter;return n.minFilter===Pa&&(n.minFilter=Li),new TK(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,i,s){const r=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,i,s);e.setRenderTarget(r)}}class rp extends an{constructor(){super(),this.isGroup=!0,this.type="Group"}}const X3e={type:"move"};class Gw{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new rp,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new rp,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Y,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Y),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new rp,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Y,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Y),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const i of e.hand.values())this._getHandJoint(n,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,i){let s=null,r=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const C of e.hand.values()){const x=n.getJointPose(C,i),w=this._getHandJoint(c,C);x!==null&&(w.matrix.fromArray(x.transform.matrix),w.matrix.decompose(w.position,w.rotation,w.scale),w.matrixWorldNeedsUpdate=!0,w.jointRadius=x.radius),w.visible=x!==null}const d=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],p=d.position.distanceTo(f.position),m=.02,y=.005;c.inputState.pinching&&p>m+y?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=m-y&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(r=n.getPose(e.gripSpace,i),r!==null&&(l.matrix.fromArray(r.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,r.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(r.linearVelocity)):l.hasLinearVelocity=!1,r.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(r.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(s=n.getPose(e.targetRaySpace,i),s===null&&r!==null&&(s=r),s!==null&&(a.matrix.fromArray(s.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,s.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(s.linearVelocity)):a.hasLinearVelocity=!1,s.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(s.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(X3e)))}return a!==null&&(a.visible=s!==null),l!==null&&(l.visible=r!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const i=new rp;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[n.jointName]=i,e.add(i)}return e.joints[n.jointName]}}class uE{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new ut(e),this.density=n}clone(){return new uE(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class dE{constructor(e,n=1,i=1e3){this.isFog=!0,this.name="",this.color=new ut(e),this.near=n,this.far=i}clone(){return new dE(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class AK extends an{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Kr,this.environmentIntensity=1,this.environmentRotation=new Kr,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class hE{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=by,this.updateRanges=[],this.version=0,this.uuid=Wr()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,i){e*=this.stride,i*=n.stride;for(let s=0,r=this.stride;s<r;s++)this.array[e+s]=n.array[i+s];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Wr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(n,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Wr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Gs=new Y;class yh{constructor(e,n,i,s=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=i,this.normalized=s}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,i=this.data.count;n<i;n++)Gs.fromBufferAttribute(this,n),Gs.applyMatrix4(e),this.setXYZ(n,Gs.x,Gs.y,Gs.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)Gs.fromBufferAttribute(this,n),Gs.applyNormalMatrix(e),this.setXYZ(n,Gs.x,Gs.y,Gs.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)Gs.fromBufferAttribute(this,n),Gs.transformDirection(e),this.setXYZ(n,Gs.x,Gs.y,Gs.z);return this}getComponent(e,n){let i=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(i=qs(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=Lt(i,this.array)),this.data.array[e*this.data.stride+this.offset+n]=i,this}setX(e,n){return this.normalized&&(n=Lt(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Lt(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Lt(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Lt(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=qs(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=qs(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=qs(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=qs(n,this.array)),n}setXY(e,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Lt(n,this.array),i=Lt(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this}setXYZ(e,n,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=Lt(n,this.array),i=Lt(i,this.array),s=Lt(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=s,this}setXYZW(e,n,i,s,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Lt(n,this.array),i=Lt(i,this.array),s=Lt(s,this.array),r=Lt(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=s,this.data.array[e+3]=r,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)n.push(this.data.array[s+r])}return new An(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new yh(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)n.push(this.data.array[s+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class nI extends Ns{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ut(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let kf;const Lg=new Y,Bf=new Y,Hf=new Y,Vf=new ze,kg=new ze,PK=new Tt,PC=new Y,Bg=new Y,DC=new Y,sz=new ze,jA=new ze,rz=new ze;class DK extends an{constructor(e=new nI){if(super(),this.isSprite=!0,this.type="Sprite",kf===void 0){kf=new zt;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new hE(n,5);kf.setIndex([0,1,2,0,2,3]),kf.setAttribute("position",new yh(i,3,0,!1)),kf.setAttribute("uv",new yh(i,2,3,!1))}this.geometry=kf,this.material=e,this.center=new ze(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Bf.setFromMatrixScale(this.matrixWorld),PK.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Hf.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Bf.multiplyScalar(-Hf.z);const i=this.material.rotation;let s,r;i!==0&&(r=Math.cos(i),s=Math.sin(i));const o=this.center;_C(PC.set(-.5,-.5,0),Hf,o,Bf,s,r),_C(Bg.set(.5,-.5,0),Hf,o,Bf,s,r),_C(DC.set(.5,.5,0),Hf,o,Bf,s,r),sz.set(0,0),jA.set(1,0),rz.set(1,1);let a=e.ray.intersectTriangle(PC,Bg,DC,!1,Lg);if(a===null&&(_C(Bg.set(-.5,.5,0),Hf,o,Bf,s,r),jA.set(0,1),a=e.ray.intersectTriangle(PC,DC,Bg,!1,Lg),a===null))return;const l=e.ray.origin.distanceTo(Lg);l<e.near||l>e.far||n.push({distance:l,point:Lg.clone(),uv:gr.getInterpolation(Lg,PC,Bg,DC,sz,jA,rz,new ze),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function _C(t,e,n,i,s,r){Vf.subVectors(t,n).addScalar(.5).multiply(i),s!==void 0?(kg.x=r*Vf.x-s*Vf.y,kg.y=s*Vf.x+r*Vf.y):kg.copy(Vf),t.copy(e),t.x+=kg.x,t.y+=kg.y,t.applyMatrix4(PK)}const FC=new Y,oz=new Y;class _K extends an{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let i=0,s=n.length;i<s;i++){const r=n[i];this.addLevel(r.object.clone(),r.distance,r.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,i=0){n=Math.abs(n);const s=this.levels;let r;for(r=0;r<s.length&&!(n<s[r].distance);r++);return s.splice(r,0,{distance:n,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let i=0;i<n.length;i++)if(n[i].distance===e){const s=n.splice(i,1);return this.remove(s[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let i,s;for(i=1,s=n.length;i<s;i++){let r=n[i].distance;if(n[i].object.visible&&(r-=r*n[i].hysteresis),e<r)break}return n[i-1].object}return null}raycast(e,n){if(this.levels.length>0){FC.setFromMatrixPosition(this.matrixWorld);const s=e.ray.origin.distanceTo(FC);this.getObjectForDistance(s).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){FC.setFromMatrixPosition(e.matrixWorld),oz.setFromMatrixPosition(this.matrixWorld);const i=FC.distanceTo(oz)/e.zoom;n[0].object.visible=!0;let s,r;for(s=1,r=n.length;s<r;s++){let o=n[s].distance;if(n[s].object.visible&&(o-=o*n[s].hysteresis),i>=o)n[s-1].object.visible=!1,n[s].object.visible=!0;else break}for(this._currentLevel=s-1;s<r;s++)n[s].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const i=this.levels;for(let s=0,r=i.length;s<r;s++){const o=i[s];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const az=new Y,lz=new rn,cz=new rn,Z3e=new Y,uz=new Tt,NC=new Y,WA=new Ps,dz=new Tt,$A=new dm;class FK extends Ri{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=AD,this.bindMatrix=new Tt,this.bindMatrixInverse=new Tt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Qs),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,NC),this.boundingBox.expandByPoint(NC)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ps),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,NC),this.boundingSphere.expandByPoint(NC)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const i=this.material,s=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),WA.copy(this.boundingSphere),WA.applyMatrix4(s),e.ray.intersectsSphere(WA)!==!1&&(dz.copy(s).invert(),$A.copy(e.ray).applyMatrix4(dz),!(this.boundingBox!==null&&$A.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,$A)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new rn,n=this.geometry.attributes.skinWeight;for(let i=0,s=n.count;i<s;i++){e.fromBufferAttribute(n,i);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),n.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===AD?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===oK?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const i=this.skeleton,s=this.geometry;lz.fromBufferAttribute(s.attributes.skinIndex,e),cz.fromBufferAttribute(s.attributes.skinWeight,e),az.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let r=0;r<4;r++){const o=cz.getComponent(r);if(o!==0){const a=lz.getComponent(r);uz.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),n.addScaledVector(Z3e.copy(az).applyMatrix4(uz),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class iI extends an{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Oa extends hi{constructor(e=null,n=1,i=1,s,r,o,a,l,c=hs,d=hs,f,p){super(null,o,a,l,c,d,s,r,f,p),this.isDataTexture=!0,this.image={data:e,width:n,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const hz=new Tt,J3e=new Tt;class fE{constructor(e=[],n=[]){this.uuid=Wr(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,s=this.bones.length;i<s;i++)this.boneInverses.push(new Tt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const i=new Tt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,n=this.boneInverses,i=this.boneMatrices,s=this.boneTexture;for(let r=0,o=e.length;r<o;r++){const a=e[r]?e[r].matrixWorld:J3e;hz.multiplyMatrices(a,n[r]),hz.toArray(i,r*16)}s!==null&&(s.needsUpdate=!0)}clone(){return new fE(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const i=new Oa(n,e,e,Xs,Cr);return i.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=i,this}getBoneByName(e){for(let n=0,i=this.bones.length;n<i;n++){const s=this.bones[n];if(s.name===e)return s}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let i=0,s=e.bones.length;i<s;i++){const r=e.bones[i];let o=n[r];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),o=new iI),this.bones.push(o),this.boneInverses.push(new Tt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,i=this.boneInverses;for(let s=0,r=n.length;s<r;s++){const o=n[s];e.bones.push(o.uuid);const a=i[s];e.boneInverses.push(a.toArray())}return e}}class Up extends An{constructor(e,n,i,s=1){super(e,n,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=s}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const zf=new Tt,fz=new Tt,IC=[],pz=new Qs,Q3e=new Tt,Hg=new Ri,Vg=new Ps;class NK extends Ri{constructor(e,n,i){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Up(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let s=0;s<i;s++)this.setMatrixAt(s,Q3e)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Qs),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,zf),pz.copy(e.boundingBox).applyMatrix4(zf),this.boundingBox.union(pz)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ps),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,zf),Vg.copy(e.boundingSphere).applyMatrix4(zf),this.boundingSphere.union(Vg)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const i=n.morphTargetInfluences,s=this.morphTexture.source.data.data,r=i.length+1,o=e*r+1;for(let a=0;a<i.length;a++)i[a]=s[o+a]}raycast(e,n){const i=this.matrixWorld,s=this.count;if(Hg.geometry=this.geometry,Hg.material=this.material,Hg.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Vg.copy(this.boundingSphere),Vg.applyMatrix4(i),e.ray.intersectsSphere(Vg)!==!1))for(let r=0;r<s;r++){this.getMatrixAt(r,zf),fz.multiplyMatrices(i,zf),Hg.matrixWorld=fz,Hg.raycast(e,IC);for(let o=0,a=IC.length;o<a;o++){const l=IC[o];l.instanceId=r,l.object=this,n.push(l)}IC.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Up(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const i=n.morphTargetInfluences,s=i.length+1;this.morphTexture===null&&(this.morphTexture=new Oa(new Float32Array(s*this.count),s,this.count,nE,Cr));const r=this.morphTexture.source.data.data;let o=0;for(let c=0;c<i.length;c++)o+=i[c];const a=this.geometry.morphTargetsRelative?1:1-o,l=s*e;r[l]=a,r.set(i,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const qA=new Y,e5e=new Y,t5e=new Ot;class Bc{constructor(e=new Y(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,s){return this.normal.set(e,n,i),this.constant=s,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const s=qA.subVectors(i,n).cross(e5e.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(s,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const i=e.delta(qA),s=this.normal.dot(i);if(s===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const r=-(e.start.dot(this.normal)+this.constant)/s;return r<0||r>1?null:n.copy(e.start).addScaledVector(i,r)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||t5e.getNormalMatrix(e),s=this.coplanarPoint(qA).applyMatrix4(e),r=this.normal.applyMatrix3(i).normalize();return this.constant=-s.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Zu=new Ps,OC=new Y;class E0{constructor(e=new Bc,n=new Bc,i=new Bc,s=new Bc,r=new Bc,o=new Bc){this.planes=[e,n,i,s,r,o]}set(e,n,i,s,r,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(i),a[3].copy(s),a[4].copy(r),a[5].copy(o),this}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,n=Ko){const i=this.planes,s=e.elements,r=s[0],o=s[1],a=s[2],l=s[3],c=s[4],d=s[5],f=s[6],p=s[7],m=s[8],y=s[9],C=s[10],x=s[11],w=s[12],M=s[13],S=s[14],R=s[15];if(i[0].setComponents(l-r,p-c,x-m,R-w).normalize(),i[1].setComponents(l+r,p+c,x+m,R+w).normalize(),i[2].setComponents(l+o,p+d,x+y,R+M).normalize(),i[3].setComponents(l-o,p-d,x-y,R-M).normalize(),i[4].setComponents(l-a,p-f,x-C,R-S).normalize(),n===Ko)i[5].setComponents(l+a,p+f,x+C,R+S).normalize();else if(n===Sy)i[5].setComponents(a,f,C,S).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Zu.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Zu.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Zu)}intersectsSprite(e){return Zu.center.set(0,0,0),Zu.radius=.7071067811865476,Zu.applyMatrix4(e.matrixWorld),this.intersectsSphere(Zu)}intersectsSphere(e){const n=this.planes,i=e.center,s=-e.radius;for(let r=0;r<6;r++)if(n[r].distanceToPoint(i)<s)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const s=n[i];if(OC.x=s.normal.x>0?e.max.x:e.min.x,OC.y=s.normal.y>0?e.max.y:e.min.y,OC.z=s.normal.z>0?e.max.z:e.min.z,s.distanceToPoint(OC)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function KA(t,e){return t-e}function n5e(t,e){return t.z-e.z}function i5e(t,e){return e.z-t.z}class s5e{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,i,s){const r=this.pool,o=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1,index:-1});const a=r[this.index];o.push(a),this.index++,a.start=e,a.count=n,a.z=i,a.index=s}reset(){this.list.length=0,this.index=0}}const fr=new Tt,r5e=new ut(1,1,1),YA=new E0,LC=new Qs,Ju=new Ps,zg=new Y,mz=new Y,o5e=new Y,XA=new s5e,Cs=new Ri,kC=[];function a5e(t,e,n=0){const i=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const s=t.count;for(let r=0;r<s;r++)for(let o=0;o<i;o++)e.setComponent(r+n,o,t.getComponent(r,o))}else e.array.set(t.array,n*i);e.needsUpdate=!0}function Qu(t,e){if(t.constructor!==e.constructor){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++)e[i]=t[i]}else{const n=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,n))}}class IK extends Ri{constructor(e,n,i=n*2,s){super(new zt,s),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),i=new Oa(n,e,e,Xs,Cr);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),i=new Oa(n,e,e,w0,Jl);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),i=new Oa(n,e,e,Xs,Cr);i.colorSpace=nn.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const n=this.geometry,i=this._maxVertexCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const r in e.attributes){const o=e.getAttribute(r),{array:a,itemSize:l,normalized:c}=o,d=new a.constructor(i*l),f=new An(d,l,c);n.setAttribute(r,f)}if(e.getIndex()!==null){const r=i>65535?new Uint32Array(s):new Uint16Array(s);n.setIndex(new An(r,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in n.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const s=e.getAttribute(i),r=n.getAttribute(i);if(s.itemSize!==r.itemSize||s.normalized!==r.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const n=this._instanceInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const n=this._geometryInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Qs);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let i=0,s=n.length;i<s;i++){if(n[i].active===!1)continue;const r=n[i].geometryIndex;this.getMatrixAt(i,fr),this.getBoundingBoxAt(r,LC).applyMatrix4(fr),e.union(LC)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ps);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let i=0,s=n.length;i<s;i++){if(n[i].active===!1)continue;const r=n[i].geometryIndex;this.getMatrixAt(i,fr),this.getBoundingSphereAt(r,Ju).applyMatrix4(fr),e.union(Ju)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let s=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(KA),s=this._availableInstanceIds.shift(),this._instanceInfo[s]=i):(s=this._instanceInfo.length,this._instanceInfo.push(i));const r=this._matricesTexture;fr.identity().toArray(r.image.data,s*16),r.needsUpdate=!0;const o=this._colorsTexture;return o&&(r5e.toArray(o.image.data,s*4),o.needsUpdate=!0),this._visibilityChanged=!0,s}addGeometry(e,n=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const s={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},r=this._geometryInfo;s.vertexStart=this._nextVertexStart,s.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const o=e.getIndex();if(o!==null&&(s.indexStart=this._nextIndexStart,s.reservedIndexCount=i===-1?o.count:i),s.indexStart!==-1&&s.indexStart+s.reservedIndexCount>this._maxIndexCount||s.vertexStart+s.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(KA),l=this._availableGeometryIds.shift(),r[l]=s):(l=this._geometryCount,this._geometryCount++,r.push(s)),this.setGeometryAt(l,e),this._nextIndexStart=s.indexStart+s.reservedIndexCount,this._nextVertexStart=s.vertexStart+s.reservedVertexCount,l}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const i=this.geometry,s=i.getIndex()!==null,r=i.getIndex(),o=n.getIndex(),a=this._geometryInfo[e];if(s&&o.count>a.reservedIndexCount||n.attributes.position.count>a.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,c=a.reservedVertexCount;a.vertexCount=n.getAttribute("position").count;for(const d in i.attributes){const f=n.getAttribute(d),p=i.getAttribute(d);a5e(f,p,l);const m=f.itemSize;for(let y=f.count,C=c;y<C;y++){const x=l+y;for(let w=0;w<m;w++)p.setComponent(x,w,0)}p.needsUpdate=!0,p.addUpdateRange(l*m,c*m)}if(s){const d=a.indexStart,f=a.reservedIndexCount;a.indexCount=n.getIndex().count;for(let p=0;p<o.count;p++)r.setX(d+p,l+o.getX(p));for(let p=o.count,m=f;p<m;p++)r.setX(d+p,l);r.needsUpdate=!0,r.addUpdateRange(d,a.reservedIndexCount)}return a.start=s?a.indexStart:a.vertexStart,a.count=s?a.indexCount:a.vertexCount,a.boundingBox=null,n.boundingBox!==null&&(a.boundingBox=n.boundingBox.clone()),a.boundingSphere=null,n.boundingSphere!==null&&(a.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const i=this._instanceInfo;for(let s=0,r=i.length;s<r;s++)i[s].active&&i[s].geometryIndex===e&&this.deleteInstance(s);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,n=0;const i=this._geometryInfo,s=i.map((o,a)=>a).sort((o,a)=>i[o].vertexStart-i[a].vertexStart),r=this.geometry;for(let o=0,a=i.length;o<a;o++){const l=s[o],c=i[l];if(c.active!==!1){if(r.index!==null){if(c.indexStart!==n){const{indexStart:d,vertexStart:f,reservedIndexCount:p}=c,m=r.index,y=m.array,C=e-f;for(let x=d;x<d+p;x++)y[x]=y[x]+C;m.array.copyWithin(n,d,d+p),m.addUpdateRange(n,p),c.indexStart=n}n+=c.reservedIndexCount}if(c.vertexStart!==e){const{vertexStart:d,reservedVertexCount:f}=c,p=r.attributes;for(const m in p){const y=p[m],{array:C,itemSize:x}=y;C.copyWithin(e*x,d*x,(d+f)*x),y.addUpdateRange(e*x,f*x)}c.vertexStart=e}e+=c.reservedVertexCount,c.start=r.index?c.indexStart:c.vertexStart,this._nextIndexStart=r.index?c.indexStart+c.reservedIndexCount:0,this._nextVertexStart=c.vertexStart+c.reservedVertexCount}}return this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const i=this.geometry,s=this._geometryInfo[e];if(s.boundingBox===null){const r=new Qs,o=i.index,a=i.attributes.position;for(let l=s.start,c=s.start+s.count;l<c;l++){let d=l;o&&(d=o.getX(d)),r.expandByPoint(zg.fromBufferAttribute(a,d))}s.boundingBox=r}return n.copy(s.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const i=this.geometry,s=this._geometryInfo[e];if(s.boundingSphere===null){const r=new Ps;this.getBoundingBoxAt(e,LC),LC.getCenter(r.center);const o=i.index,a=i.attributes.position;let l=0;for(let c=s.start,d=s.start+s.count;c<d;c++){let f=c;o&&(f=o.getX(f)),zg.fromBufferAttribute(a,f),l=Math.max(l,r.center.distanceToSquared(zg))}r.radius=Math.sqrt(l),s.boundingSphere=r}return n.copy(s.boundingSphere),n}setMatrixAt(e,n){this.validateInstanceId(e);const i=this._matricesTexture,s=this._matricesTexture.image.data;return n.toArray(s,e*16),i.needsUpdate=!0,this}getMatrixAt(e,n){return this.validateInstanceId(e),n.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,n){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),n.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,n){return this.validateInstanceId(e),n.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,n){return this.validateInstanceId(e),this._instanceInfo[e].visible===n?this:(this._instanceInfo[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,n){return this.validateInstanceId(e),this.validateGeometryId(n),this._instanceInfo[e].geometryIndex=n,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,n={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return n.vertexStart=i.vertexStart,n.vertexCount=i.vertexCount,n.reservedVertexCount=i.reservedVertexCount,n.indexStart=i.indexStart,n.indexCount=i.indexCount,n.reservedIndexCount=i.reservedIndexCount,n.start=i.start,n.count=i.count,n}setInstanceCount(e){const n=this._availableInstanceIds,i=this._instanceInfo;for(n.sort(KA);n[n.length-1]===i.length;)i.pop(),n.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const s=new Int32Array(e),r=new Int32Array(e);Qu(this._multiDrawCounts,s),Qu(this._multiDrawStarts,r),this._multiDrawCounts=s,this._multiDrawStarts=r,this._maxInstanceCount=e;const o=this._indirectTexture,a=this._matricesTexture,l=this._colorsTexture;o.dispose(),this._initIndirectTexture(),Qu(o.image.data,this._indirectTexture.image.data),a.dispose(),this._initMatricesTexture(),Qu(a.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),Qu(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const i=[...this._geometryInfo].filter(a=>a.active);if(Math.max(...i.map(a=>a.vertexStart+a.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(l=>l.indexStart+l.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const r=this.geometry;r.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new zt,this._initializeGeometry(r));const o=this.geometry;r.index&&Qu(r.index.array,o.index.array);for(const a in r.attributes)Qu(r.attributes[a].array,o.attributes[a].array)}raycast(e,n){const i=this._instanceInfo,s=this._geometryInfo,r=this.matrixWorld,o=this.geometry;Cs.material=this.material,Cs.geometry.index=o.index,Cs.geometry.attributes=o.attributes,Cs.geometry.boundingBox===null&&(Cs.geometry.boundingBox=new Qs),Cs.geometry.boundingSphere===null&&(Cs.geometry.boundingSphere=new Ps);for(let a=0,l=i.length;a<l;a++){if(!i[a].visible||!i[a].active)continue;const c=i[a].geometryIndex,d=s[c];Cs.geometry.setDrawRange(d.start,d.count),this.getMatrixAt(a,Cs.matrixWorld).premultiply(r),this.getBoundingBoxAt(c,Cs.geometry.boundingBox),this.getBoundingSphereAt(c,Cs.geometry.boundingSphere),Cs.raycast(e,kC);for(let f=0,p=kC.length;f<p;f++){const m=kC[f];m.object=this,m.batchId=a,n.push(m)}kC.length=0}Cs.material=null,Cs.geometry.index=null,Cs.geometry.attributes={},Cs.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>({...n})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,n,i,s,r){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=s.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._instanceInfo,c=this._multiDrawStarts,d=this._multiDrawCounts,f=this._geometryInfo,p=this.perObjectFrustumCulled,m=this._indirectTexture,y=m.image.data;p&&(fr.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),YA.setFromProjectionMatrix(fr,e.coordinateSystem));let C=0;if(this.sortObjects){fr.copy(this.matrixWorld).invert(),zg.setFromMatrixPosition(i.matrixWorld).applyMatrix4(fr),mz.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(fr);for(let M=0,S=l.length;M<S;M++)if(l[M].visible&&l[M].active){const R=l[M].geometryIndex;this.getMatrixAt(M,fr),this.getBoundingSphereAt(R,Ju).applyMatrix4(fr);let P=!1;if(p&&(P=!YA.intersectsSphere(Ju)),!P){const F=f[R],N=o5e.subVectors(Ju.center,zg).dot(mz);XA.push(F.start,F.count,N,M)}}const x=XA.list,w=this.customSort;w===null?x.sort(r.transparent?i5e:n5e):w.call(this,x,i);for(let M=0,S=x.length;M<S;M++){const R=x[M];c[C]=R.start*a,d[C]=R.count,y[C]=R.index,C++}XA.reset()}else for(let x=0,w=l.length;x<w;x++)if(l[x].visible&&l[x].active){const M=l[x].geometryIndex;let S=!1;if(p&&(this.getMatrixAt(x,fr),this.getBoundingSphereAt(M,Ju).applyMatrix4(fr),S=!YA.intersectsSphere(Ju)),!S){const R=f[M];c[C]=R.start*a,d[C]=R.count,y[C]=x,C++}}m.needsUpdate=!0,this._multiDrawCount=C,this._visibilityChanged=!1}onBeforeShadow(e,n,i,s,r,o){this.onBeforeRender(e,null,s,r,o)}}class ar extends Ns{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ut(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const LS=new Y,kS=new Y,gz=new Tt,Gg=new dm,BC=new Ps,ZA=new Y,vz=new Y;class uu extends an{constructor(e=new zt,n=new ar){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[0];for(let s=1,r=n.count;s<r;s++)LS.fromBufferAttribute(n,s-1),kS.fromBufferAttribute(n,s),i[s]=i[s-1],i[s]+=LS.distanceTo(kS);e.setAttribute("lineDistance",new mt(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const i=this.geometry,s=this.matrixWorld,r=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),BC.copy(i.boundingSphere),BC.applyMatrix4(s),BC.radius+=r,e.ray.intersectsSphere(BC)===!1)return;gz.copy(s).invert(),Gg.copy(e.ray).applyMatrix4(gz);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=this.isLineSegments?2:1,d=i.index,p=i.attributes.position;if(d!==null){const m=Math.max(0,o.start),y=Math.min(d.count,o.start+o.count);for(let C=m,x=y-1;C<x;C+=c){const w=d.getX(C),M=d.getX(C+1),S=HC(this,e,Gg,l,w,M,C);S&&n.push(S)}if(this.isLineLoop){const C=d.getX(y-1),x=d.getX(m),w=HC(this,e,Gg,l,C,x,y-1);w&&n.push(w)}}else{const m=Math.max(0,o.start),y=Math.min(p.count,o.start+o.count);for(let C=m,x=y-1;C<x;C+=c){const w=HC(this,e,Gg,l,C,C+1,C);w&&n.push(w)}if(this.isLineLoop){const C=HC(this,e,Gg,l,y-1,m,y-1);C&&n.push(C)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const s=n[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=s.length;r<o;r++){const a=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}function HC(t,e,n,i,s,r,o){const a=t.geometry.attributes.position;if(LS.fromBufferAttribute(a,s),kS.fromBufferAttribute(a,r),n.distanceSqToSegment(LS,kS,ZA,vz)>i)return;ZA.applyMatrix4(t.matrixWorld);const c=e.ray.origin.distanceTo(ZA);if(!(c<e.near||c>e.far))return{distance:c,point:vz.clone().applyMatrix4(t.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:t}}const yz=new Y,xz=new Y;class Ya extends uu{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[];for(let s=0,r=n.count;s<r;s+=2)yz.fromBufferAttribute(n,s),xz.fromBufferAttribute(n,s+1),i[s]=s===0?0:i[s-1],i[s+1]=i[s]+yz.distanceTo(xz);e.setAttribute("lineDistance",new mt(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class OK extends uu{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class sI extends Ns{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ut(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Cz=new Tt,_D=new dm,VC=new Ps,zC=new Y;class LK extends an{constructor(e=new zt,n=new sI){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const i=this.geometry,s=this.matrixWorld,r=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),VC.copy(i.boundingSphere),VC.applyMatrix4(s),VC.radius+=r,e.ray.intersectsSphere(VC)===!1)return;Cz.copy(s).invert(),_D.copy(e.ray).applyMatrix4(Cz);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=i.index,f=i.attributes.position;if(c!==null){const p=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let y=p,C=m;y<C;y++){const x=c.getX(y);zC.fromBufferAttribute(f,x),wz(zC,x,l,s,e,n,this)}}else{const p=Math.max(0,o.start),m=Math.min(f.count,o.start+o.count);for(let y=p,C=m;y<C;y++)zC.fromBufferAttribute(f,y),wz(zC,y,l,s,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const s=n[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=s.length;r<o;r++){const a=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}function wz(t,e,n,i,s,r,o){const a=_D.distanceSqToPoint(t);if(a<n){const l=new Y;_D.closestPointToPoint(t,l),l.applyMatrix4(i);const c=s.ray.origin.distanceTo(l);if(c<s.near||c>s.far)return;r.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class kK extends hi{constructor(e,n,i,s,r,o,a,l,c){super(e,n,i,s,r,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Li,this.magFilter=r!==void 0?r:Li,this.generateMipmaps=!1;const d=this;function f(){d.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class l5e extends kK{constructor(e,n,i,s,r,o,a,l){super({},e,n,i,s,r,o,a,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class c5e extends hi{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=hs,this.minFilter=hs,this.generateMipmaps=!1,this.needsUpdate=!0}}class pE extends hi{constructor(e,n,i,s,r,o,a,l,c,d,f,p){super(null,o,a,l,c,d,s,r,f,p),this.isCompressedTexture=!0,this.image={width:n,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class u5e extends pE{constructor(e,n,i,s,r,o){super(e,n,i,r,o),this.isCompressedArrayTexture=!0,this.image.depth=s,this.wrapR=Eo,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class d5e extends pE{constructor(e,n,i){super(void 0,e[0].width,e[0].height,n,i,Zl),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class h5e extends hi{constructor(e,n,i,s,r,o,a,l,c){super(e,n,i,s,r,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class rI extends hi{constructor(e,n,i,s,r,o,a,l,c,d=eh){if(d!==eh&&d!==gh)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&d===eh&&(i=Jl),i===void 0&&d===gh&&(i=mh),super(null,s,r,o,a,l,d,i,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:hs,this.minFilter=l!==void 0?l:hs,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Xc(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class aa{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,n){const i=this.getUtoTmapping(e);return this.getPoint(i,n)}getPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return n}getSpacedPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPointAt(i/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let i,s=this.getPoint(0),r=0;n.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),r+=i.distanceTo(s),n.push(r),s=i;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n=null){const i=this.getLengths();let s=0;const r=i.length;let o;n?o=n:o=e*i[r-1];let a=0,l=r-1,c;for(;a<=l;)if(s=Math.floor(a+(l-a)/2),c=i[s]-o,c<0)a=s+1;else if(c>0)l=s-1;else{l=s;break}if(s=l,i[s]===o)return s/(r-1);const d=i[s],p=i[s+1]-d,m=(o-d)/p;return(s+m)/(r-1)}getTangent(e,n){let s=e-1e-4,r=e+1e-4;s<0&&(s=0),r>1&&(r=1);const o=this.getPoint(s),a=this.getPoint(r),l=n||(o.isVector2?new ze:new Y);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const i=this.getUtoTmapping(e);return this.getTangent(i,n)}computeFrenetFrames(e,n=!1){const i=new Y,s=[],r=[],o=[],a=new Y,l=new Tt;for(let m=0;m<=e;m++){const y=m/e;s[m]=this.getTangentAt(y,new Y)}r[0]=new Y,o[0]=new Y;let c=Number.MAX_VALUE;const d=Math.abs(s[0].x),f=Math.abs(s[0].y),p=Math.abs(s[0].z);d<=c&&(c=d,i.set(1,0,0)),f<=c&&(c=f,i.set(0,1,0)),p<=c&&i.set(0,0,1),a.crossVectors(s[0],i).normalize(),r[0].crossVectors(s[0],a),o[0].crossVectors(s[0],r[0]);for(let m=1;m<=e;m++){if(r[m]=r[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(s[m-1],s[m]),a.length()>Number.EPSILON){a.normalize();const y=Math.acos(It(s[m-1].dot(s[m]),-1,1));r[m].applyMatrix4(l.makeRotationAxis(a,y))}o[m].crossVectors(s[m],r[m])}if(n===!0){let m=Math.acos(It(r[0].dot(r[e]),-1,1));m/=e,s[0].dot(a.crossVectors(r[0],r[e]))>0&&(m=-m);for(let y=1;y<=e;y++)r[y].applyMatrix4(l.makeRotationAxis(s[y],m*y)),o[y].crossVectors(s[y],r[y])}return{tangents:s,normals:r,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class mE extends aa{constructor(e=0,n=0,i=1,s=1,r=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=i,this.yRadius=s,this.aStartAngle=r,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n=new ze){const i=n,s=Math.PI*2;let r=this.aEndAngle-this.aStartAngle;const o=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=s;for(;r>s;)r-=s;r<Number.EPSILON&&(o?r=0:r=s),this.aClockwise===!0&&!o&&(r===s?r=-s:r=r-s);const a=this.aStartAngle+e*r;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const d=Math.cos(this.aRotation),f=Math.sin(this.aRotation),p=l-this.aX,m=c-this.aY;l=p*d-m*f+this.aX,c=p*f+m*d+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class BK extends mE{constructor(e,n,i,s,r,o){super(e,n,i,i,s,r,o),this.isArcCurve=!0,this.type="ArcCurve"}}function oI(){let t=0,e=0,n=0,i=0;function s(r,o,a,l){t=r,e=a,n=-3*r+3*o-2*a-l,i=2*r-2*o+a+l}return{initCatmullRom:function(r,o,a,l,c){s(o,a,c*(a-r),c*(l-o))},initNonuniformCatmullRom:function(r,o,a,l,c,d,f){let p=(o-r)/c-(a-r)/(c+d)+(a-o)/d,m=(a-o)/d-(l-o)/(d+f)+(l-a)/f;p*=d,m*=d,s(o,a,p,m)},calc:function(r){const o=r*r,a=o*r;return t+e*r+n*o+i*a}}}const GC=new Y,JA=new oI,QA=new oI,e2=new oI;class HK extends aa{constructor(e=[],n=!1,i="centripetal",s=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=i,this.tension=s}getPoint(e,n=new Y){const i=n,s=this.points,r=s.length,o=(r-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/r)+1)*r:l===0&&a===r-1&&(a=r-2,l=1);let c,d;this.closed||a>0?c=s[(a-1)%r]:(GC.subVectors(s[0],s[1]).add(s[0]),c=GC);const f=s[a%r],p=s[(a+1)%r];if(this.closed||a+2<r?d=s[(a+2)%r]:(GC.subVectors(s[r-1],s[r-2]).add(s[r-1]),d=GC),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let y=Math.pow(c.distanceToSquared(f),m),C=Math.pow(f.distanceToSquared(p),m),x=Math.pow(p.distanceToSquared(d),m);C<1e-4&&(C=1),y<1e-4&&(y=C),x<1e-4&&(x=C),JA.initNonuniformCatmullRom(c.x,f.x,p.x,d.x,y,C,x),QA.initNonuniformCatmullRom(c.y,f.y,p.y,d.y,y,C,x),e2.initNonuniformCatmullRom(c.z,f.z,p.z,d.z,y,C,x)}else this.curveType==="catmullrom"&&(JA.initCatmullRom(c.x,f.x,p.x,d.x,this.tension),QA.initCatmullRom(c.y,f.y,p.y,d.y,this.tension),e2.initCatmullRom(c.z,f.z,p.z,d.z,this.tension));return i.set(JA.calc(l),QA.calc(l),e2.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const s=e.points[n];this.points.push(s.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const s=this.points[n];e.points.push(s.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const s=e.points[n];this.points.push(new Y().fromArray(s))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function bz(t,e,n,i,s){const r=(i-e)*.5,o=(s-n)*.5,a=t*t,l=t*a;return(2*n-2*i+r+o)*l+(-3*n+3*i-2*r-o)*a+r*t+n}function f5e(t,e){const n=1-t;return n*n*e}function p5e(t,e){return 2*(1-t)*t*e}function m5e(t,e){return t*t*e}function Nv(t,e,n,i){return f5e(t,e)+p5e(t,n)+m5e(t,i)}function g5e(t,e){const n=1-t;return n*n*n*e}function v5e(t,e){const n=1-t;return 3*n*n*t*e}function y5e(t,e){return 3*(1-t)*t*t*e}function x5e(t,e){return t*t*t*e}function Iv(t,e,n,i,s){return g5e(t,e)+v5e(t,n)+y5e(t,i)+x5e(t,s)}class aI extends aa{constructor(e=new ze,n=new ze,i=new ze,s=new ze){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=i,this.v3=s}getPoint(e,n=new ze){const i=n,s=this.v0,r=this.v1,o=this.v2,a=this.v3;return i.set(Iv(e,s.x,r.x,o.x,a.x),Iv(e,s.y,r.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class VK extends aa{constructor(e=new Y,n=new Y,i=new Y,s=new Y){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=i,this.v3=s}getPoint(e,n=new Y){const i=n,s=this.v0,r=this.v1,o=this.v2,a=this.v3;return i.set(Iv(e,s.x,r.x,o.x,a.x),Iv(e,s.y,r.y,o.y,a.y),Iv(e,s.z,r.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class lI extends aa{constructor(e=new ze,n=new ze){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new ze){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new ze){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class zK extends aa{constructor(e=new Y,n=new Y){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new Y){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Y){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class cI extends aa{constructor(e=new ze,n=new ze,i=new ze){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new ze){const i=n,s=this.v0,r=this.v1,o=this.v2;return i.set(Nv(e,s.x,r.x,o.x),Nv(e,s.y,r.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class uI extends aa{constructor(e=new Y,n=new Y,i=new Y){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new Y){const i=n,s=this.v0,r=this.v1,o=this.v2;return i.set(Nv(e,s.x,r.x,o.x),Nv(e,s.y,r.y,o.y),Nv(e,s.z,r.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class dI extends aa{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new ze){const i=n,s=this.points,r=(s.length-1)*e,o=Math.floor(r),a=r-o,l=s[o===0?o:o-1],c=s[o],d=s[o>s.length-2?s.length-1:o+1],f=s[o>s.length-3?s.length-1:o+2];return i.set(bz(a,l.x,c.x,d.x,f.x),bz(a,l.y,c.y,d.y,f.y)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const s=e.points[n];this.points.push(s.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const s=this.points[n];e.points.push(s.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const s=e.points[n];this.points.push(new ze().fromArray(s))}return this}}var BS=Object.freeze({__proto__:null,ArcCurve:BK,CatmullRomCurve3:HK,CubicBezierCurve:aI,CubicBezierCurve3:VK,EllipseCurve:mE,LineCurve:lI,LineCurve3:zK,QuadraticBezierCurve:cI,QuadraticBezierCurve3:uI,SplineCurve:dI});class GK extends aa{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new BS[i](n,e))}return this}getPoint(e,n){const i=e*this.getLength(),s=this.getCurveLengths();let r=0;for(;r<s.length;){if(s[r]>=i){const o=s[r]-i,a=this.curves[r],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,n)}r++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let i=0,s=this.curves.length;i<s;i++)n+=this.curves[i].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let i;for(let s=0,r=this.curves;s<r.length;s++){const o=r[s],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const d=l[c];i&&i.equals(d)||(n.push(d),i=d)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const s=e.curves[n];this.curves.push(s.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,i=this.curves.length;n<i;n++){const s=this.curves[n];e.curves.push(s.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const s=e.curves[n];this.curves.push(new BS[s.type]().fromJSON(s))}return this}}class My extends GK{constructor(e){super(),this.type="Path",this.currentPoint=new ze,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,i=e.length;n<i;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const i=new lI(this.currentPoint.clone(),new ze(e,n));return this.curves.push(i),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,i,s){const r=new cI(this.currentPoint.clone(),new ze(e,n),new ze(i,s));return this.curves.push(r),this.currentPoint.set(i,s),this}bezierCurveTo(e,n,i,s,r,o){const a=new aI(this.currentPoint.clone(),new ze(e,n),new ze(i,s),new ze(r,o));return this.curves.push(a),this.currentPoint.set(r,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),i=new dI(n);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,i,s,r,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,i,s,r,o),this}absarc(e,n,i,s,r,o){return this.absellipse(e,n,i,i,s,r,o),this}ellipse(e,n,i,s,r,o,a,l){const c=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+c,n+d,i,s,r,o,a,l),this}absellipse(e,n,i,s,r,o,a,l){const c=new mE(e,n,i,s,r,o,a,l);if(this.curves.length>0){const f=c.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(c);const d=c.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class M0 extends zt{constructor(e=[new ze(0,-.5),new ze(.5,0),new ze(0,.5)],n=12,i=0,s=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:i,phiLength:s},n=Math.floor(n),s=It(s,0,Math.PI*2);const r=[],o=[],a=[],l=[],c=[],d=1/n,f=new Y,p=new ze,m=new Y,y=new Y,C=new Y;let x=0,w=0;for(let M=0;M<=e.length-1;M++)switch(M){case 0:x=e[M+1].x-e[M].x,w=e[M+1].y-e[M].y,m.x=w*1,m.y=-x,m.z=w*0,C.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(C.x,C.y,C.z);break;default:x=e[M+1].x-e[M].x,w=e[M+1].y-e[M].y,m.x=w*1,m.y=-x,m.z=w*0,y.copy(m),m.x+=C.x,m.y+=C.y,m.z+=C.z,m.normalize(),l.push(m.x,m.y,m.z),C.copy(y)}for(let M=0;M<=n;M++){const S=i+M*d*s,R=Math.sin(S),P=Math.cos(S);for(let F=0;F<=e.length-1;F++){f.x=e[F].x*R,f.y=e[F].y,f.z=e[F].x*P,o.push(f.x,f.y,f.z),p.x=M/n,p.y=F/(e.length-1),a.push(p.x,p.y);const N=l[3*F+0]*R,I=l[3*F+1],_=l[3*F+0]*P;c.push(N,I,_)}}for(let M=0;M<n;M++)for(let S=0;S<e.length-1;S++){const R=S+M*e.length,P=R,F=R+e.length,N=R+e.length+1,I=R+1;r.push(P,F,I),r.push(N,I,F)}this.setIndex(r),this.setAttribute("position",new mt(o,3)),this.setAttribute("uv",new mt(a,2)),this.setAttribute("normal",new mt(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new M0(e.points,e.segments,e.phiStart,e.phiLength)}}class gE extends M0{constructor(e=1,n=1,i=4,s=8){const r=new My;r.absarc(0,-n/2,e,Math.PI*1.5,0),r.absarc(0,n/2,e,0,Math.PI*.5),super(r.getPoints(i),s),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:i,radialSegments:s}}static fromJSON(e){return new gE(e.radius,e.length,e.capSegments,e.radialSegments)}}class vE extends zt{constructor(e=1,n=32,i=0,s=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:i,thetaLength:s},n=Math.max(3,n);const r=[],o=[],a=[],l=[],c=new Y,d=new ze;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let f=0,p=3;f<=n;f++,p+=3){const m=i+f/n*s;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),d.x=(o[p]/e+1)/2,d.y=(o[p+1]/e+1)/2,l.push(d.x,d.y)}for(let f=1;f<=n;f++)r.push(f,f+1,0);this.setIndex(r),this.setAttribute("position",new mt(o,3)),this.setAttribute("normal",new mt(a,3)),this.setAttribute("uv",new mt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vE(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class hm extends zt{constructor(e=1,n=1,i=1,s=32,r=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:i,radialSegments:s,heightSegments:r,openEnded:o,thetaStart:a,thetaLength:l};const c=this;s=Math.floor(s),r=Math.floor(r);const d=[],f=[],p=[],m=[];let y=0;const C=[],x=i/2;let w=0;M(),o===!1&&(e>0&&S(!0),n>0&&S(!1)),this.setIndex(d),this.setAttribute("position",new mt(f,3)),this.setAttribute("normal",new mt(p,3)),this.setAttribute("uv",new mt(m,2));function M(){const R=new Y,P=new Y;let F=0;const N=(n-e)/i;for(let I=0;I<=r;I++){const _=[],A=I/r,O=A*(n-e)+e;for(let k=0;k<=s;k++){const z=k/s,W=z*l+a,K=Math.sin(W),V=Math.cos(W);P.x=O*K,P.y=-A*i+x,P.z=O*V,f.push(P.x,P.y,P.z),R.set(K,N,V).normalize(),p.push(R.x,R.y,R.z),m.push(z,1-A),_.push(y++)}C.push(_)}for(let I=0;I<s;I++)for(let _=0;_<r;_++){const A=C[_][I],O=C[_+1][I],k=C[_+1][I+1],z=C[_][I+1];(e>0||_!==0)&&(d.push(A,O,z),F+=3),(n>0||_!==r-1)&&(d.push(O,k,z),F+=3)}c.addGroup(w,F,0),w+=F}function S(R){const P=y,F=new ze,N=new Y;let I=0;const _=R===!0?e:n,A=R===!0?1:-1;for(let k=1;k<=s;k++)f.push(0,x*A,0),p.push(0,A,0),m.push(.5,.5),y++;const O=y;for(let k=0;k<=s;k++){const W=k/s*l+a,K=Math.cos(W),V=Math.sin(W);N.x=_*V,N.y=x*A,N.z=_*K,f.push(N.x,N.y,N.z),p.push(0,A,0),F.x=K*.5+.5,F.y=V*.5*A+.5,m.push(F.x,F.y),y++}for(let k=0;k<s;k++){const z=P+k,W=O+k;R===!0?d.push(W,W+1,z):d.push(W+1,W,z),I+=3}c.addGroup(w,I,R===!0?1:2),w+=I}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hm(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class yE extends hm{constructor(e=1,n=1,i=32,s=1,r=!1,o=0,a=Math.PI*2){super(0,e,n,i,s,r,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:i,heightSegments:s,openEnded:r,thetaStart:o,thetaLength:a}}static fromJSON(e){return new yE(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Eu extends zt{constructor(e=[],n=[],i=1,s=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:i,detail:s};const r=[],o=[];a(s),c(i),d(),this.setAttribute("position",new mt(r,3)),this.setAttribute("normal",new mt(r.slice(),3)),this.setAttribute("uv",new mt(o,2)),s===0?this.computeVertexNormals():this.normalizeNormals();function a(M){const S=new Y,R=new Y,P=new Y;for(let F=0;F<n.length;F+=3)m(n[F+0],S),m(n[F+1],R),m(n[F+2],P),l(S,R,P,M)}function l(M,S,R,P){const F=P+1,N=[];for(let I=0;I<=F;I++){N[I]=[];const _=M.clone().lerp(R,I/F),A=S.clone().lerp(R,I/F),O=F-I;for(let k=0;k<=O;k++)k===0&&I===F?N[I][k]=_:N[I][k]=_.clone().lerp(A,k/O)}for(let I=0;I<F;I++)for(let _=0;_<2*(F-I)-1;_++){const A=Math.floor(_/2);_%2===0?(p(N[I][A+1]),p(N[I+1][A]),p(N[I][A])):(p(N[I][A+1]),p(N[I+1][A+1]),p(N[I+1][A]))}}function c(M){const S=new Y;for(let R=0;R<r.length;R+=3)S.x=r[R+0],S.y=r[R+1],S.z=r[R+2],S.normalize().multiplyScalar(M),r[R+0]=S.x,r[R+1]=S.y,r[R+2]=S.z}function d(){const M=new Y;for(let S=0;S<r.length;S+=3){M.x=r[S+0],M.y=r[S+1],M.z=r[S+2];const R=x(M)/2/Math.PI+.5,P=w(M)/Math.PI+.5;o.push(R,1-P)}y(),f()}function f(){for(let M=0;M<o.length;M+=6){const S=o[M+0],R=o[M+2],P=o[M+4],F=Math.max(S,R,P),N=Math.min(S,R,P);F>.9&&N<.1&&(S<.2&&(o[M+0]+=1),R<.2&&(o[M+2]+=1),P<.2&&(o[M+4]+=1))}}function p(M){r.push(M.x,M.y,M.z)}function m(M,S){const R=M*3;S.x=e[R+0],S.y=e[R+1],S.z=e[R+2]}function y(){const M=new Y,S=new Y,R=new Y,P=new Y,F=new ze,N=new ze,I=new ze;for(let _=0,A=0;_<r.length;_+=9,A+=6){M.set(r[_+0],r[_+1],r[_+2]),S.set(r[_+3],r[_+4],r[_+5]),R.set(r[_+6],r[_+7],r[_+8]),F.set(o[A+0],o[A+1]),N.set(o[A+2],o[A+3]),I.set(o[A+4],o[A+5]),P.copy(M).add(S).add(R).divideScalar(3);const O=x(P);C(F,A+0,M,O),C(N,A+2,S,O),C(I,A+4,R,O)}}function C(M,S,R,P){P<0&&M.x===1&&(o[S]=M.x-1),R.x===0&&R.z===0&&(o[S]=P/2/Math.PI+.5)}function x(M){return Math.atan2(M.z,-M.x)}function w(M){return Math.atan2(-M.y,Math.sqrt(M.x*M.x+M.z*M.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Eu(e.vertices,e.indices,e.radius,e.details)}}class xE extends Eu{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,s=1/i,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-s,-i,0,-s,i,0,s,-i,0,s,i,-s,-i,0,-s,i,0,s,-i,0,s,i,0,-i,0,-s,i,0,-s,-i,0,s,i,0,s],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(r,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new xE(e.radius,e.detail)}}const UC=new Y,jC=new Y,t2=new Y,WC=new gr;class UK extends zt{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const s=Math.pow(10,4),r=Math.cos(th*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],d=["a","b","c"],f=new Array(3),p={},m=[];for(let y=0;y<l;y+=3){o?(c[0]=o.getX(y),c[1]=o.getX(y+1),c[2]=o.getX(y+2)):(c[0]=y,c[1]=y+1,c[2]=y+2);const{a:C,b:x,c:w}=WC;if(C.fromBufferAttribute(a,c[0]),x.fromBufferAttribute(a,c[1]),w.fromBufferAttribute(a,c[2]),WC.getNormal(t2),f[0]=`${Math.round(C.x*s)},${Math.round(C.y*s)},${Math.round(C.z*s)}`,f[1]=`${Math.round(x.x*s)},${Math.round(x.y*s)},${Math.round(x.z*s)}`,f[2]=`${Math.round(w.x*s)},${Math.round(w.y*s)},${Math.round(w.z*s)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let M=0;M<3;M++){const S=(M+1)%3,R=f[M],P=f[S],F=WC[d[M]],N=WC[d[S]],I=`${R}_${P}`,_=`${P}_${R}`;_ in p&&p[_]?(t2.dot(p[_].normal)<=r&&(m.push(F.x,F.y,F.z),m.push(N.x,N.y,N.z)),p[_]=null):I in p||(p[I]={index0:c[M],index1:c[S],normal:t2.clone()})}}for(const y in p)if(p[y]){const{index0:C,index1:x}=p[y];UC.fromBufferAttribute(a,C),jC.fromBufferAttribute(a,x),m.push(UC.x,UC.y,UC.z),m.push(jC.x,jC.y,jC.z)}this.setAttribute("position",new mt(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class nh extends My{constructor(e){super(e),this.uuid=Wr(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let i=0,s=this.holes.length;i<s;i++)n[i]=this.holes[i].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const s=e.holes[n];this.holes.push(s.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,i=this.holes.length;n<i;n++){const s=this.holes[n];e.holes.push(s.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const s=e.holes[n];this.holes.push(new My().fromJSON(s))}return this}}class C5e{static triangulate(e,n,i=2){const s=n&&n.length,r=s?n[0]*i:e.length;let o=jK(e,0,r,i,!0);const a=[];if(!o||o.next===o.prev)return a;let l,c,d,f,p,m,y;if(s&&(o=M5e(e,n,o,i)),e.length>80*i){l=d=e[0],c=f=e[1];for(let C=i;C<r;C+=i)p=e[C],m=e[C+1],p<l&&(l=p),m<c&&(c=m),p>d&&(d=p),m>f&&(f=m);y=Math.max(d-l,f-c),y=y!==0?32767/y:0}return Ty(o,a,i,l,c,y,0),a}}function jK(t,e,n,i,s){let r,o;if(s===L5e(t,e,n,i)>0)for(r=e;r<n;r+=i)o=Sz(r,t[r],t[r+1],o);else for(r=n-i;r>=e;r-=i)o=Sz(r,t[r],t[r+1],o);return o&&CE(o,o.next)&&(Ay(o),o=o.next),o}function xh(t,e){if(!t)return t;e||(e=t);let n=t,i;do if(i=!1,!n.steiner&&(CE(n,n.next)||Xn(n.prev,n,n.next)===0)){if(Ay(n),n=e=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==e);return e}function Ty(t,e,n,i,s,r,o){if(!t)return;!o&&r&&D5e(t,i,s,r);let a=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,r?b5e(t,i,s,r):w5e(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),Ay(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=S5e(xh(t),e,n),Ty(t,e,n,i,s,r,2)):o===2&&E5e(t,e,n,i,s,r):Ty(xh(t),e,n,i,s,r,1);break}}}function w5e(t){const e=t.prev,n=t,i=t.next;if(Xn(e,n,i)>=0)return!1;const s=e.x,r=n.x,o=i.x,a=e.y,l=n.y,c=i.y,d=s<r?s<o?s:o:r<o?r:o,f=a<l?a<c?a:c:l<c?l:c,p=s>r?s>o?s:o:r>o?r:o,m=a>l?a>c?a:c:l>c?l:c;let y=i.next;for(;y!==e;){if(y.x>=d&&y.x<=p&&y.y>=f&&y.y<=m&&op(s,a,r,l,o,c,y.x,y.y)&&Xn(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function b5e(t,e,n,i){const s=t.prev,r=t,o=t.next;if(Xn(s,r,o)>=0)return!1;const a=s.x,l=r.x,c=o.x,d=s.y,f=r.y,p=o.y,m=a<l?a<c?a:c:l<c?l:c,y=d<f?d<p?d:p:f<p?f:p,C=a>l?a>c?a:c:l>c?l:c,x=d>f?d>p?d:p:f>p?f:p,w=FD(m,y,e,n,i),M=FD(C,x,e,n,i);let S=t.prevZ,R=t.nextZ;for(;S&&S.z>=w&&R&&R.z<=M;){if(S.x>=m&&S.x<=C&&S.y>=y&&S.y<=x&&S!==s&&S!==o&&op(a,d,l,f,c,p,S.x,S.y)&&Xn(S.prev,S,S.next)>=0||(S=S.prevZ,R.x>=m&&R.x<=C&&R.y>=y&&R.y<=x&&R!==s&&R!==o&&op(a,d,l,f,c,p,R.x,R.y)&&Xn(R.prev,R,R.next)>=0))return!1;R=R.nextZ}for(;S&&S.z>=w;){if(S.x>=m&&S.x<=C&&S.y>=y&&S.y<=x&&S!==s&&S!==o&&op(a,d,l,f,c,p,S.x,S.y)&&Xn(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;R&&R.z<=M;){if(R.x>=m&&R.x<=C&&R.y>=y&&R.y<=x&&R!==s&&R!==o&&op(a,d,l,f,c,p,R.x,R.y)&&Xn(R.prev,R,R.next)>=0)return!1;R=R.nextZ}return!0}function S5e(t,e,n){let i=t;do{const s=i.prev,r=i.next.next;!CE(s,r)&&WK(s,i,i.next,r)&&Ry(s,r)&&Ry(r,s)&&(e.push(s.i/n|0),e.push(i.i/n|0),e.push(r.i/n|0),Ay(i),Ay(i.next),i=t=r),i=i.next}while(i!==t);return xh(i)}function E5e(t,e,n,i,s,r){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&N5e(o,a)){let l=$K(o,a);o=xh(o,o.next),l=xh(l,l.next),Ty(o,e,n,i,s,r,0),Ty(l,e,n,i,s,r,0);return}a=a.next}o=o.next}while(o!==t)}function M5e(t,e,n,i){const s=[];let r,o,a,l,c;for(r=0,o=e.length;r<o;r++)a=e[r]*i,l=r<o-1?e[r+1]*i:t.length,c=jK(t,a,l,i,!1),c===c.next&&(c.steiner=!0),s.push(F5e(c));for(s.sort(T5e),r=0;r<s.length;r++)n=R5e(s[r],n);return n}function T5e(t,e){return t.x-e.x}function R5e(t,e){const n=A5e(t,e);if(!n)return e;const i=$K(n,t);return xh(i,i.next),xh(n,n.next)}function A5e(t,e){let n=e,i=-1/0,s;const r=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const p=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(p<=r&&p>i&&(i=p,s=n.x<n.next.x?n:n.next,p===r))return s}n=n.next}while(n!==e);if(!s)return null;const a=s,l=s.x,c=s.y;let d=1/0,f;n=s;do r>=n.x&&n.x>=l&&r!==n.x&&op(o<c?r:i,o,l,c,o<c?i:r,o,n.x,n.y)&&(f=Math.abs(o-n.y)/(r-n.x),Ry(n,t)&&(f<d||f===d&&(n.x>s.x||n.x===s.x&&P5e(s,n)))&&(s=n,d=f)),n=n.next;while(n!==a);return s}function P5e(t,e){return Xn(t.prev,t,e.prev)<0&&Xn(e.next,t,t.next)<0}function D5e(t,e,n,i){let s=t;do s.z===0&&(s.z=FD(s.x,s.y,e,n,i)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==t);s.prevZ.nextZ=null,s.prevZ=null,_5e(s)}function _5e(t){let e,n,i,s,r,o,a,l,c=1;do{for(n=t,t=null,r=null,o=0;n;){for(o++,i=n,a=0,e=0;e<c&&(a++,i=i.nextZ,!!i);e++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||n.z<=i.z)?(s=n,n=n.nextZ,a--):(s=i,i=i.nextZ,l--),r?r.nextZ=s:t=s,s.prevZ=r,r=s;n=i}r.nextZ=null,c*=2}while(o>1);return t}function FD(t,e,n,i,s){return t=(t-n)*s|0,e=(e-i)*s|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function F5e(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function op(t,e,n,i,s,r,o,a){return(s-o)*(e-a)>=(t-o)*(r-a)&&(t-o)*(i-a)>=(n-o)*(e-a)&&(n-o)*(r-a)>=(s-o)*(i-a)}function N5e(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!I5e(t,e)&&(Ry(t,e)&&Ry(e,t)&&O5e(t,e)&&(Xn(t.prev,t,e.prev)||Xn(t,e.prev,e))||CE(t,e)&&Xn(t.prev,t,t.next)>0&&Xn(e.prev,e,e.next)>0)}function Xn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function CE(t,e){return t.x===e.x&&t.y===e.y}function WK(t,e,n,i){const s=qC(Xn(t,e,n)),r=qC(Xn(t,e,i)),o=qC(Xn(n,i,t)),a=qC(Xn(n,i,e));return!!(s!==r&&o!==a||s===0&&$C(t,n,e)||r===0&&$C(t,i,e)||o===0&&$C(n,t,i)||a===0&&$C(n,e,i))}function $C(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function qC(t){return t>0?1:t<0?-1:0}function I5e(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&WK(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Ry(t,e){return Xn(t.prev,t,t.next)<0?Xn(t,e,t.next)>=0&&Xn(t,t.prev,e)>=0:Xn(t,e,t.prev)<0||Xn(t,t.next,e)<0}function O5e(t,e){let n=t,i=!1;const s=(t.x+e.x)/2,r=(t.y+e.y)/2;do n.y>r!=n.next.y>r&&n.next.y!==n.y&&s<(n.next.x-n.x)*(r-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==t);return i}function $K(t,e){const n=new ND(t.i,t.x,t.y),i=new ND(e.i,e.x,e.y),s=t.next,r=e.prev;return t.next=e,e.prev=t,n.next=s,s.prev=n,i.next=n,n.prev=i,r.next=i,i.prev=r,i}function Sz(t,e,n,i){const s=new ND(t,e,n);return i?(s.next=i.next,s.prev=i,i.next.prev=s,i.next=s):(s.prev=s,s.next=s),s}function Ay(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function ND(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function L5e(t,e,n,i){let s=0;for(let r=e,o=n-i;r<n;r+=i)s+=(t[o]-t[r])*(t[r+1]+t[o+1]),o=r;return s}class La{static area(e){const n=e.length;let i=0;for(let s=n-1,r=0;r<n;s=r++)i+=e[s].x*e[r].y-e[r].x*e[s].y;return i*.5}static isClockWise(e){return La.area(e)<0}static triangulateShape(e,n){const i=[],s=[],r=[];Ez(e),Mz(i,e);let o=e.length;n.forEach(Ez);for(let l=0;l<n.length;l++)s.push(o),o+=n[l].length,Mz(i,n[l]);const a=C5e.triangulate(i,s);for(let l=0;l<a.length;l+=3)r.push(a.slice(l,l+3));return r}}function Ez(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function Mz(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class wE extends zt{constructor(e=new nh([new ze(.5,.5),new ze(-.5,.5),new ze(-.5,-.5),new ze(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const i=this,s=[],r=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new mt(s,3)),this.setAttribute("uv",new mt(r,2)),this.computeVertexNormals();function o(a){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,d=n.steps!==void 0?n.steps:1,f=n.depth!==void 0?n.depth:1;let p=n.bevelEnabled!==void 0?n.bevelEnabled:!0,m=n.bevelThickness!==void 0?n.bevelThickness:.2,y=n.bevelSize!==void 0?n.bevelSize:m-.1,C=n.bevelOffset!==void 0?n.bevelOffset:0,x=n.bevelSegments!==void 0?n.bevelSegments:3;const w=n.extrudePath,M=n.UVGenerator!==void 0?n.UVGenerator:k5e;let S,R=!1,P,F,N,I;w&&(S=w.getSpacedPoints(d),R=!0,p=!1,P=w.computeFrenetFrames(d,!1),F=new Y,N=new Y,I=new Y),p||(x=0,m=0,y=0,C=0);const _=a.extractPoints(c);let A=_.shape;const O=_.holes;if(!La.isClockWise(A)){A=A.reverse();for(let ce=0,Ce=O.length;ce<Ce;ce++){const U=O[ce];La.isClockWise(U)&&(O[ce]=U.reverse())}}const z=La.triangulateShape(A,O),W=A;for(let ce=0,Ce=O.length;ce<Ce;ce++){const U=O[ce];A=A.concat(U)}function K(ce,Ce,U){return Ce||console.error("THREE.ExtrudeGeometry: vec does not exist"),ce.clone().addScaledVector(Ce,U)}const V=A.length,Q=z.length;function q(ce,Ce,U){let ke,De,Xe;const Ve=ce.x-Ce.x,at=ce.y-Ce.y,Ge=U.x-ce.x,$=U.y-ce.y,B=Ve*Ve+at*at,de=Ve*$-at*Ge;if(Math.abs(de)>Number.EPSILON){const te=Math.sqrt(B),fe=Math.sqrt(Ge*Ge+$*$),he=Ce.x-at/te,je=Ce.y+Ve/te,We=U.x-$/fe,Ze=U.y+Ge/fe,Ct=((We-he)*$-(Ze-je)*Ge)/(Ve*$-at*Ge);ke=he+Ve*Ct-ce.x,De=je+at*Ct-ce.y;const Ne=ke*ke+De*De;if(Ne<=2)return new ze(ke,De);Xe=Math.sqrt(Ne/2)}else{let te=!1;Ve>Number.EPSILON?Ge>Number.EPSILON&&(te=!0):Ve<-Number.EPSILON?Ge<-Number.EPSILON&&(te=!0):Math.sign(at)===Math.sign($)&&(te=!0),te?(ke=-at,De=Ve,Xe=Math.sqrt(B)):(ke=Ve,De=at,Xe=Math.sqrt(B/2))}return new ze(ke/Xe,De/Xe)}const X=[];for(let ce=0,Ce=W.length,U=Ce-1,ke=ce+1;ce<Ce;ce++,U++,ke++)U===Ce&&(U=0),ke===Ce&&(ke=0),X[ce]=q(W[ce],W[U],W[ke]);const H=[];let ee,ge=X.concat();for(let ce=0,Ce=O.length;ce<Ce;ce++){const U=O[ce];ee=[];for(let ke=0,De=U.length,Xe=De-1,Ve=ke+1;ke<De;ke++,Xe++,Ve++)Xe===De&&(Xe=0),Ve===De&&(Ve=0),ee[ke]=q(U[ke],U[Xe],U[Ve]);H.push(ee),ge=ge.concat(ee)}for(let ce=0;ce<x;ce++){const Ce=ce/x,U=m*Math.cos(Ce*Math.PI/2),ke=y*Math.sin(Ce*Math.PI/2)+C;for(let De=0,Xe=W.length;De<Xe;De++){const Ve=K(W[De],X[De],ke);Me(Ve.x,Ve.y,-U)}for(let De=0,Xe=O.length;De<Xe;De++){const Ve=O[De];ee=H[De];for(let at=0,Ge=Ve.length;at<Ge;at++){const $=K(Ve[at],ee[at],ke);Me($.x,$.y,-U)}}}const Se=y+C;for(let ce=0;ce<V;ce++){const Ce=p?K(A[ce],ge[ce],Se):A[ce];R?(N.copy(P.normals[0]).multiplyScalar(Ce.x),F.copy(P.binormals[0]).multiplyScalar(Ce.y),I.copy(S[0]).add(N).add(F),Me(I.x,I.y,I.z)):Me(Ce.x,Ce.y,0)}for(let ce=1;ce<=d;ce++)for(let Ce=0;Ce<V;Ce++){const U=p?K(A[Ce],ge[Ce],Se):A[Ce];R?(N.copy(P.normals[ce]).multiplyScalar(U.x),F.copy(P.binormals[ce]).multiplyScalar(U.y),I.copy(S[ce]).add(N).add(F),Me(I.x,I.y,I.z)):Me(U.x,U.y,f/d*ce)}for(let ce=x-1;ce>=0;ce--){const Ce=ce/x,U=m*Math.cos(Ce*Math.PI/2),ke=y*Math.sin(Ce*Math.PI/2)+C;for(let De=0,Xe=W.length;De<Xe;De++){const Ve=K(W[De],X[De],ke);Me(Ve.x,Ve.y,f+U)}for(let De=0,Xe=O.length;De<Xe;De++){const Ve=O[De];ee=H[De];for(let at=0,Ge=Ve.length;at<Ge;at++){const $=K(Ve[at],ee[at],ke);R?Me($.x,$.y+S[d-1].y,S[d-1].x+U):Me($.x,$.y,f+U)}}}Z(),ae();function Z(){const ce=s.length/3;if(p){let Ce=0,U=V*Ce;for(let ke=0;ke<Q;ke++){const De=z[ke];Oe(De[2]+U,De[1]+U,De[0]+U)}Ce=d+x*2,U=V*Ce;for(let ke=0;ke<Q;ke++){const De=z[ke];Oe(De[0]+U,De[1]+U,De[2]+U)}}else{for(let Ce=0;Ce<Q;Ce++){const U=z[Ce];Oe(U[2],U[1],U[0])}for(let Ce=0;Ce<Q;Ce++){const U=z[Ce];Oe(U[0]+V*d,U[1]+V*d,U[2]+V*d)}}i.addGroup(ce,s.length/3-ce,0)}function ae(){const ce=s.length/3;let Ce=0;xe(W,Ce),Ce+=W.length;for(let U=0,ke=O.length;U<ke;U++){const De=O[U];xe(De,Ce),Ce+=De.length}i.addGroup(ce,s.length/3-ce,1)}function xe(ce,Ce){let U=ce.length;for(;--U>=0;){const ke=U;let De=U-1;De<0&&(De=ce.length-1);for(let Xe=0,Ve=d+x*2;Xe<Ve;Xe++){const at=V*Xe,Ge=V*(Xe+1),$=Ce+ke+at,B=Ce+De+at,de=Ce+De+Ge,te=Ce+ke+Ge;Le($,B,de,te)}}}function Me(ce,Ce,U){l.push(ce),l.push(Ce),l.push(U)}function Oe(ce,Ce,U){we(ce),we(Ce),we(U);const ke=s.length/3,De=M.generateTopUV(i,s,ke-3,ke-2,ke-1);$e(De[0]),$e(De[1]),$e(De[2])}function Le(ce,Ce,U,ke){we(ce),we(Ce),we(ke),we(Ce),we(U),we(ke);const De=s.length/3,Xe=M.generateSideWallUV(i,s,De-6,De-3,De-2,De-1);$e(Xe[0]),$e(Xe[1]),$e(Xe[3]),$e(Xe[1]),$e(Xe[2]),$e(Xe[3])}function we(ce){s.push(l[ce*3+0]),s.push(l[ce*3+1]),s.push(l[ce*3+2])}function $e(ce){r.push(ce.x),r.push(ce.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,i=this.parameters.options;return B5e(n,i,e)}static fromJSON(e,n){const i=[];for(let r=0,o=e.shapes.length;r<o;r++){const a=n[e.shapes[r]];i.push(a)}const s=e.options.extrudePath;return s!==void 0&&(e.options.extrudePath=new BS[s.type]().fromJSON(s)),new wE(i,e.options)}}const k5e={generateTopUV:function(t,e,n,i,s){const r=e[n*3],o=e[n*3+1],a=e[i*3],l=e[i*3+1],c=e[s*3],d=e[s*3+1];return[new ze(r,o),new ze(a,l),new ze(c,d)]},generateSideWallUV:function(t,e,n,i,s,r){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],c=e[i*3],d=e[i*3+1],f=e[i*3+2],p=e[s*3],m=e[s*3+1],y=e[s*3+2],C=e[r*3],x=e[r*3+1],w=e[r*3+2];return Math.abs(a-d)<Math.abs(o-c)?[new ze(o,1-l),new ze(c,1-f),new ze(p,1-y),new ze(C,1-w)]:[new ze(a,1-l),new ze(d,1-f),new ze(m,1-y),new ze(x,1-w)]}};function B5e(t,e,n){if(n.shapes=[],Array.isArray(t))for(let i=0,s=t.length;i<s;i++){const r=t[i];n.shapes.push(r.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class bE extends Eu{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,s=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(s,r,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new bE(e.radius,e.detail)}}class T0 extends Eu{constructor(e=1,n=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],s=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,s,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new T0(e.radius,e.detail)}}class fm extends zt{constructor(e=1,n=1,i=1,s=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:s};const r=e/2,o=n/2,a=Math.floor(i),l=Math.floor(s),c=a+1,d=l+1,f=e/a,p=n/l,m=[],y=[],C=[],x=[];for(let w=0;w<d;w++){const M=w*p-o;for(let S=0;S<c;S++){const R=S*f-r;y.push(R,-M,0),C.push(0,0,1),x.push(S/a),x.push(1-w/l)}}for(let w=0;w<l;w++)for(let M=0;M<a;M++){const S=M+c*w,R=M+c*(w+1),P=M+1+c*(w+1),F=M+1+c*w;m.push(S,R,F),m.push(R,P,F)}this.setIndex(m),this.setAttribute("position",new mt(y,3)),this.setAttribute("normal",new mt(C,3)),this.setAttribute("uv",new mt(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fm(e.width,e.height,e.widthSegments,e.heightSegments)}}class SE extends zt{constructor(e=.5,n=1,i=32,s=1,r=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:i,phiSegments:s,thetaStart:r,thetaLength:o},i=Math.max(3,i),s=Math.max(1,s);const a=[],l=[],c=[],d=[];let f=e;const p=(n-e)/s,m=new Y,y=new ze;for(let C=0;C<=s;C++){for(let x=0;x<=i;x++){const w=r+x/i*o;m.x=f*Math.cos(w),m.y=f*Math.sin(w),l.push(m.x,m.y,m.z),c.push(0,0,1),y.x=(m.x/n+1)/2,y.y=(m.y/n+1)/2,d.push(y.x,y.y)}f+=p}for(let C=0;C<s;C++){const x=C*(i+1);for(let w=0;w<i;w++){const M=w+x,S=M,R=M+i+1,P=M+i+2,F=M+1;a.push(S,R,F),a.push(R,P,F)}}this.setIndex(a),this.setAttribute("position",new mt(l,3)),this.setAttribute("normal",new mt(c,3)),this.setAttribute("uv",new mt(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new SE(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class EE extends zt{constructor(e=new nh([new ze(0,.5),new ze(-.5,-.5),new ze(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const i=[],s=[],r=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let d=0;d<e.length;d++)c(e[d]),this.addGroup(a,l,d),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new mt(s,3)),this.setAttribute("normal",new mt(r,3)),this.setAttribute("uv",new mt(o,2));function c(d){const f=s.length/3,p=d.extractPoints(n);let m=p.shape;const y=p.holes;La.isClockWise(m)===!1&&(m=m.reverse());for(let x=0,w=y.length;x<w;x++){const M=y[x];La.isClockWise(M)===!0&&(y[x]=M.reverse())}const C=La.triangulateShape(m,y);for(let x=0,w=y.length;x<w;x++){const M=y[x];m=m.concat(M)}for(let x=0,w=m.length;x<w;x++){const M=m[x];s.push(M.x,M.y,0),r.push(0,0,1),o.push(M.x,M.y)}for(let x=0,w=C.length;x<w;x++){const M=C[x],S=M[0]+f,R=M[1]+f,P=M[2]+f;i.push(S,R,P),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return H5e(n,e)}static fromJSON(e,n){const i=[];for(let s=0,r=e.shapes.length;s<r;s++){const o=n[e.shapes[s]];i.push(o)}return new EE(i,e.curveSegments)}}function H5e(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const s=t[n];e.shapes.push(s.uuid)}else e.shapes.push(t.uuid);return e}class R0 extends zt{constructor(e=1,n=32,i=16,s=0,r=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:i,phiStart:s,phiLength:r,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let c=0;const d=[],f=new Y,p=new Y,m=[],y=[],C=[],x=[];for(let w=0;w<=i;w++){const M=[],S=w/i;let R=0;w===0&&o===0?R=.5/n:w===i&&l===Math.PI&&(R=-.5/n);for(let P=0;P<=n;P++){const F=P/n;f.x=-e*Math.cos(s+F*r)*Math.sin(o+S*a),f.y=e*Math.cos(o+S*a),f.z=e*Math.sin(s+F*r)*Math.sin(o+S*a),y.push(f.x,f.y,f.z),p.copy(f).normalize(),C.push(p.x,p.y,p.z),x.push(F+R,1-S),M.push(c++)}d.push(M)}for(let w=0;w<i;w++)for(let M=0;M<n;M++){const S=d[w][M+1],R=d[w][M],P=d[w+1][M],F=d[w+1][M+1];(w!==0||o>0)&&m.push(S,R,F),(w!==i-1||l<Math.PI)&&m.push(R,P,F)}this.setIndex(m),this.setAttribute("position",new mt(y,3)),this.setAttribute("normal",new mt(C,3)),this.setAttribute("uv",new mt(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new R0(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class ME extends Eu{constructor(e=1,n=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],s=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,s,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new ME(e.radius,e.detail)}}class TE extends zt{constructor(e=1,n=.4,i=12,s=48,r=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:i,tubularSegments:s,arc:r},i=Math.floor(i),s=Math.floor(s);const o=[],a=[],l=[],c=[],d=new Y,f=new Y,p=new Y;for(let m=0;m<=i;m++)for(let y=0;y<=s;y++){const C=y/s*r,x=m/i*Math.PI*2;f.x=(e+n*Math.cos(x))*Math.cos(C),f.y=(e+n*Math.cos(x))*Math.sin(C),f.z=n*Math.sin(x),a.push(f.x,f.y,f.z),d.x=e*Math.cos(C),d.y=e*Math.sin(C),p.subVectors(f,d).normalize(),l.push(p.x,p.y,p.z),c.push(y/s),c.push(m/i)}for(let m=1;m<=i;m++)for(let y=1;y<=s;y++){const C=(s+1)*m+y-1,x=(s+1)*(m-1)+y-1,w=(s+1)*(m-1)+y,M=(s+1)*m+y;o.push(C,x,M),o.push(x,w,M)}this.setIndex(o),this.setAttribute("position",new mt(a,3)),this.setAttribute("normal",new mt(l,3)),this.setAttribute("uv",new mt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new TE(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class RE extends zt{constructor(e=1,n=.4,i=64,s=8,r=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:i,radialSegments:s,p:r,q:o},i=Math.floor(i),s=Math.floor(s);const a=[],l=[],c=[],d=[],f=new Y,p=new Y,m=new Y,y=new Y,C=new Y,x=new Y,w=new Y;for(let S=0;S<=i;++S){const R=S/i*r*Math.PI*2;M(R,r,o,e,m),M(R+.01,r,o,e,y),x.subVectors(y,m),w.addVectors(y,m),C.crossVectors(x,w),w.crossVectors(C,x),C.normalize(),w.normalize();for(let P=0;P<=s;++P){const F=P/s*Math.PI*2,N=-n*Math.cos(F),I=n*Math.sin(F);f.x=m.x+(N*w.x+I*C.x),f.y=m.y+(N*w.y+I*C.y),f.z=m.z+(N*w.z+I*C.z),l.push(f.x,f.y,f.z),p.subVectors(f,m).normalize(),c.push(p.x,p.y,p.z),d.push(S/i),d.push(P/s)}}for(let S=1;S<=i;S++)for(let R=1;R<=s;R++){const P=(s+1)*(S-1)+(R-1),F=(s+1)*S+(R-1),N=(s+1)*S+R,I=(s+1)*(S-1)+R;a.push(P,F,I),a.push(F,N,I)}this.setIndex(a),this.setAttribute("position",new mt(l,3)),this.setAttribute("normal",new mt(c,3)),this.setAttribute("uv",new mt(d,2));function M(S,R,P,F,N){const I=Math.cos(S),_=Math.sin(S),A=P/R*S,O=Math.cos(A);N.x=F*(2+O)*.5*I,N.y=F*(2+O)*_*.5,N.z=F*Math.sin(A)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new RE(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class AE extends zt{constructor(e=new uI(new Y(-1,-1,0),new Y(-1,1,0),new Y(1,1,0)),n=64,i=1,s=8,r=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:i,radialSegments:s,closed:r};const o=e.computeFrenetFrames(n,r);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new Y,l=new Y,c=new ze;let d=new Y;const f=[],p=[],m=[],y=[];C(),this.setIndex(y),this.setAttribute("position",new mt(f,3)),this.setAttribute("normal",new mt(p,3)),this.setAttribute("uv",new mt(m,2));function C(){for(let S=0;S<n;S++)x(S);x(r===!1?n:0),M(),w()}function x(S){d=e.getPointAt(S/n,d);const R=o.normals[S],P=o.binormals[S];for(let F=0;F<=s;F++){const N=F/s*Math.PI*2,I=Math.sin(N),_=-Math.cos(N);l.x=_*R.x+I*P.x,l.y=_*R.y+I*P.y,l.z=_*R.z+I*P.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=d.x+i*l.x,a.y=d.y+i*l.y,a.z=d.z+i*l.z,f.push(a.x,a.y,a.z)}}function w(){for(let S=1;S<=n;S++)for(let R=1;R<=s;R++){const P=(s+1)*(S-1)+(R-1),F=(s+1)*S+(R-1),N=(s+1)*S+R,I=(s+1)*(S-1)+R;y.push(P,F,I),y.push(F,N,I)}}function M(){for(let S=0;S<=n;S++)for(let R=0;R<=s;R++)c.x=S/n,c.y=R/s,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new AE(new BS[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class qK extends zt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],i=new Set,s=new Y,r=new Y;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,d=l.length;c<d;++c){const f=l[c],p=f.start,m=f.count;for(let y=p,C=p+m;y<C;y+=3)for(let x=0;x<3;x++){const w=a.getX(y+x),M=a.getX(y+(x+1)%3);s.fromBufferAttribute(o,w),r.fromBufferAttribute(o,M),Tz(s,r,i)===!0&&(n.push(s.x,s.y,s.z),n.push(r.x,r.y,r.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const d=3*a+c,f=3*a+(c+1)%3;s.fromBufferAttribute(o,d),r.fromBufferAttribute(o,f),Tz(s,r,i)===!0&&(n.push(s.x,s.y,s.z),n.push(r.x,r.y,r.z))}}this.setAttribute("position",new mt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function Tz(t,e,n){const i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,s=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(i)===!0||n.has(s)===!0?!1:(n.add(i),n.add(s),!0)}var Rz=Object.freeze({__proto__:null,BoxGeometry:_h,CapsuleGeometry:gE,CircleGeometry:vE,ConeGeometry:yE,CylinderGeometry:hm,DodecahedronGeometry:xE,EdgesGeometry:UK,ExtrudeGeometry:wE,IcosahedronGeometry:bE,LatheGeometry:M0,OctahedronGeometry:T0,PlaneGeometry:fm,PolyhedronGeometry:Eu,RingGeometry:SE,ShapeGeometry:EE,SphereGeometry:R0,TetrahedronGeometry:ME,TorusGeometry:TE,TorusKnotGeometry:RE,TubeGeometry:AE,WireframeGeometry:qK});class KK extends Ns{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ut(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class YK extends ia{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class hI extends Ns{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new ut(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=bu,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Kr,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class XK extends hI{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ze(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return It(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ut(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ut(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ut(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class ZK extends Ns{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ut(16777215),this.specular=new ut(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=bu,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Kr,this.combine=C0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class JK extends Ns{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ut(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=bu,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class QK extends Ns{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=bu,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class eY extends Ns{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ut(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=bu,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Kr,this.combine=C0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class fI extends Ns{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=uK,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class pI extends Ns{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class tY extends Ns{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ut(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=bu,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class nY extends ar{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Bd(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function iY(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function sY(t){function e(s,r){return t[s]-t[r]}const n=t.length,i=new Array(n);for(let s=0;s!==n;++s)i[s]=s;return i.sort(e),i}function ID(t,e,n){const i=t.length,s=new t.constructor(i);for(let r=0,o=0;o!==i;++r){const a=n[r]*e;for(let l=0;l!==e;++l)s[o++]=t[a+l]}return s}function mI(t,e,n,i){let s=1,r=t[0];for(;r!==void 0&&r[i]===void 0;)r=t[s++];if(r===void 0)return;let o=r[i];if(o!==void 0)if(Array.isArray(o))do o=r[i],o!==void 0&&(e.push(r.time),n.push(...o)),r=t[s++];while(r!==void 0);else if(o.toArray!==void 0)do o=r[i],o!==void 0&&(e.push(r.time),o.toArray(n,n.length)),r=t[s++];while(r!==void 0);else do o=r[i],o!==void 0&&(e.push(r.time),n.push(o)),r=t[s++];while(r!==void 0)}function V5e(t,e,n,i,s=30){const r=t.clone();r.name=e;const o=[];for(let l=0;l<r.tracks.length;++l){const c=r.tracks[l],d=c.getValueSize(),f=[],p=[];for(let m=0;m<c.times.length;++m){const y=c.times[m]*s;if(!(y<n||y>=i)){f.push(c.times[m]);for(let C=0;C<d;++C)p.push(c.values[m*d+C])}}f.length!==0&&(c.times=Bd(f,c.times.constructor),c.values=Bd(p,c.values.constructor),o.push(c))}r.tracks=o;let a=1/0;for(let l=0;l<r.tracks.length;++l)a>r.tracks[l].times[0]&&(a=r.tracks[l].times[0]);for(let l=0;l<r.tracks.length;++l)r.tracks[l].shift(-1*a);return r.resetDuration(),r}function z5e(t,e=0,n=t,i=30){i<=0&&(i=30);const s=n.tracks.length,r=e/i;for(let o=0;o<s;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(w){return w.name===a.name&&w.ValueTypeName===l});if(c===void 0)continue;let d=0;const f=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=f/3);let p=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const y=a.times.length-1;let C;if(r<=a.times[0]){const w=d,M=f-d;C=a.values.slice(w,M)}else if(r>=a.times[y]){const w=y*f+d,M=w+f-d;C=a.values.slice(w,M)}else{const w=a.createInterpolant(),M=d,S=f-d;w.evaluate(r),C=w.resultBuffer.slice(M,S)}l==="quaternion"&&new Sr().fromArray(C).normalize().conjugate().toArray(C);const x=c.times.length;for(let w=0;w<x;++w){const M=w*m+p;if(l==="quaternion")Sr.multiplyQuaternionsFlat(c.values,M,C,0,c.values,M);else{const S=m-p*2;for(let R=0;R<S;++R)c.values[M+R]-=C[R]}}}return t.blendMode=ZN,t}const G5e={convertArray:Bd,isTypedArray:iY,getKeyframeOrder:sY,sortedArray:ID,flattenJSON:mI,subclip:V5e,makeClipAdditive:z5e};class A0{constructor(e,n,i,s){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=s!==void 0?s:new n.constructor(i),this.sampleValues=n,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let i=this._cachedIndex,s=n[i],r=n[i-1];e:{t:{let o;n:{i:if(!(e<s)){for(let a=i+2;;){if(s===void 0){if(e<r)break i;return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(r=s,s=n[++i],e<s)break t}o=n.length;break n}if(!(e>=r)){const a=n[1];e<a&&(i=2,r=a);for(let l=i-2;;){if(r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(s=r,r=n[--i-1],e>=r)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<n[a]?o=a:i=a+1}if(s=n[i],r=n[i-1],r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(s===void 0)return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,r,s)}return this.interpolate_(i,r,e,s)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,s=this.valueSize,r=e*s;for(let o=0;o!==s;++o)n[o]=i[r+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class rY extends A0{constructor(e,n,i,s){super(e,n,i,s),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Ld,endingEnd:Ld}}intervalChanged_(e,n,i){const s=this.parameterPositions;let r=e-2,o=e+1,a=s[r],l=s[o];if(a===void 0)switch(this.getSettings_().endingStart){case kd:r=e,a=2*n-i;break;case Cy:r=s.length-2,a=n+s[r]-s[r+1];break;default:r=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case kd:o=e,l=2*i-n;break;case Cy:o=1,l=i+s[1]-s[0];break;default:o=e-1,l=n}const c=(i-n)*.5,d=this.valueSize;this._weightPrev=c/(n-a),this._weightNext=c/(l-i),this._offsetPrev=r*d,this._offsetNext=o*d}interpolate_(e,n,i,s){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,d=this._offsetPrev,f=this._offsetNext,p=this._weightPrev,m=this._weightNext,y=(i-n)/(s-n),C=y*y,x=C*y,w=-p*x+2*p*C-p*y,M=(1+p)*x+(-1.5-2*p)*C+(-.5+p)*y+1,S=(-1-m)*x+(1.5+m)*C+.5*y,R=m*x-m*C;for(let P=0;P!==a;++P)r[P]=w*o[d+P]+M*o[c+P]+S*o[l+P]+R*o[f+P];return r}}class gI extends A0{constructor(e,n,i,s){super(e,n,i,s)}interpolate_(e,n,i,s){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,d=(i-n)/(s-n),f=1-d;for(let p=0;p!==a;++p)r[p]=o[c+p]*f+o[l+p]*d;return r}}class oY extends A0{constructor(e,n,i,s){super(e,n,i,s)}interpolate_(e){return this.copySampleValue_(e-1)}}class la{constructor(e,n,i,s){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Bd(n,this.TimeBufferType),this.values=Bd(i,this.ValueBufferType),this.setInterpolation(s||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let i;if(n.toJSON!==this.toJSON)i=n.toJSON(e);else{i={name:e.name,times:Bd(e.times,Array),values:Bd(e.values,Array)};const s=e.getInterpolation();s!==e.DefaultInterpolation&&(i.interpolation=s)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new oY(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new gI(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new rY(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case xy:n=this.InterpolantFactoryMethodDiscrete;break;case OS:n=this.InterpolantFactoryMethodLinear;break;case zw:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return xy;case this.InterpolantFactoryMethodLinear:return OS;case this.InterpolantFactoryMethodSmooth:return zw}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let i=0,s=n.length;i!==s;++i)n[i]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let i=0,s=n.length;i!==s;++i)n[i]*=e}return this}trim(e,n){const i=this.times,s=i.length;let r=0,o=s-1;for(;r!==s&&i[r]<e;)++r;for(;o!==-1&&i[o]>n;)--o;if(++o,r!==0||o!==s){r>=o&&(o=Math.max(o,1),r=o-1);const a=this.getValueSize();this.times=i.slice(r,o),this.values=this.values.slice(r*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,s=this.values,r=i.length;r===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==r;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(s!==void 0&&iY(s))for(let a=0,l=s.length;a!==l;++a){const c=s[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),i=this.getValueSize(),s=this.getInterpolation()===zw,r=e.length-1;let o=1;for(let a=1;a<r;++a){let l=!1;const c=e[a],d=e[a+1];if(c!==d&&(a!==1||c!==e[0]))if(s)l=!0;else{const f=a*i,p=f-i,m=f+i;for(let y=0;y!==i;++y){const C=n[f+y];if(C!==n[p+y]||C!==n[m+y]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const f=a*i,p=o*i;for(let m=0;m!==i;++m)n[p+m]=n[f+m]}++o}}if(r>0){e[o]=e[r];for(let a=r*i,l=o*i,c=0;c!==i;++c)n[l+c]=n[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*i)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),i=this.constructor,s=new i(this.name,e,n);return s.createInterpolant=this.createInterpolant,s}}la.prototype.TimeBufferType=Float32Array;la.prototype.ValueBufferType=Float32Array;la.prototype.DefaultInterpolation=OS;class Fh extends la{constructor(e,n,i){super(e,n,i)}}Fh.prototype.ValueTypeName="bool";Fh.prototype.ValueBufferType=Array;Fh.prototype.DefaultInterpolation=xy;Fh.prototype.InterpolantFactoryMethodLinear=void 0;Fh.prototype.InterpolantFactoryMethodSmooth=void 0;class vI extends la{}vI.prototype.ValueTypeName="color";class Py extends la{}Py.prototype.ValueTypeName="number";class aY extends A0{constructor(e,n,i,s){super(e,n,i,s)}interpolate_(e,n,i,s){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-n)/(s-n);let c=e*a;for(let d=c+a;c!==d;c+=4)Sr.slerpFlat(r,0,o,c-a,o,c,l);return r}}class P0 extends la{InterpolantFactoryMethodLinear(e){return new aY(this.times,this.values,this.getValueSize(),e)}}P0.prototype.ValueTypeName="quaternion";P0.prototype.InterpolantFactoryMethodSmooth=void 0;class Nh extends la{constructor(e,n,i){super(e,n,i)}}Nh.prototype.ValueTypeName="string";Nh.prototype.ValueBufferType=Array;Nh.prototype.DefaultInterpolation=xy;Nh.prototype.InterpolantFactoryMethodLinear=void 0;Nh.prototype.InterpolantFactoryMethodSmooth=void 0;class Dy extends la{}Dy.prototype.ValueTypeName="vector";class _y{constructor(e="",n=-1,i=[],s=rE){this.name=e,this.tracks=i,this.duration=n,this.blendMode=s,this.uuid=Wr(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],i=e.tracks,s=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)n.push(j5e(i[o]).scale(s));const r=new this(e.name,e.duration,n,e.blendMode);return r.uuid=e.uuid,r}static toJSON(e){const n=[],i=e.tracks,s={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let r=0,o=i.length;r!==o;++r)n.push(la.toJSON(i[r]));return s}static CreateFromMorphTargetSequence(e,n,i,s){const r=n.length,o=[];for(let a=0;a<r;a++){let l=[],c=[];l.push((a+r-1)%r,a,(a+1)%r),c.push(0,1,0);const d=sY(l);l=ID(l,1,d),c=ID(c,1,d),!s&&l[0]===0&&(l.push(r),c.push(c[0])),o.push(new Py(".morphTargetInfluences["+n[a].name+"]",l,c).scale(1/i))}return new this(e,-1,o)}static findByName(e,n){let i=e;if(!Array.isArray(e)){const s=e;i=s.geometry&&s.geometry.animations||s.animations}for(let s=0;s<i.length;s++)if(i[s].name===n)return i[s];return null}static CreateClipsFromMorphTargetSequences(e,n,i){const s={},r=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],d=c.name.match(r);if(d&&d.length>1){const f=d[1];let p=s[f];p||(s[f]=p=[]),p.push(c)}}const o=[];for(const a in s)o.push(this.CreateFromMorphTargetSequence(a,s[a],n,i));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(f,p,m,y,C){if(m.length!==0){const x=[],w=[];mI(m,x,w,y),x.length!==0&&C.push(new f(p,x,w))}},s=[],r=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let f=0;f<c.length;f++){const p=c[f].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let y;for(y=0;y<p.length;y++)if(p[y].morphTargets)for(let C=0;C<p[y].morphTargets.length;C++)m[p[y].morphTargets[C]]=-1;for(const C in m){const x=[],w=[];for(let M=0;M!==p[y].morphTargets.length;++M){const S=p[y];x.push(S.time),w.push(S.morphTarget===C?1:0)}s.push(new Py(".morphTargetInfluence["+C+"]",x,w))}l=m.length*o}else{const m=".bones["+n[f].name+"]";i(Dy,m+".position",p,"pos",s),i(P0,m+".quaternion",p,"rot",s),i(Dy,m+".scale",p,"scl",s)}}return s.length===0?null:new this(r,l,s,a)}resetDuration(){const e=this.tracks;let n=0;for(let i=0,s=e.length;i!==s;++i){const r=this.tracks[i];n=Math.max(n,r.times[r.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function U5e(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Py;case"vector":case"vector2":case"vector3":case"vector4":return Dy;case"color":return vI;case"quaternion":return P0;case"bool":case"boolean":return Fh;case"string":return Nh}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function j5e(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=U5e(t.type);if(t.times===void 0){const n=[],i=[];mI(t.keys,n,i,"value"),t.times=n,t.values=i}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Dl={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class yI{constructor(e,n,i){const s=this;let r=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=i,this.itemStart=function(d){a++,r===!1&&s.onStart!==void 0&&s.onStart(d,o,a),r=!0},this.itemEnd=function(d){o++,s.onProgress!==void 0&&s.onProgress(d,o,a),o===a&&(r=!1,s.onLoad!==void 0&&s.onLoad())},this.itemError=function(d){s.onError!==void 0&&s.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,f){return c.push(d,f),this},this.removeHandler=function(d){const f=c.indexOf(d);return f!==-1&&c.splice(f,2),this},this.getHandler=function(d){for(let f=0,p=c.length;f<p;f+=2){const m=c[f],y=c[f+1];if(m.global&&(m.lastIndex=0),m.test(d))return y}return null}}}const lY=new yI;class Tr{constructor(e){this.manager=e!==void 0?e:lY,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const i=this;return new Promise(function(s,r){i.load(e,s,n,r)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Tr.DEFAULT_MATERIAL_NAME="__DEFAULT";const wl={};class W5e extends Error{constructor(e,n){super(e),this.response=n}}class Ql extends Tr{constructor(e){super(e)}load(e,n,i,s){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=Dl.get(e);if(r!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(r),this.manager.itemEnd(e)},0),r;if(wl[e]!==void 0){wl[e].push({onLoad:n,onProgress:i,onError:s});return}wl[e]=[],wl[e].push({onLoad:n,onProgress:i,onError:s});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const d=wl[e],f=c.body.getReader(),p=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),m=p?parseInt(p):0,y=m!==0;let C=0;const x=new ReadableStream({start(w){M();function M(){f.read().then(({done:S,value:R})=>{if(S)w.close();else{C+=R.byteLength;const P=new ProgressEvent("progress",{lengthComputable:y,loaded:C,total:m});for(let F=0,N=d.length;F<N;F++){const I=d[F];I.onProgress&&I.onProgress(P)}w.enqueue(R),M()}},S=>{w.error(S)})}}});return new Response(x)}else throw new W5e(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(d=>new DOMParser().parseFromString(d,a));case"json":return c.json();default:if(a===void 0)return c.text();{const f=/charset="?([^;"\s]*)"?/i.exec(a),p=f&&f[1]?f[1].toLowerCase():void 0,m=new TextDecoder(p);return c.arrayBuffer().then(y=>m.decode(y))}}}).then(c=>{Dl.add(e,c);const d=wl[e];delete wl[e];for(let f=0,p=d.length;f<p;f++){const m=d[f];m.onLoad&&m.onLoad(c)}}).catch(c=>{const d=wl[e];if(d===void 0)throw this.manager.itemError(e),c;delete wl[e];for(let f=0,p=d.length;f<p;f++){const m=d[f];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class $5e extends Tr{constructor(e){super(e)}load(e,n,i,s){const r=this,o=new Ql(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(r.parse(JSON.parse(a)))}catch(l){s?s(l):console.error(l),r.manager.itemError(e)}},i,s)}parse(e){const n=[];for(let i=0;i<e.length;i++){const s=_y.parse(e[i]);n.push(s)}return n}}class q5e extends Tr{constructor(e){super(e)}load(e,n,i,s){const r=this,o=[],a=new pE,l=new Ql(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(r.withCredentials);let c=0;function d(f){l.load(e[f],function(p){const m=r.parse(p,!0);o[f]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=Li),a.image=o,a.format=m.format,a.needsUpdate=!0,n&&n(a))},i,s)}if(Array.isArray(e))for(let f=0,p=e.length;f<p;++f)d(f);else l.load(e,function(f){const p=r.parse(f,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let y=0;y<m;y++){o[y]={mipmaps:[]};for(let C=0;C<p.mipmapCount;C++)o[y].mipmaps.push(p.mipmaps[y*p.mipmapCount+C]),o[y].format=p.format,o[y].width=p.width,o[y].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=Li),a.format=p.format,a.needsUpdate=!0,n&&n(a)},i,s);return a}}class Fy extends Tr{constructor(e){super(e)}load(e,n,i,s){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=Dl.get(e);if(o!==void 0)return r.manager.itemStart(e),setTimeout(function(){n&&n(o),r.manager.itemEnd(e)},0),o;const a=Ey("img");function l(){d(),Dl.add(e,this),n&&n(this),r.manager.itemEnd(e)}function c(f){d(),s&&s(f),r.manager.itemError(e),r.manager.itemEnd(e)}function d(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),r.manager.itemStart(e),a.src=e,a}}class K5e extends Tr{constructor(e){super(e)}load(e,n,i,s){const r=new S0;r.colorSpace=mr;const o=new Fy(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(d){r.images[c]=d,a++,a===6&&(r.needsUpdate=!0,n&&n(r))},void 0,s)}for(let c=0;c<e.length;++c)l(c);return r}}class Y5e extends Tr{constructor(e){super(e)}load(e,n,i,s){const r=this,o=new Oa,a=new Ql(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(r.withCredentials),a.load(e,function(l){let c;try{c=r.parse(l)}catch(d){if(s!==void 0)s(d);else{console.error(d);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:Eo,o.wrapT=c.wrapT!==void 0?c.wrapT:Eo,o.magFilter=c.magFilter!==void 0?c.magFilter:Li,o.minFilter=c.minFilter!==void 0?c.minFilter:Li,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(o.colorSpace=c.colorSpace),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Pa),c.mipmapCount===1&&(o.minFilter=Li),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,n&&n(o,c)},i,s),o}}class X5e extends Tr{constructor(e){super(e)}load(e,n,i,s){const r=new hi,o=new Fy(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){r.image=a,r.needsUpdate=!0,n!==void 0&&n(r)},i,s),r}}class Mu extends an{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new ut(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}class cY extends Mu{constructor(e,n,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(an.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ut(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const n2=new Tt,Az=new Y,Pz=new Y;class xI{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ze(512,512),this.map=null,this.mapPass=null,this.matrix=new Tt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new E0,this._frameExtents=new ze(1,1),this._viewportCount=1,this._viewports=[new rn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,i=this.matrix;Az.setFromMatrixPosition(e.matrixWorld),n.position.copy(Az),Pz.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(Pz),n.updateMatrixWorld(),n2.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(n2),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(n2)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Z5e extends xI{constructor(){super(new us(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,i=zp*2*e.angle*this.focus,s=this.mapSize.width/this.mapSize.height,r=e.distance||n.far;(i!==n.fov||s!==n.aspect||r!==n.far)&&(n.fov=i,n.aspect=s,n.far=r,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class uY extends Mu{constructor(e,n,i=0,s=Math.PI/3,r=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(an.DEFAULT_UP),this.updateMatrix(),this.target=new an,this.distance=i,this.angle=s,this.penumbra=r,this.decay=o,this.map=null,this.shadow=new Z5e}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const Dz=new Tt,Ug=new Y,i2=new Y;class J5e extends xI{constructor(){super(new us(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ze(4,2),this._viewportCount=6,this._viewports=[new rn(2,1,1,1),new rn(0,1,1,1),new rn(3,1,1,1),new rn(1,1,1,1),new rn(3,0,1,1),new rn(1,0,1,1)],this._cubeDirections=[new Y(1,0,0),new Y(-1,0,0),new Y(0,0,1),new Y(0,0,-1),new Y(0,1,0),new Y(0,-1,0)],this._cubeUps=[new Y(0,1,0),new Y(0,1,0),new Y(0,1,0),new Y(0,1,0),new Y(0,0,1),new Y(0,0,-1)]}updateMatrices(e,n=0){const i=this.camera,s=this.matrix,r=e.distance||i.far;r!==i.far&&(i.far=r,i.updateProjectionMatrix()),Ug.setFromMatrixPosition(e.matrixWorld),i.position.copy(Ug),i2.copy(i.position),i2.add(this._cubeDirections[n]),i.up.copy(this._cubeUps[n]),i.lookAt(i2),i.updateMatrixWorld(),s.makeTranslation(-Ug.x,-Ug.y,-Ug.z),Dz.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Dz)}}class dY extends Mu{constructor(e,n,i=0,s=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=s,this.shadow=new J5e}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class PE extends cE{constructor(e=-1,n=1,i=1,s=-1,r=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=i,this.bottom=s,this.near=r,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,i,s,r,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=s,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,s=(this.top+this.bottom)/2;let r=i-e,o=i+e,a=s+n,l=s-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=c*this.view.offsetX,o=r+c*this.view.width,a-=d*this.view.offsetY,l=a-d*this.view.height}this.projectionMatrix.makeOrthographic(r,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class Q5e extends xI{constructor(){super(new PE(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class hY extends Mu{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(an.DEFAULT_UP),this.updateMatrix(),this.target=new an,this.shadow=new Q5e}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class fY extends Mu{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class pY extends Mu{constructor(e,n,i=10,s=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=s}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class mY{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Y)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const i=e.x,s=e.y,r=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*s),n.addScaledVector(o[2],.488603*r),n.addScaledVector(o[3],.488603*i),n.addScaledVector(o[4],1.092548*(i*s)),n.addScaledVector(o[5],1.092548*(s*r)),n.addScaledVector(o[6],.315392*(3*r*r-1)),n.addScaledVector(o[7],1.092548*(i*r)),n.addScaledVector(o[8],.546274*(i*i-s*s)),n}getIrradianceAt(e,n){const i=e.x,s=e.y,r=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*s),n.addScaledVector(o[2],2*.511664*r),n.addScaledVector(o[3],2*.511664*i),n.addScaledVector(o[4],2*.429043*i*s),n.addScaledVector(o[5],2*.429043*s*r),n.addScaledVector(o[6],.743125*r*r-.247708),n.addScaledVector(o[7],2*.429043*i*r),n.addScaledVector(o[8],.429043*(i*i-s*s)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].fromArray(e,n+s*3);return this}toArray(e=[],n=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].toArray(e,n+s*3);return e}static getBasisAt(e,n){const i=e.x,s=e.y,r=e.z;n[0]=.282095,n[1]=.488603*s,n[2]=.488603*r,n[3]=.488603*i,n[4]=1.092548*i*s,n[5]=1.092548*s*r,n[6]=.315392*(3*r*r-1),n[7]=1.092548*i*r,n[8]=.546274*(i*i-s*s)}}class gY extends Mu{constructor(e=new mY,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class DE extends Tr{constructor(e){super(e),this.textures={}}load(e,n,i,s){const r=this,o=new Ql(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,function(a){try{n(r.parse(JSON.parse(a)))}catch(l){s?s(l):console.error(l),r.manager.itemError(e)}},i,s)}parse(e){const n=this.textures;function i(r){return n[r]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",r),n[r]}const s=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(s.uuid=e.uuid),e.name!==void 0&&(s.name=e.name),e.color!==void 0&&s.color!==void 0&&s.color.setHex(e.color),e.roughness!==void 0&&(s.roughness=e.roughness),e.metalness!==void 0&&(s.metalness=e.metalness),e.sheen!==void 0&&(s.sheen=e.sheen),e.sheenColor!==void 0&&(s.sheenColor=new ut().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(s.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&s.emissive!==void 0&&s.emissive.setHex(e.emissive),e.specular!==void 0&&s.specular!==void 0&&s.specular.setHex(e.specular),e.specularIntensity!==void 0&&(s.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&s.specularColor!==void 0&&s.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(s.shininess=e.shininess),e.clearcoat!==void 0&&(s.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(s.dispersion=e.dispersion),e.iridescence!==void 0&&(s.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(s.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(s.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(s.transmission=e.transmission),e.thickness!==void 0&&(s.thickness=e.thickness),e.attenuationDistance!==void 0&&(s.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&s.attenuationColor!==void 0&&s.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(s.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(s.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(s.fog=e.fog),e.flatShading!==void 0&&(s.flatShading=e.flatShading),e.blending!==void 0&&(s.blending=e.blending),e.combine!==void 0&&(s.combine=e.combine),e.side!==void 0&&(s.side=e.side),e.shadowSide!==void 0&&(s.shadowSide=e.shadowSide),e.opacity!==void 0&&(s.opacity=e.opacity),e.transparent!==void 0&&(s.transparent=e.transparent),e.alphaTest!==void 0&&(s.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(s.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(s.depthFunc=e.depthFunc),e.depthTest!==void 0&&(s.depthTest=e.depthTest),e.depthWrite!==void 0&&(s.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(s.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(s.blendSrc=e.blendSrc),e.blendDst!==void 0&&(s.blendDst=e.blendDst),e.blendEquation!==void 0&&(s.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(s.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(s.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(s.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&s.blendColor!==void 0&&s.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(s.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(s.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(s.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(s.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(s.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(s.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(s.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(s.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(s.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(s.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(s.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(s.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(s.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(s.rotation=e.rotation),e.linewidth!==void 0&&(s.linewidth=e.linewidth),e.dashSize!==void 0&&(s.dashSize=e.dashSize),e.gapSize!==void 0&&(s.gapSize=e.gapSize),e.scale!==void 0&&(s.scale=e.scale),e.polygonOffset!==void 0&&(s.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(s.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(s.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(s.dithering=e.dithering),e.alphaToCoverage!==void 0&&(s.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(s.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(s.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(s.visible=e.visible),e.toneMapped!==void 0&&(s.toneMapped=e.toneMapped),e.userData!==void 0&&(s.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?s.vertexColors=e.vertexColors>0:s.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const r in e.uniforms){const o=e.uniforms[r];switch(s.uniforms[r]={},o.type){case"t":s.uniforms[r].value=i(o.value);break;case"c":s.uniforms[r].value=new ut().setHex(o.value);break;case"v2":s.uniforms[r].value=new ze().fromArray(o.value);break;case"v3":s.uniforms[r].value=new Y().fromArray(o.value);break;case"v4":s.uniforms[r].value=new rn().fromArray(o.value);break;case"m3":s.uniforms[r].value=new Ot().fromArray(o.value);break;case"m4":s.uniforms[r].value=new Tt().fromArray(o.value);break;default:s.uniforms[r].value=o.value}}if(e.defines!==void 0&&(s.defines=e.defines),e.vertexShader!==void 0&&(s.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(s.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(s.glslVersion=e.glslVersion),e.extensions!==void 0)for(const r in e.extensions)s.extensions[r]=e.extensions[r];if(e.lights!==void 0&&(s.lights=e.lights),e.clipping!==void 0&&(s.clipping=e.clipping),e.size!==void 0&&(s.size=e.size),e.sizeAttenuation!==void 0&&(s.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(s.map=i(e.map)),e.matcap!==void 0&&(s.matcap=i(e.matcap)),e.alphaMap!==void 0&&(s.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(s.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(s.bumpScale=e.bumpScale),e.normalMap!==void 0&&(s.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(s.normalMapType=e.normalMapType),e.normalScale!==void 0){let r=e.normalScale;Array.isArray(r)===!1&&(r=[r,r]),s.normalScale=new ze().fromArray(r)}return e.displacementMap!==void 0&&(s.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(s.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(s.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(s.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(s.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(s.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(s.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(s.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(s.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(s.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(s.envMap=i(e.envMap)),e.envMapRotation!==void 0&&s.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(s.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(s.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(s.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(s.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(s.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(s.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(s.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(s.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(s.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(s.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(s.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(s.clearcoatNormalScale=new ze().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(s.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(s.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(s.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(s.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(s.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(s.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(s.sheenRoughnessMap=i(e.sheenRoughnessMap)),s}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return DE.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:KK,SpriteMaterial:nI,RawShaderMaterial:YK,ShaderMaterial:ia,PointsMaterial:sI,MeshPhysicalMaterial:XK,MeshStandardMaterial:hI,MeshPhongMaterial:ZK,MeshToonMaterial:JK,MeshNormalMaterial:QK,MeshLambertMaterial:eY,MeshDepthMaterial:fI,MeshDistanceMaterial:pI,MeshBasicMaterial:Su,MeshMatcapMaterial:tY,LineDashedMaterial:nY,LineBasicMaterial:ar,Material:Ns};return new n[e]}}class OD{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let i=0,s=e.length;i<s;i++)n+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class vY extends zt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class yY extends Tr{constructor(e){super(e)}load(e,n,i,s){const r=this,o=new Ql(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,function(a){try{n(r.parse(JSON.parse(a)))}catch(l){s?s(l):console.error(l),r.manager.itemError(e)}},i,s)}parse(e){const n={},i={};function s(m,y){if(n[y]!==void 0)return n[y];const x=m.interleavedBuffers[y],w=r(m,x.buffer),M=sp(x.type,w),S=new hE(M,x.stride);return S.uuid=x.uuid,n[y]=S,S}function r(m,y){if(i[y]!==void 0)return i[y];const x=m.arrayBuffers[y],w=new Uint32Array(x).buffer;return i[y]=w,w}const o=e.isInstancedBufferGeometry?new vY:new zt,a=e.data.index;if(a!==void 0){const m=sp(a.type,a.array);o.setIndex(new An(m,1))}const l=e.data.attributes;for(const m in l){const y=l[m];let C;if(y.isInterleavedBufferAttribute){const x=s(e.data,y.data);C=new yh(x,y.itemSize,y.offset,y.normalized)}else{const x=sp(y.type,y.array),w=y.isInstancedBufferAttribute?Up:An;C=new w(x,y.itemSize,y.normalized)}y.name!==void 0&&(C.name=y.name),y.usage!==void 0&&C.setUsage(y.usage),o.setAttribute(m,C)}const c=e.data.morphAttributes;if(c)for(const m in c){const y=c[m],C=[];for(let x=0,w=y.length;x<w;x++){const M=y[x];let S;if(M.isInterleavedBufferAttribute){const R=s(e.data,M.data);S=new yh(R,M.itemSize,M.offset,M.normalized)}else{const R=sp(M.type,M.array);S=new An(R,M.itemSize,M.normalized)}M.name!==void 0&&(S.name=M.name),C.push(S)}o.morphAttributes[m]=C}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let m=0,y=f.length;m!==y;++m){const C=f[m];o.addGroup(C.start,C.count,C.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new Y;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new Ps(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class eBe extends Tr{constructor(e){super(e)}load(e,n,i,s){const r=this,o=this.path===""?OD.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Ql(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(f){s!==void 0&&s(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const d=c.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){s!==void 0&&s(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}r.parse(c,n)},i,s)}async loadAsync(e,n){const i=this,s=this.path===""?OD.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const r=new Ql(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);const o=await r.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,n){const i=this.parseAnimations(e.animations),s=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,s),o=this.parseImages(e.images,function(){n!==void 0&&n(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,r,l,a,i),d=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,d),this.bindLightTargets(c),n!==void 0){let f=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){f=!0;break}f===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),r=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,r),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,s,a,o,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),this.bindLightTargets(l),l}parseShapes(e){const n={};if(e!==void 0)for(let i=0,s=e.length;i<s;i++){const r=new nh().fromJSON(e[i]);n[r.uuid]=r}return n}parseSkeletons(e,n){const i={},s={};if(n.traverse(function(r){r.isBone&&(s[r.uuid]=r)}),e!==void 0)for(let r=0,o=e.length;r<o;r++){const a=new fE().fromJSON(e[r],s);i[a.uuid]=a}return i}parseGeometries(e,n){const i={};if(e!==void 0){const s=new yY;for(let r=0,o=e.length;r<o;r++){let a;const l=e[r];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=s.parse(l);break;default:l.type in Rz?a=Rz[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,n){const i={},s={};if(e!==void 0){const r=new DE;r.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=r.parse(l)),s[l.uuid]=i[l.uuid]}}return s}parseAnimations(e){const n={};if(e!==void 0)for(let i=0;i<e.length;i++){const s=e[i],r=_y.parse(s);n[r.uuid]=r}return n}parseImages(e,n){const i=this,s={};let r;function o(l){return i.manager.itemStart(l),r.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return o(d)}else return l.data?{data:sp(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new yI(n);r=new Fy(l),r.setCrossOrigin(this.crossOrigin);for(let c=0,d=e.length;c<d;c++){const f=e[c],p=f.url;if(Array.isArray(p)){const m=[];for(let y=0,C=p.length;y<C;y++){const x=p[y],w=a(x);w!==null&&(w instanceof HTMLImageElement?m.push(w):m.push(new Oa(w.data,w.width,w.height)))}s[f.uuid]=new Xc(m)}else{const m=a(f.url);s[f.uuid]=new Xc(m)}}}return s}async parseImagesAsync(e){const n=this,i={};let s;async function r(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await s.loadAsync(l)}else return o.data?{data:sp(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){s=new Fy(this.manager),s.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const d=[];for(let f=0,p=c.length;f<p;f++){const m=c[f],y=await r(m);y!==null&&(y instanceof HTMLImageElement?d.push(y):d.push(new Oa(y.data,y.width,y.height)))}i[l.uuid]=new Xc(d)}else{const d=await r(l.url);i[l.uuid]=new Xc(d)}}}return i}parseTextures(e,n){function i(r,o){return typeof r=="number"?r:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",r),o[r])}const s={};if(e!==void 0)for(let r=0,o=e.length;r<o;r++){const a=e[r];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],c=l.data;let d;Array.isArray(c)?(d=new S0,c.length===6&&(d.needsUpdate=!0)):(c&&c.data?d=new Oa:d=new hi,c&&(d.needsUpdate=!0)),d.source=l,d.uuid=a.uuid,a.name!==void 0&&(d.name=a.name),a.mapping!==void 0&&(d.mapping=i(a.mapping,tBe)),a.channel!==void 0&&(d.channel=a.channel),a.offset!==void 0&&d.offset.fromArray(a.offset),a.repeat!==void 0&&d.repeat.fromArray(a.repeat),a.center!==void 0&&d.center.fromArray(a.center),a.rotation!==void 0&&(d.rotation=a.rotation),a.wrap!==void 0&&(d.wrapS=i(a.wrap[0],_z),d.wrapT=i(a.wrap[1],_z)),a.format!==void 0&&(d.format=a.format),a.internalFormat!==void 0&&(d.internalFormat=a.internalFormat),a.type!==void 0&&(d.type=a.type),a.colorSpace!==void 0&&(d.colorSpace=a.colorSpace),a.minFilter!==void 0&&(d.minFilter=i(a.minFilter,Fz)),a.magFilter!==void 0&&(d.magFilter=i(a.magFilter,Fz)),a.anisotropy!==void 0&&(d.anisotropy=a.anisotropy),a.flipY!==void 0&&(d.flipY=a.flipY),a.generateMipmaps!==void 0&&(d.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(d.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(d.compareFunction=a.compareFunction),a.userData!==void 0&&(d.userData=a.userData),s[a.uuid]=d}return s}parseObject(e,n,i,s,r){let o;function a(p){return n[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),n[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let y=0,C=p.length;y<C;y++){const x=p[y];i[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),m.push(i[x])}return m}return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),i[p]}}function c(p){return s[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),s[p]}let d,f;switch(e.type){case"Scene":o=new AK,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new ut(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new dE(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new uE(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new us(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new PE(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new fY(e.color,e.intensity);break;case"DirectionalLight":o=new hY(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new dY(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new pY(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new uY(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new cY(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new gY().fromJSON(e);break;case"SkinnedMesh":d=a(e.geometry),f=l(e.material),o=new FK(d,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":d=a(e.geometry),f=l(e.material),o=new Ri(d,f);break;case"InstancedMesh":d=a(e.geometry),f=l(e.material);const p=e.count,m=e.instanceMatrix,y=e.instanceColor;o=new NK(d,f,p),o.instanceMatrix=new Up(new Float32Array(m.array),16),y!==void 0&&(o.instanceColor=new Up(new Float32Array(y.array),y.itemSize));break;case"BatchedMesh":d=a(e.geometry),f=l(e.material),o=new IK(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,f),o.geometry=d,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(C=>{const x=new Qs;x.min.fromArray(C.boxMin),x.max.fromArray(C.boxMax);const w=new Ps;return w.radius=C.sphereRadius,w.center.fromArray(C.sphereCenter),{boxInitialized:C.boxInitialized,box:x,sphereInitialized:C.sphereInitialized,sphere:w}}),o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=c(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=c(e.colorsTexture.uuid));break;case"LOD":o=new _K;break;case"Line":o=new uu(a(e.geometry),l(e.material));break;case"LineLoop":o=new OK(a(e.geometry),l(e.material));break;case"LineSegments":o=new Ya(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new LK(a(e.geometry),l(e.material));break;case"Sprite":o=new DK(l(e.material));break;case"Group":o=new rp;break;case"Bone":o=new iI;break;default:o=new an}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],n,i,s,r))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const y=p[m];o.animations.push(r[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const y=p[m],C=o.getObjectByProperty("uuid",y.object);C!==void 0&&o.addLevel(C,y.distance,y.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const s=n[i.skeleton];s===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(s,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const i=n.target,s=e.getObjectByProperty("uuid",i);s!==void 0?n.target=s:n.target=new an}})}}const tBe={UVMapping:J1,CubeReflectionMapping:Zl,CubeRefractionMapping:cu,EquirectangularReflectionMapping:my,EquirectangularRefractionMapping:gy,CubeUVReflectionMapping:cm},_z={RepeatWrapping:vy,ClampToEdgeWrapping:Eo,MirroredRepeatWrapping:yy},Fz={NearestFilter:hs,NearestMipmapNearestFilter:zN,NearestMipmapLinearFilter:ip,LinearFilter:Li,LinearMipmapNearestFilter:Tv,LinearMipmapLinearFilter:Pa};class nBe extends Tr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,i,s){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=Dl.get(e);if(o!==void 0){if(r.manager.itemStart(e),o.then){o.then(c=>{n&&n(c),r.manager.itemEnd(e)}).catch(c=>{s&&s(c)});return}return setTimeout(function(){n&&n(o),r.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(c){return Dl.add(e,c),n&&n(c),r.manager.itemEnd(e),c}).catch(function(c){s&&s(c),Dl.remove(e),r.manager.itemError(e),r.manager.itemEnd(e)});Dl.add(e,l),r.manager.itemStart(e)}}let KC;class CI{static getContext(){return KC===void 0&&(KC=new(window.AudioContext||window.webkitAudioContext)),KC}static setContext(e){KC=e}}class iBe extends Tr{constructor(e){super(e)}load(e,n,i,s){const r=this,o=new Ql(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);CI.getContext().decodeAudioData(c,function(f){n(f)}).catch(a)}catch(c){a(c)}},i,s);function a(l){s?s(l):console.error(l),r.manager.itemError(e)}}}const Nz=new Tt,Iz=new Tt,ed=new Tt;class sBe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new us,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new us,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,ed.copy(e.projectionMatrix);const s=n.eyeSep/2,r=s*n.near/n.focus,o=n.near*Math.tan(th*n.fov*.5)/n.zoom;let a,l;Iz.elements[12]=-s,Nz.elements[12]=s,a=-o*n.aspect+r,l=o*n.aspect+r,ed.elements[0]=2*n.near/(l-a),ed.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(ed),a=-o*n.aspect-r,l=o*n.aspect-r,ed.elements[0]=2*n.near/(l-a),ed.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(ed)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Iz),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Nz)}}class xY extends us{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e,this.index=0}}class CY{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Oz(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=Oz();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function Oz(){return performance.now()}const td=new Y,Lz=new Sr,rBe=new Y,nd=new Y;class oBe extends an{constructor(){super(),this.type="AudioListener",this.context=CI.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new CY}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(td,Lz,rBe),nd.set(0,0,-1).applyQuaternion(Lz),n.positionX){const s=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(td.x,s),n.positionY.linearRampToValueAtTime(td.y,s),n.positionZ.linearRampToValueAtTime(td.z,s),n.forwardX.linearRampToValueAtTime(nd.x,s),n.forwardY.linearRampToValueAtTime(nd.y,s),n.forwardZ.linearRampToValueAtTime(nd.z,s),n.upX.linearRampToValueAtTime(i.x,s),n.upY.linearRampToValueAtTime(i.y,s),n.upZ.linearRampToValueAtTime(i.z,s)}else n.setPosition(td.x,td.y,td.z),n.setOrientation(nd.x,nd.y,nd.z,i.x,i.y,i.z)}}class wY extends an{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,n){return super.copy(e,n),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const id=new Y,kz=new Sr,aBe=new Y,sd=new Y;class lBe extends wY{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(id,kz,aBe),sd.set(0,0,1).applyQuaternion(kz);const n=this.panner;if(n.positionX){const i=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(id.x,i),n.positionY.linearRampToValueAtTime(id.y,i),n.positionZ.linearRampToValueAtTime(id.z,i),n.orientationX.linearRampToValueAtTime(sd.x,i),n.orientationY.linearRampToValueAtTime(sd.y,i),n.orientationZ.linearRampToValueAtTime(sd.z,i)}else n.setPosition(id.x,id.y,id.z),n.setOrientation(sd.x,sd.y,sd.z)}}class cBe{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let i=0;i<n.length;i++)e+=n[i];return e/n.length}}class bY{constructor(e,n,i){this.binding=e,this.valueSize=i;let s,r,o;switch(n){case"quaternion":s=this._slerp,r=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":s=this._select,r=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:s=this._lerp,r=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=s,this._mixBufferRegionAdditive=r,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const i=this.buffer,s=this.valueSize,r=e*s+s;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==s;++a)i[r+a]=i[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(i,r,0,a,s)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,i=this.valueSize,s=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,s,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,i=this.buffer,s=e*n+n,r=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const l=n*this._origIndex;this._mixBufferRegion(i,s,l,1-r,n)}o>0&&this._mixBufferRegionAdditive(i,s,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(i[l]!==i[l+n]){a.setValue(i,s);break}}saveOriginalState(){const e=this.binding,n=this.buffer,i=this.valueSize,s=i*this._origIndex;e.getValue(n,s);for(let r=i,o=s;r!==o;++r)n[r]=n[s+r%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let i=e;i<n;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[n+i]=this.buffer[e+i]}_select(e,n,i,s,r){if(s>=.5)for(let o=0;o!==r;++o)e[n+o]=e[i+o]}_slerp(e,n,i,s){Sr.slerpFlat(e,n,e,n,e,i,s)}_slerpAdditive(e,n,i,s,r){const o=this._workIndex*r;Sr.multiplyQuaternionsFlat(e,o,e,n,e,i),Sr.slerpFlat(e,n,e,n,e,o,s)}_lerp(e,n,i,s,r){const o=1-s;for(let a=0;a!==r;++a){const l=n+a;e[l]=e[l]*o+e[i+a]*s}}_lerpAdditive(e,n,i,s,r){for(let o=0;o!==r;++o){const a=n+o;e[a]=e[a]+e[i+o]*s}}}const wI="\\[\\]\\.:\\/",uBe=new RegExp("["+wI+"]","g"),bI="[^"+wI+"]",dBe="[^"+wI.replace("\\.","")+"]",hBe=/((?:WC+[\/:])*)/.source.replace("WC",bI),fBe=/(WCOD+)?/.source.replace("WCOD",dBe),pBe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",bI),mBe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",bI),gBe=new RegExp("^"+hBe+fBe+pBe+mBe+"$"),vBe=["material","materials","bones","map"];class yBe{constructor(e,n,i){const s=i||sn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,s)}getValue(e,n){this.bind();const i=this._targetGroup.nCachedObjects_,s=this._bindings[i];s!==void 0&&s.getValue(e,n)}setValue(e,n){const i=this._bindings;for(let s=this._targetGroup.nCachedObjects_,r=i.length;s!==r;++s)i[s].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].unbind()}}class sn{constructor(e,n,i){this.path=n,this.parsedPath=i||sn.parseTrackName(n),this.node=sn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,i){return e&&e.isAnimationObjectGroup?new sn.Composite(e,n,i):new sn(e,n,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(uBe,"")}static parseTrackName(e){const n=gBe.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},s=i.nodeName&&i.nodeName.lastIndexOf(".");if(s!==void 0&&s!==-1){const r=i.nodeName.substring(s+1);vBe.indexOf(r)!==-1&&(i.nodeName=i.nodeName.substring(0,s),i.objectName=r)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(n);if(i!==void 0)return i}if(e.children){const i=function(r){for(let o=0;o<r.length;o++){const a=r[o];if(a.name===n||a.uuid===n)return a;const l=i(a.children);if(l)return l}return null},s=i(e.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)e[n++]=i[s]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)i[s]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)i[s]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)i[s]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,i=n.objectName,s=n.propertyName;let r=n.propertyIndex;if(e||(e=sn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let c=n.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===c){c=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[s];if(o===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+s+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?a=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(r!==void 0){if(s==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[r]!==void 0&&(r=e.morphTargetDictionary[r])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=r}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=s;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}sn.Composite=yBe;sn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};sn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};sn.prototype.GetterByBindingType=[sn.prototype._getValue_direct,sn.prototype._getValue_array,sn.prototype._getValue_arrayElement,sn.prototype._getValue_toArray];sn.prototype.SetterByBindingTypeAndVersioning=[[sn.prototype._setValue_direct,sn.prototype._setValue_direct_setNeedsUpdate,sn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[sn.prototype._setValue_array,sn.prototype._setValue_array_setNeedsUpdate,sn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[sn.prototype._setValue_arrayElement,sn.prototype._setValue_arrayElement_setNeedsUpdate,sn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[sn.prototype._setValue_fromArray,sn.prototype._setValue_fromArray_setNeedsUpdate,sn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class xBe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Wr(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,s=arguments.length;i!==s;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,i=this._paths,s=this._parsedPaths,r=this._bindings,o=r.length;let a,l=e.length,c=this.nCachedObjects_;for(let d=0,f=arguments.length;d!==f;++d){const p=arguments[d],m=p.uuid;let y=n[m];if(y===void 0){y=l++,n[m]=y,e.push(p);for(let C=0,x=o;C!==x;++C)r[C].push(new sn(p,i[C],s[C]))}else if(y<c){a=e[y];const C=--c,x=e[C];n[x.uuid]=y,e[y]=x,n[m]=C,e[C]=p;for(let w=0,M=o;w!==M;++w){const S=r[w],R=S[C];let P=S[y];S[y]=R,P===void 0&&(P=new sn(p,i[w],s[w])),S[C]=P}}else e[y]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,s=i.length;let r=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,d=n[c];if(d!==void 0&&d>=r){const f=r++,p=e[f];n[p.uuid]=d,e[d]=p,n[c]=f,e[f]=l;for(let m=0,y=s;m!==y;++m){const C=i[m],x=C[f],w=C[d];C[d]=x,C[f]=w}}}this.nCachedObjects_=r}uncache(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,s=i.length;let r=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],d=c.uuid,f=n[d];if(f!==void 0)if(delete n[d],f<r){const p=--r,m=e[p],y=--o,C=e[y];n[m.uuid]=f,e[f]=m,n[C.uuid]=p,e[p]=C,e.pop();for(let x=0,w=s;x!==w;++x){const M=i[x],S=M[p],R=M[y];M[f]=S,M[p]=R,M.pop()}}else{const p=--o,m=e[p];p>0&&(n[m.uuid]=f),e[f]=m,e.pop();for(let y=0,C=s;y!==C;++y){const x=i[y];x[f]=x[p],x.pop()}}}this.nCachedObjects_=r}subscribe_(e,n){const i=this._bindingsIndicesByPath;let s=i[e];const r=this._bindings;if(s!==void 0)return r[s];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,d=this.nCachedObjects_,f=new Array(c);s=r.length,i[e]=s,o.push(e),a.push(n),r.push(f);for(let p=d,m=l.length;p!==m;++p){const y=l[p];f[p]=new sn(y,e,n)}return f}unsubscribe_(e){const n=this._bindingsIndicesByPath,i=n[e];if(i!==void 0){const s=this._paths,r=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];n[c]=i,o[i]=l,o.pop(),r[i]=r[a],r.pop(),s[i]=s[a],s.pop()}}}class SY{constructor(e,n,i=null,s=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=i,this.blendMode=s;const r=n.tracks,o=r.length,a=new Array(o),l={endingStart:Ld,endingEnd:Ld};for(let c=0;c!==o;++c){const d=r[c].createInterpolant(null);a[c]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=lK,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,i){if(e.fadeOut(n),this.fadeIn(n),i){const s=this._clip.duration,r=e._clip.duration,o=r/s,a=s/r;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,i){return e.crossFadeFrom(this,n,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,i){const s=this._mixer,r=s.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=s._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=r,l[1]=r+i,c[0]=e/o,c[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,i,s){if(!this.enabled){this._updateWeight(e);return}const r=this._startTime;if(r!==null){const l=(e-r)*i;l<0||i===0?n=0:(this._startTime=null,n=i*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case ZN:for(let d=0,f=l.length;d!==f;++d)l[d].evaluate(o),c[d].accumulateAdditive(a);break;case rE:default:for(let d=0,f=l.length;d!==f;++d)l[d].evaluate(o),c[d].accumulate(s,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const i=this._weightInterpolant;if(i!==null){const s=i.evaluate(e)[0];n*=s,e>i.parameterPositions[1]&&(this.stopFading(),s===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const s=i.evaluate(e)[0];n*=s,e>i.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,i=this.loop;let s=this.time+e,r=this._loopCount;const o=i===cK;if(e===0)return r===-1?s:o&&(r&1)===1?n-s:s;if(i===aK){r===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(s>=n)s=n;else if(s<0)s=0;else{this.time=s;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(r===-1&&(e>=0?(r=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),s>=n||s<0){const a=Math.floor(s/n);s-=n*a,r+=Math.abs(a);const l=this.repetitions-r;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,s=e>0?n:0,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=r,this.time=s,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=s;if(o&&(r&1)===1)return n-s}return s}_setEndings(e,n,i){const s=this._interpolantSettings;i?(s.endingStart=kd,s.endingEnd=kd):(e?s.endingStart=this.zeroSlopeAtStart?kd:Ld:s.endingStart=Cy,n?s.endingEnd=this.zeroSlopeAtEnd?kd:Ld:s.endingEnd=Cy)}_scheduleFading(e,n,i){const s=this._mixer,r=s.time;let o=this._weightInterpolant;o===null&&(o=s._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=r,l[0]=n,a[1]=r+e,l[1]=i,this}}const CBe=new Float32Array(1);class wBe extends Ka{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const i=e._localRoot||this._root,s=e._clip.tracks,r=s.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let d=c[l];d===void 0&&(d={},c[l]=d);for(let f=0;f!==r;++f){const p=s[f],m=p.name;let y=d[m];if(y!==void 0)++y.referenceCount,o[f]=y;else{if(y=o[f],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,l,m));continue}const C=n&&n._propertyBindings[f].binding.parsedPath;y=new bY(sn.create(i,m,C),p.ValueTypeName,p.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,l,m),o[f]=y}a[f].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,s=e._clip.uuid,r=this._actionsByClip[s];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,s,i)}const n=e._propertyBindings;for(let i=0,s=n.length;i!==s;++i){const r=n[i];r.useCount++===0&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let i=0,s=n.length;i!==s;++i){const r=n[i];--r.useCount===0&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,i){const s=this._actions,r=this._actionsByClip;let o=r[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=s.length,s.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const n=this._actions,i=n[n.length-1],s=e._cacheIndex;i._cacheIndex=s,n[s]=i,n.pop(),e._cacheIndex=null;const r=e._clip.uuid,o=this._actionsByClip,a=o[r],l=a.knownActions,c=l[l.length-1],d=e._byClipCacheIndex;c._byClipCacheIndex=d,l[d]=c,l.pop(),e._byClipCacheIndex=null;const f=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete f[p],l.length===0&&delete o[r],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let i=0,s=n.length;i!==s;++i){const r=n[i];--r.referenceCount===0&&this._removeInactiveBinding(r)}}_lendAction(e){const n=this._actions,i=e._cacheIndex,s=this._nActiveActions++,r=n[s];e._cacheIndex=s,n[s]=e,r._cacheIndex=i,n[i]=r}_takeBackAction(e){const n=this._actions,i=e._cacheIndex,s=--this._nActiveActions,r=n[s];e._cacheIndex=s,n[s]=e,r._cacheIndex=i,n[i]=r}_addInactiveBinding(e,n,i){const s=this._bindingsByRootAndName,r=this._bindings;let o=s[n];o===void 0&&(o={},s[n]=o),o[i]=e,e._cacheIndex=r.length,r.push(e)}_removeInactiveBinding(e){const n=this._bindings,i=e.binding,s=i.rootNode.uuid,r=i.path,o=this._bindingsByRootAndName,a=o[s],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete a[r],Object.keys(a).length===0&&delete o[s]}_lendBinding(e){const n=this._bindings,i=e._cacheIndex,s=this._nActiveBindings++,r=n[s];e._cacheIndex=s,n[s]=e,r._cacheIndex=i,n[i]=r}_takeBackBinding(e){const n=this._bindings,i=e._cacheIndex,s=--this._nActiveBindings,r=n[s];e._cacheIndex=s,n[s]=e,r._cacheIndex=i,n[i]=r}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let i=e[n];return i===void 0&&(i=new gI(new Float32Array(2),new Float32Array(2),1,CBe),i.__cacheIndex=n,e[n]=i),i}_takeBackControlInterpolant(e){const n=this._controlInterpolants,i=e.__cacheIndex,s=--this._nActiveControlInterpolants,r=n[s];e.__cacheIndex=s,n[s]=e,r.__cacheIndex=i,n[i]=r}clipAction(e,n,i){const s=n||this._root,r=s.uuid;let o=typeof e=="string"?_y.findByName(s,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(i===void 0&&(o!==null?i=o.blendMode:i=rE),l!==void 0){const f=l.actionByRoot[r];if(f!==void 0&&f.blendMode===i)return f;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const d=new SY(this,o,n,i);return this._bindAction(d,c),this._addInactiveAction(d,a,r),d}existingAction(e,n){const i=n||this._root,s=i.uuid,r=typeof e=="string"?_y.findByName(i,e):e,o=r?r.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[s]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let i=n-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const n=this._actions,i=this._nActiveActions,s=this.time+=e,r=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==i;++c)n[c]._update(s,e,r,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,i=e.uuid,s=this._actionsByClip,r=s[i];if(r!==void 0){const o=r.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const d=c._cacheIndex,f=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,f._cacheIndex=d,n[d]=f,n.pop(),this._removeInactiveBindingsForAction(c)}delete s[i]}}uncacheRoot(e){const n=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const s=this._bindingsByRootAndName,r=s[n];if(r!==void 0)for(const o in r){const a=r[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const i=this.existingAction(e,n);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class bBe extends oE{constructor(e=1,n=1,i=1,s={}){super(e,n,s),this.isRenderTarget3D=!0,this.depth=i,this.texture=new aE(null,e,n,i),this.texture.isRenderTargetTexture=!0}}class SBe extends oE{constructor(e=1,n=1,i=1,s={}){super(e,n,s),this.isRenderTargetArray=!0,this.depth=i,this.texture=new b0(null,e,n,i),this.texture.isRenderTargetTexture=!0}}class SI{constructor(e){this.value=e}clone(){return new SI(this.value.clone===void 0?this.value:this.value.clone())}}let EBe=0;class MBe extends Ka{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:EBe++}),this.name="",this.usage=by,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let i=0,s=n.length;i<s;i++){const r=Array.isArray(n[i])?n[i]:[n[i]];for(let o=0;o<r.length;o++)this.uniforms.push(r[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class TBe extends hE{constructor(e,n,i=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class RBe{constructor(e,n,i,s,r){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=i,this.elementSize=s,this.count=r,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const Bz=new Tt;class ABe{constructor(e,n,i=0,s=1/0){this.ray=new dm(e,n),this.near=i,this.far=s,this.camera=null,this.layers=new lE,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return Bz.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(Bz),this}intersectObject(e,n=!0,i=[]){return LD(e,this,i,n),i.sort(Hz),i}intersectObjects(e,n=!0,i=[]){for(let s=0,r=e.length;s<r;s++)LD(e[s],this,i,n);return i.sort(Hz),i}}function Hz(t,e){return t.distance-e.distance}function LD(t,e,n,i){let s=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(s=!1),s===!0&&i===!0){const r=t.children;for(let o=0,a=r.length;o<a;o++)LD(r[o],e,n,!0)}}class PBe{constructor(e=1,n=0,i=0){this.radius=e,this.phi=n,this.theta=i}set(e,n,i){return this.radius=e,this.phi=n,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=It(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+n*n+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(It(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class DBe{constructor(e=1,n=0,i=0){this.radius=e,this.theta=n,this.y=i}set(e,n,i){return this.radius=e,this.theta=n,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=n,this}clone(){return new this.constructor().copy(this)}}class EI{constructor(e,n,i,s){EI.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,i,s)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let i=0;i<4;i++)this.elements[i]=e[i+n];return this}set(e,n,i,s){const r=this.elements;return r[0]=e,r[2]=n,r[1]=i,r[3]=s,this}}const Vz=new ze;class _Be{constructor(e=new ze(1/0,1/0),n=new ze(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=Vz.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Vz).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const zz=new Y,YC=new Y;class FBe{constructor(e=new Y,n=new Y){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){zz.subVectors(e,this.start),YC.subVectors(this.end,this.start);const i=YC.dot(YC);let r=YC.dot(zz)/i;return n&&(r=It(r,0,1)),r}closestPointToPoint(e,n,i){const s=this.closestPointToPointParameter(e,n);return this.delta(i).multiplyScalar(s).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const Gz=new Y;class NBe extends an{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const i=new zt,s=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,d=a/l*Math.PI*2;s.push(Math.cos(c),Math.sin(c),1,Math.cos(d),Math.sin(d),1)}i.setAttribute("position",new mt(s,3));const r=new ar({fog:!1,toneMapped:!1});this.cone=new Ya(i,r),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),Gz.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Gz),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const _c=new Y,XC=new Tt,s2=new Tt;class IBe extends Ya{constructor(e){const n=EY(e),i=new zt,s=[],r=[],o=new ut(0,0,1),a=new ut(0,1,0);for(let c=0;c<n.length;c++){const d=n[c];d.parent&&d.parent.isBone&&(s.push(0,0,0),s.push(0,0,0),r.push(o.r,o.g,o.b),r.push(a.r,a.g,a.b))}i.setAttribute("position",new mt(s,3)),i.setAttribute("color",new mt(r,3));const l=new ar({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,i=this.geometry,s=i.getAttribute("position");s2.copy(this.root.matrixWorld).invert();for(let r=0,o=0;r<n.length;r++){const a=n[r];a.parent&&a.parent.isBone&&(XC.multiplyMatrices(s2,a.matrixWorld),_c.setFromMatrixPosition(XC),s.setXYZ(o,_c.x,_c.y,_c.z),XC.multiplyMatrices(s2,a.parent.matrixWorld),_c.setFromMatrixPosition(XC),s.setXYZ(o+1,_c.x,_c.y,_c.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function EY(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push(...EY(t.children[n]));return e}class OBe extends Ri{constructor(e,n,i){const s=new R0(n,4,2),r=new Su({wireframe:!0,fog:!1,toneMapped:!1});super(s,r),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const LBe=new Y,Uz=new ut,jz=new ut;class kBe extends an{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const s=new T0(n);s.rotateY(Math.PI*.5),this.material=new Su({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const r=s.getAttribute("position"),o=new Float32Array(r.count*3);s.setAttribute("color",new An(o,3)),this.add(new Ri(s,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");Uz.copy(this.light.color),jz.copy(this.light.groundColor);for(let i=0,s=n.count;i<s;i++){const r=i<s/2?Uz:jz;n.setXYZ(i,r.r,r.g,r.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(LBe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class BBe extends Ya{constructor(e=10,n=10,i=4473924,s=8947848){i=new ut(i),s=new ut(s);const r=n/2,o=e/n,a=e/2,l=[],c=[];for(let p=0,m=0,y=-a;p<=n;p++,y+=o){l.push(-a,0,y,a,0,y),l.push(y,0,-a,y,0,a);const C=p===r?i:s;C.toArray(c,m),m+=3,C.toArray(c,m),m+=3,C.toArray(c,m),m+=3,C.toArray(c,m),m+=3}const d=new zt;d.setAttribute("position",new mt(l,3)),d.setAttribute("color",new mt(c,3));const f=new ar({vertexColors:!0,toneMapped:!1});super(d,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class HBe extends Ya{constructor(e=10,n=16,i=8,s=64,r=4473924,o=8947848){r=new ut(r),o=new ut(o);const a=[],l=[];if(n>1)for(let f=0;f<n;f++){const p=f/n*(Math.PI*2),m=Math.sin(p)*e,y=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,y);const C=f&1?r:o;l.push(C.r,C.g,C.b),l.push(C.r,C.g,C.b)}for(let f=0;f<i;f++){const p=f&1?r:o,m=e-e/i*f;for(let y=0;y<s;y++){let C=y/s*(Math.PI*2),x=Math.sin(C)*m,w=Math.cos(C)*m;a.push(x,0,w),l.push(p.r,p.g,p.b),C=(y+1)/s*(Math.PI*2),x=Math.sin(C)*m,w=Math.cos(C)*m,a.push(x,0,w),l.push(p.r,p.g,p.b)}}const c=new zt;c.setAttribute("position",new mt(a,3)),c.setAttribute("color",new mt(l,3));const d=new ar({vertexColors:!0,toneMapped:!1});super(c,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const Wz=new Y,ZC=new Y,$z=new Y;class VBe extends an{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",n===void 0&&(n=1);let s=new zt;s.setAttribute("position",new mt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const r=new ar({fog:!1,toneMapped:!1});this.lightPlane=new uu(s,r),this.add(this.lightPlane),s=new zt,s.setAttribute("position",new mt([0,0,0,0,0,1],3)),this.targetLine=new uu(s,r),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Wz.setFromMatrixPosition(this.light.matrixWorld),ZC.setFromMatrixPosition(this.light.target.matrixWorld),$z.subVectors(ZC,Wz),this.lightPlane.lookAt(ZC),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(ZC),this.targetLine.scale.z=$z.length()}}const JC=new Y,si=new cE;class zBe extends Ya{constructor(e){const n=new zt,i=new ar({color:16777215,vertexColors:!0,toneMapped:!1}),s=[],r=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(y,C){l(y),l(C)}function l(y){s.push(0,0,0),r.push(0,0,0),o[y]===void 0&&(o[y]=[]),o[y].push(s.length/3-1)}n.setAttribute("position",new mt(s,3)),n.setAttribute("color",new mt(r,3)),super(n,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new ut(16755200),d=new ut(16711680),f=new ut(43775),p=new ut(16777215),m=new ut(3355443);this.setColors(c,d,f,p,m)}setColors(e,n,i,s,r){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,s.r,s.g,s.b),a.setXYZ(39,s.r,s.g,s.b),a.setXYZ(40,r.r,r.g,r.b),a.setXYZ(41,r.r,r.g,r.b),a.setXYZ(42,r.r,r.g,r.b),a.setXYZ(43,r.r,r.g,r.b),a.setXYZ(44,r.r,r.g,r.b),a.setXYZ(45,r.r,r.g,r.b),a.setXYZ(46,r.r,r.g,r.b),a.setXYZ(47,r.r,r.g,r.b),a.setXYZ(48,r.r,r.g,r.b),a.setXYZ(49,r.r,r.g,r.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,i=1,s=1;si.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const r=this.camera.coordinateSystem===Ko?-1:0;gi("c",n,e,si,0,0,r),gi("t",n,e,si,0,0,1),gi("n1",n,e,si,-1,-1,r),gi("n2",n,e,si,i,-1,r),gi("n3",n,e,si,-1,s,r),gi("n4",n,e,si,i,s,r),gi("f1",n,e,si,-1,-1,1),gi("f2",n,e,si,i,-1,1),gi("f3",n,e,si,-1,s,1),gi("f4",n,e,si,i,s,1),gi("u1",n,e,si,i*.7,s*1.1,r),gi("u2",n,e,si,-1*.7,s*1.1,r),gi("u3",n,e,si,0,s*2,r),gi("cf1",n,e,si,-1,0,1),gi("cf2",n,e,si,i,0,1),gi("cf3",n,e,si,0,-1,1),gi("cf4",n,e,si,0,s,1),gi("cn1",n,e,si,-1,0,r),gi("cn2",n,e,si,i,0,r),gi("cn3",n,e,si,0,-1,r),gi("cn4",n,e,si,0,s,r),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function gi(t,e,n,i,s,r,o){JC.set(s,r,o).unproject(i);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let c=0,d=a.length;c<d;c++)l.setXYZ(a[c],JC.x,JC.y,JC.z)}}const QC=new Qs;class GBe extends Ya{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=new Float32Array(8*3),r=new zt;r.setIndex(new An(i,1)),r.setAttribute("position",new An(s,3)),super(r,new ar({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&QC.setFromObject(this.object),QC.isEmpty())return;const e=QC.min,n=QC.max,i=this.geometry.attributes.position,s=i.array;s[0]=n.x,s[1]=n.y,s[2]=n.z,s[3]=e.x,s[4]=n.y,s[5]=n.z,s[6]=e.x,s[7]=e.y,s[8]=n.z,s[9]=n.x,s[10]=e.y,s[11]=n.z,s[12]=n.x,s[13]=n.y,s[14]=e.z,s[15]=e.x,s[16]=n.y,s[17]=e.z,s[18]=e.x,s[19]=e.y,s[20]=e.z,s[21]=n.x,s[22]=e.y,s[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class UBe extends Ya{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],r=new zt;r.setIndex(new An(i,1)),r.setAttribute("position",new mt(s,3)),super(r,new ar({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class jBe extends uu{constructor(e,n=1,i=16776960){const s=i,r=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new zt;o.setAttribute("position",new mt(r,3)),o.computeBoundingSphere(),super(o,new ar({color:s,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new zt;l.setAttribute("position",new mt(a,3)),l.computeBoundingSphere(),this.add(new Ri(l,new Su({color:s,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const qz=new Y;let ew,r2;class WBe extends an{constructor(e=new Y(0,0,1),n=new Y(0,0,0),i=1,s=16776960,r=i*.2,o=r*.2){super(),this.type="ArrowHelper",ew===void 0&&(ew=new zt,ew.setAttribute("position",new mt([0,0,0,0,1,0],3)),r2=new hm(0,.5,1,5,1),r2.translate(0,-.5,0)),this.position.copy(n),this.line=new uu(ew,new ar({color:s,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ri(r2,new Su({color:s,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,r,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{qz.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(qz,n)}}setLength(e,n=e*.2,i=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(i,n,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class $Be extends Ya{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],s=new zt;s.setAttribute("position",new mt(n,3)),s.setAttribute("color",new mt(i,3));const r=new ar({vertexColors:!0,toneMapped:!1});super(s,r),this.type="AxesHelper"}setColors(e,n,i){const s=new ut,r=this.geometry.attributes.color.array;return s.set(e),s.toArray(r,0),s.toArray(r,3),s.set(n),s.toArray(r,6),s.toArray(r,9),s.set(i),s.toArray(r,12),s.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class qBe{constructor(){this.type="ShapePath",this.color=new ut,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new My,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,i,s){return this.currentPath.quadraticCurveTo(e,n,i,s),this}bezierCurveTo(e,n,i,s,r,o){return this.currentPath.bezierCurveTo(e,n,i,s,r,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(w){const M=[];for(let S=0,R=w.length;S<R;S++){const P=w[S],F=new nh;F.curves=P.curves,M.push(F)}return M}function i(w,M){const S=M.length;let R=!1;for(let P=S-1,F=0;F<S;P=F++){let N=M[P],I=M[F],_=I.x-N.x,A=I.y-N.y;if(Math.abs(A)>Number.EPSILON){if(A<0&&(N=M[F],_=-_,I=M[P],A=-A),w.y<N.y||w.y>I.y)continue;if(w.y===N.y){if(w.x===N.x)return!0}else{const O=A*(w.x-N.x)-_*(w.y-N.y);if(O===0)return!0;if(O<0)continue;R=!R}}else{if(w.y!==N.y)continue;if(I.x<=w.x&&w.x<=N.x||N.x<=w.x&&w.x<=I.x)return!0}}return R}const s=La.isClockWise,r=this.subPaths;if(r.length===0)return[];let o,a,l;const c=[];if(r.length===1)return a=r[0],l=new nh,l.curves=a.curves,c.push(l),c;let d=!s(r[0].getPoints());d=e?!d:d;const f=[],p=[];let m=[],y=0,C;p[y]=void 0,m[y]=[];for(let w=0,M=r.length;w<M;w++)a=r[w],C=a.getPoints(),o=s(C),o=e?!o:o,o?(!d&&p[y]&&y++,p[y]={s:new nh,p:C},p[y].s.curves=a.curves,d&&y++,m[y]=[]):m[y].push({h:a,p:C[0]});if(!p[0])return n(r);if(p.length>1){let w=!1,M=0;for(let S=0,R=p.length;S<R;S++)f[S]=[];for(let S=0,R=p.length;S<R;S++){const P=m[S];for(let F=0;F<P.length;F++){const N=P[F];let I=!0;for(let _=0;_<p.length;_++)i(N.p,p[_].p)&&(S!==_&&M++,I?(I=!1,f[_].push(N)):w=!0);I&&f[S].push(N)}}M>0&&w===!1&&(m=f)}let x;for(let w=0,M=p.length;w<M;w++){l=p[w].s,c.push(l),x=m[w];for(let S=0,R=x.length;S<R;S++)l.holes.push(x[S].h)}return c}}class KBe extends Ka{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function YBe(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function XBe(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function ZBe(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function kD(t,e,n,i){const s=JBe(i);switch(n){case WN:return t*e;case qN:return t*e;case KN:return t*e*2;case nE:return t*e/s.components*s.byteLength;case w0:return t*e/s.components*s.byteLength;case YN:return t*e*2/s.components*s.byteLength;case iE:return t*e*2/s.components*s.byteLength;case $N:return t*e*3/s.components*s.byteLength;case Xs:return t*e*4/s.components*s.byteLength;case sE:return t*e*4/s.components*s.byteLength;case Rv:case Av:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Pv:case Dv:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case uS:case hS:return Math.max(t,16)*Math.max(e,8)/4;case cS:case dS:return Math.max(t,8)*Math.max(e,8)/2;case fS:case pS:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case mS:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case gS:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case vS:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case yS:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case xS:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case CS:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case wS:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case bS:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case SS:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case ES:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case MS:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case TS:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case RS:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case AS:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case PS:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case _v:case DS:case _S:return Math.ceil(t/4)*Math.ceil(e/4)*16;case XN:case FS:return Math.ceil(t/4)*Math.ceil(e/4)*8;case NS:case IS:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function JBe(t){switch(t){case za:case GN:return{byteLength:1,components:1};case Vp:case UN:case um:return{byteLength:2,components:1};case eE:case tE:return{byteLength:2,components:4};case Jl:case Q1:case Cr:return{byteLength:4,components:1};case jN:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}class QBe{static contain(e,n){return YBe(e,n)}static cover(e,n){return XBe(e,n)}static fill(e){return ZBe(e)}static getByteLength(e,n,i,s){return kD(e,n,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Z1}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Z1);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function MY(){let t=null,e=!1,n=null,i=null;function s(r,o){n(r,o),i=t.requestAnimationFrame(s)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(s),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(r){n=r},setContext:function(r){t=r}}}function e4e(t){const e=new WeakMap;function n(a,l){const c=a.array,d=a.usage,f=c.byteLength,p=t.createBuffer();t.bindBuffer(l,p),t.bufferData(l,c,d),a.onUploadCallback();let m;if(c instanceof Float32Array)m=t.FLOAT;else if(c instanceof Uint16Array)a.isFloat16BufferAttribute?m=t.HALF_FLOAT:m=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)m=t.SHORT;else if(c instanceof Uint32Array)m=t.UNSIGNED_INT;else if(c instanceof Int32Array)m=t.INT;else if(c instanceof Int8Array)m=t.BYTE;else if(c instanceof Uint8Array)m=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)m=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:p,type:m,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:f}}function i(a,l,c){const d=l.array,f=l.updateRanges;if(t.bindBuffer(c,a),f.length===0)t.bufferSubData(c,0,d);else{f.sort((m,y)=>m.start-y.start);let p=0;for(let m=1;m<f.length;m++){const y=f[p],C=f[m];C.start<=y.start+y.count+1?y.count=Math.max(y.count,C.start+C.count-y.start):(++p,f[p]=C)}f.length=p+1;for(let m=0,y=f.length;m<y;m++){const C=f[m];t.bufferSubData(c,C.start*d.BYTES_PER_ELEMENT,d,C.start,C.count)}l.clearUpdateRanges()}l.onUploadCallback()}function s(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function r(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(t.deleteBuffer(l.buffer),e.delete(a))}function o(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const d=e.get(a);(!d||d.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}const c=e.get(a);if(c===void 0)e.set(a,n(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(c.buffer,a,l),c.version=a.version}}return{get:s,remove:r,update:o}}var t4e=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,n4e=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,i4e=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,s4e=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,r4e=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,o4e=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,a4e=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,l4e=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,c4e=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,u4e=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,d4e=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,h4e=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,f4e=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,p4e=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,m4e=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,g4e=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,v4e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,y4e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,x4e=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,C4e=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,w4e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,b4e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,S4e=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,E4e=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,M4e=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,T4e=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,R4e=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,A4e=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,P4e=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,D4e=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,_4e="gl_FragColor = linearToOutputTexel( gl_FragColor );",F4e=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,N4e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,I4e=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,O4e=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,L4e=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,k4e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,B4e=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,H4e=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,V4e=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,z4e=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,G4e=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,U4e=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,j4e=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,W4e=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,$4e=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,q4e=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,K4e=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Y4e=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,X4e=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Z4e=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,J4e=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Q4e=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,eHe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,tHe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,nHe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,iHe=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,sHe=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,rHe=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,oHe=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,aHe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,lHe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,cHe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,uHe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,dHe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,hHe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,fHe=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,pHe=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,mHe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,gHe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,vHe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,yHe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,xHe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,CHe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,wHe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,bHe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,SHe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,EHe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,MHe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,THe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,RHe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,AHe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,PHe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,DHe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,_He=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,FHe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,NHe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,IHe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,OHe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,LHe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,kHe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,BHe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,HHe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,VHe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,zHe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,GHe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,UHe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,jHe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,WHe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,$He=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,qHe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,KHe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,YHe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,XHe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,ZHe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,JHe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,QHe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const eVe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,tVe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,nVe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,iVe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,sVe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,rVe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,oVe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,aVe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,lVe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,cVe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,uVe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,dVe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,hVe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fVe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,pVe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,mVe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gVe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,vVe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,yVe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,xVe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,CVe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,wVe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,bVe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,SVe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,EVe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,MVe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,TVe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,RVe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,AVe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,PVe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,DVe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,_Ve=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,FVe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,NVe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Ht={alphahash_fragment:t4e,alphahash_pars_fragment:n4e,alphamap_fragment:i4e,alphamap_pars_fragment:s4e,alphatest_fragment:r4e,alphatest_pars_fragment:o4e,aomap_fragment:a4e,aomap_pars_fragment:l4e,batching_pars_vertex:c4e,batching_vertex:u4e,begin_vertex:d4e,beginnormal_vertex:h4e,bsdfs:f4e,iridescence_fragment:p4e,bumpmap_pars_fragment:m4e,clipping_planes_fragment:g4e,clipping_planes_pars_fragment:v4e,clipping_planes_pars_vertex:y4e,clipping_planes_vertex:x4e,color_fragment:C4e,color_pars_fragment:w4e,color_pars_vertex:b4e,color_vertex:S4e,common:E4e,cube_uv_reflection_fragment:M4e,defaultnormal_vertex:T4e,displacementmap_pars_vertex:R4e,displacementmap_vertex:A4e,emissivemap_fragment:P4e,emissivemap_pars_fragment:D4e,colorspace_fragment:_4e,colorspace_pars_fragment:F4e,envmap_fragment:N4e,envmap_common_pars_fragment:I4e,envmap_pars_fragment:O4e,envmap_pars_vertex:L4e,envmap_physical_pars_fragment:q4e,envmap_vertex:k4e,fog_vertex:B4e,fog_pars_vertex:H4e,fog_fragment:V4e,fog_pars_fragment:z4e,gradientmap_pars_fragment:G4e,lightmap_pars_fragment:U4e,lights_lambert_fragment:j4e,lights_lambert_pars_fragment:W4e,lights_pars_begin:$4e,lights_toon_fragment:K4e,lights_toon_pars_fragment:Y4e,lights_phong_fragment:X4e,lights_phong_pars_fragment:Z4e,lights_physical_fragment:J4e,lights_physical_pars_fragment:Q4e,lights_fragment_begin:eHe,lights_fragment_maps:tHe,lights_fragment_end:nHe,logdepthbuf_fragment:iHe,logdepthbuf_pars_fragment:sHe,logdepthbuf_pars_vertex:rHe,logdepthbuf_vertex:oHe,map_fragment:aHe,map_pars_fragment:lHe,map_particle_fragment:cHe,map_particle_pars_fragment:uHe,metalnessmap_fragment:dHe,metalnessmap_pars_fragment:hHe,morphinstance_vertex:fHe,morphcolor_vertex:pHe,morphnormal_vertex:mHe,morphtarget_pars_vertex:gHe,morphtarget_vertex:vHe,normal_fragment_begin:yHe,normal_fragment_maps:xHe,normal_pars_fragment:CHe,normal_pars_vertex:wHe,normal_vertex:bHe,normalmap_pars_fragment:SHe,clearcoat_normal_fragment_begin:EHe,clearcoat_normal_fragment_maps:MHe,clearcoat_pars_fragment:THe,iridescence_pars_fragment:RHe,opaque_fragment:AHe,packing:PHe,premultiplied_alpha_fragment:DHe,project_vertex:_He,dithering_fragment:FHe,dithering_pars_fragment:NHe,roughnessmap_fragment:IHe,roughnessmap_pars_fragment:OHe,shadowmap_pars_fragment:LHe,shadowmap_pars_vertex:kHe,shadowmap_vertex:BHe,shadowmask_pars_fragment:HHe,skinbase_vertex:VHe,skinning_pars_vertex:zHe,skinning_vertex:GHe,skinnormal_vertex:UHe,specularmap_fragment:jHe,specularmap_pars_fragment:WHe,tonemapping_fragment:$He,tonemapping_pars_fragment:qHe,transmission_fragment:KHe,transmission_pars_fragment:YHe,uv_pars_fragment:XHe,uv_pars_vertex:ZHe,uv_vertex:JHe,worldpos_vertex:QHe,background_vert:eVe,background_frag:tVe,backgroundCube_vert:nVe,backgroundCube_frag:iVe,cube_vert:sVe,cube_frag:rVe,depth_vert:oVe,depth_frag:aVe,distanceRGBA_vert:lVe,distanceRGBA_frag:cVe,equirect_vert:uVe,equirect_frag:dVe,linedashed_vert:hVe,linedashed_frag:fVe,meshbasic_vert:pVe,meshbasic_frag:mVe,meshlambert_vert:gVe,meshlambert_frag:vVe,meshmatcap_vert:yVe,meshmatcap_frag:xVe,meshnormal_vert:CVe,meshnormal_frag:wVe,meshphong_vert:bVe,meshphong_frag:SVe,meshphysical_vert:EVe,meshphysical_frag:MVe,meshtoon_vert:TVe,meshtoon_frag:RVe,points_vert:AVe,points_frag:PVe,shadow_vert:DVe,shadow_frag:_Ve,sprite_vert:FVe,sprite_frag:NVe},nt={common:{diffuse:{value:new ut(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Ot},alphaMap:{value:null},alphaMapTransform:{value:new Ot},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Ot}},envmap:{envMap:{value:null},envMapRotation:{value:new Ot},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Ot}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Ot}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Ot},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Ot},normalScale:{value:new ze(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Ot},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Ot}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Ot}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Ot}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ut(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ut(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Ot},alphaTest:{value:0},uvTransform:{value:new Ot}},sprite:{diffuse:{value:new ut(16777215)},opacity:{value:1},center:{value:new ze(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Ot},alphaMap:{value:null},alphaMapTransform:{value:new Ot},alphaTest:{value:0}}},Uo={basic:{uniforms:Us([nt.common,nt.specularmap,nt.envmap,nt.aomap,nt.lightmap,nt.fog]),vertexShader:Ht.meshbasic_vert,fragmentShader:Ht.meshbasic_frag},lambert:{uniforms:Us([nt.common,nt.specularmap,nt.envmap,nt.aomap,nt.lightmap,nt.emissivemap,nt.bumpmap,nt.normalmap,nt.displacementmap,nt.fog,nt.lights,{emissive:{value:new ut(0)}}]),vertexShader:Ht.meshlambert_vert,fragmentShader:Ht.meshlambert_frag},phong:{uniforms:Us([nt.common,nt.specularmap,nt.envmap,nt.aomap,nt.lightmap,nt.emissivemap,nt.bumpmap,nt.normalmap,nt.displacementmap,nt.fog,nt.lights,{emissive:{value:new ut(0)},specular:{value:new ut(1118481)},shininess:{value:30}}]),vertexShader:Ht.meshphong_vert,fragmentShader:Ht.meshphong_frag},standard:{uniforms:Us([nt.common,nt.envmap,nt.aomap,nt.lightmap,nt.emissivemap,nt.bumpmap,nt.normalmap,nt.displacementmap,nt.roughnessmap,nt.metalnessmap,nt.fog,nt.lights,{emissive:{value:new ut(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ht.meshphysical_vert,fragmentShader:Ht.meshphysical_frag},toon:{uniforms:Us([nt.common,nt.aomap,nt.lightmap,nt.emissivemap,nt.bumpmap,nt.normalmap,nt.displacementmap,nt.gradientmap,nt.fog,nt.lights,{emissive:{value:new ut(0)}}]),vertexShader:Ht.meshtoon_vert,fragmentShader:Ht.meshtoon_frag},matcap:{uniforms:Us([nt.common,nt.bumpmap,nt.normalmap,nt.displacementmap,nt.fog,{matcap:{value:null}}]),vertexShader:Ht.meshmatcap_vert,fragmentShader:Ht.meshmatcap_frag},points:{uniforms:Us([nt.points,nt.fog]),vertexShader:Ht.points_vert,fragmentShader:Ht.points_frag},dashed:{uniforms:Us([nt.common,nt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ht.linedashed_vert,fragmentShader:Ht.linedashed_frag},depth:{uniforms:Us([nt.common,nt.displacementmap]),vertexShader:Ht.depth_vert,fragmentShader:Ht.depth_frag},normal:{uniforms:Us([nt.common,nt.bumpmap,nt.normalmap,nt.displacementmap,{opacity:{value:1}}]),vertexShader:Ht.meshnormal_vert,fragmentShader:Ht.meshnormal_frag},sprite:{uniforms:Us([nt.sprite,nt.fog]),vertexShader:Ht.sprite_vert,fragmentShader:Ht.sprite_frag},background:{uniforms:{uvTransform:{value:new Ot},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Ht.background_vert,fragmentShader:Ht.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Ot}},vertexShader:Ht.backgroundCube_vert,fragmentShader:Ht.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ht.cube_vert,fragmentShader:Ht.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ht.equirect_vert,fragmentShader:Ht.equirect_frag},distanceRGBA:{uniforms:Us([nt.common,nt.displacementmap,{referencePosition:{value:new Y},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ht.distanceRGBA_vert,fragmentShader:Ht.distanceRGBA_frag},shadow:{uniforms:Us([nt.lights,nt.fog,{color:{value:new ut(0)},opacity:{value:1}}]),vertexShader:Ht.shadow_vert,fragmentShader:Ht.shadow_frag}};Uo.physical={uniforms:Us([Uo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Ot},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Ot},clearcoatNormalScale:{value:new ze(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Ot},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Ot},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Ot},sheen:{value:0},sheenColor:{value:new ut(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Ot},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Ot},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Ot},transmissionSamplerSize:{value:new ze},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Ot},attenuationDistance:{value:0},attenuationColor:{value:new ut(0)},specularColor:{value:new ut(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Ot},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Ot},anisotropyVector:{value:new ze},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Ot}}]),vertexShader:Ht.meshphysical_vert,fragmentShader:Ht.meshphysical_frag};const tw={r:0,b:0,g:0},rd=new Kr,IVe=new Tt;function OVe(t,e,n,i,s,r,o){const a=new ut(0);let l=r===!0?0:1,c,d,f=null,p=0,m=null;function y(S){let R=S.isScene===!0?S.background:null;return R&&R.isTexture&&(R=(S.backgroundBlurriness>0?n:e).get(R)),R}function C(S){let R=!1;const P=y(S);P===null?w(a,l):P&&P.isColor&&(w(P,1),R=!0);const F=t.xr.getEnvironmentBlendMode();F==="additive"?i.buffers.color.setClear(0,0,0,1,o):F==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(t.autoClear||R)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function x(S,R){const P=y(R);P&&(P.isCubeTexture||P.mapping===cm)?(d===void 0&&(d=new Ri(new _h(1,1,1),new ia({name:"BackgroundCubeMaterial",uniforms:Gp(Uo.backgroundCube.uniforms),vertexShader:Uo.backgroundCube.vertexShader,fragmentShader:Uo.backgroundCube.fragmentShader,side:Js,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(F,N,I){this.matrixWorld.copyPosition(I.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),s.update(d)),rd.copy(R.backgroundRotation),rd.x*=-1,rd.y*=-1,rd.z*=-1,P.isCubeTexture&&P.isRenderTargetTexture===!1&&(rd.y*=-1,rd.z*=-1),d.material.uniforms.envMap.value=P,d.material.uniforms.flipEnvMap.value=P.isCubeTexture&&P.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=R.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=R.backgroundIntensity,d.material.uniforms.backgroundRotation.value.setFromMatrix4(IVe.makeRotationFromEuler(rd)),d.material.toneMapped=nn.getTransfer(P.colorSpace)!==xn,(f!==P||p!==P.version||m!==t.toneMapping)&&(d.material.needsUpdate=!0,f=P,p=P.version,m=t.toneMapping),d.layers.enableAll(),S.unshift(d,d.geometry,d.material,0,0,null)):P&&P.isTexture&&(c===void 0&&(c=new Ri(new fm(2,2),new ia({name:"BackgroundMaterial",uniforms:Gp(Uo.background.uniforms),vertexShader:Uo.background.vertexShader,fragmentShader:Uo.background.fragmentShader,side:Xl,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),s.update(c)),c.material.uniforms.t2D.value=P,c.material.uniforms.backgroundIntensity.value=R.backgroundIntensity,c.material.toneMapped=nn.getTransfer(P.colorSpace)!==xn,P.matrixAutoUpdate===!0&&P.updateMatrix(),c.material.uniforms.uvTransform.value.copy(P.matrix),(f!==P||p!==P.version||m!==t.toneMapping)&&(c.material.needsUpdate=!0,f=P,p=P.version,m=t.toneMapping),c.layers.enableAll(),S.unshift(c,c.geometry,c.material,0,0,null))}function w(S,R){S.getRGB(tw,EK(t)),i.buffers.color.setClear(tw.r,tw.g,tw.b,R,o)}function M(){d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0),c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0)}return{getClearColor:function(){return a},setClearColor:function(S,R=1){a.set(S),l=R,w(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(S){l=S,w(a,l)},render:C,addToRenderList:x,dispose:M}}function LVe(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),i={},s=p(null);let r=s,o=!1;function a(A,O,k,z,W){let K=!1;const V=f(z,k,O);r!==V&&(r=V,c(r.object)),K=m(A,z,k,W),K&&y(A,z,k,W),W!==null&&e.update(W,t.ELEMENT_ARRAY_BUFFER),(K||o)&&(o=!1,R(A,O,k,z),W!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(W).buffer))}function l(){return t.createVertexArray()}function c(A){return t.bindVertexArray(A)}function d(A){return t.deleteVertexArray(A)}function f(A,O,k){const z=k.wireframe===!0;let W=i[A.id];W===void 0&&(W={},i[A.id]=W);let K=W[O.id];K===void 0&&(K={},W[O.id]=K);let V=K[z];return V===void 0&&(V=p(l()),K[z]=V),V}function p(A){const O=[],k=[],z=[];for(let W=0;W<n;W++)O[W]=0,k[W]=0,z[W]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:O,enabledAttributes:k,attributeDivisors:z,object:A,attributes:{},index:null}}function m(A,O,k,z){const W=r.attributes,K=O.attributes;let V=0;const Q=k.getAttributes();for(const q in Q)if(Q[q].location>=0){const H=W[q];let ee=K[q];if(ee===void 0&&(q==="instanceMatrix"&&A.instanceMatrix&&(ee=A.instanceMatrix),q==="instanceColor"&&A.instanceColor&&(ee=A.instanceColor)),H===void 0||H.attribute!==ee||ee&&H.data!==ee.data)return!0;V++}return r.attributesNum!==V||r.index!==z}function y(A,O,k,z){const W={},K=O.attributes;let V=0;const Q=k.getAttributes();for(const q in Q)if(Q[q].location>=0){let H=K[q];H===void 0&&(q==="instanceMatrix"&&A.instanceMatrix&&(H=A.instanceMatrix),q==="instanceColor"&&A.instanceColor&&(H=A.instanceColor));const ee={};ee.attribute=H,H&&H.data&&(ee.data=H.data),W[q]=ee,V++}r.attributes=W,r.attributesNum=V,r.index=z}function C(){const A=r.newAttributes;for(let O=0,k=A.length;O<k;O++)A[O]=0}function x(A){w(A,0)}function w(A,O){const k=r.newAttributes,z=r.enabledAttributes,W=r.attributeDivisors;k[A]=1,z[A]===0&&(t.enableVertexAttribArray(A),z[A]=1),W[A]!==O&&(t.vertexAttribDivisor(A,O),W[A]=O)}function M(){const A=r.newAttributes,O=r.enabledAttributes;for(let k=0,z=O.length;k<z;k++)O[k]!==A[k]&&(t.disableVertexAttribArray(k),O[k]=0)}function S(A,O,k,z,W,K,V){V===!0?t.vertexAttribIPointer(A,O,k,W,K):t.vertexAttribPointer(A,O,k,z,W,K)}function R(A,O,k,z){C();const W=z.attributes,K=k.getAttributes(),V=O.defaultAttributeValues;for(const Q in K){const q=K[Q];if(q.location>=0){let X=W[Q];if(X===void 0&&(Q==="instanceMatrix"&&A.instanceMatrix&&(X=A.instanceMatrix),Q==="instanceColor"&&A.instanceColor&&(X=A.instanceColor)),X!==void 0){const H=X.normalized,ee=X.itemSize,ge=e.get(X);if(ge===void 0)continue;const Se=ge.buffer,Z=ge.type,ae=ge.bytesPerElement,xe=Z===t.INT||Z===t.UNSIGNED_INT||X.gpuType===Q1;if(X.isInterleavedBufferAttribute){const Me=X.data,Oe=Me.stride,Le=X.offset;if(Me.isInstancedInterleavedBuffer){for(let we=0;we<q.locationSize;we++)w(q.location+we,Me.meshPerAttribute);A.isInstancedMesh!==!0&&z._maxInstanceCount===void 0&&(z._maxInstanceCount=Me.meshPerAttribute*Me.count)}else for(let we=0;we<q.locationSize;we++)x(q.location+we);t.bindBuffer(t.ARRAY_BUFFER,Se);for(let we=0;we<q.locationSize;we++)S(q.location+we,ee/q.locationSize,Z,H,Oe*ae,(Le+ee/q.locationSize*we)*ae,xe)}else{if(X.isInstancedBufferAttribute){for(let Me=0;Me<q.locationSize;Me++)w(q.location+Me,X.meshPerAttribute);A.isInstancedMesh!==!0&&z._maxInstanceCount===void 0&&(z._maxInstanceCount=X.meshPerAttribute*X.count)}else for(let Me=0;Me<q.locationSize;Me++)x(q.location+Me);t.bindBuffer(t.ARRAY_BUFFER,Se);for(let Me=0;Me<q.locationSize;Me++)S(q.location+Me,ee/q.locationSize,Z,H,ee*ae,ee/q.locationSize*Me*ae,xe)}}else if(V!==void 0){const H=V[Q];if(H!==void 0)switch(H.length){case 2:t.vertexAttrib2fv(q.location,H);break;case 3:t.vertexAttrib3fv(q.location,H);break;case 4:t.vertexAttrib4fv(q.location,H);break;default:t.vertexAttrib1fv(q.location,H)}}}}M()}function P(){I();for(const A in i){const O=i[A];for(const k in O){const z=O[k];for(const W in z)d(z[W].object),delete z[W];delete O[k]}delete i[A]}}function F(A){if(i[A.id]===void 0)return;const O=i[A.id];for(const k in O){const z=O[k];for(const W in z)d(z[W].object),delete z[W];delete O[k]}delete i[A.id]}function N(A){for(const O in i){const k=i[O];if(k[A.id]===void 0)continue;const z=k[A.id];for(const W in z)d(z[W].object),delete z[W];delete k[A.id]}}function I(){_(),o=!0,r!==s&&(r=s,c(r.object))}function _(){s.geometry=null,s.program=null,s.wireframe=!1}return{setup:a,reset:I,resetDefaultState:_,dispose:P,releaseStatesOfGeometry:F,releaseStatesOfProgram:N,initAttributes:C,enableAttribute:x,disableUnusedAttributes:M}}function kVe(t,e,n){let i;function s(c){i=c}function r(c,d){t.drawArrays(i,c,d),n.update(d,i,1)}function o(c,d,f){f!==0&&(t.drawArraysInstanced(i,c,d,f),n.update(d,i,f))}function a(c,d,f){if(f===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,c,0,d,0,f);let m=0;for(let y=0;y<f;y++)m+=d[y];n.update(m,i,1)}function l(c,d,f,p){if(f===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let y=0;y<c.length;y++)o(c[y],d[y],p[y]);else{m.multiDrawArraysInstancedWEBGL(i,c,0,d,0,p,0,f);let y=0;for(let C=0;C<f;C++)y+=d[C]*p[C];n.update(y,i,1)}}this.setMode=s,this.render=r,this.renderInstances=o,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function BVe(t,e,n,i){let s;function r(){if(s!==void 0)return s;if(e.has("EXT_texture_filter_anisotropic")===!0){const N=e.get("EXT_texture_filter_anisotropic");s=t.getParameter(N.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else s=0;return s}function o(N){return!(N!==Xs&&i.convert(N)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(N){const I=N===um&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(N!==za&&i.convert(N)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&N!==Cr&&!I)}function l(N){if(N==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";N="mediump"}return N==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const d=l(c);d!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",d,"instead."),c=d);const f=n.logarithmicDepthBuffer===!0,p=n.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),m=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),y=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),C=t.getParameter(t.MAX_TEXTURE_SIZE),x=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),w=t.getParameter(t.MAX_VERTEX_ATTRIBS),M=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),S=t.getParameter(t.MAX_VARYING_VECTORS),R=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),P=y>0,F=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:r,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:a,precision:c,logarithmicDepthBuffer:f,reverseDepthBuffer:p,maxTextures:m,maxVertexTextures:y,maxTextureSize:C,maxCubemapSize:x,maxAttributes:w,maxVertexUniforms:M,maxVaryings:S,maxFragmentUniforms:R,vertexTextures:P,maxSamples:F}}function HVe(t){const e=this;let n=null,i=0,s=!1,r=!1;const o=new Bc,a=new Ot,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,p){const m=f.length!==0||p||i!==0||s;return s=p,i=f.length,m},this.beginShadows=function(){r=!0,d(null)},this.endShadows=function(){r=!1},this.setGlobalState=function(f,p){n=d(f,p,0)},this.setState=function(f,p,m){const y=f.clippingPlanes,C=f.clipIntersection,x=f.clipShadows,w=t.get(f);if(!s||y===null||y.length===0||r&&!x)r?d(null):c();else{const M=r?0:i,S=M*4;let R=w.clippingState||null;l.value=R,R=d(y,p,S,m);for(let P=0;P!==S;++P)R[P]=n[P];w.clippingState=R,this.numIntersection=C?this.numPlanes:0,this.numPlanes+=M}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function d(f,p,m,y){const C=f!==null?f.length:0;let x=null;if(C!==0){if(x=l.value,y!==!0||x===null){const w=m+C*4,M=p.matrixWorldInverse;a.getNormalMatrix(M),(x===null||x.length<w)&&(x=new Float32Array(w));for(let S=0,R=m;S!==C;++S,R+=4)o.copy(f[S]).applyMatrix4(M,a),o.normal.toArray(x,R),x[R+3]=o.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=C,e.numIntersection=0,x}}function VVe(t){let e=new WeakMap;function n(o,a){return a===my?o.mapping=Zl:a===gy&&(o.mapping=cu),o}function i(o){if(o&&o.isTexture){const a=o.mapping;if(a===my||a===gy)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new RK(l.height);return c.fromEquirectangularTexture(t,o),e.set(o,c),o.addEventListener("dispose",s),n(c.texture,o.mapping)}else return null}}return o}function s(o){const a=o.target;a.removeEventListener("dispose",s);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function r(){e=new WeakMap}return{get:i,dispose:r}}const ap=4,Kz=[.125,.215,.35,.446,.526,.582],Td=20,o2=new PE,Yz=new ut;let a2=null,l2=0,c2=0,u2=!1;const vd=(1+Math.sqrt(5))/2,Gf=1/vd,Xz=[new Y(-vd,Gf,0),new Y(vd,Gf,0),new Y(-Gf,0,vd),new Y(Gf,0,vd),new Y(0,vd,-Gf),new Y(0,vd,Gf),new Y(-1,1,-1),new Y(1,1,-1),new Y(-1,1,1),new Y(1,1,1)],zVe=new Y;class BD{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,i=.1,s=100,r={}){const{size:o=256,position:a=zVe}=r;a2=this._renderer.getRenderTarget(),l2=this._renderer.getActiveCubeFace(),c2=this._renderer.getActiveMipmapLevel(),u2=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,i,s,l,a),n>0&&this._blur(l,0,0,n),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Qz(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Jz(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(a2,l2,c2),this._renderer.xr.enabled=u2,e.scissorTest=!1,nw(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Zl||e.mapping===cu?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),a2=this._renderer.getRenderTarget(),l2=this._renderer.getActiveCubeFace(),c2=this._renderer.getActiveMipmapLevel(),u2=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=n||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,i={magFilter:Li,minFilter:Li,generateMipmaps:!1,type:um,format:Xs,colorSpace:vh,depthBuffer:!1},s=Zz(e,n,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Zz(e,n,i);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=GVe(r)),this._blurMaterial=UVe(r,e,n)}return s}_compileMaterial(e){const n=new Ri(this._lodPlanes[0],e);this._renderer.compile(n,o2)}_sceneToCubeUV(e,n,i,s,r){const l=new us(90,1,n,i),c=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],f=this._renderer,p=f.autoClear,m=f.toneMapping;f.getClearColor(Yz),f.toneMapping=Vl,f.autoClear=!1;const y=new Su({name:"PMREM.Background",side:Js,depthWrite:!1,depthTest:!1}),C=new Ri(new _h,y);let x=!1;const w=e.background;w?w.isColor&&(y.color.copy(w),e.background=null,x=!0):(y.color.copy(Yz),x=!0);for(let M=0;M<6;M++){const S=M%3;S===0?(l.up.set(0,c[M],0),l.position.set(r.x,r.y,r.z),l.lookAt(r.x+d[M],r.y,r.z)):S===1?(l.up.set(0,0,c[M]),l.position.set(r.x,r.y,r.z),l.lookAt(r.x,r.y+d[M],r.z)):(l.up.set(0,c[M],0),l.position.set(r.x,r.y,r.z),l.lookAt(r.x,r.y,r.z+d[M]));const R=this._cubeSize;nw(s,S*R,M>2?R:0,R,R),f.setRenderTarget(s),x&&f.render(C,l),f.render(e,l)}C.geometry.dispose(),C.material.dispose(),f.toneMapping=m,f.autoClear=p,e.background=w}_textureToCubeUV(e,n){const i=this._renderer,s=e.mapping===Zl||e.mapping===cu;s?(this._cubemapMaterial===null&&(this._cubemapMaterial=Qz()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Jz());const r=s?this._cubemapMaterial:this._equirectMaterial,o=new Ri(this._lodPlanes[0],r),a=r.uniforms;a.envMap.value=e;const l=this._cubeSize;nw(n,0,0,3*l,2*l),i.setRenderTarget(n),i.render(o,o2)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;const s=this._lodPlanes.length;for(let r=1;r<s;r++){const o=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),a=Xz[(s-r-1)%Xz.length];this._blur(e,r-1,r,o,a)}n.autoClear=i}_blur(e,n,i,s,r){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,i,s,"latitudinal",r),this._halfBlur(o,e,i,i,s,"longitudinal",r)}_halfBlur(e,n,i,s,r,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,f=new Ri(this._lodPlanes[s],c),p=c.uniforms,m=this._sizeLods[i]-1,y=isFinite(r)?Math.PI/(2*m):2*Math.PI/(2*Td-1),C=r/y,x=isFinite(r)?1+Math.floor(d*C):Td;x>Td&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${Td}`);const w=[];let M=0;for(let N=0;N<Td;++N){const I=N/C,_=Math.exp(-I*I/2);w.push(_),N===0?M+=_:N<x&&(M+=2*_)}for(let N=0;N<w.length;N++)w[N]=w[N]/M;p.envMap.value=e.texture,p.samples.value=x,p.weights.value=w,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:S}=this;p.dTheta.value=y,p.mipInt.value=S-i;const R=this._sizeLods[s],P=3*R*(s>S-ap?s-S+ap:0),F=4*(this._cubeSize-R);nw(n,P,F,3*R,2*R),l.setRenderTarget(n),l.render(f,o2)}}function GVe(t){const e=[],n=[],i=[];let s=t;const r=t-ap+1+Kz.length;for(let o=0;o<r;o++){const a=Math.pow(2,s);n.push(a);let l=1/a;o>t-ap?l=Kz[o-t+ap-1]:o===0&&(l=0),i.push(l);const c=1/(a-2),d=-c,f=1+c,p=[d,d,f,d,f,f,d,d,f,f,d,f],m=6,y=6,C=3,x=2,w=1,M=new Float32Array(C*y*m),S=new Float32Array(x*y*m),R=new Float32Array(w*y*m);for(let F=0;F<m;F++){const N=F%3*2/3-1,I=F>2?0:-1,_=[N,I,0,N+2/3,I,0,N+2/3,I+1,0,N,I,0,N+2/3,I+1,0,N,I+1,0];M.set(_,C*y*F),S.set(p,x*y*F);const A=[F,F,F,F,F,F];R.set(A,w*y*F)}const P=new zt;P.setAttribute("position",new An(M,C)),P.setAttribute("uv",new An(S,x)),P.setAttribute("faceIndex",new An(R,w)),e.push(P),s>ap&&s--}return{lodPlanes:e,sizeLods:n,sigmas:i}}function Zz(t,e,n){const i=new Ga(t,e,n);return i.texture.mapping=cm,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function nw(t,e,n,i,s){t.viewport.set(e,n,i,s),t.scissor.set(e,n,i,s)}function UVe(t,e,n){const i=new Float32Array(Td),s=new Y(0,1,0);return new ia({name:"SphericalGaussianBlur",defines:{n:Td,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:s}},vertexShader:MI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Hl,depthTest:!1,depthWrite:!1})}function Jz(){return new ia({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:MI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Hl,depthTest:!1,depthWrite:!1})}function Qz(){return new ia({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:MI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Hl,depthTest:!1,depthWrite:!1})}function MI(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function jVe(t){let e=new WeakMap,n=null;function i(a){if(a&&a.isTexture){const l=a.mapping,c=l===my||l===gy,d=l===Zl||l===cu;if(c||d){let f=e.get(a);const p=f!==void 0?f.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==p)return n===null&&(n=new BD(t)),f=c?n.fromEquirectangular(a,f):n.fromCubemap(a,f),f.texture.pmremVersion=a.pmremVersion,e.set(a,f),f.texture;if(f!==void 0)return f.texture;{const m=a.image;return c&&m&&m.height>0||d&&m&&s(m)?(n===null&&(n=new BD(t)),f=c?n.fromEquirectangular(a):n.fromCubemap(a),f.texture.pmremVersion=a.pmremVersion,e.set(a,f),a.addEventListener("dispose",r),f.texture):null}}}return a}function s(a){let l=0;const c=6;for(let d=0;d<c;d++)a[d]!==void 0&&l++;return l===c}function r(a){const l=a.target;l.removeEventListener("dispose",r);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:i,dispose:o}}function WVe(t){const e={};function n(i){if(e[i]!==void 0)return e[i];let s;switch(i){case"WEBGL_depth_texture":s=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":s=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":s=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":s=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:s=t.getExtension(i)}return e[i]=s,s}return{has:function(i){return n(i)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(i){const s=n(i);return s===null&&gd("THREE.WebGLRenderer: "+i+" extension not supported."),s}}}function $Ve(t,e,n,i){const s={},r=new WeakMap;function o(f){const p=f.target;p.index!==null&&e.remove(p.index);for(const y in p.attributes)e.remove(p.attributes[y]);p.removeEventListener("dispose",o),delete s[p.id];const m=r.get(p);m&&(e.remove(m),r.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,n.memory.geometries--}function a(f,p){return s[p.id]===!0||(p.addEventListener("dispose",o),s[p.id]=!0,n.memory.geometries++),p}function l(f){const p=f.attributes;for(const m in p)e.update(p[m],t.ARRAY_BUFFER)}function c(f){const p=[],m=f.index,y=f.attributes.position;let C=0;if(m!==null){const M=m.array;C=m.version;for(let S=0,R=M.length;S<R;S+=3){const P=M[S+0],F=M[S+1],N=M[S+2];p.push(P,F,F,N,N,P)}}else if(y!==void 0){const M=y.array;C=y.version;for(let S=0,R=M.length/3-1;S<R;S+=3){const P=S+0,F=S+1,N=S+2;p.push(P,F,F,N,N,P)}}else return;const x=new(CK(p)?tI:eI)(p,1);x.version=C;const w=r.get(f);w&&e.remove(w),r.set(f,x)}function d(f){const p=r.get(f);if(p){const m=f.index;m!==null&&p.version<m.version&&c(f)}else c(f);return r.get(f)}return{get:a,update:l,getWireframeAttribute:d}}function qVe(t,e,n){let i;function s(p){i=p}let r,o;function a(p){r=p.type,o=p.bytesPerElement}function l(p,m){t.drawElements(i,m,r,p*o),n.update(m,i,1)}function c(p,m,y){y!==0&&(t.drawElementsInstanced(i,m,r,p*o,y),n.update(m,i,y))}function d(p,m,y){if(y===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,m,0,r,p,0,y);let x=0;for(let w=0;w<y;w++)x+=m[w];n.update(x,i,1)}function f(p,m,y,C){if(y===0)return;const x=e.get("WEBGL_multi_draw");if(x===null)for(let w=0;w<p.length;w++)c(p[w]/o,m[w],C[w]);else{x.multiDrawElementsInstancedWEBGL(i,m,0,r,p,0,C,0,y);let w=0;for(let M=0;M<y;M++)w+=m[M]*C[M];n.update(w,i,1)}}this.setMode=s,this.setIndex=a,this.render=l,this.renderInstances=c,this.renderMultiDraw=d,this.renderMultiDrawInstances=f}function KVe(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(r,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(r/3);break;case t.LINES:n.lines+=a*(r/2);break;case t.LINE_STRIP:n.lines+=a*(r-1);break;case t.LINE_LOOP:n.lines+=a*r;break;case t.POINTS:n.points+=a*r;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function s(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:s,update:i}}function YVe(t,e,n){const i=new WeakMap,s=new rn;function r(o,a,l){const c=o.morphTargetInfluences,d=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,f=d!==void 0?d.length:0;let p=i.get(a);if(p===void 0||p.count!==f){let _=function(){N.dispose(),i.delete(a),a.removeEventListener("dispose",_)};p!==void 0&&p.texture.dispose();const m=a.morphAttributes.position!==void 0,y=a.morphAttributes.normal!==void 0,C=a.morphAttributes.color!==void 0,x=a.morphAttributes.position||[],w=a.morphAttributes.normal||[],M=a.morphAttributes.color||[];let S=0;m===!0&&(S=1),y===!0&&(S=2),C===!0&&(S=3);let R=a.attributes.position.count*S,P=1;R>e.maxTextureSize&&(P=Math.ceil(R/e.maxTextureSize),R=e.maxTextureSize);const F=new Float32Array(R*P*4*f),N=new b0(F,R,P,f);N.type=Cr,N.needsUpdate=!0;const I=S*4;for(let A=0;A<f;A++){const O=x[A],k=w[A],z=M[A],W=R*P*4*A;for(let K=0;K<O.count;K++){const V=K*I;m===!0&&(s.fromBufferAttribute(O,K),F[W+V+0]=s.x,F[W+V+1]=s.y,F[W+V+2]=s.z,F[W+V+3]=0),y===!0&&(s.fromBufferAttribute(k,K),F[W+V+4]=s.x,F[W+V+5]=s.y,F[W+V+6]=s.z,F[W+V+7]=0),C===!0&&(s.fromBufferAttribute(z,K),F[W+V+8]=s.x,F[W+V+9]=s.y,F[W+V+10]=s.z,F[W+V+11]=z.itemSize===4?s.w:1)}}p={count:f,texture:N,size:new ze(R,P)},i.set(a,p),a.addEventListener("dispose",_)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",o.morphTexture,n);else{let m=0;for(let C=0;C<c.length;C++)m+=c[C];const y=a.morphTargetsRelative?1:1-m;l.getUniforms().setValue(t,"morphTargetBaseInfluence",y),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",p.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",p.size)}return{update:r}}function XVe(t,e,n,i){let s=new WeakMap;function r(l){const c=i.render.frame,d=l.geometry,f=e.get(l,d);if(s.get(f)!==c&&(e.update(f),s.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),s.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),s.set(l,c))),l.isSkinnedMesh){const p=l.skeleton;s.get(p)!==c&&(p.update(),s.set(p,c))}return f}function o(){s=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:r,dispose:o}}const TY=new hi,eG=new rI(1,1),RY=new b0,AY=new aE,PY=new S0,tG=[],nG=[],iG=new Float32Array(16),sG=new Float32Array(9),rG=new Float32Array(4);function pm(t,e,n){const i=t[0];if(i<=0||i>0)return t;const s=e*n;let r=tG[s];if(r===void 0&&(r=new Float32Array(s),tG[s]=r),e!==0){i.toArray(r,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(r,a)}return r}function ki(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function Bi(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function _E(t,e){let n=nG[e];n===void 0&&(n=new Int32Array(e),nG[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function ZVe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function JVe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ki(n,e))return;t.uniform2fv(this.addr,e),Bi(n,e)}}function QVe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(ki(n,e))return;t.uniform3fv(this.addr,e),Bi(n,e)}}function eze(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ki(n,e))return;t.uniform4fv(this.addr,e),Bi(n,e)}}function tze(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(ki(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Bi(n,e)}else{if(ki(n,i))return;rG.set(i),t.uniformMatrix2fv(this.addr,!1,rG),Bi(n,i)}}function nze(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(ki(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Bi(n,e)}else{if(ki(n,i))return;sG.set(i),t.uniformMatrix3fv(this.addr,!1,sG),Bi(n,i)}}function ize(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(ki(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Bi(n,e)}else{if(ki(n,i))return;iG.set(i),t.uniformMatrix4fv(this.addr,!1,iG),Bi(n,i)}}function sze(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function rze(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ki(n,e))return;t.uniform2iv(this.addr,e),Bi(n,e)}}function oze(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ki(n,e))return;t.uniform3iv(this.addr,e),Bi(n,e)}}function aze(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ki(n,e))return;t.uniform4iv(this.addr,e),Bi(n,e)}}function lze(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function cze(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ki(n,e))return;t.uniform2uiv(this.addr,e),Bi(n,e)}}function uze(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ki(n,e))return;t.uniform3uiv(this.addr,e),Bi(n,e)}}function dze(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ki(n,e))return;t.uniform4uiv(this.addr,e),Bi(n,e)}}function hze(t,e,n){const i=this.cache,s=n.allocateTextureUnit();i[0]!==s&&(t.uniform1i(this.addr,s),i[0]=s);let r;this.type===t.SAMPLER_2D_SHADOW?(eG.compareFunction=JN,r=eG):r=TY,n.setTexture2D(e||r,s)}function fze(t,e,n){const i=this.cache,s=n.allocateTextureUnit();i[0]!==s&&(t.uniform1i(this.addr,s),i[0]=s),n.setTexture3D(e||AY,s)}function pze(t,e,n){const i=this.cache,s=n.allocateTextureUnit();i[0]!==s&&(t.uniform1i(this.addr,s),i[0]=s),n.setTextureCube(e||PY,s)}function mze(t,e,n){const i=this.cache,s=n.allocateTextureUnit();i[0]!==s&&(t.uniform1i(this.addr,s),i[0]=s),n.setTexture2DArray(e||RY,s)}function gze(t){switch(t){case 5126:return ZVe;case 35664:return JVe;case 35665:return QVe;case 35666:return eze;case 35674:return tze;case 35675:return nze;case 35676:return ize;case 5124:case 35670:return sze;case 35667:case 35671:return rze;case 35668:case 35672:return oze;case 35669:case 35673:return aze;case 5125:return lze;case 36294:return cze;case 36295:return uze;case 36296:return dze;case 35678:case 36198:case 36298:case 36306:case 35682:return hze;case 35679:case 36299:case 36307:return fze;case 35680:case 36300:case 36308:case 36293:return pze;case 36289:case 36303:case 36311:case 36292:return mze}}function vze(t,e){t.uniform1fv(this.addr,e)}function yze(t,e){const n=pm(e,this.size,2);t.uniform2fv(this.addr,n)}function xze(t,e){const n=pm(e,this.size,3);t.uniform3fv(this.addr,n)}function Cze(t,e){const n=pm(e,this.size,4);t.uniform4fv(this.addr,n)}function wze(t,e){const n=pm(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function bze(t,e){const n=pm(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Sze(t,e){const n=pm(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function Eze(t,e){t.uniform1iv(this.addr,e)}function Mze(t,e){t.uniform2iv(this.addr,e)}function Tze(t,e){t.uniform3iv(this.addr,e)}function Rze(t,e){t.uniform4iv(this.addr,e)}function Aze(t,e){t.uniform1uiv(this.addr,e)}function Pze(t,e){t.uniform2uiv(this.addr,e)}function Dze(t,e){t.uniform3uiv(this.addr,e)}function _ze(t,e){t.uniform4uiv(this.addr,e)}function Fze(t,e,n){const i=this.cache,s=e.length,r=_E(n,s);ki(i,r)||(t.uniform1iv(this.addr,r),Bi(i,r));for(let o=0;o!==s;++o)n.setTexture2D(e[o]||TY,r[o])}function Nze(t,e,n){const i=this.cache,s=e.length,r=_E(n,s);ki(i,r)||(t.uniform1iv(this.addr,r),Bi(i,r));for(let o=0;o!==s;++o)n.setTexture3D(e[o]||AY,r[o])}function Ize(t,e,n){const i=this.cache,s=e.length,r=_E(n,s);ki(i,r)||(t.uniform1iv(this.addr,r),Bi(i,r));for(let o=0;o!==s;++o)n.setTextureCube(e[o]||PY,r[o])}function Oze(t,e,n){const i=this.cache,s=e.length,r=_E(n,s);ki(i,r)||(t.uniform1iv(this.addr,r),Bi(i,r));for(let o=0;o!==s;++o)n.setTexture2DArray(e[o]||RY,r[o])}function Lze(t){switch(t){case 5126:return vze;case 35664:return yze;case 35665:return xze;case 35666:return Cze;case 35674:return wze;case 35675:return bze;case 35676:return Sze;case 5124:case 35670:return Eze;case 35667:case 35671:return Mze;case 35668:case 35672:return Tze;case 35669:case 35673:return Rze;case 5125:return Aze;case 36294:return Pze;case 36295:return Dze;case 36296:return _ze;case 35678:case 36198:case 36298:case 36306:case 35682:return Fze;case 35679:case 36299:case 36307:return Nze;case 35680:case 36300:case 36308:case 36293:return Ize;case 36289:case 36303:case 36311:case 36292:return Oze}}class kze{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.setValue=gze(n.type)}}class Bze{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=Lze(n.type)}}class Hze{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,i){const s=this.seq;for(let r=0,o=s.length;r!==o;++r){const a=s[r];a.setValue(e,n[a.id],i)}}}const d2=/(\w+)(\])?(\[|\.)?/g;function oG(t,e){t.seq.push(e),t.map[e.id]=e}function Vze(t,e,n){const i=t.name,s=i.length;for(d2.lastIndex=0;;){const r=d2.exec(i),o=d2.lastIndex;let a=r[1];const l=r[2]==="]",c=r[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===s){oG(n,c===void 0?new kze(a,t,e):new Bze(a,t,e));break}else{let f=n.map[a];f===void 0&&(f=new Hze(a),oG(n,f)),n=f}}}class Uw{constructor(e,n){this.seq=[],this.map={};const i=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let s=0;s<i;++s){const r=e.getActiveUniform(n,s),o=e.getUniformLocation(n,r.name);Vze(r,o,this)}}setValue(e,n,i,s){const r=this.map[n];r!==void 0&&r.setValue(e,i,s)}setOptional(e,n,i){const s=n[i];s!==void 0&&this.setValue(e,i,s)}static upload(e,n,i,s){for(let r=0,o=n.length;r!==o;++r){const a=n[r],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,s)}}static seqWithValue(e,n){const i=[];for(let s=0,r=e.length;s!==r;++s){const o=e[s];o.id in n&&i.push(o)}return i}}function aG(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}const zze=37297;let Gze=0;function Uze(t,e){const n=t.split(`
`),i=[],s=Math.max(e-6,0),r=Math.min(e+6,n.length);for(let o=s;o<r;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return i.join(`
`)}const lG=new Ot;function jze(t){nn._getMatrix(lG,nn.workingColorSpace,t);const e=`mat3( ${lG.elements.map(n=>n.toFixed(4))} )`;switch(nn.getTransfer(t)){case wy:return[e,"LinearTransferOETF"];case xn:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function cG(t,e,n){const i=t.getShaderParameter(e,t.COMPILE_STATUS),s=t.getShaderInfoLog(e).trim();if(i&&s==="")return"";const r=/ERROR: 0:(\d+)/.exec(s);if(r){const o=parseInt(r[1]);return n.toUpperCase()+`

`+s+`

`+Uze(t.getShaderSource(e),o)}else return s}function Wze(t,e){const n=jze(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function $ze(t,e){let n;switch(e){case Qq:n="Linear";break;case eK:n="Reinhard";break;case tK:n="Cineon";break;case nK:n="ACESFilmic";break;case sK:n="AgX";break;case rK:n="Neutral";break;case iK:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const iw=new Y;function qze(){nn.getLuminanceCoefficients(iw);const t=iw.x.toFixed(4),e=iw.y.toFixed(4),n=iw.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Kze(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(iv).join(`
`)}function Yze(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function Xze(t,e){const n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let s=0;s<i;s++){const r=t.getActiveAttrib(e,s),o=r.name;let a=1;r.type===t.FLOAT_MAT2&&(a=2),r.type===t.FLOAT_MAT3&&(a=3),r.type===t.FLOAT_MAT4&&(a=4),n[o]={type:r.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function iv(t){return t!==""}function uG(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function dG(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Zze=/^[ \t]*#include +<([\w\d./]+)>/gm;function HD(t){return t.replace(Zze,Qze)}const Jze=new Map;function Qze(t,e){let n=Ht[e];if(n===void 0){const i=Jze.get(e);if(i!==void 0)n=Ht[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return HD(n)}const eGe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function hG(t){return t.replace(eGe,tGe)}function tGe(t,e,n,i){let s="";for(let r=parseInt(e);r<parseInt(n);r++)s+=i.replace(/\[\s*i\s*\]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return s}function fG(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function nGe(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===VN?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Fq?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===wa&&(e="SHADOWMAP_TYPE_VSM"),e}function iGe(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Zl:case cu:e="ENVMAP_TYPE_CUBE";break;case cm:e="ENVMAP_TYPE_CUBE_UV";break}return e}function sGe(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case cu:e="ENVMAP_MODE_REFRACTION";break}return e}function rGe(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case C0:e="ENVMAP_BLENDING_MULTIPLY";break;case Zq:e="ENVMAP_BLENDING_MIX";break;case Jq:e="ENVMAP_BLENDING_ADD";break}return e}function oGe(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:i,maxMip:n}}function aGe(t,e,n,i){const s=t.getContext(),r=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=nGe(n),c=iGe(n),d=sGe(n),f=rGe(n),p=oGe(n),m=Kze(n),y=Yze(r),C=s.createProgram();let x,w,M=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(x=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y].filter(iv).join(`
`),x.length>0&&(x+=`
`),w=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y].filter(iv).join(`
`),w.length>0&&(w+=`
`)):(x=[fG(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(iv).join(`
`),w=[fG(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+d:"",n.envMap?"#define "+f:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Vl?"#define TONE_MAPPING":"",n.toneMapping!==Vl?Ht.tonemapping_pars_fragment:"",n.toneMapping!==Vl?$ze("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Ht.colorspace_pars_fragment,Wze("linearToOutputTexel",n.outputColorSpace),qze(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(iv).join(`
`)),o=HD(o),o=uG(o,n),o=dG(o,n),a=HD(a),a=uG(a,n),a=dG(a,n),o=hG(o),a=hG(a),n.isRawShaderMaterial!==!0&&(M=`#version 300 es
`,x=[m,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,w=["#define varying in",n.glslVersion===DD?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===DD?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+w);const S=M+x+o,R=M+w+a,P=aG(s,s.VERTEX_SHADER,S),F=aG(s,s.FRAGMENT_SHADER,R);s.attachShader(C,P),s.attachShader(C,F),n.index0AttributeName!==void 0?s.bindAttribLocation(C,0,n.index0AttributeName):n.morphTargets===!0&&s.bindAttribLocation(C,0,"position"),s.linkProgram(C);function N(O){if(t.debug.checkShaderErrors){const k=s.getProgramInfoLog(C).trim(),z=s.getShaderInfoLog(P).trim(),W=s.getShaderInfoLog(F).trim();let K=!0,V=!0;if(s.getProgramParameter(C,s.LINK_STATUS)===!1)if(K=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(s,C,P,F);else{const Q=cG(s,P,"vertex"),q=cG(s,F,"fragment");console.error("THREE.WebGLProgram: Shader Error "+s.getError()+" - VALIDATE_STATUS "+s.getProgramParameter(C,s.VALIDATE_STATUS)+`

Material Name: `+O.name+`
Material Type: `+O.type+`

Program Info Log: `+k+`
`+Q+`
`+q)}else k!==""?console.warn("THREE.WebGLProgram: Program Info Log:",k):(z===""||W==="")&&(V=!1);V&&(O.diagnostics={runnable:K,programLog:k,vertexShader:{log:z,prefix:x},fragmentShader:{log:W,prefix:w}})}s.deleteShader(P),s.deleteShader(F),I=new Uw(s,C),_=Xze(s,C)}let I;this.getUniforms=function(){return I===void 0&&N(this),I};let _;this.getAttributes=function(){return _===void 0&&N(this),_};let A=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return A===!1&&(A=s.getProgramParameter(C,zze)),A},this.destroy=function(){i.releaseStatesOfProgram(this),s.deleteProgram(C),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Gze++,this.cacheKey=e,this.usedTimes=1,this.program=C,this.vertexShader=P,this.fragmentShader=F,this}let lGe=0;class cGe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,i=e.fragmentShader,s=this._getShaderStage(n),r=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(s)===!1&&(o.add(s),s.usedTimes++),o.has(r)===!1&&(o.add(r),r.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const i of n)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let i=n.get(e);return i===void 0&&(i=new Set,n.set(e,i)),i}_getShaderStage(e){const n=this.shaderCache;let i=n.get(e);return i===void 0&&(i=new uGe(e),n.set(e,i)),i}}class uGe{constructor(e){this.id=lGe++,this.code=e,this.usedTimes=0}}function dGe(t,e,n,i,s,r,o){const a=new lE,l=new cGe,c=new Set,d=[],f=s.logarithmicDepthBuffer,p=s.vertexTextures;let m=s.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function C(_){return c.add(_),_===0?"uv":`uv${_}`}function x(_,A,O,k,z){const W=k.fog,K=z.geometry,V=_.isMeshStandardMaterial?k.environment:null,Q=(_.isMeshStandardMaterial?n:e).get(_.envMap||V),q=Q&&Q.mapping===cm?Q.image.height:null,X=y[_.type];_.precision!==null&&(m=s.getMaxPrecision(_.precision),m!==_.precision&&console.warn("THREE.WebGLProgram.getParameters:",_.precision,"not supported, using",m,"instead."));const H=K.morphAttributes.position||K.morphAttributes.normal||K.morphAttributes.color,ee=H!==void 0?H.length:0;let ge=0;K.morphAttributes.position!==void 0&&(ge=1),K.morphAttributes.normal!==void 0&&(ge=2),K.morphAttributes.color!==void 0&&(ge=3);let Se,Z,ae,xe;if(X){const ln=Uo[X];Se=ln.vertexShader,Z=ln.fragmentShader}else Se=_.vertexShader,Z=_.fragmentShader,l.update(_),ae=l.getVertexShaderID(_),xe=l.getFragmentShaderID(_);const Me=t.getRenderTarget(),Oe=t.state.buffers.depth.getReversed(),Le=z.isInstancedMesh===!0,we=z.isBatchedMesh===!0,$e=!!_.map,ce=!!_.matcap,Ce=!!Q,U=!!_.aoMap,ke=!!_.lightMap,De=!!_.bumpMap,Xe=!!_.normalMap,Ve=!!_.displacementMap,at=!!_.emissiveMap,Ge=!!_.metalnessMap,$=!!_.roughnessMap,B=_.anisotropy>0,de=_.clearcoat>0,te=_.dispersion>0,fe=_.iridescence>0,he=_.sheen>0,je=_.transmission>0,We=B&&!!_.anisotropyMap,Ze=de&&!!_.clearcoatMap,Ct=de&&!!_.clearcoatNormalMap,Ne=de&&!!_.clearcoatRoughnessMap,et=fe&&!!_.iridescenceMap,ft=fe&&!!_.iridescenceThicknessMap,dt=he&&!!_.sheenColorMap,Ie=he&&!!_.sheenRoughnessMap,rt=!!_.specularMap,tt=!!_.specularColorMap,Gt=!!_.specularIntensityMap,se=je&&!!_.transmissionMap,st=je&&!!_.thicknessMap,Re=!!_.gradientMap,He=!!_.alphaMap,Qe=_.alphaTest>0,it=!!_.alphaHash,Rt=!!_.extensions;let Vn=Vl;_.toneMapped&&(Me===null||Me.isXRRenderTarget===!0)&&(Vn=t.toneMapping);const Ai={shaderID:X,shaderType:_.type,shaderName:_.name,vertexShader:Se,fragmentShader:Z,defines:_.defines,customVertexShaderID:ae,customFragmentShaderID:xe,isRawShaderMaterial:_.isRawShaderMaterial===!0,glslVersion:_.glslVersion,precision:m,batching:we,batchingColor:we&&z._colorsTexture!==null,instancing:Le,instancingColor:Le&&z.instanceColor!==null,instancingMorph:Le&&z.morphTexture!==null,supportsVertexTextures:p,outputColorSpace:Me===null?t.outputColorSpace:Me.isXRRenderTarget===!0?Me.texture.colorSpace:vh,alphaToCoverage:!!_.alphaToCoverage,map:$e,matcap:ce,envMap:Ce,envMapMode:Ce&&Q.mapping,envMapCubeUVHeight:q,aoMap:U,lightMap:ke,bumpMap:De,normalMap:Xe,displacementMap:p&&Ve,emissiveMap:at,normalMapObjectSpace:Xe&&_.normalMapType===hK,normalMapTangentSpace:Xe&&_.normalMapType===bu,metalnessMap:Ge,roughnessMap:$,anisotropy:B,anisotropyMap:We,clearcoat:de,clearcoatMap:Ze,clearcoatNormalMap:Ct,clearcoatRoughnessMap:Ne,dispersion:te,iridescence:fe,iridescenceMap:et,iridescenceThicknessMap:ft,sheen:he,sheenColorMap:dt,sheenRoughnessMap:Ie,specularMap:rt,specularColorMap:tt,specularIntensityMap:Gt,transmission:je,transmissionMap:se,thicknessMap:st,gradientMap:Re,opaque:_.transparent===!1&&_.blending===Qd&&_.alphaToCoverage===!1,alphaMap:He,alphaTest:Qe,alphaHash:it,combine:_.combine,mapUv:$e&&C(_.map.channel),aoMapUv:U&&C(_.aoMap.channel),lightMapUv:ke&&C(_.lightMap.channel),bumpMapUv:De&&C(_.bumpMap.channel),normalMapUv:Xe&&C(_.normalMap.channel),displacementMapUv:Ve&&C(_.displacementMap.channel),emissiveMapUv:at&&C(_.emissiveMap.channel),metalnessMapUv:Ge&&C(_.metalnessMap.channel),roughnessMapUv:$&&C(_.roughnessMap.channel),anisotropyMapUv:We&&C(_.anisotropyMap.channel),clearcoatMapUv:Ze&&C(_.clearcoatMap.channel),clearcoatNormalMapUv:Ct&&C(_.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ne&&C(_.clearcoatRoughnessMap.channel),iridescenceMapUv:et&&C(_.iridescenceMap.channel),iridescenceThicknessMapUv:ft&&C(_.iridescenceThicknessMap.channel),sheenColorMapUv:dt&&C(_.sheenColorMap.channel),sheenRoughnessMapUv:Ie&&C(_.sheenRoughnessMap.channel),specularMapUv:rt&&C(_.specularMap.channel),specularColorMapUv:tt&&C(_.specularColorMap.channel),specularIntensityMapUv:Gt&&C(_.specularIntensityMap.channel),transmissionMapUv:se&&C(_.transmissionMap.channel),thicknessMapUv:st&&C(_.thicknessMap.channel),alphaMapUv:He&&C(_.alphaMap.channel),vertexTangents:!!K.attributes.tangent&&(Xe||B),vertexColors:_.vertexColors,vertexAlphas:_.vertexColors===!0&&!!K.attributes.color&&K.attributes.color.itemSize===4,pointsUvs:z.isPoints===!0&&!!K.attributes.uv&&($e||He),fog:!!W,useFog:_.fog===!0,fogExp2:!!W&&W.isFogExp2,flatShading:_.flatShading===!0,sizeAttenuation:_.sizeAttenuation===!0,logarithmicDepthBuffer:f,reverseDepthBuffer:Oe,skinning:z.isSkinnedMesh===!0,morphTargets:K.morphAttributes.position!==void 0,morphNormals:K.morphAttributes.normal!==void 0,morphColors:K.morphAttributes.color!==void 0,morphTargetsCount:ee,morphTextureStride:ge,numDirLights:A.directional.length,numPointLights:A.point.length,numSpotLights:A.spot.length,numSpotLightMaps:A.spotLightMap.length,numRectAreaLights:A.rectArea.length,numHemiLights:A.hemi.length,numDirLightShadows:A.directionalShadowMap.length,numPointLightShadows:A.pointShadowMap.length,numSpotLightShadows:A.spotShadowMap.length,numSpotLightShadowsWithMaps:A.numSpotLightShadowsWithMaps,numLightProbes:A.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:_.dithering,shadowMapEnabled:t.shadowMap.enabled&&O.length>0,shadowMapType:t.shadowMap.type,toneMapping:Vn,decodeVideoTexture:$e&&_.map.isVideoTexture===!0&&nn.getTransfer(_.map.colorSpace)===xn,decodeVideoTextureEmissive:at&&_.emissiveMap.isVideoTexture===!0&&nn.getTransfer(_.emissiveMap.colorSpace)===xn,premultipliedAlpha:_.premultipliedAlpha,doubleSided:_.side===Ta,flipSided:_.side===Js,useDepthPacking:_.depthPacking>=0,depthPacking:_.depthPacking||0,index0AttributeName:_.index0AttributeName,extensionClipCullDistance:Rt&&_.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Rt&&_.extensions.multiDraw===!0||we)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:_.customProgramCacheKey()};return Ai.vertexUv1s=c.has(1),Ai.vertexUv2s=c.has(2),Ai.vertexUv3s=c.has(3),c.clear(),Ai}function w(_){const A=[];if(_.shaderID?A.push(_.shaderID):(A.push(_.customVertexShaderID),A.push(_.customFragmentShaderID)),_.defines!==void 0)for(const O in _.defines)A.push(O),A.push(_.defines[O]);return _.isRawShaderMaterial===!1&&(M(A,_),S(A,_),A.push(t.outputColorSpace)),A.push(_.customProgramCacheKey),A.join()}function M(_,A){_.push(A.precision),_.push(A.outputColorSpace),_.push(A.envMapMode),_.push(A.envMapCubeUVHeight),_.push(A.mapUv),_.push(A.alphaMapUv),_.push(A.lightMapUv),_.push(A.aoMapUv),_.push(A.bumpMapUv),_.push(A.normalMapUv),_.push(A.displacementMapUv),_.push(A.emissiveMapUv),_.push(A.metalnessMapUv),_.push(A.roughnessMapUv),_.push(A.anisotropyMapUv),_.push(A.clearcoatMapUv),_.push(A.clearcoatNormalMapUv),_.push(A.clearcoatRoughnessMapUv),_.push(A.iridescenceMapUv),_.push(A.iridescenceThicknessMapUv),_.push(A.sheenColorMapUv),_.push(A.sheenRoughnessMapUv),_.push(A.specularMapUv),_.push(A.specularColorMapUv),_.push(A.specularIntensityMapUv),_.push(A.transmissionMapUv),_.push(A.thicknessMapUv),_.push(A.combine),_.push(A.fogExp2),_.push(A.sizeAttenuation),_.push(A.morphTargetsCount),_.push(A.morphAttributeCount),_.push(A.numDirLights),_.push(A.numPointLights),_.push(A.numSpotLights),_.push(A.numSpotLightMaps),_.push(A.numHemiLights),_.push(A.numRectAreaLights),_.push(A.numDirLightShadows),_.push(A.numPointLightShadows),_.push(A.numSpotLightShadows),_.push(A.numSpotLightShadowsWithMaps),_.push(A.numLightProbes),_.push(A.shadowMapType),_.push(A.toneMapping),_.push(A.numClippingPlanes),_.push(A.numClipIntersection),_.push(A.depthPacking)}function S(_,A){a.disableAll(),A.supportsVertexTextures&&a.enable(0),A.instancing&&a.enable(1),A.instancingColor&&a.enable(2),A.instancingMorph&&a.enable(3),A.matcap&&a.enable(4),A.envMap&&a.enable(5),A.normalMapObjectSpace&&a.enable(6),A.normalMapTangentSpace&&a.enable(7),A.clearcoat&&a.enable(8),A.iridescence&&a.enable(9),A.alphaTest&&a.enable(10),A.vertexColors&&a.enable(11),A.vertexAlphas&&a.enable(12),A.vertexUv1s&&a.enable(13),A.vertexUv2s&&a.enable(14),A.vertexUv3s&&a.enable(15),A.vertexTangents&&a.enable(16),A.anisotropy&&a.enable(17),A.alphaHash&&a.enable(18),A.batching&&a.enable(19),A.dispersion&&a.enable(20),A.batchingColor&&a.enable(21),_.push(a.mask),a.disableAll(),A.fog&&a.enable(0),A.useFog&&a.enable(1),A.flatShading&&a.enable(2),A.logarithmicDepthBuffer&&a.enable(3),A.reverseDepthBuffer&&a.enable(4),A.skinning&&a.enable(5),A.morphTargets&&a.enable(6),A.morphNormals&&a.enable(7),A.morphColors&&a.enable(8),A.premultipliedAlpha&&a.enable(9),A.shadowMapEnabled&&a.enable(10),A.doubleSided&&a.enable(11),A.flipSided&&a.enable(12),A.useDepthPacking&&a.enable(13),A.dithering&&a.enable(14),A.transmission&&a.enable(15),A.sheen&&a.enable(16),A.opaque&&a.enable(17),A.pointsUvs&&a.enable(18),A.decodeVideoTexture&&a.enable(19),A.decodeVideoTextureEmissive&&a.enable(20),A.alphaToCoverage&&a.enable(21),_.push(a.mask)}function R(_){const A=y[_.type];let O;if(A){const k=Uo[A];O=MK.clone(k.uniforms)}else O=_.uniforms;return O}function P(_,A){let O;for(let k=0,z=d.length;k<z;k++){const W=d[k];if(W.cacheKey===A){O=W,++O.usedTimes;break}}return O===void 0&&(O=new aGe(t,A,_,r),d.push(O)),O}function F(_){if(--_.usedTimes===0){const A=d.indexOf(_);d[A]=d[d.length-1],d.pop(),_.destroy()}}function N(_){l.remove(_)}function I(){l.dispose()}return{getParameters:x,getProgramCacheKey:w,getUniforms:R,acquireProgram:P,releaseProgram:F,releaseShaderCache:N,programs:d,dispose:I}}function hGe(){let t=new WeakMap;function e(o){return t.has(o)}function n(o){let a=t.get(o);return a===void 0&&(a={},t.set(o,a)),a}function i(o){t.delete(o)}function s(o,a,l){t.get(o)[a]=l}function r(){t=new WeakMap}return{has:e,get:n,remove:i,update:s,dispose:r}}function fGe(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function pG(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function mG(){const t=[];let e=0;const n=[],i=[],s=[];function r(){e=0,n.length=0,i.length=0,s.length=0}function o(f,p,m,y,C,x){let w=t[e];return w===void 0?(w={id:f.id,object:f,geometry:p,material:m,groupOrder:y,renderOrder:f.renderOrder,z:C,group:x},t[e]=w):(w.id=f.id,w.object=f,w.geometry=p,w.material=m,w.groupOrder=y,w.renderOrder=f.renderOrder,w.z=C,w.group=x),e++,w}function a(f,p,m,y,C,x){const w=o(f,p,m,y,C,x);m.transmission>0?i.push(w):m.transparent===!0?s.push(w):n.push(w)}function l(f,p,m,y,C,x){const w=o(f,p,m,y,C,x);m.transmission>0?i.unshift(w):m.transparent===!0?s.unshift(w):n.unshift(w)}function c(f,p){n.length>1&&n.sort(f||fGe),i.length>1&&i.sort(p||pG),s.length>1&&s.sort(p||pG)}function d(){for(let f=e,p=t.length;f<p;f++){const m=t[f];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:n,transmissive:i,transparent:s,init:r,push:a,unshift:l,finish:d,sort:c}}function pGe(){let t=new WeakMap;function e(i,s){const r=t.get(i);let o;return r===void 0?(o=new mG,t.set(i,[o])):s>=r.length?(o=new mG,r.push(o)):o=r[s],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function mGe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new Y,color:new ut};break;case"SpotLight":n={position:new Y,direction:new Y,color:new ut,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Y,color:new ut,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Y,skyColor:new ut,groundColor:new ut};break;case"RectAreaLight":n={color:new ut,position:new Y,halfWidth:new Y,halfHeight:new Y};break}return t[e.id]=n,n}}}function gGe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ze};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ze};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ze,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let vGe=0;function yGe(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function xGe(t){const e=new mGe,n=gGe(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)i.probe.push(new Y);const s=new Y,r=new Tt,o=new Tt;function a(c){let d=0,f=0,p=0;for(let _=0;_<9;_++)i.probe[_].set(0,0,0);let m=0,y=0,C=0,x=0,w=0,M=0,S=0,R=0,P=0,F=0,N=0;c.sort(yGe);for(let _=0,A=c.length;_<A;_++){const O=c[_],k=O.color,z=O.intensity,W=O.distance,K=O.shadow&&O.shadow.map?O.shadow.map.texture:null;if(O.isAmbientLight)d+=k.r*z,f+=k.g*z,p+=k.b*z;else if(O.isLightProbe){for(let V=0;V<9;V++)i.probe[V].addScaledVector(O.sh.coefficients[V],z);N++}else if(O.isDirectionalLight){const V=e.get(O);if(V.color.copy(O.color).multiplyScalar(O.intensity),O.castShadow){const Q=O.shadow,q=n.get(O);q.shadowIntensity=Q.intensity,q.shadowBias=Q.bias,q.shadowNormalBias=Q.normalBias,q.shadowRadius=Q.radius,q.shadowMapSize=Q.mapSize,i.directionalShadow[m]=q,i.directionalShadowMap[m]=K,i.directionalShadowMatrix[m]=O.shadow.matrix,M++}i.directional[m]=V,m++}else if(O.isSpotLight){const V=e.get(O);V.position.setFromMatrixPosition(O.matrixWorld),V.color.copy(k).multiplyScalar(z),V.distance=W,V.coneCos=Math.cos(O.angle),V.penumbraCos=Math.cos(O.angle*(1-O.penumbra)),V.decay=O.decay,i.spot[C]=V;const Q=O.shadow;if(O.map&&(i.spotLightMap[P]=O.map,P++,Q.updateMatrices(O),O.castShadow&&F++),i.spotLightMatrix[C]=Q.matrix,O.castShadow){const q=n.get(O);q.shadowIntensity=Q.intensity,q.shadowBias=Q.bias,q.shadowNormalBias=Q.normalBias,q.shadowRadius=Q.radius,q.shadowMapSize=Q.mapSize,i.spotShadow[C]=q,i.spotShadowMap[C]=K,R++}C++}else if(O.isRectAreaLight){const V=e.get(O);V.color.copy(k).multiplyScalar(z),V.halfWidth.set(O.width*.5,0,0),V.halfHeight.set(0,O.height*.5,0),i.rectArea[x]=V,x++}else if(O.isPointLight){const V=e.get(O);if(V.color.copy(O.color).multiplyScalar(O.intensity),V.distance=O.distance,V.decay=O.decay,O.castShadow){const Q=O.shadow,q=n.get(O);q.shadowIntensity=Q.intensity,q.shadowBias=Q.bias,q.shadowNormalBias=Q.normalBias,q.shadowRadius=Q.radius,q.shadowMapSize=Q.mapSize,q.shadowCameraNear=Q.camera.near,q.shadowCameraFar=Q.camera.far,i.pointShadow[y]=q,i.pointShadowMap[y]=K,i.pointShadowMatrix[y]=O.shadow.matrix,S++}i.point[y]=V,y++}else if(O.isHemisphereLight){const V=e.get(O);V.skyColor.copy(O.color).multiplyScalar(z),V.groundColor.copy(O.groundColor).multiplyScalar(z),i.hemi[w]=V,w++}}x>0&&(t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=nt.LTC_FLOAT_1,i.rectAreaLTC2=nt.LTC_FLOAT_2):(i.rectAreaLTC1=nt.LTC_HALF_1,i.rectAreaLTC2=nt.LTC_HALF_2)),i.ambient[0]=d,i.ambient[1]=f,i.ambient[2]=p;const I=i.hash;(I.directionalLength!==m||I.pointLength!==y||I.spotLength!==C||I.rectAreaLength!==x||I.hemiLength!==w||I.numDirectionalShadows!==M||I.numPointShadows!==S||I.numSpotShadows!==R||I.numSpotMaps!==P||I.numLightProbes!==N)&&(i.directional.length=m,i.spot.length=C,i.rectArea.length=x,i.point.length=y,i.hemi.length=w,i.directionalShadow.length=M,i.directionalShadowMap.length=M,i.pointShadow.length=S,i.pointShadowMap.length=S,i.spotShadow.length=R,i.spotShadowMap.length=R,i.directionalShadowMatrix.length=M,i.pointShadowMatrix.length=S,i.spotLightMatrix.length=R+P-F,i.spotLightMap.length=P,i.numSpotLightShadowsWithMaps=F,i.numLightProbes=N,I.directionalLength=m,I.pointLength=y,I.spotLength=C,I.rectAreaLength=x,I.hemiLength=w,I.numDirectionalShadows=M,I.numPointShadows=S,I.numSpotShadows=R,I.numSpotMaps=P,I.numLightProbes=N,i.version=vGe++)}function l(c,d){let f=0,p=0,m=0,y=0,C=0;const x=d.matrixWorldInverse;for(let w=0,M=c.length;w<M;w++){const S=c[w];if(S.isDirectionalLight){const R=i.directional[f];R.direction.setFromMatrixPosition(S.matrixWorld),s.setFromMatrixPosition(S.target.matrixWorld),R.direction.sub(s),R.direction.transformDirection(x),f++}else if(S.isSpotLight){const R=i.spot[m];R.position.setFromMatrixPosition(S.matrixWorld),R.position.applyMatrix4(x),R.direction.setFromMatrixPosition(S.matrixWorld),s.setFromMatrixPosition(S.target.matrixWorld),R.direction.sub(s),R.direction.transformDirection(x),m++}else if(S.isRectAreaLight){const R=i.rectArea[y];R.position.setFromMatrixPosition(S.matrixWorld),R.position.applyMatrix4(x),o.identity(),r.copy(S.matrixWorld),r.premultiply(x),o.extractRotation(r),R.halfWidth.set(S.width*.5,0,0),R.halfHeight.set(0,S.height*.5,0),R.halfWidth.applyMatrix4(o),R.halfHeight.applyMatrix4(o),y++}else if(S.isPointLight){const R=i.point[p];R.position.setFromMatrixPosition(S.matrixWorld),R.position.applyMatrix4(x),p++}else if(S.isHemisphereLight){const R=i.hemi[C];R.direction.setFromMatrixPosition(S.matrixWorld),R.direction.transformDirection(x),C++}}}return{setup:a,setupView:l,state:i}}function gG(t){const e=new xGe(t),n=[],i=[];function s(d){c.camera=d,n.length=0,i.length=0}function r(d){n.push(d)}function o(d){i.push(d)}function a(){e.setup(n)}function l(d){e.setupView(n,d)}const c={lightsArray:n,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:s,state:c,setupLights:a,setupLightsView:l,pushLight:r,pushShadow:o}}function CGe(t){let e=new WeakMap;function n(s,r=0){const o=e.get(s);let a;return o===void 0?(a=new gG(t),e.set(s,[a])):r>=o.length?(a=new gG(t),o.push(a)):a=o[r],a}function i(){e=new WeakMap}return{get:n,dispose:i}}const wGe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,bGe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function SGe(t,e,n){let i=new E0;const s=new ze,r=new ze,o=new rn,a=new fI({depthPacking:dK}),l=new pI,c={},d=n.maxTextureSize,f={[Xl]:Js,[Js]:Xl,[Ta]:Ta},p=new ia({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ze},radius:{value:4}},vertexShader:wGe,fragmentShader:bGe}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const y=new zt;y.setAttribute("position",new An(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const C=new Ri(y,p),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=VN;let w=this.type;this.render=function(F,N,I){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||F.length===0)return;const _=t.getRenderTarget(),A=t.getActiveCubeFace(),O=t.getActiveMipmapLevel(),k=t.state;k.setBlending(Hl),k.buffers.color.setClear(1,1,1,1),k.buffers.depth.setTest(!0),k.setScissorTest(!1);const z=w!==wa&&this.type===wa,W=w===wa&&this.type!==wa;for(let K=0,V=F.length;K<V;K++){const Q=F[K],q=Q.shadow;if(q===void 0){console.warn("THREE.WebGLShadowMap:",Q,"has no shadow.");continue}if(q.autoUpdate===!1&&q.needsUpdate===!1)continue;s.copy(q.mapSize);const X=q.getFrameExtents();if(s.multiply(X),r.copy(q.mapSize),(s.x>d||s.y>d)&&(s.x>d&&(r.x=Math.floor(d/X.x),s.x=r.x*X.x,q.mapSize.x=r.x),s.y>d&&(r.y=Math.floor(d/X.y),s.y=r.y*X.y,q.mapSize.y=r.y)),q.map===null||z===!0||W===!0){const ee=this.type!==wa?{minFilter:hs,magFilter:hs}:{};q.map!==null&&q.map.dispose(),q.map=new Ga(s.x,s.y,ee),q.map.texture.name=Q.name+".shadowMap",q.camera.updateProjectionMatrix()}t.setRenderTarget(q.map),t.clear();const H=q.getViewportCount();for(let ee=0;ee<H;ee++){const ge=q.getViewport(ee);o.set(r.x*ge.x,r.y*ge.y,r.x*ge.z,r.y*ge.w),k.viewport(o),q.updateMatrices(Q,ee),i=q.getFrustum(),R(N,I,q.camera,Q,this.type)}q.isPointLightShadow!==!0&&this.type===wa&&M(q,I),q.needsUpdate=!1}w=this.type,x.needsUpdate=!1,t.setRenderTarget(_,A,O)};function M(F,N){const I=e.update(C);p.defines.VSM_SAMPLES!==F.blurSamples&&(p.defines.VSM_SAMPLES=F.blurSamples,m.defines.VSM_SAMPLES=F.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),F.mapPass===null&&(F.mapPass=new Ga(s.x,s.y)),p.uniforms.shadow_pass.value=F.map.texture,p.uniforms.resolution.value=F.mapSize,p.uniforms.radius.value=F.radius,t.setRenderTarget(F.mapPass),t.clear(),t.renderBufferDirect(N,null,I,p,C,null),m.uniforms.shadow_pass.value=F.mapPass.texture,m.uniforms.resolution.value=F.mapSize,m.uniforms.radius.value=F.radius,t.setRenderTarget(F.map),t.clear(),t.renderBufferDirect(N,null,I,m,C,null)}function S(F,N,I,_){let A=null;const O=I.isPointLight===!0?F.customDistanceMaterial:F.customDepthMaterial;if(O!==void 0)A=O;else if(A=I.isPointLight===!0?l:a,t.localClippingEnabled&&N.clipShadows===!0&&Array.isArray(N.clippingPlanes)&&N.clippingPlanes.length!==0||N.displacementMap&&N.displacementScale!==0||N.alphaMap&&N.alphaTest>0||N.map&&N.alphaTest>0){const k=A.uuid,z=N.uuid;let W=c[k];W===void 0&&(W={},c[k]=W);let K=W[z];K===void 0&&(K=A.clone(),W[z]=K,N.addEventListener("dispose",P)),A=K}if(A.visible=N.visible,A.wireframe=N.wireframe,_===wa?A.side=N.shadowSide!==null?N.shadowSide:N.side:A.side=N.shadowSide!==null?N.shadowSide:f[N.side],A.alphaMap=N.alphaMap,A.alphaTest=N.alphaTest,A.map=N.map,A.clipShadows=N.clipShadows,A.clippingPlanes=N.clippingPlanes,A.clipIntersection=N.clipIntersection,A.displacementMap=N.displacementMap,A.displacementScale=N.displacementScale,A.displacementBias=N.displacementBias,A.wireframeLinewidth=N.wireframeLinewidth,A.linewidth=N.linewidth,I.isPointLight===!0&&A.isMeshDistanceMaterial===!0){const k=t.properties.get(A);k.light=I}return A}function R(F,N,I,_,A){if(F.visible===!1)return;if(F.layers.test(N.layers)&&(F.isMesh||F.isLine||F.isPoints)&&(F.castShadow||F.receiveShadow&&A===wa)&&(!F.frustumCulled||i.intersectsObject(F))){F.modelViewMatrix.multiplyMatrices(I.matrixWorldInverse,F.matrixWorld);const z=e.update(F),W=F.material;if(Array.isArray(W)){const K=z.groups;for(let V=0,Q=K.length;V<Q;V++){const q=K[V],X=W[q.materialIndex];if(X&&X.visible){const H=S(F,X,_,A);F.onBeforeShadow(t,F,N,I,z,H,q),t.renderBufferDirect(I,null,z,H,F,q),F.onAfterShadow(t,F,N,I,z,H,q)}}}else if(W.visible){const K=S(F,W,_,A);F.onBeforeShadow(t,F,N,I,z,K,null),t.renderBufferDirect(I,null,z,K,F,null),F.onAfterShadow(t,F,N,I,z,K,null)}}const k=F.children;for(let z=0,W=k.length;z<W;z++)R(k[z],N,I,_,A)}function P(F){F.target.removeEventListener("dispose",P);for(const I in c){const _=c[I],A=F.target.uuid;A in _&&(_[A].dispose(),delete _[A])}}}const EGe={[nS]:iS,[sS]:aS,[rS]:lS,[ph]:oS,[iS]:nS,[aS]:sS,[lS]:rS,[oS]:ph};function MGe(t,e){function n(){let se=!1;const st=new rn;let Re=null;const He=new rn(0,0,0,0);return{setMask:function(Qe){Re!==Qe&&!se&&(t.colorMask(Qe,Qe,Qe,Qe),Re=Qe)},setLocked:function(Qe){se=Qe},setClear:function(Qe,it,Rt,Vn,Ai){Ai===!0&&(Qe*=Vn,it*=Vn,Rt*=Vn),st.set(Qe,it,Rt,Vn),He.equals(st)===!1&&(t.clearColor(Qe,it,Rt,Vn),He.copy(st))},reset:function(){se=!1,Re=null,He.set(-1,0,0,0)}}}function i(){let se=!1,st=!1,Re=null,He=null,Qe=null;return{setReversed:function(it){if(st!==it){const Rt=e.get("EXT_clip_control");st?Rt.clipControlEXT(Rt.LOWER_LEFT_EXT,Rt.ZERO_TO_ONE_EXT):Rt.clipControlEXT(Rt.LOWER_LEFT_EXT,Rt.NEGATIVE_ONE_TO_ONE_EXT);const Vn=Qe;Qe=null,this.setClear(Vn)}st=it},getReversed:function(){return st},setTest:function(it){it?Me(t.DEPTH_TEST):Oe(t.DEPTH_TEST)},setMask:function(it){Re!==it&&!se&&(t.depthMask(it),Re=it)},setFunc:function(it){if(st&&(it=EGe[it]),He!==it){switch(it){case nS:t.depthFunc(t.NEVER);break;case iS:t.depthFunc(t.ALWAYS);break;case sS:t.depthFunc(t.LESS);break;case ph:t.depthFunc(t.LEQUAL);break;case rS:t.depthFunc(t.EQUAL);break;case oS:t.depthFunc(t.GEQUAL);break;case aS:t.depthFunc(t.GREATER);break;case lS:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}He=it}},setLocked:function(it){se=it},setClear:function(it){Qe!==it&&(st&&(it=1-it),t.clearDepth(it),Qe=it)},reset:function(){se=!1,Re=null,He=null,Qe=null,st=!1}}}function s(){let se=!1,st=null,Re=null,He=null,Qe=null,it=null,Rt=null,Vn=null,Ai=null;return{setTest:function(ln){se||(ln?Me(t.STENCIL_TEST):Oe(t.STENCIL_TEST))},setMask:function(ln){st!==ln&&!se&&(t.stencilMask(ln),st=ln)},setFunc:function(ln,Is,Os){(Re!==ln||He!==Is||Qe!==Os)&&(t.stencilFunc(ln,Is,Os),Re=ln,He=Is,Qe=Os)},setOp:function(ln,Is,Os){(it!==ln||Rt!==Is||Vn!==Os)&&(t.stencilOp(ln,Is,Os),it=ln,Rt=Is,Vn=Os)},setLocked:function(ln){se=ln},setClear:function(ln){Ai!==ln&&(t.clearStencil(ln),Ai=ln)},reset:function(){se=!1,st=null,Re=null,He=null,Qe=null,it=null,Rt=null,Vn=null,Ai=null}}}const r=new n,o=new i,a=new s,l=new WeakMap,c=new WeakMap;let d={},f={},p=new WeakMap,m=[],y=null,C=!1,x=null,w=null,M=null,S=null,R=null,P=null,F=null,N=new ut(0,0,0),I=0,_=!1,A=null,O=null,k=null,z=null,W=null;const K=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let V=!1,Q=0;const q=t.getParameter(t.VERSION);q.indexOf("WebGL")!==-1?(Q=parseFloat(/^WebGL (\d)/.exec(q)[1]),V=Q>=1):q.indexOf("OpenGL ES")!==-1&&(Q=parseFloat(/^OpenGL ES (\d)/.exec(q)[1]),V=Q>=2);let X=null,H={};const ee=t.getParameter(t.SCISSOR_BOX),ge=t.getParameter(t.VIEWPORT),Se=new rn().fromArray(ee),Z=new rn().fromArray(ge);function ae(se,st,Re,He){const Qe=new Uint8Array(4),it=t.createTexture();t.bindTexture(se,it),t.texParameteri(se,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(se,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Rt=0;Rt<Re;Rt++)se===t.TEXTURE_3D||se===t.TEXTURE_2D_ARRAY?t.texImage3D(st,0,t.RGBA,1,1,He,0,t.RGBA,t.UNSIGNED_BYTE,Qe):t.texImage2D(st+Rt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Qe);return it}const xe={};xe[t.TEXTURE_2D]=ae(t.TEXTURE_2D,t.TEXTURE_2D,1),xe[t.TEXTURE_CUBE_MAP]=ae(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),xe[t.TEXTURE_2D_ARRAY]=ae(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),xe[t.TEXTURE_3D]=ae(t.TEXTURE_3D,t.TEXTURE_3D,1,1),r.setClear(0,0,0,1),o.setClear(1),a.setClear(0),Me(t.DEPTH_TEST),o.setFunc(ph),De(!1),Xe(ED),Me(t.CULL_FACE),U(Hl);function Me(se){d[se]!==!0&&(t.enable(se),d[se]=!0)}function Oe(se){d[se]!==!1&&(t.disable(se),d[se]=!1)}function Le(se,st){return f[se]!==st?(t.bindFramebuffer(se,st),f[se]=st,se===t.DRAW_FRAMEBUFFER&&(f[t.FRAMEBUFFER]=st),se===t.FRAMEBUFFER&&(f[t.DRAW_FRAMEBUFFER]=st),!0):!1}function we(se,st){let Re=m,He=!1;if(se){Re=p.get(st),Re===void 0&&(Re=[],p.set(st,Re));const Qe=se.textures;if(Re.length!==Qe.length||Re[0]!==t.COLOR_ATTACHMENT0){for(let it=0,Rt=Qe.length;it<Rt;it++)Re[it]=t.COLOR_ATTACHMENT0+it;Re.length=Qe.length,He=!0}}else Re[0]!==t.BACK&&(Re[0]=t.BACK,He=!0);He&&t.drawBuffers(Re)}function $e(se){return y!==se?(t.useProgram(se),y=se,!0):!1}const ce={[Gc]:t.FUNC_ADD,[Iq]:t.FUNC_SUBTRACT,[Oq]:t.FUNC_REVERSE_SUBTRACT};ce[Lq]=t.MIN,ce[kq]=t.MAX;const Ce={[Bq]:t.ZERO,[Hq]:t.ONE,[Vq]:t.SRC_COLOR,[eS]:t.SRC_ALPHA,[$q]:t.SRC_ALPHA_SATURATE,[jq]:t.DST_COLOR,[Gq]:t.DST_ALPHA,[zq]:t.ONE_MINUS_SRC_COLOR,[tS]:t.ONE_MINUS_SRC_ALPHA,[Wq]:t.ONE_MINUS_DST_COLOR,[Uq]:t.ONE_MINUS_DST_ALPHA,[qq]:t.CONSTANT_COLOR,[Kq]:t.ONE_MINUS_CONSTANT_COLOR,[Yq]:t.CONSTANT_ALPHA,[Xq]:t.ONE_MINUS_CONSTANT_ALPHA};function U(se,st,Re,He,Qe,it,Rt,Vn,Ai,ln){if(se===Hl){C===!0&&(Oe(t.BLEND),C=!1);return}if(C===!1&&(Me(t.BLEND),C=!0),se!==Nq){if(se!==x||ln!==_){if((w!==Gc||R!==Gc)&&(t.blendEquation(t.FUNC_ADD),w=Gc,R=Gc),ln)switch(se){case Qd:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case MD:t.blendFunc(t.ONE,t.ONE);break;case TD:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case RD:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",se);break}else switch(se){case Qd:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case MD:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case TD:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case RD:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",se);break}M=null,S=null,P=null,F=null,N.set(0,0,0),I=0,x=se,_=ln}return}Qe=Qe||st,it=it||Re,Rt=Rt||He,(st!==w||Qe!==R)&&(t.blendEquationSeparate(ce[st],ce[Qe]),w=st,R=Qe),(Re!==M||He!==S||it!==P||Rt!==F)&&(t.blendFuncSeparate(Ce[Re],Ce[He],Ce[it],Ce[Rt]),M=Re,S=He,P=it,F=Rt),(Vn.equals(N)===!1||Ai!==I)&&(t.blendColor(Vn.r,Vn.g,Vn.b,Ai),N.copy(Vn),I=Ai),x=se,_=!1}function ke(se,st){se.side===Ta?Oe(t.CULL_FACE):Me(t.CULL_FACE);let Re=se.side===Js;st&&(Re=!Re),De(Re),se.blending===Qd&&se.transparent===!1?U(Hl):U(se.blending,se.blendEquation,se.blendSrc,se.blendDst,se.blendEquationAlpha,se.blendSrcAlpha,se.blendDstAlpha,se.blendColor,se.blendAlpha,se.premultipliedAlpha),o.setFunc(se.depthFunc),o.setTest(se.depthTest),o.setMask(se.depthWrite),r.setMask(se.colorWrite);const He=se.stencilWrite;a.setTest(He),He&&(a.setMask(se.stencilWriteMask),a.setFunc(se.stencilFunc,se.stencilRef,se.stencilFuncMask),a.setOp(se.stencilFail,se.stencilZFail,se.stencilZPass)),at(se.polygonOffset,se.polygonOffsetFactor,se.polygonOffsetUnits),se.alphaToCoverage===!0?Me(t.SAMPLE_ALPHA_TO_COVERAGE):Oe(t.SAMPLE_ALPHA_TO_COVERAGE)}function De(se){A!==se&&(se?t.frontFace(t.CW):t.frontFace(t.CCW),A=se)}function Xe(se){se!==Dq?(Me(t.CULL_FACE),se!==O&&(se===ED?t.cullFace(t.BACK):se===_q?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Oe(t.CULL_FACE),O=se}function Ve(se){se!==k&&(V&&t.lineWidth(se),k=se)}function at(se,st,Re){se?(Me(t.POLYGON_OFFSET_FILL),(z!==st||W!==Re)&&(t.polygonOffset(st,Re),z=st,W=Re)):Oe(t.POLYGON_OFFSET_FILL)}function Ge(se){se?Me(t.SCISSOR_TEST):Oe(t.SCISSOR_TEST)}function $(se){se===void 0&&(se=t.TEXTURE0+K-1),X!==se&&(t.activeTexture(se),X=se)}function B(se,st,Re){Re===void 0&&(X===null?Re=t.TEXTURE0+K-1:Re=X);let He=H[Re];He===void 0&&(He={type:void 0,texture:void 0},H[Re]=He),(He.type!==se||He.texture!==st)&&(X!==Re&&(t.activeTexture(Re),X=Re),t.bindTexture(se,st||xe[se]),He.type=se,He.texture=st)}function de(){const se=H[X];se!==void 0&&se.type!==void 0&&(t.bindTexture(se.type,null),se.type=void 0,se.texture=void 0)}function te(){try{t.compressedTexImage2D(...arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function fe(){try{t.compressedTexImage3D(...arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function he(){try{t.texSubImage2D(...arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function je(){try{t.texSubImage3D(...arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function We(){try{t.compressedTexSubImage2D(...arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Ze(){try{t.compressedTexSubImage3D(...arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Ct(){try{t.texStorage2D(...arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Ne(){try{t.texStorage3D(...arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function et(){try{t.texImage2D(...arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function ft(){try{t.texImage3D(...arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function dt(se){Se.equals(se)===!1&&(t.scissor(se.x,se.y,se.z,se.w),Se.copy(se))}function Ie(se){Z.equals(se)===!1&&(t.viewport(se.x,se.y,se.z,se.w),Z.copy(se))}function rt(se,st){let Re=c.get(st);Re===void 0&&(Re=new WeakMap,c.set(st,Re));let He=Re.get(se);He===void 0&&(He=t.getUniformBlockIndex(st,se.name),Re.set(se,He))}function tt(se,st){const He=c.get(st).get(se);l.get(st)!==He&&(t.uniformBlockBinding(st,He,se.__bindingPointIndex),l.set(st,He))}function Gt(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),o.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),d={},X=null,H={},f={},p=new WeakMap,m=[],y=null,C=!1,x=null,w=null,M=null,S=null,R=null,P=null,F=null,N=new ut(0,0,0),I=0,_=!1,A=null,O=null,k=null,z=null,W=null,Se.set(0,0,t.canvas.width,t.canvas.height),Z.set(0,0,t.canvas.width,t.canvas.height),r.reset(),o.reset(),a.reset()}return{buffers:{color:r,depth:o,stencil:a},enable:Me,disable:Oe,bindFramebuffer:Le,drawBuffers:we,useProgram:$e,setBlending:U,setMaterial:ke,setFlipSided:De,setCullFace:Xe,setLineWidth:Ve,setPolygonOffset:at,setScissorTest:Ge,activeTexture:$,bindTexture:B,unbindTexture:de,compressedTexImage2D:te,compressedTexImage3D:fe,texImage2D:et,texImage3D:ft,updateUBOMapping:rt,uniformBlockBinding:tt,texStorage2D:Ct,texStorage3D:Ne,texSubImage2D:he,texSubImage3D:je,compressedTexSubImage2D:We,compressedTexSubImage3D:Ze,scissor:dt,viewport:Ie,reset:Gt}}function TGe(t,e,n,i,s,r,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new ze,d=new WeakMap;let f;const p=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y($,B){return m?new OffscreenCanvas($,B):Ey("canvas")}function C($,B,de){let te=1;const fe=Ge($);if((fe.width>de||fe.height>de)&&(te=de/Math.max(fe.width,fe.height)),te<1)if(typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&$ instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&$ instanceof ImageBitmap||typeof VideoFrame<"u"&&$ instanceof VideoFrame){const he=Math.floor(te*fe.width),je=Math.floor(te*fe.height);f===void 0&&(f=y(he,je));const We=B?y(he,je):f;return We.width=he,We.height=je,We.getContext("2d").drawImage($,0,0,he,je),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+fe.width+"x"+fe.height+") to ("+he+"x"+je+")."),We}else return"data"in $&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+fe.width+"x"+fe.height+")."),$;return $}function x($){return $.generateMipmaps}function w($){t.generateMipmap($)}function M($){return $.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:$.isWebGL3DRenderTarget?t.TEXTURE_3D:$.isWebGLArrayRenderTarget||$.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function S($,B,de,te,fe=!1){if($!==null){if(t[$]!==void 0)return t[$];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+$+"'")}let he=B;if(B===t.RED&&(de===t.FLOAT&&(he=t.R32F),de===t.HALF_FLOAT&&(he=t.R16F),de===t.UNSIGNED_BYTE&&(he=t.R8)),B===t.RED_INTEGER&&(de===t.UNSIGNED_BYTE&&(he=t.R8UI),de===t.UNSIGNED_SHORT&&(he=t.R16UI),de===t.UNSIGNED_INT&&(he=t.R32UI),de===t.BYTE&&(he=t.R8I),de===t.SHORT&&(he=t.R16I),de===t.INT&&(he=t.R32I)),B===t.RG&&(de===t.FLOAT&&(he=t.RG32F),de===t.HALF_FLOAT&&(he=t.RG16F),de===t.UNSIGNED_BYTE&&(he=t.RG8)),B===t.RG_INTEGER&&(de===t.UNSIGNED_BYTE&&(he=t.RG8UI),de===t.UNSIGNED_SHORT&&(he=t.RG16UI),de===t.UNSIGNED_INT&&(he=t.RG32UI),de===t.BYTE&&(he=t.RG8I),de===t.SHORT&&(he=t.RG16I),de===t.INT&&(he=t.RG32I)),B===t.RGB_INTEGER&&(de===t.UNSIGNED_BYTE&&(he=t.RGB8UI),de===t.UNSIGNED_SHORT&&(he=t.RGB16UI),de===t.UNSIGNED_INT&&(he=t.RGB32UI),de===t.BYTE&&(he=t.RGB8I),de===t.SHORT&&(he=t.RGB16I),de===t.INT&&(he=t.RGB32I)),B===t.RGBA_INTEGER&&(de===t.UNSIGNED_BYTE&&(he=t.RGBA8UI),de===t.UNSIGNED_SHORT&&(he=t.RGBA16UI),de===t.UNSIGNED_INT&&(he=t.RGBA32UI),de===t.BYTE&&(he=t.RGBA8I),de===t.SHORT&&(he=t.RGBA16I),de===t.INT&&(he=t.RGBA32I)),B===t.RGB&&de===t.UNSIGNED_INT_5_9_9_9_REV&&(he=t.RGB9_E5),B===t.RGBA){const je=fe?wy:nn.getTransfer(te);de===t.FLOAT&&(he=t.RGBA32F),de===t.HALF_FLOAT&&(he=t.RGBA16F),de===t.UNSIGNED_BYTE&&(he=je===xn?t.SRGB8_ALPHA8:t.RGBA8),de===t.UNSIGNED_SHORT_4_4_4_4&&(he=t.RGBA4),de===t.UNSIGNED_SHORT_5_5_5_1&&(he=t.RGB5_A1)}return(he===t.R16F||he===t.R32F||he===t.RG16F||he===t.RG32F||he===t.RGBA16F||he===t.RGBA32F)&&e.get("EXT_color_buffer_float"),he}function R($,B){let de;return $?B===null||B===Jl||B===mh?de=t.DEPTH24_STENCIL8:B===Cr?de=t.DEPTH32F_STENCIL8:B===Vp&&(de=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):B===null||B===Jl||B===mh?de=t.DEPTH_COMPONENT24:B===Cr?de=t.DEPTH_COMPONENT32F:B===Vp&&(de=t.DEPTH_COMPONENT16),de}function P($,B){return x($)===!0||$.isFramebufferTexture&&$.minFilter!==hs&&$.minFilter!==Li?Math.log2(Math.max(B.width,B.height))+1:$.mipmaps!==void 0&&$.mipmaps.length>0?$.mipmaps.length:$.isCompressedTexture&&Array.isArray($.image)?B.mipmaps.length:1}function F($){const B=$.target;B.removeEventListener("dispose",F),I(B),B.isVideoTexture&&d.delete(B)}function N($){const B=$.target;B.removeEventListener("dispose",N),A(B)}function I($){const B=i.get($);if(B.__webglInit===void 0)return;const de=$.source,te=p.get(de);if(te){const fe=te[B.__cacheKey];fe.usedTimes--,fe.usedTimes===0&&_($),Object.keys(te).length===0&&p.delete(de)}i.remove($)}function _($){const B=i.get($);t.deleteTexture(B.__webglTexture);const de=$.source,te=p.get(de);delete te[B.__cacheKey],o.memory.textures--}function A($){const B=i.get($);if($.depthTexture&&($.depthTexture.dispose(),i.remove($.depthTexture)),$.isWebGLCubeRenderTarget)for(let te=0;te<6;te++){if(Array.isArray(B.__webglFramebuffer[te]))for(let fe=0;fe<B.__webglFramebuffer[te].length;fe++)t.deleteFramebuffer(B.__webglFramebuffer[te][fe]);else t.deleteFramebuffer(B.__webglFramebuffer[te]);B.__webglDepthbuffer&&t.deleteRenderbuffer(B.__webglDepthbuffer[te])}else{if(Array.isArray(B.__webglFramebuffer))for(let te=0;te<B.__webglFramebuffer.length;te++)t.deleteFramebuffer(B.__webglFramebuffer[te]);else t.deleteFramebuffer(B.__webglFramebuffer);if(B.__webglDepthbuffer&&t.deleteRenderbuffer(B.__webglDepthbuffer),B.__webglMultisampledFramebuffer&&t.deleteFramebuffer(B.__webglMultisampledFramebuffer),B.__webglColorRenderbuffer)for(let te=0;te<B.__webglColorRenderbuffer.length;te++)B.__webglColorRenderbuffer[te]&&t.deleteRenderbuffer(B.__webglColorRenderbuffer[te]);B.__webglDepthRenderbuffer&&t.deleteRenderbuffer(B.__webglDepthRenderbuffer)}const de=$.textures;for(let te=0,fe=de.length;te<fe;te++){const he=i.get(de[te]);he.__webglTexture&&(t.deleteTexture(he.__webglTexture),o.memory.textures--),i.remove(de[te])}i.remove($)}let O=0;function k(){O=0}function z(){const $=O;return $>=s.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+$+" texture units while this GPU supports only "+s.maxTextures),O+=1,$}function W($){const B=[];return B.push($.wrapS),B.push($.wrapT),B.push($.wrapR||0),B.push($.magFilter),B.push($.minFilter),B.push($.anisotropy),B.push($.internalFormat),B.push($.format),B.push($.type),B.push($.generateMipmaps),B.push($.premultiplyAlpha),B.push($.flipY),B.push($.unpackAlignment),B.push($.colorSpace),B.join()}function K($,B){const de=i.get($);if($.isVideoTexture&&Ve($),$.isRenderTargetTexture===!1&&$.version>0&&de.__version!==$.version){const te=$.image;if(te===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(te.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Z(de,$,B);return}}n.bindTexture(t.TEXTURE_2D,de.__webglTexture,t.TEXTURE0+B)}function V($,B){const de=i.get($);if($.version>0&&de.__version!==$.version){Z(de,$,B);return}n.bindTexture(t.TEXTURE_2D_ARRAY,de.__webglTexture,t.TEXTURE0+B)}function Q($,B){const de=i.get($);if($.version>0&&de.__version!==$.version){Z(de,$,B);return}n.bindTexture(t.TEXTURE_3D,de.__webglTexture,t.TEXTURE0+B)}function q($,B){const de=i.get($);if($.version>0&&de.__version!==$.version){ae(de,$,B);return}n.bindTexture(t.TEXTURE_CUBE_MAP,de.__webglTexture,t.TEXTURE0+B)}const X={[vy]:t.REPEAT,[Eo]:t.CLAMP_TO_EDGE,[yy]:t.MIRRORED_REPEAT},H={[hs]:t.NEAREST,[zN]:t.NEAREST_MIPMAP_NEAREST,[ip]:t.NEAREST_MIPMAP_LINEAR,[Li]:t.LINEAR,[Tv]:t.LINEAR_MIPMAP_NEAREST,[Pa]:t.LINEAR_MIPMAP_LINEAR},ee={[fK]:t.NEVER,[xK]:t.ALWAYS,[pK]:t.LESS,[JN]:t.LEQUAL,[mK]:t.EQUAL,[yK]:t.GEQUAL,[gK]:t.GREATER,[vK]:t.NOTEQUAL};function ge($,B){if(B.type===Cr&&e.has("OES_texture_float_linear")===!1&&(B.magFilter===Li||B.magFilter===Tv||B.magFilter===ip||B.magFilter===Pa||B.minFilter===Li||B.minFilter===Tv||B.minFilter===ip||B.minFilter===Pa)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri($,t.TEXTURE_WRAP_S,X[B.wrapS]),t.texParameteri($,t.TEXTURE_WRAP_T,X[B.wrapT]),($===t.TEXTURE_3D||$===t.TEXTURE_2D_ARRAY)&&t.texParameteri($,t.TEXTURE_WRAP_R,X[B.wrapR]),t.texParameteri($,t.TEXTURE_MAG_FILTER,H[B.magFilter]),t.texParameteri($,t.TEXTURE_MIN_FILTER,H[B.minFilter]),B.compareFunction&&(t.texParameteri($,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri($,t.TEXTURE_COMPARE_FUNC,ee[B.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(B.magFilter===hs||B.minFilter!==ip&&B.minFilter!==Pa||B.type===Cr&&e.has("OES_texture_float_linear")===!1)return;if(B.anisotropy>1||i.get(B).__currentAnisotropy){const de=e.get("EXT_texture_filter_anisotropic");t.texParameterf($,de.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(B.anisotropy,s.getMaxAnisotropy())),i.get(B).__currentAnisotropy=B.anisotropy}}}function Se($,B){let de=!1;$.__webglInit===void 0&&($.__webglInit=!0,B.addEventListener("dispose",F));const te=B.source;let fe=p.get(te);fe===void 0&&(fe={},p.set(te,fe));const he=W(B);if(he!==$.__cacheKey){fe[he]===void 0&&(fe[he]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,de=!0),fe[he].usedTimes++;const je=fe[$.__cacheKey];je!==void 0&&(fe[$.__cacheKey].usedTimes--,je.usedTimes===0&&_(B)),$.__cacheKey=he,$.__webglTexture=fe[he].texture}return de}function Z($,B,de){let te=t.TEXTURE_2D;(B.isDataArrayTexture||B.isCompressedArrayTexture)&&(te=t.TEXTURE_2D_ARRAY),B.isData3DTexture&&(te=t.TEXTURE_3D);const fe=Se($,B),he=B.source;n.bindTexture(te,$.__webglTexture,t.TEXTURE0+de);const je=i.get(he);if(he.version!==je.__version||fe===!0){n.activeTexture(t.TEXTURE0+de);const We=nn.getPrimaries(nn.workingColorSpace),Ze=B.colorSpace===Rl?null:nn.getPrimaries(B.colorSpace),Ct=B.colorSpace===Rl||We===Ze?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,B.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,B.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,B.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ct);let Ne=C(B.image,!1,s.maxTextureSize);Ne=at(B,Ne);const et=r.convert(B.format,B.colorSpace),ft=r.convert(B.type);let dt=S(B.internalFormat,et,ft,B.colorSpace,B.isVideoTexture);ge(te,B);let Ie;const rt=B.mipmaps,tt=B.isVideoTexture!==!0,Gt=je.__version===void 0||fe===!0,se=he.dataReady,st=P(B,Ne);if(B.isDepthTexture)dt=R(B.format===gh,B.type),Gt&&(tt?n.texStorage2D(t.TEXTURE_2D,1,dt,Ne.width,Ne.height):n.texImage2D(t.TEXTURE_2D,0,dt,Ne.width,Ne.height,0,et,ft,null));else if(B.isDataTexture)if(rt.length>0){tt&&Gt&&n.texStorage2D(t.TEXTURE_2D,st,dt,rt[0].width,rt[0].height);for(let Re=0,He=rt.length;Re<He;Re++)Ie=rt[Re],tt?se&&n.texSubImage2D(t.TEXTURE_2D,Re,0,0,Ie.width,Ie.height,et,ft,Ie.data):n.texImage2D(t.TEXTURE_2D,Re,dt,Ie.width,Ie.height,0,et,ft,Ie.data);B.generateMipmaps=!1}else tt?(Gt&&n.texStorage2D(t.TEXTURE_2D,st,dt,Ne.width,Ne.height),se&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Ne.width,Ne.height,et,ft,Ne.data)):n.texImage2D(t.TEXTURE_2D,0,dt,Ne.width,Ne.height,0,et,ft,Ne.data);else if(B.isCompressedTexture)if(B.isCompressedArrayTexture){tt&&Gt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,st,dt,rt[0].width,rt[0].height,Ne.depth);for(let Re=0,He=rt.length;Re<He;Re++)if(Ie=rt[Re],B.format!==Xs)if(et!==null)if(tt){if(se)if(B.layerUpdates.size>0){const Qe=kD(Ie.width,Ie.height,B.format,B.type);for(const it of B.layerUpdates){const Rt=Ie.data.subarray(it*Qe/Ie.data.BYTES_PER_ELEMENT,(it+1)*Qe/Ie.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Re,0,0,it,Ie.width,Ie.height,1,et,Rt)}B.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Re,0,0,0,Ie.width,Ie.height,Ne.depth,et,Ie.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Re,dt,Ie.width,Ie.height,Ne.depth,0,Ie.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else tt?se&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,Re,0,0,0,Ie.width,Ie.height,Ne.depth,et,ft,Ie.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Re,dt,Ie.width,Ie.height,Ne.depth,0,et,ft,Ie.data)}else{tt&&Gt&&n.texStorage2D(t.TEXTURE_2D,st,dt,rt[0].width,rt[0].height);for(let Re=0,He=rt.length;Re<He;Re++)Ie=rt[Re],B.format!==Xs?et!==null?tt?se&&n.compressedTexSubImage2D(t.TEXTURE_2D,Re,0,0,Ie.width,Ie.height,et,Ie.data):n.compressedTexImage2D(t.TEXTURE_2D,Re,dt,Ie.width,Ie.height,0,Ie.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):tt?se&&n.texSubImage2D(t.TEXTURE_2D,Re,0,0,Ie.width,Ie.height,et,ft,Ie.data):n.texImage2D(t.TEXTURE_2D,Re,dt,Ie.width,Ie.height,0,et,ft,Ie.data)}else if(B.isDataArrayTexture)if(tt){if(Gt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,st,dt,Ne.width,Ne.height,Ne.depth),se)if(B.layerUpdates.size>0){const Re=kD(Ne.width,Ne.height,B.format,B.type);for(const He of B.layerUpdates){const Qe=Ne.data.subarray(He*Re/Ne.data.BYTES_PER_ELEMENT,(He+1)*Re/Ne.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,He,Ne.width,Ne.height,1,et,ft,Qe)}B.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Ne.width,Ne.height,Ne.depth,et,ft,Ne.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,dt,Ne.width,Ne.height,Ne.depth,0,et,ft,Ne.data);else if(B.isData3DTexture)tt?(Gt&&n.texStorage3D(t.TEXTURE_3D,st,dt,Ne.width,Ne.height,Ne.depth),se&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Ne.width,Ne.height,Ne.depth,et,ft,Ne.data)):n.texImage3D(t.TEXTURE_3D,0,dt,Ne.width,Ne.height,Ne.depth,0,et,ft,Ne.data);else if(B.isFramebufferTexture){if(Gt)if(tt)n.texStorage2D(t.TEXTURE_2D,st,dt,Ne.width,Ne.height);else{let Re=Ne.width,He=Ne.height;for(let Qe=0;Qe<st;Qe++)n.texImage2D(t.TEXTURE_2D,Qe,dt,Re,He,0,et,ft,null),Re>>=1,He>>=1}}else if(rt.length>0){if(tt&&Gt){const Re=Ge(rt[0]);n.texStorage2D(t.TEXTURE_2D,st,dt,Re.width,Re.height)}for(let Re=0,He=rt.length;Re<He;Re++)Ie=rt[Re],tt?se&&n.texSubImage2D(t.TEXTURE_2D,Re,0,0,et,ft,Ie):n.texImage2D(t.TEXTURE_2D,Re,dt,et,ft,Ie);B.generateMipmaps=!1}else if(tt){if(Gt){const Re=Ge(Ne);n.texStorage2D(t.TEXTURE_2D,st,dt,Re.width,Re.height)}se&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,et,ft,Ne)}else n.texImage2D(t.TEXTURE_2D,0,dt,et,ft,Ne);x(B)&&w(te),je.__version=he.version,B.onUpdate&&B.onUpdate(B)}$.__version=B.version}function ae($,B,de){if(B.image.length!==6)return;const te=Se($,B),fe=B.source;n.bindTexture(t.TEXTURE_CUBE_MAP,$.__webglTexture,t.TEXTURE0+de);const he=i.get(fe);if(fe.version!==he.__version||te===!0){n.activeTexture(t.TEXTURE0+de);const je=nn.getPrimaries(nn.workingColorSpace),We=B.colorSpace===Rl?null:nn.getPrimaries(B.colorSpace),Ze=B.colorSpace===Rl||je===We?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,B.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,B.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,B.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ze);const Ct=B.isCompressedTexture||B.image[0].isCompressedTexture,Ne=B.image[0]&&B.image[0].isDataTexture,et=[];for(let He=0;He<6;He++)!Ct&&!Ne?et[He]=C(B.image[He],!0,s.maxCubemapSize):et[He]=Ne?B.image[He].image:B.image[He],et[He]=at(B,et[He]);const ft=et[0],dt=r.convert(B.format,B.colorSpace),Ie=r.convert(B.type),rt=S(B.internalFormat,dt,Ie,B.colorSpace),tt=B.isVideoTexture!==!0,Gt=he.__version===void 0||te===!0,se=fe.dataReady;let st=P(B,ft);ge(t.TEXTURE_CUBE_MAP,B);let Re;if(Ct){tt&&Gt&&n.texStorage2D(t.TEXTURE_CUBE_MAP,st,rt,ft.width,ft.height);for(let He=0;He<6;He++){Re=et[He].mipmaps;for(let Qe=0;Qe<Re.length;Qe++){const it=Re[Qe];B.format!==Xs?dt!==null?tt?se&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+He,Qe,0,0,it.width,it.height,dt,it.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+He,Qe,rt,it.width,it.height,0,it.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):tt?se&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+He,Qe,0,0,it.width,it.height,dt,Ie,it.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+He,Qe,rt,it.width,it.height,0,dt,Ie,it.data)}}}else{if(Re=B.mipmaps,tt&&Gt){Re.length>0&&st++;const He=Ge(et[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,st,rt,He.width,He.height)}for(let He=0;He<6;He++)if(Ne){tt?se&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+He,0,0,0,et[He].width,et[He].height,dt,Ie,et[He].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+He,0,rt,et[He].width,et[He].height,0,dt,Ie,et[He].data);for(let Qe=0;Qe<Re.length;Qe++){const Rt=Re[Qe].image[He].image;tt?se&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+He,Qe+1,0,0,Rt.width,Rt.height,dt,Ie,Rt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+He,Qe+1,rt,Rt.width,Rt.height,0,dt,Ie,Rt.data)}}else{tt?se&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+He,0,0,0,dt,Ie,et[He]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+He,0,rt,dt,Ie,et[He]);for(let Qe=0;Qe<Re.length;Qe++){const it=Re[Qe];tt?se&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+He,Qe+1,0,0,dt,Ie,it.image[He]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+He,Qe+1,rt,dt,Ie,it.image[He])}}}x(B)&&w(t.TEXTURE_CUBE_MAP),he.__version=fe.version,B.onUpdate&&B.onUpdate(B)}$.__version=B.version}function xe($,B,de,te,fe,he){const je=r.convert(de.format,de.colorSpace),We=r.convert(de.type),Ze=S(de.internalFormat,je,We,de.colorSpace),Ct=i.get(B),Ne=i.get(de);if(Ne.__renderTarget=B,!Ct.__hasExternalTextures){const et=Math.max(1,B.width>>he),ft=Math.max(1,B.height>>he);fe===t.TEXTURE_3D||fe===t.TEXTURE_2D_ARRAY?n.texImage3D(fe,he,Ze,et,ft,B.depth,0,je,We,null):n.texImage2D(fe,he,Ze,et,ft,0,je,We,null)}n.bindFramebuffer(t.FRAMEBUFFER,$),Xe(B)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,te,fe,Ne.__webglTexture,0,De(B)):(fe===t.TEXTURE_2D||fe>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&fe<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,te,fe,Ne.__webglTexture,he),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Me($,B,de){if(t.bindRenderbuffer(t.RENDERBUFFER,$),B.depthBuffer){const te=B.depthTexture,fe=te&&te.isDepthTexture?te.type:null,he=R(B.stencilBuffer,fe),je=B.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,We=De(B);Xe(B)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,We,he,B.width,B.height):de?t.renderbufferStorageMultisample(t.RENDERBUFFER,We,he,B.width,B.height):t.renderbufferStorage(t.RENDERBUFFER,he,B.width,B.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,je,t.RENDERBUFFER,$)}else{const te=B.textures;for(let fe=0;fe<te.length;fe++){const he=te[fe],je=r.convert(he.format,he.colorSpace),We=r.convert(he.type),Ze=S(he.internalFormat,je,We,he.colorSpace),Ct=De(B);de&&Xe(B)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Ct,Ze,B.width,B.height):Xe(B)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ct,Ze,B.width,B.height):t.renderbufferStorage(t.RENDERBUFFER,Ze,B.width,B.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Oe($,B){if(B&&B.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,$),!(B.depthTexture&&B.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const te=i.get(B.depthTexture);te.__renderTarget=B,(!te.__webglTexture||B.depthTexture.image.width!==B.width||B.depthTexture.image.height!==B.height)&&(B.depthTexture.image.width=B.width,B.depthTexture.image.height=B.height,B.depthTexture.needsUpdate=!0),K(B.depthTexture,0);const fe=te.__webglTexture,he=De(B);if(B.depthTexture.format===eh)Xe(B)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,fe,0,he):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,fe,0);else if(B.depthTexture.format===gh)Xe(B)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,fe,0,he):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,fe,0);else throw new Error("Unknown depthTexture format")}function Le($){const B=i.get($),de=$.isWebGLCubeRenderTarget===!0;if(B.__boundDepthTexture!==$.depthTexture){const te=$.depthTexture;if(B.__depthDisposeCallback&&B.__depthDisposeCallback(),te){const fe=()=>{delete B.__boundDepthTexture,delete B.__depthDisposeCallback,te.removeEventListener("dispose",fe)};te.addEventListener("dispose",fe),B.__depthDisposeCallback=fe}B.__boundDepthTexture=te}if($.depthTexture&&!B.__autoAllocateDepthBuffer){if(de)throw new Error("target.depthTexture not supported in Cube render targets");Oe(B.__webglFramebuffer,$)}else if(de){B.__webglDepthbuffer=[];for(let te=0;te<6;te++)if(n.bindFramebuffer(t.FRAMEBUFFER,B.__webglFramebuffer[te]),B.__webglDepthbuffer[te]===void 0)B.__webglDepthbuffer[te]=t.createRenderbuffer(),Me(B.__webglDepthbuffer[te],$,!1);else{const fe=$.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,he=B.__webglDepthbuffer[te];t.bindRenderbuffer(t.RENDERBUFFER,he),t.framebufferRenderbuffer(t.FRAMEBUFFER,fe,t.RENDERBUFFER,he)}}else if(n.bindFramebuffer(t.FRAMEBUFFER,B.__webglFramebuffer),B.__webglDepthbuffer===void 0)B.__webglDepthbuffer=t.createRenderbuffer(),Me(B.__webglDepthbuffer,$,!1);else{const te=$.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,fe=B.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,fe),t.framebufferRenderbuffer(t.FRAMEBUFFER,te,t.RENDERBUFFER,fe)}n.bindFramebuffer(t.FRAMEBUFFER,null)}function we($,B,de){const te=i.get($);B!==void 0&&xe(te.__webglFramebuffer,$,$.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),de!==void 0&&Le($)}function $e($){const B=$.texture,de=i.get($),te=i.get(B);$.addEventListener("dispose",N);const fe=$.textures,he=$.isWebGLCubeRenderTarget===!0,je=fe.length>1;if(je||(te.__webglTexture===void 0&&(te.__webglTexture=t.createTexture()),te.__version=B.version,o.memory.textures++),he){de.__webglFramebuffer=[];for(let We=0;We<6;We++)if(B.mipmaps&&B.mipmaps.length>0){de.__webglFramebuffer[We]=[];for(let Ze=0;Ze<B.mipmaps.length;Ze++)de.__webglFramebuffer[We][Ze]=t.createFramebuffer()}else de.__webglFramebuffer[We]=t.createFramebuffer()}else{if(B.mipmaps&&B.mipmaps.length>0){de.__webglFramebuffer=[];for(let We=0;We<B.mipmaps.length;We++)de.__webglFramebuffer[We]=t.createFramebuffer()}else de.__webglFramebuffer=t.createFramebuffer();if(je)for(let We=0,Ze=fe.length;We<Ze;We++){const Ct=i.get(fe[We]);Ct.__webglTexture===void 0&&(Ct.__webglTexture=t.createTexture(),o.memory.textures++)}if($.samples>0&&Xe($)===!1){de.__webglMultisampledFramebuffer=t.createFramebuffer(),de.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,de.__webglMultisampledFramebuffer);for(let We=0;We<fe.length;We++){const Ze=fe[We];de.__webglColorRenderbuffer[We]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,de.__webglColorRenderbuffer[We]);const Ct=r.convert(Ze.format,Ze.colorSpace),Ne=r.convert(Ze.type),et=S(Ze.internalFormat,Ct,Ne,Ze.colorSpace,$.isXRRenderTarget===!0),ft=De($);t.renderbufferStorageMultisample(t.RENDERBUFFER,ft,et,$.width,$.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+We,t.RENDERBUFFER,de.__webglColorRenderbuffer[We])}t.bindRenderbuffer(t.RENDERBUFFER,null),$.depthBuffer&&(de.__webglDepthRenderbuffer=t.createRenderbuffer(),Me(de.__webglDepthRenderbuffer,$,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(he){n.bindTexture(t.TEXTURE_CUBE_MAP,te.__webglTexture),ge(t.TEXTURE_CUBE_MAP,B);for(let We=0;We<6;We++)if(B.mipmaps&&B.mipmaps.length>0)for(let Ze=0;Ze<B.mipmaps.length;Ze++)xe(de.__webglFramebuffer[We][Ze],$,B,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+We,Ze);else xe(de.__webglFramebuffer[We],$,B,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+We,0);x(B)&&w(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(je){for(let We=0,Ze=fe.length;We<Ze;We++){const Ct=fe[We],Ne=i.get(Ct);n.bindTexture(t.TEXTURE_2D,Ne.__webglTexture),ge(t.TEXTURE_2D,Ct),xe(de.__webglFramebuffer,$,Ct,t.COLOR_ATTACHMENT0+We,t.TEXTURE_2D,0),x(Ct)&&w(t.TEXTURE_2D)}n.unbindTexture()}else{let We=t.TEXTURE_2D;if(($.isWebGL3DRenderTarget||$.isWebGLArrayRenderTarget)&&(We=$.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(We,te.__webglTexture),ge(We,B),B.mipmaps&&B.mipmaps.length>0)for(let Ze=0;Ze<B.mipmaps.length;Ze++)xe(de.__webglFramebuffer[Ze],$,B,t.COLOR_ATTACHMENT0,We,Ze);else xe(de.__webglFramebuffer,$,B,t.COLOR_ATTACHMENT0,We,0);x(B)&&w(We),n.unbindTexture()}$.depthBuffer&&Le($)}function ce($){const B=$.textures;for(let de=0,te=B.length;de<te;de++){const fe=B[de];if(x(fe)){const he=M($),je=i.get(fe).__webglTexture;n.bindTexture(he,je),w(he),n.unbindTexture()}}}const Ce=[],U=[];function ke($){if($.samples>0){if(Xe($)===!1){const B=$.textures,de=$.width,te=$.height;let fe=t.COLOR_BUFFER_BIT;const he=$.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,je=i.get($),We=B.length>1;if(We)for(let Ze=0;Ze<B.length;Ze++)n.bindFramebuffer(t.FRAMEBUFFER,je.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ze,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,je.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ze,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,je.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,je.__webglFramebuffer);for(let Ze=0;Ze<B.length;Ze++){if($.resolveDepthBuffer&&($.depthBuffer&&(fe|=t.DEPTH_BUFFER_BIT),$.stencilBuffer&&$.resolveStencilBuffer&&(fe|=t.STENCIL_BUFFER_BIT)),We){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,je.__webglColorRenderbuffer[Ze]);const Ct=i.get(B[Ze]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Ct,0)}t.blitFramebuffer(0,0,de,te,0,0,de,te,fe,t.NEAREST),l===!0&&(Ce.length=0,U.length=0,Ce.push(t.COLOR_ATTACHMENT0+Ze),$.depthBuffer&&$.resolveDepthBuffer===!1&&(Ce.push(he),U.push(he),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,U)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Ce))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),We)for(let Ze=0;Ze<B.length;Ze++){n.bindFramebuffer(t.FRAMEBUFFER,je.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ze,t.RENDERBUFFER,je.__webglColorRenderbuffer[Ze]);const Ct=i.get(B[Ze]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,je.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ze,t.TEXTURE_2D,Ct,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,je.__webglMultisampledFramebuffer)}else if($.depthBuffer&&$.resolveDepthBuffer===!1&&l){const B=$.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[B])}}}function De($){return Math.min(s.maxSamples,$.samples)}function Xe($){const B=i.get($);return $.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&B.__useRenderToTexture!==!1}function Ve($){const B=o.render.frame;d.get($)!==B&&(d.set($,B),$.update())}function at($,B){const de=$.colorSpace,te=$.format,fe=$.type;return $.isCompressedTexture===!0||$.isVideoTexture===!0||de!==vh&&de!==Rl&&(nn.getTransfer(de)===xn?(te!==Xs||fe!==za)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",de)),B}function Ge($){return typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement?(c.width=$.naturalWidth||$.width,c.height=$.naturalHeight||$.height):typeof VideoFrame<"u"&&$ instanceof VideoFrame?(c.width=$.displayWidth,c.height=$.displayHeight):(c.width=$.width,c.height=$.height),c}this.allocateTextureUnit=z,this.resetTextureUnits=k,this.setTexture2D=K,this.setTexture2DArray=V,this.setTexture3D=Q,this.setTextureCube=q,this.rebindTextures=we,this.setupRenderTarget=$e,this.updateRenderTargetMipmap=ce,this.updateMultisampleRenderTarget=ke,this.setupDepthRenderbuffer=Le,this.setupFrameBufferTexture=xe,this.useMultisampledRTT=Xe}function DY(t,e){function n(i,s=Rl){let r;const o=nn.getTransfer(s);if(i===za)return t.UNSIGNED_BYTE;if(i===eE)return t.UNSIGNED_SHORT_4_4_4_4;if(i===tE)return t.UNSIGNED_SHORT_5_5_5_1;if(i===jN)return t.UNSIGNED_INT_5_9_9_9_REV;if(i===GN)return t.BYTE;if(i===UN)return t.SHORT;if(i===Vp)return t.UNSIGNED_SHORT;if(i===Q1)return t.INT;if(i===Jl)return t.UNSIGNED_INT;if(i===Cr)return t.FLOAT;if(i===um)return t.HALF_FLOAT;if(i===WN)return t.ALPHA;if(i===$N)return t.RGB;if(i===Xs)return t.RGBA;if(i===qN)return t.LUMINANCE;if(i===KN)return t.LUMINANCE_ALPHA;if(i===eh)return t.DEPTH_COMPONENT;if(i===gh)return t.DEPTH_STENCIL;if(i===nE)return t.RED;if(i===w0)return t.RED_INTEGER;if(i===YN)return t.RG;if(i===iE)return t.RG_INTEGER;if(i===sE)return t.RGBA_INTEGER;if(i===Rv||i===Av||i===Pv||i===Dv)if(o===xn)if(r=e.get("WEBGL_compressed_texture_s3tc_srgb"),r!==null){if(i===Rv)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===Av)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===Pv)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===Dv)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(r=e.get("WEBGL_compressed_texture_s3tc"),r!==null){if(i===Rv)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===Av)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===Pv)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===Dv)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===cS||i===uS||i===dS||i===hS)if(r=e.get("WEBGL_compressed_texture_pvrtc"),r!==null){if(i===cS)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===uS)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===dS)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===hS)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===fS||i===pS||i===mS)if(r=e.get("WEBGL_compressed_texture_etc"),r!==null){if(i===fS||i===pS)return o===xn?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(i===mS)return o===xn?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===gS||i===vS||i===yS||i===xS||i===CS||i===wS||i===bS||i===SS||i===ES||i===MS||i===TS||i===RS||i===AS||i===PS)if(r=e.get("WEBGL_compressed_texture_astc"),r!==null){if(i===gS)return o===xn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===vS)return o===xn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===yS)return o===xn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===xS)return o===xn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===CS)return o===xn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===wS)return o===xn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===bS)return o===xn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===SS)return o===xn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===ES)return o===xn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===MS)return o===xn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===TS)return o===xn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===RS)return o===xn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===AS)return o===xn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===PS)return o===xn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===_v||i===DS||i===_S)if(r=e.get("EXT_texture_compression_bptc"),r!==null){if(i===_v)return o===xn?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===DS)return r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===_S)return r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===XN||i===FS||i===NS||i===IS)if(r=e.get("EXT_texture_compression_rgtc"),r!==null){if(i===_v)return r.COMPRESSED_RED_RGTC1_EXT;if(i===FS)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===NS)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===IS)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===mh?t.UNSIGNED_INT_24_8:t[i]!==void 0?t[i]:null}return{convert:n}}const RGe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,AGe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class PGe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,i){if(this.texture===null){const s=new hi,r=e.properties.get(s);r.__webglTexture=n.texture,(n.depthNear!==i.depthNear||n.depthFar!==i.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=s}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,i=new ia({vertexShader:RGe,fragmentShader:AGe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new Ri(new fm(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class DGe extends Ka{constructor(e,n){super();const i=this;let s=null,r=1,o=null,a="local-floor",l=1,c=null,d=null,f=null,p=null,m=null,y=null;const C=new PGe,x=n.getContextAttributes();let w=null,M=null;const S=[],R=[],P=new ze;let F=null;const N=new us;N.viewport=new rn;const I=new us;I.viewport=new rn;const _=[N,I],A=new xY;let O=null,k=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Z){let ae=S[Z];return ae===void 0&&(ae=new Gw,S[Z]=ae),ae.getTargetRaySpace()},this.getControllerGrip=function(Z){let ae=S[Z];return ae===void 0&&(ae=new Gw,S[Z]=ae),ae.getGripSpace()},this.getHand=function(Z){let ae=S[Z];return ae===void 0&&(ae=new Gw,S[Z]=ae),ae.getHandSpace()};function z(Z){const ae=R.indexOf(Z.inputSource);if(ae===-1)return;const xe=S[ae];xe!==void 0&&(xe.update(Z.inputSource,Z.frame,c||o),xe.dispatchEvent({type:Z.type,data:Z.inputSource}))}function W(){s.removeEventListener("select",z),s.removeEventListener("selectstart",z),s.removeEventListener("selectend",z),s.removeEventListener("squeeze",z),s.removeEventListener("squeezestart",z),s.removeEventListener("squeezeend",z),s.removeEventListener("end",W),s.removeEventListener("inputsourceschange",K);for(let Z=0;Z<S.length;Z++){const ae=R[Z];ae!==null&&(R[Z]=null,S[Z].disconnect(ae))}O=null,k=null,C.reset(),e.setRenderTarget(w),m=null,p=null,f=null,s=null,M=null,Se.stop(),i.isPresenting=!1,e.setPixelRatio(F),e.setSize(P.width,P.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Z){r=Z,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Z){a=Z,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(Z){c=Z},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return f},this.getFrame=function(){return y},this.getSession=function(){return s},this.setSession=async function(Z){if(s=Z,s!==null){if(w=e.getRenderTarget(),s.addEventListener("select",z),s.addEventListener("selectstart",z),s.addEventListener("selectend",z),s.addEventListener("squeeze",z),s.addEventListener("squeezestart",z),s.addEventListener("squeezeend",z),s.addEventListener("end",W),s.addEventListener("inputsourceschange",K),x.xrCompatible!==!0&&await n.makeXRCompatible(),F=e.getPixelRatio(),e.getSize(P),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let xe=null,Me=null,Oe=null;x.depth&&(Oe=x.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,xe=x.stencil?gh:eh,Me=x.stencil?mh:Jl);const Le={colorFormat:n.RGBA8,depthFormat:Oe,scaleFactor:r};f=new XRWebGLBinding(s,n),p=f.createProjectionLayer(Le),s.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),M=new Ga(p.textureWidth,p.textureHeight,{format:Xs,type:za,depthTexture:new rI(p.textureWidth,p.textureHeight,Me,void 0,void 0,void 0,void 0,void 0,void 0,xe),stencilBuffer:x.stencil,colorSpace:e.outputColorSpace,samples:x.antialias?4:0,resolveDepthBuffer:p.ignoreDepthValues===!1,resolveStencilBuffer:p.ignoreDepthValues===!1})}else{const xe={antialias:x.antialias,alpha:!0,depth:x.depth,stencil:x.stencil,framebufferScaleFactor:r};m=new XRWebGLLayer(s,n,xe),s.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),M=new Ga(m.framebufferWidth,m.framebufferHeight,{format:Xs,type:za,colorSpace:e.outputColorSpace,stencilBuffer:x.stencil,resolveDepthBuffer:m.ignoreDepthValues===!1,resolveStencilBuffer:m.ignoreDepthValues===!1})}M.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await s.requestReferenceSpace(a),Se.setContext(s),Se.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(s!==null)return s.environmentBlendMode},this.getDepthTexture=function(){return C.getDepthTexture()};function K(Z){for(let ae=0;ae<Z.removed.length;ae++){const xe=Z.removed[ae],Me=R.indexOf(xe);Me>=0&&(R[Me]=null,S[Me].disconnect(xe))}for(let ae=0;ae<Z.added.length;ae++){const xe=Z.added[ae];let Me=R.indexOf(xe);if(Me===-1){for(let Le=0;Le<S.length;Le++)if(Le>=R.length){R.push(xe),Me=Le;break}else if(R[Le]===null){R[Le]=xe,Me=Le;break}if(Me===-1)break}const Oe=S[Me];Oe&&Oe.connect(xe)}}const V=new Y,Q=new Y;function q(Z,ae,xe){V.setFromMatrixPosition(ae.matrixWorld),Q.setFromMatrixPosition(xe.matrixWorld);const Me=V.distanceTo(Q),Oe=ae.projectionMatrix.elements,Le=xe.projectionMatrix.elements,we=Oe[14]/(Oe[10]-1),$e=Oe[14]/(Oe[10]+1),ce=(Oe[9]+1)/Oe[5],Ce=(Oe[9]-1)/Oe[5],U=(Oe[8]-1)/Oe[0],ke=(Le[8]+1)/Le[0],De=we*U,Xe=we*ke,Ve=Me/(-U+ke),at=Ve*-U;if(ae.matrixWorld.decompose(Z.position,Z.quaternion,Z.scale),Z.translateX(at),Z.translateZ(Ve),Z.matrixWorld.compose(Z.position,Z.quaternion,Z.scale),Z.matrixWorldInverse.copy(Z.matrixWorld).invert(),Oe[10]===-1)Z.projectionMatrix.copy(ae.projectionMatrix),Z.projectionMatrixInverse.copy(ae.projectionMatrixInverse);else{const Ge=we+Ve,$=$e+Ve,B=De-at,de=Xe+(Me-at),te=ce*$e/$*Ge,fe=Ce*$e/$*Ge;Z.projectionMatrix.makePerspective(B,de,te,fe,Ge,$),Z.projectionMatrixInverse.copy(Z.projectionMatrix).invert()}}function X(Z,ae){ae===null?Z.matrixWorld.copy(Z.matrix):Z.matrixWorld.multiplyMatrices(ae.matrixWorld,Z.matrix),Z.matrixWorldInverse.copy(Z.matrixWorld).invert()}this.updateCamera=function(Z){if(s===null)return;let ae=Z.near,xe=Z.far;C.texture!==null&&(C.depthNear>0&&(ae=C.depthNear),C.depthFar>0&&(xe=C.depthFar)),A.near=I.near=N.near=ae,A.far=I.far=N.far=xe,(O!==A.near||k!==A.far)&&(s.updateRenderState({depthNear:A.near,depthFar:A.far}),O=A.near,k=A.far),N.layers.mask=Z.layers.mask|2,I.layers.mask=Z.layers.mask|4,A.layers.mask=N.layers.mask|I.layers.mask;const Me=Z.parent,Oe=A.cameras;X(A,Me);for(let Le=0;Le<Oe.length;Le++)X(Oe[Le],Me);Oe.length===2?q(A,N,I):A.projectionMatrix.copy(N.projectionMatrix),H(Z,A,Me)};function H(Z,ae,xe){xe===null?Z.matrix.copy(ae.matrixWorld):(Z.matrix.copy(xe.matrixWorld),Z.matrix.invert(),Z.matrix.multiply(ae.matrixWorld)),Z.matrix.decompose(Z.position,Z.quaternion,Z.scale),Z.updateMatrixWorld(!0),Z.projectionMatrix.copy(ae.projectionMatrix),Z.projectionMatrixInverse.copy(ae.projectionMatrixInverse),Z.isPerspectiveCamera&&(Z.fov=zp*2*Math.atan(1/Z.projectionMatrix.elements[5]),Z.zoom=1)}this.getCamera=function(){return A},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(Z){l=Z,p!==null&&(p.fixedFoveation=Z),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=Z)},this.hasDepthSensing=function(){return C.texture!==null},this.getDepthSensingMesh=function(){return C.getMesh(A)};let ee=null;function ge(Z,ae){if(d=ae.getViewerPose(c||o),y=ae,d!==null){const xe=d.views;m!==null&&(e.setRenderTargetFramebuffer(M,m.framebuffer),e.setRenderTarget(M));let Me=!1;xe.length!==A.cameras.length&&(A.cameras.length=0,Me=!0);for(let we=0;we<xe.length;we++){const $e=xe[we];let ce=null;if(m!==null)ce=m.getViewport($e);else{const U=f.getViewSubImage(p,$e);ce=U.viewport,we===0&&(e.setRenderTargetTextures(M,U.colorTexture,p.ignoreDepthValues?void 0:U.depthStencilTexture),e.setRenderTarget(M))}let Ce=_[we];Ce===void 0&&(Ce=new us,Ce.layers.enable(we),Ce.viewport=new rn,_[we]=Ce),Ce.matrix.fromArray($e.transform.matrix),Ce.matrix.decompose(Ce.position,Ce.quaternion,Ce.scale),Ce.projectionMatrix.fromArray($e.projectionMatrix),Ce.projectionMatrixInverse.copy(Ce.projectionMatrix).invert(),Ce.viewport.set(ce.x,ce.y,ce.width,ce.height),we===0&&(A.matrix.copy(Ce.matrix),A.matrix.decompose(A.position,A.quaternion,A.scale)),Me===!0&&A.cameras.push(Ce)}const Oe=s.enabledFeatures;if(Oe&&Oe.includes("depth-sensing")&&s.depthUsage=="gpu-optimized"&&f){const we=f.getDepthInformation(xe[0]);we&&we.isValid&&we.texture&&C.init(e,we,s.renderState)}}for(let xe=0;xe<S.length;xe++){const Me=R[xe],Oe=S[xe];Me!==null&&Oe!==void 0&&Oe.update(Me,ae,c||o)}ee&&ee(Z,ae),ae.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:ae}),y=null}const Se=new MY;Se.setAnimationLoop(ge),this.setAnimationLoop=function(Z){ee=Z},this.dispose=function(){}}}const od=new Kr,_Ge=new Tt;function FGe(t,e){function n(x,w){x.matrixAutoUpdate===!0&&x.updateMatrix(),w.value.copy(x.matrix)}function i(x,w){w.color.getRGB(x.fogColor.value,EK(t)),w.isFog?(x.fogNear.value=w.near,x.fogFar.value=w.far):w.isFogExp2&&(x.fogDensity.value=w.density)}function s(x,w,M,S,R){w.isMeshBasicMaterial||w.isMeshLambertMaterial?r(x,w):w.isMeshToonMaterial?(r(x,w),f(x,w)):w.isMeshPhongMaterial?(r(x,w),d(x,w)):w.isMeshStandardMaterial?(r(x,w),p(x,w),w.isMeshPhysicalMaterial&&m(x,w,R)):w.isMeshMatcapMaterial?(r(x,w),y(x,w)):w.isMeshDepthMaterial?r(x,w):w.isMeshDistanceMaterial?(r(x,w),C(x,w)):w.isMeshNormalMaterial?r(x,w):w.isLineBasicMaterial?(o(x,w),w.isLineDashedMaterial&&a(x,w)):w.isPointsMaterial?l(x,w,M,S):w.isSpriteMaterial?c(x,w):w.isShadowMaterial?(x.color.value.copy(w.color),x.opacity.value=w.opacity):w.isShaderMaterial&&(w.uniformsNeedUpdate=!1)}function r(x,w){x.opacity.value=w.opacity,w.color&&x.diffuse.value.copy(w.color),w.emissive&&x.emissive.value.copy(w.emissive).multiplyScalar(w.emissiveIntensity),w.map&&(x.map.value=w.map,n(w.map,x.mapTransform)),w.alphaMap&&(x.alphaMap.value=w.alphaMap,n(w.alphaMap,x.alphaMapTransform)),w.bumpMap&&(x.bumpMap.value=w.bumpMap,n(w.bumpMap,x.bumpMapTransform),x.bumpScale.value=w.bumpScale,w.side===Js&&(x.bumpScale.value*=-1)),w.normalMap&&(x.normalMap.value=w.normalMap,n(w.normalMap,x.normalMapTransform),x.normalScale.value.copy(w.normalScale),w.side===Js&&x.normalScale.value.negate()),w.displacementMap&&(x.displacementMap.value=w.displacementMap,n(w.displacementMap,x.displacementMapTransform),x.displacementScale.value=w.displacementScale,x.displacementBias.value=w.displacementBias),w.emissiveMap&&(x.emissiveMap.value=w.emissiveMap,n(w.emissiveMap,x.emissiveMapTransform)),w.specularMap&&(x.specularMap.value=w.specularMap,n(w.specularMap,x.specularMapTransform)),w.alphaTest>0&&(x.alphaTest.value=w.alphaTest);const M=e.get(w),S=M.envMap,R=M.envMapRotation;S&&(x.envMap.value=S,od.copy(R),od.x*=-1,od.y*=-1,od.z*=-1,S.isCubeTexture&&S.isRenderTargetTexture===!1&&(od.y*=-1,od.z*=-1),x.envMapRotation.value.setFromMatrix4(_Ge.makeRotationFromEuler(od)),x.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,x.reflectivity.value=w.reflectivity,x.ior.value=w.ior,x.refractionRatio.value=w.refractionRatio),w.lightMap&&(x.lightMap.value=w.lightMap,x.lightMapIntensity.value=w.lightMapIntensity,n(w.lightMap,x.lightMapTransform)),w.aoMap&&(x.aoMap.value=w.aoMap,x.aoMapIntensity.value=w.aoMapIntensity,n(w.aoMap,x.aoMapTransform))}function o(x,w){x.diffuse.value.copy(w.color),x.opacity.value=w.opacity,w.map&&(x.map.value=w.map,n(w.map,x.mapTransform))}function a(x,w){x.dashSize.value=w.dashSize,x.totalSize.value=w.dashSize+w.gapSize,x.scale.value=w.scale}function l(x,w,M,S){x.diffuse.value.copy(w.color),x.opacity.value=w.opacity,x.size.value=w.size*M,x.scale.value=S*.5,w.map&&(x.map.value=w.map,n(w.map,x.uvTransform)),w.alphaMap&&(x.alphaMap.value=w.alphaMap,n(w.alphaMap,x.alphaMapTransform)),w.alphaTest>0&&(x.alphaTest.value=w.alphaTest)}function c(x,w){x.diffuse.value.copy(w.color),x.opacity.value=w.opacity,x.rotation.value=w.rotation,w.map&&(x.map.value=w.map,n(w.map,x.mapTransform)),w.alphaMap&&(x.alphaMap.value=w.alphaMap,n(w.alphaMap,x.alphaMapTransform)),w.alphaTest>0&&(x.alphaTest.value=w.alphaTest)}function d(x,w){x.specular.value.copy(w.specular),x.shininess.value=Math.max(w.shininess,1e-4)}function f(x,w){w.gradientMap&&(x.gradientMap.value=w.gradientMap)}function p(x,w){x.metalness.value=w.metalness,w.metalnessMap&&(x.metalnessMap.value=w.metalnessMap,n(w.metalnessMap,x.metalnessMapTransform)),x.roughness.value=w.roughness,w.roughnessMap&&(x.roughnessMap.value=w.roughnessMap,n(w.roughnessMap,x.roughnessMapTransform)),w.envMap&&(x.envMapIntensity.value=w.envMapIntensity)}function m(x,w,M){x.ior.value=w.ior,w.sheen>0&&(x.sheenColor.value.copy(w.sheenColor).multiplyScalar(w.sheen),x.sheenRoughness.value=w.sheenRoughness,w.sheenColorMap&&(x.sheenColorMap.value=w.sheenColorMap,n(w.sheenColorMap,x.sheenColorMapTransform)),w.sheenRoughnessMap&&(x.sheenRoughnessMap.value=w.sheenRoughnessMap,n(w.sheenRoughnessMap,x.sheenRoughnessMapTransform))),w.clearcoat>0&&(x.clearcoat.value=w.clearcoat,x.clearcoatRoughness.value=w.clearcoatRoughness,w.clearcoatMap&&(x.clearcoatMap.value=w.clearcoatMap,n(w.clearcoatMap,x.clearcoatMapTransform)),w.clearcoatRoughnessMap&&(x.clearcoatRoughnessMap.value=w.clearcoatRoughnessMap,n(w.clearcoatRoughnessMap,x.clearcoatRoughnessMapTransform)),w.clearcoatNormalMap&&(x.clearcoatNormalMap.value=w.clearcoatNormalMap,n(w.clearcoatNormalMap,x.clearcoatNormalMapTransform),x.clearcoatNormalScale.value.copy(w.clearcoatNormalScale),w.side===Js&&x.clearcoatNormalScale.value.negate())),w.dispersion>0&&(x.dispersion.value=w.dispersion),w.iridescence>0&&(x.iridescence.value=w.iridescence,x.iridescenceIOR.value=w.iridescenceIOR,x.iridescenceThicknessMinimum.value=w.iridescenceThicknessRange[0],x.iridescenceThicknessMaximum.value=w.iridescenceThicknessRange[1],w.iridescenceMap&&(x.iridescenceMap.value=w.iridescenceMap,n(w.iridescenceMap,x.iridescenceMapTransform)),w.iridescenceThicknessMap&&(x.iridescenceThicknessMap.value=w.iridescenceThicknessMap,n(w.iridescenceThicknessMap,x.iridescenceThicknessMapTransform))),w.transmission>0&&(x.transmission.value=w.transmission,x.transmissionSamplerMap.value=M.texture,x.transmissionSamplerSize.value.set(M.width,M.height),w.transmissionMap&&(x.transmissionMap.value=w.transmissionMap,n(w.transmissionMap,x.transmissionMapTransform)),x.thickness.value=w.thickness,w.thicknessMap&&(x.thicknessMap.value=w.thicknessMap,n(w.thicknessMap,x.thicknessMapTransform)),x.attenuationDistance.value=w.attenuationDistance,x.attenuationColor.value.copy(w.attenuationColor)),w.anisotropy>0&&(x.anisotropyVector.value.set(w.anisotropy*Math.cos(w.anisotropyRotation),w.anisotropy*Math.sin(w.anisotropyRotation)),w.anisotropyMap&&(x.anisotropyMap.value=w.anisotropyMap,n(w.anisotropyMap,x.anisotropyMapTransform))),x.specularIntensity.value=w.specularIntensity,x.specularColor.value.copy(w.specularColor),w.specularColorMap&&(x.specularColorMap.value=w.specularColorMap,n(w.specularColorMap,x.specularColorMapTransform)),w.specularIntensityMap&&(x.specularIntensityMap.value=w.specularIntensityMap,n(w.specularIntensityMap,x.specularIntensityMapTransform))}function y(x,w){w.matcap&&(x.matcap.value=w.matcap)}function C(x,w){const M=e.get(w).light;x.referencePosition.value.setFromMatrixPosition(M.matrixWorld),x.nearDistance.value=M.shadow.camera.near,x.farDistance.value=M.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:s}}function NGe(t,e,n,i){let s={},r={},o=[];const a=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(M,S){const R=S.program;i.uniformBlockBinding(M,R)}function c(M,S){let R=s[M.id];R===void 0&&(y(M),R=d(M),s[M.id]=R,M.addEventListener("dispose",x));const P=S.program;i.updateUBOMapping(M,P);const F=e.render.frame;r[M.id]!==F&&(p(M),r[M.id]=F)}function d(M){const S=f();M.__bindingPointIndex=S;const R=t.createBuffer(),P=M.__size,F=M.usage;return t.bindBuffer(t.UNIFORM_BUFFER,R),t.bufferData(t.UNIFORM_BUFFER,P,F),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,S,R),R}function f(){for(let M=0;M<a;M++)if(o.indexOf(M)===-1)return o.push(M),M;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(M){const S=s[M.id],R=M.uniforms,P=M.__cache;t.bindBuffer(t.UNIFORM_BUFFER,S);for(let F=0,N=R.length;F<N;F++){const I=Array.isArray(R[F])?R[F]:[R[F]];for(let _=0,A=I.length;_<A;_++){const O=I[_];if(m(O,F,_,P)===!0){const k=O.__offset,z=Array.isArray(O.value)?O.value:[O.value];let W=0;for(let K=0;K<z.length;K++){const V=z[K],Q=C(V);typeof V=="number"||typeof V=="boolean"?(O.__data[0]=V,t.bufferSubData(t.UNIFORM_BUFFER,k+W,O.__data)):V.isMatrix3?(O.__data[0]=V.elements[0],O.__data[1]=V.elements[1],O.__data[2]=V.elements[2],O.__data[3]=0,O.__data[4]=V.elements[3],O.__data[5]=V.elements[4],O.__data[6]=V.elements[5],O.__data[7]=0,O.__data[8]=V.elements[6],O.__data[9]=V.elements[7],O.__data[10]=V.elements[8],O.__data[11]=0):(V.toArray(O.__data,W),W+=Q.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,k,O.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function m(M,S,R,P){const F=M.value,N=S+"_"+R;if(P[N]===void 0)return typeof F=="number"||typeof F=="boolean"?P[N]=F:P[N]=F.clone(),!0;{const I=P[N];if(typeof F=="number"||typeof F=="boolean"){if(I!==F)return P[N]=F,!0}else if(I.equals(F)===!1)return I.copy(F),!0}return!1}function y(M){const S=M.uniforms;let R=0;const P=16;for(let N=0,I=S.length;N<I;N++){const _=Array.isArray(S[N])?S[N]:[S[N]];for(let A=0,O=_.length;A<O;A++){const k=_[A],z=Array.isArray(k.value)?k.value:[k.value];for(let W=0,K=z.length;W<K;W++){const V=z[W],Q=C(V),q=R%P,X=q%Q.boundary,H=q+X;R+=X,H!==0&&P-H<Q.storage&&(R+=P-H),k.__data=new Float32Array(Q.storage/Float32Array.BYTES_PER_ELEMENT),k.__offset=R,R+=Q.storage}}}const F=R%P;return F>0&&(R+=P-F),M.__size=R,M.__cache={},this}function C(M){const S={boundary:0,storage:0};return typeof M=="number"||typeof M=="boolean"?(S.boundary=4,S.storage=4):M.isVector2?(S.boundary=8,S.storage=8):M.isVector3||M.isColor?(S.boundary=16,S.storage=12):M.isVector4?(S.boundary=16,S.storage=16):M.isMatrix3?(S.boundary=48,S.storage=48):M.isMatrix4?(S.boundary=64,S.storage=64):M.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",M),S}function x(M){const S=M.target;S.removeEventListener("dispose",x);const R=o.indexOf(S.__bindingPointIndex);o.splice(R,1),t.deleteBuffer(s[S.id]),delete s[S.id],delete r[S.id]}function w(){for(const M in s)t.deleteBuffer(s[M]);o=[],s={},r={}}return{bind:l,update:c,dispose:w}}class IGe{constructor(e={}){const{canvas:n=wK(),context:i=null,depth:s=!0,stencil:r=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:f=!1,reverseDepthBuffer:p=!1}=e;this.isWebGLRenderer=!0;let m;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");m=i.getContextAttributes().alpha}else m=o;const y=new Uint32Array(4),C=new Int32Array(4);let x=null,w=null;const M=[],S=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=mr,this.toneMapping=Vl,this.toneMappingExposure=1;const R=this;let P=!1,F=0,N=0,I=null,_=-1,A=null;const O=new rn,k=new rn;let z=null;const W=new ut(0);let K=0,V=n.width,Q=n.height,q=1,X=null,H=null;const ee=new rn(0,0,V,Q),ge=new rn(0,0,V,Q);let Se=!1;const Z=new E0;let ae=!1,xe=!1;this.transmissionResolutionScale=1;const Me=new Tt,Oe=new Tt,Le=new Y,we=new rn,$e={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ce=!1;function Ce(){return I===null?q:1}let U=i;function ke(j,oe){return n.getContext(j,oe)}try{const j={alpha:!0,depth:s,stencil:r,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:d,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${Z1}`),n.addEventListener("webglcontextlost",He,!1),n.addEventListener("webglcontextrestored",Qe,!1),n.addEventListener("webglcontextcreationerror",it,!1),U===null){const oe="webgl2";if(U=ke(oe,j),U===null)throw ke(oe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(j){throw console.error("THREE.WebGLRenderer: "+j.message),j}let De,Xe,Ve,at,Ge,$,B,de,te,fe,he,je,We,Ze,Ct,Ne,et,ft,dt,Ie,rt,tt,Gt,se;function st(){De=new WVe(U),De.init(),tt=new DY(U,De),Xe=new BVe(U,De,e,tt),Ve=new MGe(U,De),Xe.reverseDepthBuffer&&p&&Ve.buffers.depth.setReversed(!0),at=new KVe(U),Ge=new hGe,$=new TGe(U,De,Ve,Ge,Xe,tt,at),B=new VVe(R),de=new jVe(R),te=new e4e(U),Gt=new LVe(U,te),fe=new $Ve(U,te,at,Gt),he=new XVe(U,fe,te,at),dt=new YVe(U,Xe,$),Ne=new HVe(Ge),je=new dGe(R,B,de,De,Xe,Gt,Ne),We=new FGe(R,Ge),Ze=new pGe,Ct=new CGe(De),ft=new OVe(R,B,de,Ve,he,m,l),et=new SGe(R,he,Xe),se=new NGe(U,at,Xe,Ve),Ie=new kVe(U,De,at),rt=new qVe(U,De,at),at.programs=je.programs,R.capabilities=Xe,R.extensions=De,R.properties=Ge,R.renderLists=Ze,R.shadowMap=et,R.state=Ve,R.info=at}st();const Re=new DGe(R,U);this.xr=Re,this.getContext=function(){return U},this.getContextAttributes=function(){return U.getContextAttributes()},this.forceContextLoss=function(){const j=De.get("WEBGL_lose_context");j&&j.loseContext()},this.forceContextRestore=function(){const j=De.get("WEBGL_lose_context");j&&j.restoreContext()},this.getPixelRatio=function(){return q},this.setPixelRatio=function(j){j!==void 0&&(q=j,this.setSize(V,Q,!1))},this.getSize=function(j){return j.set(V,Q)},this.setSize=function(j,oe,ye=!0){if(Re.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}V=j,Q=oe,n.width=Math.floor(j*q),n.height=Math.floor(oe*q),ye===!0&&(n.style.width=j+"px",n.style.height=oe+"px"),this.setViewport(0,0,j,oe)},this.getDrawingBufferSize=function(j){return j.set(V*q,Q*q).floor()},this.setDrawingBufferSize=function(j,oe,ye){V=j,Q=oe,q=ye,n.width=Math.floor(j*ye),n.height=Math.floor(oe*ye),this.setViewport(0,0,j,oe)},this.getCurrentViewport=function(j){return j.copy(O)},this.getViewport=function(j){return j.copy(ee)},this.setViewport=function(j,oe,ye,pe){j.isVector4?ee.set(j.x,j.y,j.z,j.w):ee.set(j,oe,ye,pe),Ve.viewport(O.copy(ee).multiplyScalar(q).round())},this.getScissor=function(j){return j.copy(ge)},this.setScissor=function(j,oe,ye,pe){j.isVector4?ge.set(j.x,j.y,j.z,j.w):ge.set(j,oe,ye,pe),Ve.scissor(k.copy(ge).multiplyScalar(q).round())},this.getScissorTest=function(){return Se},this.setScissorTest=function(j){Ve.setScissorTest(Se=j)},this.setOpaqueSort=function(j){X=j},this.setTransparentSort=function(j){H=j},this.getClearColor=function(j){return j.copy(ft.getClearColor())},this.setClearColor=function(){ft.setClearColor(...arguments)},this.getClearAlpha=function(){return ft.getClearAlpha()},this.setClearAlpha=function(){ft.setClearAlpha(...arguments)},this.clear=function(j=!0,oe=!0,ye=!0){let pe=0;if(j){let le=!1;if(I!==null){const Ye=I.texture.format;le=Ye===sE||Ye===iE||Ye===w0}if(le){const Ye=I.texture.type,Je=Ye===za||Ye===Jl||Ye===Vp||Ye===mh||Ye===eE||Ye===tE,lt=ft.getClearColor(),ot=ft.getClearAlpha(),At=lt.r,Pt=lt.g,xt=lt.b;Je?(y[0]=At,y[1]=Pt,y[2]=xt,y[3]=ot,U.clearBufferuiv(U.COLOR,0,y)):(C[0]=At,C[1]=Pt,C[2]=xt,C[3]=ot,U.clearBufferiv(U.COLOR,0,C))}else pe|=U.COLOR_BUFFER_BIT}oe&&(pe|=U.DEPTH_BUFFER_BIT),ye&&(pe|=U.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),U.clear(pe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",He,!1),n.removeEventListener("webglcontextrestored",Qe,!1),n.removeEventListener("webglcontextcreationerror",it,!1),ft.dispose(),Ze.dispose(),Ct.dispose(),Ge.dispose(),B.dispose(),de.dispose(),he.dispose(),Gt.dispose(),se.dispose(),je.dispose(),Re.dispose(),Re.removeEventListener("sessionstart",D0),Re.removeEventListener("sessionend",mm),ca.stop()};function He(j){j.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),P=!0}function Qe(){console.log("THREE.WebGLRenderer: Context Restored."),P=!1;const j=at.autoReset,oe=et.enabled,ye=et.autoUpdate,pe=et.needsUpdate,le=et.type;st(),at.autoReset=j,et.enabled=oe,et.autoUpdate=ye,et.needsUpdate=pe,et.type=le}function it(j){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",j.statusMessage)}function Rt(j){const oe=j.target;oe.removeEventListener("dispose",Rt),Vn(oe)}function Vn(j){Ai(j),Ge.remove(j)}function Ai(j){const oe=Ge.get(j).programs;oe!==void 0&&(oe.forEach(function(ye){je.releaseProgram(ye)}),j.isShaderMaterial&&je.releaseShaderCache(j))}this.renderBufferDirect=function(j,oe,ye,pe,le,Ye){oe===null&&(oe=$e);const Je=le.isMesh&&le.matrixWorld.determinant()<0,lt=FE(j,oe,ye,pe,le);Ve.setMaterial(pe,Je);let ot=ye.index,At=1;if(pe.wireframe===!0){if(ot=fe.getWireframeAttribute(ye),ot===void 0)return;At=2}const Pt=ye.drawRange,xt=ye.attributes.position;let Xt=Pt.start*At,Zt=(Pt.start+Pt.count)*At;Ye!==null&&(Xt=Math.max(Xt,Ye.start*At),Zt=Math.min(Zt,(Ye.start+Ye.count)*At)),ot!==null?(Xt=Math.max(Xt,0),Zt=Math.min(Zt,ot.count)):xt!=null&&(Xt=Math.max(Xt,0),Zt=Math.min(Zt,xt.count));const Hn=Zt-Xt;if(Hn<0||Hn===1/0)return;Gt.setup(le,pe,lt,ye,ot);let cn,Dt=Ie;if(ot!==null&&(cn=te.get(ot),Dt=rt,Dt.setIndex(cn)),le.isMesh)pe.wireframe===!0?(Ve.setLineWidth(pe.wireframeLinewidth*Ce()),Dt.setMode(U.LINES)):Dt.setMode(U.TRIANGLES);else if(le.isLine){let wt=pe.linewidth;wt===void 0&&(wt=1),Ve.setLineWidth(wt*Ce()),le.isLineSegments?Dt.setMode(U.LINES):le.isLineLoop?Dt.setMode(U.LINE_LOOP):Dt.setMode(U.LINE_STRIP)}else le.isPoints?Dt.setMode(U.POINTS):le.isSprite&&Dt.setMode(U.TRIANGLES);if(le.isBatchedMesh)if(le._multiDrawInstances!==null)gd("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Dt.renderMultiDrawInstances(le._multiDrawStarts,le._multiDrawCounts,le._multiDrawCount,le._multiDrawInstances);else if(De.get("WEBGL_multi_draw"))Dt.renderMultiDraw(le._multiDrawStarts,le._multiDrawCounts,le._multiDrawCount);else{const wt=le._multiDrawStarts,_i=le._multiDrawCounts,Jt=le._multiDrawCount,lr=ot?te.get(ot).bytesPerElement:1,No=Ge.get(pe).currentProgram.getUniforms();for(let Ls=0;Ls<Jt;Ls++)No.setValue(U,"_gl_DrawID",Ls),Dt.render(wt[Ls]/lr,_i[Ls])}else if(le.isInstancedMesh)Dt.renderInstances(Xt,Hn,le.count);else if(ye.isInstancedBufferGeometry){const wt=ye._maxInstanceCount!==void 0?ye._maxInstanceCount:1/0,_i=Math.min(ye.instanceCount,wt);Dt.renderInstances(Xt,Hn,_i)}else Dt.render(Xt,Hn)};function ln(j,oe,ye){j.transparent===!0&&j.side===Ta&&j.forceSinglePass===!1?(j.side=Js,j.needsUpdate=!0,Di(j,oe,ye),j.side=Xl,j.needsUpdate=!0,Di(j,oe,ye),j.side=Ta):Di(j,oe,ye)}this.compile=function(j,oe,ye=null){ye===null&&(ye=j),w=Ct.get(ye),w.init(oe),S.push(w),ye.traverseVisible(function(le){le.isLight&&le.layers.test(oe.layers)&&(w.pushLight(le),le.castShadow&&w.pushShadow(le))}),j!==ye&&j.traverseVisible(function(le){le.isLight&&le.layers.test(oe.layers)&&(w.pushLight(le),le.castShadow&&w.pushShadow(le))}),w.setupLights();const pe=new Set;return j.traverse(function(le){if(!(le.isMesh||le.isPoints||le.isLine||le.isSprite))return;const Ye=le.material;if(Ye)if(Array.isArray(Ye))for(let Je=0;Je<Ye.length;Je++){const lt=Ye[Je];ln(lt,ye,le),pe.add(lt)}else ln(Ye,ye,le),pe.add(Ye)}),w=S.pop(),pe},this.compileAsync=function(j,oe,ye=null){const pe=this.compile(j,oe,ye);return new Promise(le=>{function Ye(){if(pe.forEach(function(Je){Ge.get(Je).currentProgram.isReady()&&pe.delete(Je)}),pe.size===0){le(j);return}setTimeout(Ye,10)}De.get("KHR_parallel_shader_compile")!==null?Ye():setTimeout(Ye,10)})};let Is=null;function Os(j){Is&&Is(j)}function D0(){ca.stop()}function mm(){ca.start()}const ca=new MY;ca.setAnimationLoop(Os),typeof self<"u"&&ca.setContext(self),this.setAnimationLoop=function(j){Is=j,Re.setAnimationLoop(j),j===null?ca.stop():ca.start()},Re.addEventListener("sessionstart",D0),Re.addEventListener("sessionend",mm),this.render=function(j,oe){if(oe!==void 0&&oe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(P===!0)return;if(j.matrixWorldAutoUpdate===!0&&j.updateMatrixWorld(),oe.parent===null&&oe.matrixWorldAutoUpdate===!0&&oe.updateMatrixWorld(),Re.enabled===!0&&Re.isPresenting===!0&&(Re.cameraAutoUpdate===!0&&Re.updateCamera(oe),oe=Re.getCamera()),j.isScene===!0&&j.onBeforeRender(R,j,oe,I),w=Ct.get(j,S.length),w.init(oe),S.push(w),Oe.multiplyMatrices(oe.projectionMatrix,oe.matrixWorldInverse),Z.setFromProjectionMatrix(Oe),xe=this.localClippingEnabled,ae=Ne.init(this.clippingPlanes,xe),x=Ze.get(j,M.length),x.init(),M.push(x),Re.enabled===!0&&Re.isPresenting===!0){const Ye=R.xr.getDepthSensingMesh();Ye!==null&&Ih(Ye,oe,-1/0,R.sortObjects)}Ih(j,oe,0,R.sortObjects),x.finish(),R.sortObjects===!0&&x.sort(X,H),ce=Re.enabled===!1||Re.isPresenting===!1||Re.hasDepthSensing()===!1,ce&&ft.addToRenderList(x,j),this.info.render.frame++,ae===!0&&Ne.beginShadows();const ye=w.state.shadowsArray;et.render(ye,j,oe),ae===!0&&Ne.endShadows(),this.info.autoReset===!0&&this.info.reset();const pe=x.opaque,le=x.transmissive;if(w.setupLights(),oe.isArrayCamera){const Ye=oe.cameras;if(le.length>0)for(let Je=0,lt=Ye.length;Je<lt;Je++){const ot=Ye[Je];_0(pe,le,j,ot)}ce&&ft.render(j);for(let Je=0,lt=Ye.length;Je<lt;Je++){const ot=Ye[Je];gm(x,j,ot,ot.viewport)}}else le.length>0&&_0(pe,le,j,oe),ce&&ft.render(j),gm(x,j,oe);I!==null&&N===0&&($.updateMultisampleRenderTarget(I),$.updateRenderTargetMipmap(I)),j.isScene===!0&&j.onAfterRender(R,j,oe),Gt.resetDefaultState(),_=-1,A=null,S.pop(),S.length>0?(w=S[S.length-1],ae===!0&&Ne.setGlobalState(R.clippingPlanes,w.state.camera)):w=null,M.pop(),M.length>0?x=M[M.length-1]:x=null};function Ih(j,oe,ye,pe){if(j.visible===!1)return;if(j.layers.test(oe.layers)){if(j.isGroup)ye=j.renderOrder;else if(j.isLOD)j.autoUpdate===!0&&j.update(oe);else if(j.isLight)w.pushLight(j),j.castShadow&&w.pushShadow(j);else if(j.isSprite){if(!j.frustumCulled||Z.intersectsSprite(j)){pe&&we.setFromMatrixPosition(j.matrixWorld).applyMatrix4(Oe);const Je=he.update(j),lt=j.material;lt.visible&&x.push(j,Je,lt,ye,we.z,null)}}else if((j.isMesh||j.isLine||j.isPoints)&&(!j.frustumCulled||Z.intersectsObject(j))){const Je=he.update(j),lt=j.material;if(pe&&(j.boundingSphere!==void 0?(j.boundingSphere===null&&j.computeBoundingSphere(),we.copy(j.boundingSphere.center)):(Je.boundingSphere===null&&Je.computeBoundingSphere(),we.copy(Je.boundingSphere.center)),we.applyMatrix4(j.matrixWorld).applyMatrix4(Oe)),Array.isArray(lt)){const ot=Je.groups;for(let At=0,Pt=ot.length;At<Pt;At++){const xt=ot[At],Xt=lt[xt.materialIndex];Xt&&Xt.visible&&x.push(j,Je,Xt,ye,we.z,xt)}}else lt.visible&&x.push(j,Je,lt,ye,we.z,null)}}const Ye=j.children;for(let Je=0,lt=Ye.length;Je<lt;Je++)Ih(Ye[Je],oe,ye,pe)}function gm(j,oe,ye,pe){const le=j.opaque,Ye=j.transmissive,Je=j.transparent;w.setupLightsView(ye),ae===!0&&Ne.setGlobalState(R.clippingPlanes,ye),pe&&Ve.viewport(O.copy(pe)),le.length>0&&Rr(le,oe,ye),Ye.length>0&&Rr(Ye,oe,ye),Je.length>0&&Rr(Je,oe,ye),Ve.buffers.depth.setTest(!0),Ve.buffers.depth.setMask(!0),Ve.buffers.color.setMask(!0),Ve.setPolygonOffset(!1)}function _0(j,oe,ye,pe){if((ye.isScene===!0?ye.overrideMaterial:null)!==null)return;w.state.transmissionRenderTarget[pe.id]===void 0&&(w.state.transmissionRenderTarget[pe.id]=new Ga(1,1,{generateMipmaps:!0,type:De.has("EXT_color_buffer_half_float")||De.has("EXT_color_buffer_float")?um:za,minFilter:Pa,samples:4,stencilBuffer:r,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:nn.workingColorSpace}));const Ye=w.state.transmissionRenderTarget[pe.id],Je=pe.viewport||O;Ye.setSize(Je.z*R.transmissionResolutionScale,Je.w*R.transmissionResolutionScale);const lt=R.getRenderTarget();R.setRenderTarget(Ye),R.getClearColor(W),K=R.getClearAlpha(),K<1&&R.setClearColor(16777215,.5),R.clear(),ce&&ft.render(ye);const ot=R.toneMapping;R.toneMapping=Vl;const At=pe.viewport;if(pe.viewport!==void 0&&(pe.viewport=void 0),w.setupLightsView(pe),ae===!0&&Ne.setGlobalState(R.clippingPlanes,pe),Rr(j,ye,pe),$.updateMultisampleRenderTarget(Ye),$.updateRenderTargetMipmap(Ye),De.has("WEBGL_multisampled_render_to_texture")===!1){let Pt=!1;for(let xt=0,Xt=oe.length;xt<Xt;xt++){const Zt=oe[xt],Hn=Zt.object,cn=Zt.geometry,Dt=Zt.material,wt=Zt.group;if(Dt.side===Ta&&Hn.layers.test(pe.layers)){const _i=Dt.side;Dt.side=Js,Dt.needsUpdate=!0,Pi(Hn,ye,pe,cn,Dt,wt),Dt.side=_i,Dt.needsUpdate=!0,Pt=!0}}Pt===!0&&($.updateMultisampleRenderTarget(Ye),$.updateRenderTargetMipmap(Ye))}R.setRenderTarget(lt),R.setClearColor(W,K),At!==void 0&&(pe.viewport=At),R.toneMapping=ot}function Rr(j,oe,ye){const pe=oe.isScene===!0?oe.overrideMaterial:null;for(let le=0,Ye=j.length;le<Ye;le++){const Je=j[le],lt=Je.object,ot=Je.geometry,At=pe===null?Je.material:pe,Pt=Je.group;lt.layers.test(ye.layers)&&Pi(lt,oe,ye,ot,At,Pt)}}function Pi(j,oe,ye,pe,le,Ye){j.onBeforeRender(R,oe,ye,pe,le,Ye),j.modelViewMatrix.multiplyMatrices(ye.matrixWorldInverse,j.matrixWorld),j.normalMatrix.getNormalMatrix(j.modelViewMatrix),le.onBeforeRender(R,oe,ye,pe,j,Ye),le.transparent===!0&&le.side===Ta&&le.forceSinglePass===!1?(le.side=Js,le.needsUpdate=!0,R.renderBufferDirect(ye,oe,pe,le,j,Ye),le.side=Xl,le.needsUpdate=!0,R.renderBufferDirect(ye,oe,pe,le,j,Ye),le.side=Ta):R.renderBufferDirect(ye,oe,pe,le,j,Ye),j.onAfterRender(R,oe,ye,pe,le,Ye)}function Di(j,oe,ye){oe.isScene!==!0&&(oe=$e);const pe=Ge.get(j),le=w.state.lights,Ye=w.state.shadowsArray,Je=le.state.version,lt=je.getParameters(j,le.state,Ye,oe,ye),ot=je.getProgramCacheKey(lt);let At=pe.programs;pe.environment=j.isMeshStandardMaterial?oe.environment:null,pe.fog=oe.fog,pe.envMap=(j.isMeshStandardMaterial?de:B).get(j.envMap||pe.environment),pe.envMapRotation=pe.environment!==null&&j.envMap===null?oe.environmentRotation:j.envMapRotation,At===void 0&&(j.addEventListener("dispose",Rt),At=new Map,pe.programs=At);let Pt=At.get(ot);if(Pt!==void 0){if(pe.currentProgram===Pt&&pe.lightsStateVersion===Je)return Oh(j,lt),Pt}else lt.uniforms=je.getUniforms(j),j.onBeforeCompile(lt,R),Pt=je.acquireProgram(lt,ot),At.set(ot,Pt),pe.uniforms=lt.uniforms;const xt=pe.uniforms;return(!j.isShaderMaterial&&!j.isRawShaderMaterial||j.clipping===!0)&&(xt.clippingPlanes=Ne.uniform),Oh(j,lt),pe.needsLights=F0(j),pe.lightsStateVersion=Je,pe.needsLights&&(xt.ambientLightColor.value=le.state.ambient,xt.lightProbe.value=le.state.probe,xt.directionalLights.value=le.state.directional,xt.directionalLightShadows.value=le.state.directionalShadow,xt.spotLights.value=le.state.spot,xt.spotLightShadows.value=le.state.spotShadow,xt.rectAreaLights.value=le.state.rectArea,xt.ltc_1.value=le.state.rectAreaLTC1,xt.ltc_2.value=le.state.rectAreaLTC2,xt.pointLights.value=le.state.point,xt.pointLightShadows.value=le.state.pointShadow,xt.hemisphereLights.value=le.state.hemi,xt.directionalShadowMap.value=le.state.directionalShadowMap,xt.directionalShadowMatrix.value=le.state.directionalShadowMatrix,xt.spotShadowMap.value=le.state.spotShadowMap,xt.spotLightMatrix.value=le.state.spotLightMatrix,xt.spotLightMap.value=le.state.spotLightMap,xt.pointShadowMap.value=le.state.pointShadowMap,xt.pointShadowMatrix.value=le.state.pointShadowMatrix),pe.currentProgram=Pt,pe.uniformsList=null,Pt}function Xa(j){if(j.uniformsList===null){const oe=j.currentProgram.getUniforms();j.uniformsList=Uw.seqWithValue(oe.seq,j.uniforms)}return j.uniformsList}function Oh(j,oe){const ye=Ge.get(j);ye.outputColorSpace=oe.outputColorSpace,ye.batching=oe.batching,ye.batchingColor=oe.batchingColor,ye.instancing=oe.instancing,ye.instancingColor=oe.instancingColor,ye.instancingMorph=oe.instancingMorph,ye.skinning=oe.skinning,ye.morphTargets=oe.morphTargets,ye.morphNormals=oe.morphNormals,ye.morphColors=oe.morphColors,ye.morphTargetsCount=oe.morphTargetsCount,ye.numClippingPlanes=oe.numClippingPlanes,ye.numIntersection=oe.numClipIntersection,ye.vertexAlphas=oe.vertexAlphas,ye.vertexTangents=oe.vertexTangents,ye.toneMapping=oe.toneMapping}function FE(j,oe,ye,pe,le){oe.isScene!==!0&&(oe=$e),$.resetTextureUnits();const Ye=oe.fog,Je=pe.isMeshStandardMaterial?oe.environment:null,lt=I===null?R.outputColorSpace:I.isXRRenderTarget===!0?I.texture.colorSpace:vh,ot=(pe.isMeshStandardMaterial?de:B).get(pe.envMap||Je),At=pe.vertexColors===!0&&!!ye.attributes.color&&ye.attributes.color.itemSize===4,Pt=!!ye.attributes.tangent&&(!!pe.normalMap||pe.anisotropy>0),xt=!!ye.morphAttributes.position,Xt=!!ye.morphAttributes.normal,Zt=!!ye.morphAttributes.color;let Hn=Vl;pe.toneMapped&&(I===null||I.isXRRenderTarget===!0)&&(Hn=R.toneMapping);const cn=ye.morphAttributes.position||ye.morphAttributes.normal||ye.morphAttributes.color,Dt=cn!==void 0?cn.length:0,wt=Ge.get(pe),_i=w.state.lights;if(ae===!0&&(xe===!0||j!==A)){const ei=j===A&&pe.id===_;Ne.setState(pe,j,ei)}let Jt=!1;pe.version===wt.__version?(wt.needsLights&&wt.lightsStateVersion!==_i.state.version||wt.outputColorSpace!==lt||le.isBatchedMesh&&wt.batching===!1||!le.isBatchedMesh&&wt.batching===!0||le.isBatchedMesh&&wt.batchingColor===!0&&le.colorTexture===null||le.isBatchedMesh&&wt.batchingColor===!1&&le.colorTexture!==null||le.isInstancedMesh&&wt.instancing===!1||!le.isInstancedMesh&&wt.instancing===!0||le.isSkinnedMesh&&wt.skinning===!1||!le.isSkinnedMesh&&wt.skinning===!0||le.isInstancedMesh&&wt.instancingColor===!0&&le.instanceColor===null||le.isInstancedMesh&&wt.instancingColor===!1&&le.instanceColor!==null||le.isInstancedMesh&&wt.instancingMorph===!0&&le.morphTexture===null||le.isInstancedMesh&&wt.instancingMorph===!1&&le.morphTexture!==null||wt.envMap!==ot||pe.fog===!0&&wt.fog!==Ye||wt.numClippingPlanes!==void 0&&(wt.numClippingPlanes!==Ne.numPlanes||wt.numIntersection!==Ne.numIntersection)||wt.vertexAlphas!==At||wt.vertexTangents!==Pt||wt.morphTargets!==xt||wt.morphNormals!==Xt||wt.morphColors!==Zt||wt.toneMapping!==Hn||wt.morphTargetsCount!==Dt)&&(Jt=!0):(Jt=!0,wt.__version=pe.version);let lr=wt.currentProgram;Jt===!0&&(lr=Di(pe,oe,le));let No=!1,Ls=!1,zi=!1;const bn=lr.getUniforms(),ks=wt.uniforms;if(Ve.useProgram(lr.program)&&(No=!0,Ls=!0,zi=!0),pe.id!==_&&(_=pe.id,Ls=!0),No||A!==j){Ve.buffers.depth.getReversed()?(Me.copy(j.projectionMatrix),w3e(Me),b3e(Me),bn.setValue(U,"projectionMatrix",Me)):bn.setValue(U,"projectionMatrix",j.projectionMatrix),bn.setValue(U,"viewMatrix",j.matrixWorldInverse);const Qi=bn.map.cameraPosition;Qi!==void 0&&Qi.setValue(U,Le.setFromMatrixPosition(j.matrixWorld)),Xe.logarithmicDepthBuffer&&bn.setValue(U,"logDepthBufFC",2/(Math.log(j.far+1)/Math.LN2)),(pe.isMeshPhongMaterial||pe.isMeshToonMaterial||pe.isMeshLambertMaterial||pe.isMeshBasicMaterial||pe.isMeshStandardMaterial||pe.isShaderMaterial)&&bn.setValue(U,"isOrthographic",j.isOrthographicCamera===!0),A!==j&&(A=j,Ls=!0,zi=!0)}if(le.isSkinnedMesh){bn.setOptional(U,le,"bindMatrix"),bn.setOptional(U,le,"bindMatrixInverse");const ei=le.skeleton;ei&&(ei.boneTexture===null&&ei.computeBoneTexture(),bn.setValue(U,"boneTexture",ei.boneTexture,$))}le.isBatchedMesh&&(bn.setOptional(U,le,"batchingTexture"),bn.setValue(U,"batchingTexture",le._matricesTexture,$),bn.setOptional(U,le,"batchingIdTexture"),bn.setValue(U,"batchingIdTexture",le._indirectTexture,$),bn.setOptional(U,le,"batchingColorTexture"),le._colorsTexture!==null&&bn.setValue(U,"batchingColorTexture",le._colorsTexture,$));const ms=ye.morphAttributes;if((ms.position!==void 0||ms.normal!==void 0||ms.color!==void 0)&&dt.update(le,ye,lr),(Ls||wt.receiveShadow!==le.receiveShadow)&&(wt.receiveShadow=le.receiveShadow,bn.setValue(U,"receiveShadow",le.receiveShadow)),pe.isMeshGouraudMaterial&&pe.envMap!==null&&(ks.envMap.value=ot,ks.flipEnvMap.value=ot.isCubeTexture&&ot.isRenderTargetTexture===!1?-1:1),pe.isMeshStandardMaterial&&pe.envMap===null&&oe.environment!==null&&(ks.envMapIntensity.value=oe.environmentIntensity),Ls&&(bn.setValue(U,"toneMappingExposure",R.toneMappingExposure),wt.needsLights&&NE(ks,zi),Ye&&pe.fog===!0&&We.refreshFogUniforms(ks,Ye),We.refreshMaterialUniforms(ks,pe,q,Q,w.state.transmissionRenderTarget[j.id]),Uw.upload(U,Xa(wt),ks,$)),pe.isShaderMaterial&&pe.uniformsNeedUpdate===!0&&(Uw.upload(U,Xa(wt),ks,$),pe.uniformsNeedUpdate=!1),pe.isSpriteMaterial&&bn.setValue(U,"center",le.center),bn.setValue(U,"modelViewMatrix",le.modelViewMatrix),bn.setValue(U,"normalMatrix",le.normalMatrix),bn.setValue(U,"modelMatrix",le.matrixWorld),pe.isShaderMaterial||pe.isRawShaderMaterial){const ei=pe.uniformsGroups;for(let Qi=0,Lh=ei.length;Qi<Lh;Qi++){const cr=ei[Qi];se.update(cr,lr),se.bind(cr,lr)}}return lr}function NE(j,oe){j.ambientLightColor.needsUpdate=oe,j.lightProbe.needsUpdate=oe,j.directionalLights.needsUpdate=oe,j.directionalLightShadows.needsUpdate=oe,j.pointLights.needsUpdate=oe,j.pointLightShadows.needsUpdate=oe,j.spotLights.needsUpdate=oe,j.spotLightShadows.needsUpdate=oe,j.rectAreaLights.needsUpdate=oe,j.hemisphereLights.needsUpdate=oe}function F0(j){return j.isMeshLambertMaterial||j.isMeshToonMaterial||j.isMeshPhongMaterial||j.isMeshStandardMaterial||j.isShadowMaterial||j.isShaderMaterial&&j.lights===!0}this.getActiveCubeFace=function(){return F},this.getActiveMipmapLevel=function(){return N},this.getRenderTarget=function(){return I},this.setRenderTargetTextures=function(j,oe,ye){Ge.get(j.texture).__webglTexture=oe,Ge.get(j.depthTexture).__webglTexture=ye;const pe=Ge.get(j);pe.__hasExternalTextures=!0,pe.__autoAllocateDepthBuffer=ye===void 0,pe.__autoAllocateDepthBuffer||De.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),pe.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(j,oe){const ye=Ge.get(j);ye.__webglFramebuffer=oe,ye.__useDefaultFramebuffer=oe===void 0};const Tu=U.createFramebuffer();this.setRenderTarget=function(j,oe=0,ye=0){I=j,F=oe,N=ye;let pe=!0,le=null,Ye=!1,Je=!1;if(j){const ot=Ge.get(j);if(ot.__useDefaultFramebuffer!==void 0)Ve.bindFramebuffer(U.FRAMEBUFFER,null),pe=!1;else if(ot.__webglFramebuffer===void 0)$.setupRenderTarget(j);else if(ot.__hasExternalTextures)$.rebindTextures(j,Ge.get(j.texture).__webglTexture,Ge.get(j.depthTexture).__webglTexture);else if(j.depthBuffer){const xt=j.depthTexture;if(ot.__boundDepthTexture!==xt){if(xt!==null&&Ge.has(xt)&&(j.width!==xt.image.width||j.height!==xt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");$.setupDepthRenderbuffer(j)}}const At=j.texture;(At.isData3DTexture||At.isDataArrayTexture||At.isCompressedArrayTexture)&&(Je=!0);const Pt=Ge.get(j).__webglFramebuffer;j.isWebGLCubeRenderTarget?(Array.isArray(Pt[oe])?le=Pt[oe][ye]:le=Pt[oe],Ye=!0):j.samples>0&&$.useMultisampledRTT(j)===!1?le=Ge.get(j).__webglMultisampledFramebuffer:Array.isArray(Pt)?le=Pt[ye]:le=Pt,O.copy(j.viewport),k.copy(j.scissor),z=j.scissorTest}else O.copy(ee).multiplyScalar(q).floor(),k.copy(ge).multiplyScalar(q).floor(),z=Se;if(ye!==0&&(le=Tu),Ve.bindFramebuffer(U.FRAMEBUFFER,le)&&pe&&Ve.drawBuffers(j,le),Ve.viewport(O),Ve.scissor(k),Ve.setScissorTest(z),Ye){const ot=Ge.get(j.texture);U.framebufferTexture2D(U.FRAMEBUFFER,U.COLOR_ATTACHMENT0,U.TEXTURE_CUBE_MAP_POSITIVE_X+oe,ot.__webglTexture,ye)}else if(Je){const ot=Ge.get(j.texture),At=oe;U.framebufferTextureLayer(U.FRAMEBUFFER,U.COLOR_ATTACHMENT0,ot.__webglTexture,ye,At)}else if(j!==null&&ye!==0){const ot=Ge.get(j.texture);U.framebufferTexture2D(U.FRAMEBUFFER,U.COLOR_ATTACHMENT0,U.TEXTURE_2D,ot.__webglTexture,ye)}_=-1},this.readRenderTargetPixels=function(j,oe,ye,pe,le,Ye,Je){if(!(j&&j.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let lt=Ge.get(j).__webglFramebuffer;if(j.isWebGLCubeRenderTarget&&Je!==void 0&&(lt=lt[Je]),lt){Ve.bindFramebuffer(U.FRAMEBUFFER,lt);try{const ot=j.texture,At=ot.format,Pt=ot.type;if(!Xe.textureFormatReadable(At)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Xe.textureTypeReadable(Pt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}oe>=0&&oe<=j.width-pe&&ye>=0&&ye<=j.height-le&&U.readPixels(oe,ye,pe,le,tt.convert(At),tt.convert(Pt),Ye)}finally{const ot=I!==null?Ge.get(I).__webglFramebuffer:null;Ve.bindFramebuffer(U.FRAMEBUFFER,ot)}}},this.readRenderTargetPixelsAsync=async function(j,oe,ye,pe,le,Ye,Je){if(!(j&&j.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let lt=Ge.get(j).__webglFramebuffer;if(j.isWebGLCubeRenderTarget&&Je!==void 0&&(lt=lt[Je]),lt){const ot=j.texture,At=ot.format,Pt=ot.type;if(!Xe.textureFormatReadable(At))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Xe.textureTypeReadable(Pt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(oe>=0&&oe<=j.width-pe&&ye>=0&&ye<=j.height-le){Ve.bindFramebuffer(U.FRAMEBUFFER,lt);const xt=U.createBuffer();U.bindBuffer(U.PIXEL_PACK_BUFFER,xt),U.bufferData(U.PIXEL_PACK_BUFFER,Ye.byteLength,U.STREAM_READ),U.readPixels(oe,ye,pe,le,tt.convert(At),tt.convert(Pt),0);const Xt=I!==null?Ge.get(I).__webglFramebuffer:null;Ve.bindFramebuffer(U.FRAMEBUFFER,Xt);const Zt=U.fenceSync(U.SYNC_GPU_COMMANDS_COMPLETE,0);return U.flush(),await C3e(U,Zt,4),U.bindBuffer(U.PIXEL_PACK_BUFFER,xt),U.getBufferSubData(U.PIXEL_PACK_BUFFER,0,Ye),U.deleteBuffer(xt),U.deleteSync(Zt),Ye}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(j,oe=null,ye=0){j.isTexture!==!0&&(gd("WebGLRenderer: copyFramebufferToTexture function signature has changed."),oe=arguments[0]||null,j=arguments[1]);const pe=Math.pow(2,-ye),le=Math.floor(j.image.width*pe),Ye=Math.floor(j.image.height*pe),Je=oe!==null?oe.x:0,lt=oe!==null?oe.y:0;$.setTexture2D(j,0),U.copyTexSubImage2D(U.TEXTURE_2D,ye,0,0,Je,lt,le,Ye),Ve.unbindTexture()};const vm=U.createFramebuffer(),Za=U.createFramebuffer();this.copyTextureToTexture=function(j,oe,ye=null,pe=null,le=0,Ye=null){j.isTexture!==!0&&(gd("WebGLRenderer: copyTextureToTexture function signature has changed."),pe=arguments[0]||null,j=arguments[1],oe=arguments[2],Ye=arguments[3]||0,ye=null),Ye===null&&(le!==0?(gd("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Ye=le,le=0):Ye=0);let Je,lt,ot,At,Pt,xt,Xt,Zt,Hn;const cn=j.isCompressedTexture?j.mipmaps[Ye]:j.image;if(ye!==null)Je=ye.max.x-ye.min.x,lt=ye.max.y-ye.min.y,ot=ye.isBox3?ye.max.z-ye.min.z:1,At=ye.min.x,Pt=ye.min.y,xt=ye.isBox3?ye.min.z:0;else{const ms=Math.pow(2,-le);Je=Math.floor(cn.width*ms),lt=Math.floor(cn.height*ms),j.isDataArrayTexture?ot=cn.depth:j.isData3DTexture?ot=Math.floor(cn.depth*ms):ot=1,At=0,Pt=0,xt=0}pe!==null?(Xt=pe.x,Zt=pe.y,Hn=pe.z):(Xt=0,Zt=0,Hn=0);const Dt=tt.convert(oe.format),wt=tt.convert(oe.type);let _i;oe.isData3DTexture?($.setTexture3D(oe,0),_i=U.TEXTURE_3D):oe.isDataArrayTexture||oe.isCompressedArrayTexture?($.setTexture2DArray(oe,0),_i=U.TEXTURE_2D_ARRAY):($.setTexture2D(oe,0),_i=U.TEXTURE_2D),U.pixelStorei(U.UNPACK_FLIP_Y_WEBGL,oe.flipY),U.pixelStorei(U.UNPACK_PREMULTIPLY_ALPHA_WEBGL,oe.premultiplyAlpha),U.pixelStorei(U.UNPACK_ALIGNMENT,oe.unpackAlignment);const Jt=U.getParameter(U.UNPACK_ROW_LENGTH),lr=U.getParameter(U.UNPACK_IMAGE_HEIGHT),No=U.getParameter(U.UNPACK_SKIP_PIXELS),Ls=U.getParameter(U.UNPACK_SKIP_ROWS),zi=U.getParameter(U.UNPACK_SKIP_IMAGES);U.pixelStorei(U.UNPACK_ROW_LENGTH,cn.width),U.pixelStorei(U.UNPACK_IMAGE_HEIGHT,cn.height),U.pixelStorei(U.UNPACK_SKIP_PIXELS,At),U.pixelStorei(U.UNPACK_SKIP_ROWS,Pt),U.pixelStorei(U.UNPACK_SKIP_IMAGES,xt);const bn=j.isDataArrayTexture||j.isData3DTexture,ks=oe.isDataArrayTexture||oe.isData3DTexture;if(j.isDepthTexture){const ms=Ge.get(j),ei=Ge.get(oe),Qi=Ge.get(ms.__renderTarget),Lh=Ge.get(ei.__renderTarget);Ve.bindFramebuffer(U.READ_FRAMEBUFFER,Qi.__webglFramebuffer),Ve.bindFramebuffer(U.DRAW_FRAMEBUFFER,Lh.__webglFramebuffer);for(let cr=0;cr<ot;cr++)bn&&(U.framebufferTextureLayer(U.READ_FRAMEBUFFER,U.COLOR_ATTACHMENT0,Ge.get(j).__webglTexture,le,xt+cr),U.framebufferTextureLayer(U.DRAW_FRAMEBUFFER,U.COLOR_ATTACHMENT0,Ge.get(oe).__webglTexture,Ye,Hn+cr)),U.blitFramebuffer(At,Pt,Je,lt,Xt,Zt,Je,lt,U.DEPTH_BUFFER_BIT,U.NEAREST);Ve.bindFramebuffer(U.READ_FRAMEBUFFER,null),Ve.bindFramebuffer(U.DRAW_FRAMEBUFFER,null)}else if(le!==0||j.isRenderTargetTexture||Ge.has(j)){const ms=Ge.get(j),ei=Ge.get(oe);Ve.bindFramebuffer(U.READ_FRAMEBUFFER,vm),Ve.bindFramebuffer(U.DRAW_FRAMEBUFFER,Za);for(let Qi=0;Qi<ot;Qi++)bn?U.framebufferTextureLayer(U.READ_FRAMEBUFFER,U.COLOR_ATTACHMENT0,ms.__webglTexture,le,xt+Qi):U.framebufferTexture2D(U.READ_FRAMEBUFFER,U.COLOR_ATTACHMENT0,U.TEXTURE_2D,ms.__webglTexture,le),ks?U.framebufferTextureLayer(U.DRAW_FRAMEBUFFER,U.COLOR_ATTACHMENT0,ei.__webglTexture,Ye,Hn+Qi):U.framebufferTexture2D(U.DRAW_FRAMEBUFFER,U.COLOR_ATTACHMENT0,U.TEXTURE_2D,ei.__webglTexture,Ye),le!==0?U.blitFramebuffer(At,Pt,Je,lt,Xt,Zt,Je,lt,U.COLOR_BUFFER_BIT,U.NEAREST):ks?U.copyTexSubImage3D(_i,Ye,Xt,Zt,Hn+Qi,At,Pt,Je,lt):U.copyTexSubImage2D(_i,Ye,Xt,Zt,At,Pt,Je,lt);Ve.bindFramebuffer(U.READ_FRAMEBUFFER,null),Ve.bindFramebuffer(U.DRAW_FRAMEBUFFER,null)}else ks?j.isDataTexture||j.isData3DTexture?U.texSubImage3D(_i,Ye,Xt,Zt,Hn,Je,lt,ot,Dt,wt,cn.data):oe.isCompressedArrayTexture?U.compressedTexSubImage3D(_i,Ye,Xt,Zt,Hn,Je,lt,ot,Dt,cn.data):U.texSubImage3D(_i,Ye,Xt,Zt,Hn,Je,lt,ot,Dt,wt,cn):j.isDataTexture?U.texSubImage2D(U.TEXTURE_2D,Ye,Xt,Zt,Je,lt,Dt,wt,cn.data):j.isCompressedTexture?U.compressedTexSubImage2D(U.TEXTURE_2D,Ye,Xt,Zt,cn.width,cn.height,Dt,cn.data):U.texSubImage2D(U.TEXTURE_2D,Ye,Xt,Zt,Je,lt,Dt,wt,cn);U.pixelStorei(U.UNPACK_ROW_LENGTH,Jt),U.pixelStorei(U.UNPACK_IMAGE_HEIGHT,lr),U.pixelStorei(U.UNPACK_SKIP_PIXELS,No),U.pixelStorei(U.UNPACK_SKIP_ROWS,Ls),U.pixelStorei(U.UNPACK_SKIP_IMAGES,zi),Ye===0&&oe.generateMipmaps&&U.generateMipmap(_i),Ve.unbindTexture()},this.copyTextureToTexture3D=function(j,oe,ye=null,pe=null,le=0){return j.isTexture!==!0&&(gd("WebGLRenderer: copyTextureToTexture3D function signature has changed."),ye=arguments[0]||null,pe=arguments[1]||null,j=arguments[2],oe=arguments[3],le=arguments[4]||0),gd('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(j,oe,ye,pe,le)},this.initRenderTarget=function(j){Ge.get(j).__webglFramebuffer===void 0&&$.setupRenderTarget(j)},this.initTexture=function(j){j.isCubeTexture?$.setTextureCube(j,0):j.isData3DTexture?$.setTexture3D(j,0):j.isDataArrayTexture||j.isCompressedArrayTexture?$.setTexture2DArray(j,0):$.setTexture2D(j,0),Ve.unbindTexture()},this.resetState=function(){F=0,N=0,I=null,Ve.reset(),Gt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ko}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorspace=nn._getDrawingBufferColorSpace(e),n.unpackColorSpace=nn._getUnpackColorSpace()}}const OGe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:nK,AddEquation:Gc,AddOperation:Jq,AdditiveAnimationBlendMode:ZN,AdditiveBlending:MD,AgXToneMapping:sK,AlphaFormat:WN,AlwaysCompare:xK,AlwaysDepth:iS,AlwaysStencilFunc:PD,AmbientLight:fY,AnimationAction:SY,AnimationClip:_y,AnimationLoader:$5e,AnimationMixer:wBe,AnimationObjectGroup:xBe,AnimationUtils:G5e,ArcCurve:BK,ArrayCamera:xY,ArrowHelper:WBe,AttachedBindMode:AD,Audio:wY,AudioAnalyser:cBe,AudioContext:CI,AudioListener:oBe,AudioLoader:iBe,AxesHelper:$Be,BackSide:Js,BasicDepthPacking:uK,BasicShadowMap:wke,BatchedMesh:IK,Bone:iI,BooleanKeyframeTrack:Fh,Box2:_Be,Box3:Qs,Box3Helper:UBe,BoxGeometry:_h,BoxHelper:GBe,BufferAttribute:An,BufferGeometry:zt,BufferGeometryLoader:yY,ByteType:GN,Cache:Dl,Camera:cE,CameraHelper:zBe,CanvasTexture:h5e,CapsuleGeometry:gE,CatmullRomCurve3:HK,CineonToneMapping:tK,CircleGeometry:vE,ClampToEdgeWrapping:Eo,Clock:CY,Color:ut,ColorKeyframeTrack:vI,ColorManagement:nn,CompressedArrayTexture:u5e,CompressedCubeTexture:d5e,CompressedTexture:pE,CompressedTextureLoader:q5e,ConeGeometry:yE,ConstantAlphaFactor:Yq,ConstantColorFactor:qq,Controls:KBe,CubeCamera:TK,CubeReflectionMapping:Zl,CubeRefractionMapping:cu,CubeTexture:S0,CubeTextureLoader:K5e,CubeUVReflectionMapping:cm,CubicBezierCurve:aI,CubicBezierCurve3:VK,CubicInterpolant:rY,CullFaceBack:ED,CullFaceFront:_q,CullFaceFrontBack:Cke,CullFaceNone:Dq,Curve:aa,CurvePath:GK,CustomBlending:Nq,CustomToneMapping:iK,CylinderGeometry:hm,Cylindrical:DBe,Data3DTexture:aE,DataArrayTexture:b0,DataTexture:Oa,DataTextureLoader:Y5e,DataUtils:k3e,DecrementStencilOp:Oke,DecrementWrapStencilOp:kke,DefaultLoadingManager:lY,DepthFormat:eh,DepthStencilFormat:gh,DepthTexture:rI,DetachedBindMode:oK,DirectionalLight:hY,DirectionalLightHelper:VBe,DiscreteInterpolant:oY,DodecahedronGeometry:xE,DoubleSide:Ta,DstAlphaFactor:Gq,DstColorFactor:jq,DynamicCopyUsage:Jke,DynamicDrawUsage:$ke,DynamicReadUsage:Yke,EdgesGeometry:UK,EllipseCurve:mE,EqualCompare:mK,EqualDepth:rS,EqualStencilFunc:zke,EquirectangularReflectionMapping:my,EquirectangularRefractionMapping:gy,Euler:Kr,EventDispatcher:Ka,ExtrudeGeometry:wE,FileLoader:Ql,Float16BufferAttribute:j3e,Float32BufferAttribute:mt,FloatType:Cr,Fog:dE,FogExp2:uE,FramebufferTexture:c5e,FrontSide:Xl,Frustum:E0,GLBufferAttribute:RBe,GLSL1:e3e,GLSL3:DD,GreaterCompare:gK,GreaterDepth:aS,GreaterEqualCompare:yK,GreaterEqualDepth:oS,GreaterEqualStencilFunc:Wke,GreaterStencilFunc:Uke,GridHelper:BBe,Group:rp,HalfFloatType:um,HemisphereLight:cY,HemisphereLightHelper:kBe,IcosahedronGeometry:bE,ImageBitmapLoader:nBe,ImageLoader:Fy,ImageUtils:bK,IncrementStencilOp:Ike,IncrementWrapStencilOp:Lke,InstancedBufferAttribute:Up,InstancedBufferGeometry:vY,InstancedInterleavedBuffer:TBe,InstancedMesh:NK,Int16BufferAttribute:G3e,Int32BufferAttribute:U3e,Int8BufferAttribute:H3e,IntType:Q1,InterleavedBuffer:hE,InterleavedBufferAttribute:yh,Interpolant:A0,InterpolateDiscrete:xy,InterpolateLinear:OS,InterpolateSmooth:zw,InvertStencilOp:Bke,KeepStencilOp:md,KeyframeTrack:la,LOD:_K,LatheGeometry:M0,Layers:lE,LessCompare:pK,LessDepth:sS,LessEqualCompare:JN,LessEqualDepth:ph,LessEqualStencilFunc:Gke,LessStencilFunc:Vke,Light:Mu,LightProbe:gY,Line:uu,Line3:FBe,LineBasicMaterial:ar,LineCurve:lI,LineCurve3:zK,LineDashedMaterial:nY,LineLoop:OK,LineSegments:Ya,LinearFilter:Li,LinearInterpolant:gI,LinearMipMapLinearFilter:Mke,LinearMipMapNearestFilter:Eke,LinearMipmapLinearFilter:Pa,LinearMipmapNearestFilter:Tv,LinearSRGBColorSpace:vh,LinearToneMapping:Qq,LinearTransfer:wy,Loader:Tr,LoaderUtils:OD,LoadingManager:yI,LoopOnce:aK,LoopPingPong:cK,LoopRepeat:lK,LuminanceAlphaFormat:KN,LuminanceFormat:qN,MOUSE:yke,Material:Ns,MaterialLoader:DE,MathUtils:y3e,Matrix2:EI,Matrix3:Ot,Matrix4:Tt,MaxEquation:kq,Mesh:Ri,MeshBasicMaterial:Su,MeshDepthMaterial:fI,MeshDistanceMaterial:pI,MeshLambertMaterial:eY,MeshMatcapMaterial:tY,MeshNormalMaterial:QK,MeshPhongMaterial:ZK,MeshPhysicalMaterial:XK,MeshStandardMaterial:hI,MeshToonMaterial:JK,MinEquation:Lq,MirroredRepeatWrapping:yy,MixOperation:Zq,MultiplyBlending:RD,MultiplyOperation:C0,NearestFilter:hs,NearestMipMapLinearFilter:Ske,NearestMipMapNearestFilter:bke,NearestMipmapLinearFilter:ip,NearestMipmapNearestFilter:zN,NeutralToneMapping:rK,NeverCompare:fK,NeverDepth:nS,NeverStencilFunc:Hke,NoBlending:Hl,NoColorSpace:Rl,NoToneMapping:Vl,NormalAnimationBlendMode:rE,NormalBlending:Qd,NotEqualCompare:vK,NotEqualDepth:lS,NotEqualStencilFunc:jke,NumberKeyframeTrack:Py,Object3D:an,ObjectLoader:eBe,ObjectSpaceNormalMap:hK,OctahedronGeometry:T0,OneFactor:Hq,OneMinusConstantAlphaFactor:Xq,OneMinusConstantColorFactor:Kq,OneMinusDstAlphaFactor:Uq,OneMinusDstColorFactor:Wq,OneMinusSrcAlphaFactor:tS,OneMinusSrcColorFactor:zq,OrthographicCamera:PE,PCFShadowMap:VN,PCFSoftShadowMap:Fq,PMREMGenerator:BD,Path:My,PerspectiveCamera:us,Plane:Bc,PlaneGeometry:fm,PlaneHelper:jBe,PointLight:dY,PointLightHelper:OBe,Points:LK,PointsMaterial:sI,PolarGridHelper:HBe,PolyhedronGeometry:Eu,PositionalAudio:lBe,PropertyBinding:sn,PropertyMixer:bY,QuadraticBezierCurve:cI,QuadraticBezierCurve3:uI,Quaternion:Sr,QuaternionKeyframeTrack:P0,QuaternionLinearInterpolant:aY,RED_GREEN_RGTC2_Format:NS,RED_RGTC1_Format:XN,REVISION:Z1,RGBADepthPacking:dK,RGBAFormat:Xs,RGBAIntegerFormat:sE,RGBA_ASTC_10x10_Format:RS,RGBA_ASTC_10x5_Format:ES,RGBA_ASTC_10x6_Format:MS,RGBA_ASTC_10x8_Format:TS,RGBA_ASTC_12x10_Format:AS,RGBA_ASTC_12x12_Format:PS,RGBA_ASTC_4x4_Format:gS,RGBA_ASTC_5x4_Format:vS,RGBA_ASTC_5x5_Format:yS,RGBA_ASTC_6x5_Format:xS,RGBA_ASTC_6x6_Format:CS,RGBA_ASTC_8x5_Format:wS,RGBA_ASTC_8x6_Format:bS,RGBA_ASTC_8x8_Format:SS,RGBA_BPTC_Format:_v,RGBA_ETC2_EAC_Format:mS,RGBA_PVRTC_2BPPV1_Format:hS,RGBA_PVRTC_4BPPV1_Format:dS,RGBA_S3TC_DXT1_Format:Av,RGBA_S3TC_DXT3_Format:Pv,RGBA_S3TC_DXT5_Format:Dv,RGBDepthPacking:Dke,RGBFormat:$N,RGBIntegerFormat:Tke,RGB_BPTC_SIGNED_Format:DS,RGB_BPTC_UNSIGNED_Format:_S,RGB_ETC1_Format:fS,RGB_ETC2_Format:pS,RGB_PVRTC_2BPPV1_Format:uS,RGB_PVRTC_4BPPV1_Format:cS,RGB_S3TC_DXT1_Format:Rv,RGDepthPacking:_ke,RGFormat:YN,RGIntegerFormat:iE,RawShaderMaterial:YK,Ray:dm,Raycaster:ABe,RectAreaLight:pY,RedFormat:nE,RedIntegerFormat:w0,ReinhardToneMapping:eK,RenderTarget:oE,RenderTarget3D:bBe,RenderTargetArray:SBe,RepeatWrapping:vy,ReplaceStencilOp:Nke,ReverseSubtractEquation:Oq,RingGeometry:SE,SIGNED_RED_GREEN_RGTC2_Format:IS,SIGNED_RED_RGTC1_Format:FS,SRGBColorSpace:mr,SRGBTransfer:xn,Scene:AK,ShaderChunk:Ht,ShaderLib:Uo,ShaderMaterial:ia,ShadowMaterial:KK,Shape:nh,ShapeGeometry:EE,ShapePath:qBe,ShapeUtils:La,ShortType:UN,Skeleton:fE,SkeletonHelper:IBe,SkinnedMesh:FK,Source:Xc,Sphere:Ps,SphereGeometry:R0,Spherical:PBe,SphericalHarmonics3:mY,SplineCurve:dI,SpotLight:uY,SpotLightHelper:NBe,Sprite:DK,SpriteMaterial:nI,SrcAlphaFactor:eS,SrcAlphaSaturateFactor:$q,SrcColorFactor:Vq,StaticCopyUsage:Zke,StaticDrawUsage:by,StaticReadUsage:Kke,StereoCamera:sBe,StreamCopyUsage:Qke,StreamDrawUsage:qke,StreamReadUsage:Xke,StringKeyframeTrack:Nh,SubtractEquation:Iq,SubtractiveBlending:TD,TOUCH:xke,TangentSpaceNormalMap:bu,TetrahedronGeometry:ME,Texture:hi,TextureLoader:X5e,TextureUtils:QBe,TimestampQuery:t3e,TorusGeometry:TE,TorusKnotGeometry:RE,Triangle:gr,TriangleFanDrawMode:Pke,TriangleStripDrawMode:Ake,TrianglesDrawMode:Rke,TubeGeometry:AE,UVMapping:J1,Uint16BufferAttribute:eI,Uint32BufferAttribute:tI,Uint8BufferAttribute:V3e,Uint8ClampedBufferAttribute:z3e,Uniform:SI,UniformsGroup:MBe,UniformsLib:nt,UniformsUtils:MK,UnsignedByteType:za,UnsignedInt248Type:mh,UnsignedInt5999Type:jN,UnsignedIntType:Jl,UnsignedShort4444Type:eE,UnsignedShort5551Type:tE,UnsignedShortType:Vp,VSMShadowMap:wa,Vector2:ze,Vector3:Y,Vector4:rn,VectorKeyframeTrack:Dy,VideoFrameTexture:l5e,VideoTexture:kK,WebGL3DRenderTarget:R3e,WebGLArrayRenderTarget:T3e,WebGLCoordinateSystem:Ko,WebGLCubeRenderTarget:RK,WebGLRenderTarget:Ga,WebGLRenderer:IGe,WebGLUtils:DY,WebGPUCoordinateSystem:Sy,WebXRController:Gw,WireframeGeometry:qK,WrapAroundEnding:Cy,ZeroCurvatureEnding:Ld,ZeroFactor:Bq,ZeroSlopeEnding:kd,ZeroStencilOp:Fke,createCanvasElement:wK},Symbol.toStringTag,{value:"Module"}));var jw={exports:{}},LGe=jw.exports,vG;function kGe(){return vG||(vG=1,function(t,e){(function(n,i){t.exports=i()})(typeof self<"u"?self:LGe,()=>(()=>{var n={d:(x,w)=>{for(var M in w)n.o(w,M)&&!n.o(x,M)&&Object.defineProperty(x,M,{enumerable:!0,get:w[M]})},o:(x,w)=>Object.prototype.hasOwnProperty.call(x,w),r:x=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(x,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(x,"__esModule",{value:!0})}},i={};function s(){return typeof navigator<"u"?/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<600:null}function r(x,w){return x==null&&(x=0),w==null&&(w=1),Math.floor(x+Math.random()*(w-x+1))}n.r(i),n.d(i,{default:()=>C}),Number.prototype.clamp=function(x,w){return Math.min(Math.max(this,x),w)};const o=x=>.299*x.r+.587*x.g+.114*x.b;function a(x){for(;x.children&&x.children.length>0;)a(x.children[0]),x.remove(x.children[0]);x.geometry&&x.geometry.dispose(),x.material&&(Object.keys(x.material).forEach(w=>{x.material[w]&&x.material[w]!==null&&typeof x.material[w].dispose=="function"&&x.material[w].dispose()}),x.material.dispose())}const l=typeof window=="object";let c=l&&window.THREE||{};l&&!window.VANTA&&(window.VANTA={});const d=l&&window.VANTA||{};d.register=(x,w)=>d[x]=M=>new w(M),d.version="0.5.24";const f=function(){return Array.prototype.unshift.call(arguments,"[VANTA]"),console.error.apply(this,arguments)};d.VantaBase=class{constructor(x={}){if(!l)return!1;d.current=this,this.windowMouseMoveWrapper=this.windowMouseMoveWrapper.bind(this),this.windowTouchWrapper=this.windowTouchWrapper.bind(this),this.windowGyroWrapper=this.windowGyroWrapper.bind(this),this.resize=this.resize.bind(this),this.animationLoop=this.animationLoop.bind(this),this.restart=this.restart.bind(this);const w=typeof this.getDefaultOptions=="function"?this.getDefaultOptions():this.defaultOptions;if(this.options=Object.assign({mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:1},w),(x instanceof HTMLElement||typeof x=="string")&&(x={el:x}),Object.assign(this.options,x),this.options.THREE&&(c=this.options.THREE),this.el=this.options.el,this.el==null)f('Instance needs "el" param!');else if(!(this.options.el instanceof HTMLElement)){const P=this.el;if(this.el=(M=P,document.querySelector(M)),!this.el)return void f("Cannot find element",P)}var M,S;this.prepareEl(),this.initThree(),this.setSize();try{this.init()}catch(P){return f("Init error",P),this.renderer&&this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),void(this.options.backgroundColor&&(console.log("[VANTA] Falling back to backgroundColor"),this.el.style.background=(S=this.options.backgroundColor,typeof S=="number"?"#"+("00000"+S.toString(16)).slice(-6):S)))}this.initMouse(),this.resize(),this.animationLoop();const R=window.addEventListener;R("resize",this.resize),window.requestAnimationFrame(this.resize),this.options.mouseControls&&(R("scroll",this.windowMouseMoveWrapper),R("mousemove",this.windowMouseMoveWrapper)),this.options.touchControls&&(R("touchstart",this.windowTouchWrapper),R("touchmove",this.windowTouchWrapper)),this.options.gyroControls&&R("deviceorientation",this.windowGyroWrapper)}setOptions(x={}){Object.assign(this.options,x),this.triggerMouseMove()}prepareEl(){let x,w;if(typeof Node<"u"&&Node.TEXT_NODE)for(x=0;x<this.el.childNodes.length;x++){const M=this.el.childNodes[x];if(M.nodeType===Node.TEXT_NODE){const S=document.createElement("span");S.textContent=M.textContent,M.parentElement.insertBefore(S,M),M.remove()}}for(x=0;x<this.el.children.length;x++)w=this.el.children[x],getComputedStyle(w).position==="static"&&(w.style.position="relative"),getComputedStyle(w).zIndex==="auto"&&(w.style.zIndex=1);getComputedStyle(this.el).position==="static"&&(this.el.style.position="relative")}applyCanvasStyles(x,w={}){Object.assign(x.style,{position:"absolute",zIndex:0,top:0,left:0,background:""}),Object.assign(x.style,w),x.classList.add("vanta-canvas")}initThree(){c.WebGLRenderer?(this.renderer=new c.WebGLRenderer({alpha:!0,antialias:!0}),this.el.appendChild(this.renderer.domElement),this.applyCanvasStyles(this.renderer.domElement),isNaN(this.options.backgroundAlpha)&&(this.options.backgroundAlpha=1),this.scene=new c.Scene):console.warn("[VANTA] No THREE defined on window")}getCanvasElement(){return this.renderer?this.renderer.domElement:this.p5renderer?this.p5renderer.canvas:void 0}getCanvasRect(){const x=this.getCanvasElement();return!!x&&x.getBoundingClientRect()}windowMouseMoveWrapper(x){const w=this.getCanvasRect();if(!w)return!1;const M=x.clientX-w.left,S=x.clientY-w.top;M>=0&&S>=0&&M<=w.width&&S<=w.height&&(this.mouseX=M,this.mouseY=S,this.options.mouseEase||this.triggerMouseMove(M,S))}windowTouchWrapper(x){const w=this.getCanvasRect();if(!w)return!1;if(x.touches.length===1){const M=x.touches[0].clientX-w.left,S=x.touches[0].clientY-w.top;M>=0&&S>=0&&M<=w.width&&S<=w.height&&(this.mouseX=M,this.mouseY=S,this.options.mouseEase||this.triggerMouseMove(M,S))}}windowGyroWrapper(x){const w=this.getCanvasRect();if(!w)return!1;const M=Math.round(2*x.alpha)-w.left,S=Math.round(2*x.beta)-w.top;M>=0&&S>=0&&M<=w.width&&S<=w.height&&(this.mouseX=M,this.mouseY=S,this.options.mouseEase||this.triggerMouseMove(M,S))}triggerMouseMove(x,w){x===void 0&&w===void 0&&(this.options.mouseEase?(x=this.mouseEaseX,w=this.mouseEaseY):(x=this.mouseX,w=this.mouseY)),this.uniforms&&(this.uniforms.iMouse.value.x=x/this.scale,this.uniforms.iMouse.value.y=w/this.scale);const M=x/this.width,S=w/this.height;typeof this.onMouseMove=="function"&&this.onMouseMove(M,S)}setSize(){this.scale||(this.scale=1),s()&&this.options.scaleMobile?this.scale=this.options.scaleMobile:this.options.scale&&(this.scale=this.options.scale),this.width=Math.max(this.el.offsetWidth,this.options.minWidth),this.height=Math.max(this.el.offsetHeight,this.options.minHeight)}initMouse(){(!this.mouseX&&!this.mouseY||this.mouseX===this.options.minWidth/2&&this.mouseY===this.options.minHeight/2)&&(this.mouseX=this.width/2,this.mouseY=this.height/2,this.triggerMouseMove(this.mouseX,this.mouseY))}resize(){this.setSize(),this.camera&&(this.camera.aspect=this.width/this.height,typeof this.camera.updateProjectionMatrix=="function"&&this.camera.updateProjectionMatrix()),this.renderer&&(this.renderer.setSize(this.width,this.height),this.renderer.setPixelRatio(window.devicePixelRatio/this.scale)),typeof this.onResize=="function"&&this.onResize()}isOnScreen(){const x=this.el.offsetHeight,w=this.el.getBoundingClientRect(),M=window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop,S=w.top+M;return S-window.innerHeight<=M&&M<=S+x}animationLoop(){this.t||(this.t=0),this.t2||(this.t2=0);const x=performance.now();if(this.prevNow){let w=(x-this.prevNow)/16.666666666666668;w=Math.max(.2,Math.min(w,5)),this.t+=w,this.t2+=(this.options.speed||1)*w,this.uniforms&&(this.uniforms.iTime.value=.016667*this.t2)}return this.prevNow=x,this.options.mouseEase&&(this.mouseEaseX=this.mouseEaseX||this.mouseX||0,this.mouseEaseY=this.mouseEaseY||this.mouseY||0,Math.abs(this.mouseEaseX-this.mouseX)+Math.abs(this.mouseEaseY-this.mouseY)>.1&&(this.mouseEaseX+=.05*(this.mouseX-this.mouseEaseX),this.mouseEaseY+=.05*(this.mouseY-this.mouseEaseY),this.triggerMouseMove(this.mouseEaseX,this.mouseEaseY))),(this.isOnScreen()||this.options.forceAnimate)&&(typeof this.onUpdate=="function"&&this.onUpdate(),this.scene&&this.camera&&(this.renderer.render(this.scene,this.camera),this.renderer.setClearColor(this.options.backgroundColor,this.options.backgroundAlpha)),this.fps&&this.fps.update&&this.fps.update(),typeof this.afterRender=="function"&&this.afterRender()),this.req=window.requestAnimationFrame(this.animationLoop)}restart(){if(this.scene)for(;this.scene.children.length;)this.scene.remove(this.scene.children[0]);typeof this.onRestart=="function"&&this.onRestart(),this.init()}init(){typeof this.onInit=="function"&&this.onInit()}destroy(){typeof this.onDestroy=="function"&&this.onDestroy();const x=window.removeEventListener;x("touchstart",this.windowTouchWrapper),x("touchmove",this.windowTouchWrapper),x("scroll",this.windowMouseMoveWrapper),x("mousemove",this.windowMouseMoveWrapper),x("deviceorientation",this.windowGyroWrapper),x("resize",this.resize),window.cancelAnimationFrame(this.req);const w=this.scene;w&&w.children&&a(w),this.renderer&&(this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),this.renderer=null,this.scene=null),d.current===this&&(d.current=null)}};const p=d.VantaBase;let m=typeof window=="object"&&window.THREE;class y extends p{static initClass(){this.prototype.defaultOptions={color:16727937,backgroundColor:2299196,points:10,maxDistance:20,spacing:15,showDots:!0}}constructor(w){m=w.THREE||m,super(w)}genPoint(w,M,S){let R;if(this.points||(this.points=[]),this.options.showDots){const N=new m.SphereGeometry(.25,12,12),I=new m.MeshLambertMaterial({color:this.options.color});R=new m.Mesh(N,I)}else R=new m.Object3D;var P,F;return this.cont.add(R),R.ox=w,R.oy=M,R.oz=S,R.position.set(w,M,S),R.r=((P=-2)==null&&(P=0),(F=2)==null&&(F=1),P+Math.random()*(F-P)),this.points.push(R)}onInit(){this.cont=new m.Group,this.cont.position.set(0,0,0),this.scene.add(this.cont);let w=this.options.points,{spacing:M}=this.options;s()&&(w=~~(.75*w),M=~~(.65*M));const S=w*w*2;this.linePositions=new Float32Array(S*S*3),this.lineColors=new Float32Array(S*S*3);const R=o(new m.Color(this.options.color)),P=o(new m.Color(this.options.backgroundColor));this.blending=R>P?"additive":"subtractive";const F=new m.BufferGeometry;F.setAttribute("position",new m.BufferAttribute(this.linePositions,3).setUsage(m.DynamicDrawUsage)),F.setAttribute("color",new m.BufferAttribute(this.lineColors,3).setUsage(m.DynamicDrawUsage)),F.computeBoundingSphere(),F.setDrawRange(0,0);const N=new m.LineBasicMaterial({vertexColors:m.VertexColors,blending:this.blending==="additive"?m.AdditiveBlending:null,transparent:!0});this.linesMesh=new m.LineSegments(F,N),this.cont.add(this.linesMesh);for(let _=0;_<=w;_++)for(let A=0;A<=w;A++){const O=r(-3,3),k=(_-w/2)*M+r(-5,5);let z=(A-w/2)*M+r(-5,5);_%2&&(z+=.5*M),this.genPoint(k,O-r(5,15),z),this.genPoint(k+r(-5,5),O+r(5,15),z+r(-5,5))}this.camera=new m.PerspectiveCamera(25,this.width/this.height,.01,1e4),this.camera.position.set(50,100,150),this.scene.add(this.camera);const I=new m.AmbientLight(16777215,.75);return this.scene.add(I),this.spot=new m.SpotLight(16777215,1),this.spot.position.set(0,200,0),this.spot.distance=400,this.spot.target=this.cont,this.scene.add(this.spot)}onDestroy(){this.scene&&this.scene.remove(this.linesMesh),this.spot=this.points=this.linesMesh=this.lineColors=this.linePositions=null}setOptions(w){super.setOptions(w),w.color&&this.points.forEach(M=>{M.material.color=new m.Color(w.color)})}onUpdate(){let w;const M=this.camera;Math.abs(M.tx-M.position.x)>.01&&(w=M.tx-M.position.x,M.position.x+=.02*w),Math.abs(M.ty-M.position.y)>.01&&(w=M.ty-M.position.y,M.position.y+=.02*w),M.lookAt(new m.Vector3(0,0,0));let S=0,R=0,P=0;const F=new m.Color(this.options.backgroundColor),N=new m.Color(this.options.color),I=N.clone().sub(F);this.rayCaster&&this.rayCaster.setFromCamera(new m.Vector2(this.rcMouseX,this.rcMouseY),this.camera);for(let _=0;_<this.points.length;_++){let A,O;const k=this.points[_];O=this.rayCaster?this.rayCaster.ray.distanceToPoint(k.position):1e3;const z=O.clamp(5,15);if(k.scale.x=k.scale.y=k.scale.z=(.25*(15-z)).clamp(1,100),k.r!==0){let W=Math.atan2(k.position.z,k.position.x);A=Math.sqrt(k.position.z*k.position.z+k.position.x*k.position.x),W+=25e-5*k.r,k.position.x=A*Math.cos(W),k.position.z=A*Math.sin(W)}for(let W=_;W<this.points.length;W++){const K=this.points[W],V=k.position.x-K.position.x,Q=k.position.y-K.position.y,q=k.position.z-K.position.z;if(A=Math.sqrt(V*V+Q*Q+q*q),A<this.options.maxDistance){let X;const H=(2*(1-A/this.options.maxDistance)).clamp(0,1);X=this.blending==="additive"?new m.Color(0).lerp(I,H):F.clone().lerp(N,H),this.linePositions[S++]=k.position.x,this.linePositions[S++]=k.position.y,this.linePositions[S++]=k.position.z,this.linePositions[S++]=K.position.x,this.linePositions[S++]=K.position.y,this.linePositions[S++]=K.position.z,this.lineColors[R++]=X.r,this.lineColors[R++]=X.g,this.lineColors[R++]=X.b,this.lineColors[R++]=X.r,this.lineColors[R++]=X.g,this.lineColors[R++]=X.b,P++}}}return this.linesMesh.geometry.setDrawRange(0,2*P),this.linesMesh.geometry.attributes.position.needsUpdate=!0,this.linesMesh.geometry.attributes.color.needsUpdate=!0,.001*this.t}onMouseMove(w,M){const S=this.camera;S.oy||(S.oy=S.position.y,S.ox=S.position.x,S.oz=S.position.z);const R=Math.atan2(S.oz,S.ox),P=Math.sqrt(S.oz*S.oz+S.ox*S.ox),F=R+2*(w-.5)*(this.options.mouseCoeffX||1);S.tz=P*Math.sin(F),S.tx=P*Math.cos(F),S.ty=S.oy+50*(M-.5)*(this.options.mouseCoeffY||1),this.rayCaster,this.rcMouseX=2*w-1,this.rcMouseY=2*-w+1}onRestart(){this.scene&&this.scene.remove(this.linesMesh),this.points=[]}}y.initClass();const C=d.register("NET",y);return i})())}(jw)),jw.exports}var BGe=kGe();const HGe=du(BGe),VGe=()=>{const t=fs(),[e,n]=E.useState(""),[i,s]=E.useState(""),[r,o]=E.useState(!1),[a,l]=E.useState(!1),{executeRecaptcha:c}=X6(),d=async f=>{var m,y,C;if(f.preventDefault(),!c){Nn.error("reCAPTCHA is not ready.");return}const p=await c("login");if(!e||!i){Nn.error("Please enter both email and password.");return}try{l(!0);const x=await on.post("/api/login",{email:e,password:i,recaptchaToken:p});x.data.accessToken?(Nn.success("Welcome back! You have successfully logged in."),t("/app/blogs-feed")):x.data.recaptchaError?Nn.success(x.data.message):Nn.error("Login failed. Please check your credentials.")}catch(x){l(!1),((m=x.response)==null?void 0:m.status)===400?(Nn.error("Invalid email or password. Please try again."),n(""),s("")):Nn.error(`Error: ${((C=(y=x.response)==null?void 0:y.data)==null?void 0:C.message)||"Something went wrong."}`)}finally{l(!1)}};return v.jsxs("form",{onSubmit:d,className:"flex flex-col gap-5",children:[v.jsx("div",{children:v.jsx("input",{type:"text",id:"email",value:e,placeholder:"Email",onChange:f=>n(f.target.value),className:"w-full p-3 border-none rounded-md bg-primary/10 focus:outline-none focus:ring-2 focus:ring-primary placeholder-primary/50"})}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:r?"text":"password",id:"password",value:i,placeholder:"Password",onChange:f=>s(f.target.value),className:"w-full p-3 border-none rounded-md bg-primary/10 focus:outline-none focus:ring-2 focus:ring-primary placeholder-primary/50"}),v.jsx("button",{type:"button",className:"absolute right-3 top-4 text-gray-500 hover:text-gray-700",onClick:()=>o(!r),children:r?v.jsx(Qde,{className:"w-5 h-5 cursor-pointer text-primary"}):v.jsx(the,{className:"w-5 h-5 cursor-pointer text-primary"})})]}),v.jsx("button",{type:"submit",className:"mt-5 w-full bg-primary p-3 rounded-xl text-white font-avenir-black cursor-pointer",children:a?v.jsx("div",{className:"mx-auto w-fit",children:v.jsx(ab,{bg:"transparent",color1:"#bfd1a0",color2:"#ffffff",width:"135",height:"24"})}):"LOG IN"})]})},zGe=()=>{const t=fs(),e=E.useRef(null);return E.useEffect(()=>{(async()=>{await rb()&&t("/app/blogs-feed")})()},[]),E.useEffect(()=>{let n=null;return requestAnimationFrame(()=>{e.current||(n=HGe({THREE:OGe,el:"#vanta-bg",mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:1,color:16777215,backgroundColor:2395556,points:9,maxDistance:22,spacing:16,showDots:!0}))}),()=>{n&&n.destroy()}},[]),v.jsx(Y6,{reCaptchaKey:"6LePV_8qAAAAAKUgbULmgqU8tkMkWOzJo1fePzkQ",children:v.jsx("div",{id:"vanta-bg",className:"w-screen h-screen flex justify-start items-center bg-white",children:v.jsxs("div",{className:"bg-white mx-auto rounded-2xl p-10 py-16 border border-gray-200",style:{width:"min(90%, 600px)"},children:[v.jsx("img",{src:Zo,alt:"FullSuite",onClick:()=>t("/"),className:"w-28 h-auto mx-auto cursor-pointer"}),v.jsx("p",{className:"text-center text-base my-4 text-gray-500 mb-10",children:"Welcome to SuiteLifer!"}),v.jsx(VGe,{})," "]})})})},GGe=()=>{const{pathname:t}=Hi();return E.useEffect(()=>{window.scrollTo(0,0)},[t]),null};function UGe(){return v.jsx(v.Fragment,{children:v.jsxs(FQ,{children:[v.jsx(GGe,{}),v.jsx(Wce,{position:"top-center",reverseOrder:!1}),v.jsxs(BG,{children:[v.jsx(tn,{path:"/",element:v.jsx(Ale,{})}),v.jsx(tn,{path:"/login",element:v.jsx(zGe,{})}),v.jsx(tn,{path:"/about-us",element:v.jsx(Gle,{})}),v.jsx(tn,{path:"/careers",element:v.jsx(jle,{})}),v.jsx(tn,{path:"/careers-all",element:v.jsx(Wle,{})}),v.jsx(tn,{path:"careers/application-form/:id/:jobPosition",element:v.jsx(Mhe,{})}),v.jsx(tn,{path:"/congrats-application-form",element:v.jsx(Rhe,{})}),v.jsx(tn,{path:"/careers/:slug",element:v.jsx(xCe,{})}),v.jsx(tn,{path:"/news",element:v.jsx($ce,{})}),v.jsx(tn,{path:"/news/:slug",element:v.jsx(Gue,{})}),v.jsx(tn,{path:"/contact",element:v.jsx(eue,{})}),v.jsx(tn,{path:"/blogs",element:v.jsx(iue,{})}),v.jsx(tn,{path:"/blogs/:slug",element:v.jsx(zue,{})}),v.jsx(tn,{path:"/privacy-policy",element:v.jsx(cue,{})}),v.jsx(tn,{path:"/terms-of-use",element:v.jsx(oue,{})}),v.jsx(tn,{element:v.jsx(jOe,{}),children:v.jsxs(tn,{path:"/app",element:v.jsx(vke,{}),children:[v.jsx(tn,{path:"*",element:v.jsx(UOe,{})}),v.jsx(tn,{index:!0,element:v.jsx(kG,{to:"blogs-feed",replace:!0})}),v.jsx(tn,{path:"blogs-feed",element:v.jsx(Kpe,{})}),v.jsx(tn,{path:"blogs-feed/blog/:id/:slug",element:v.jsx(OB,{})}),v.jsx(tn,{path:"my-blogs",element:v.jsx(Xpe,{})}),v.jsx(tn,{path:"my-blogs/blog/:id/:slug",element:v.jsx(OB,{})}),v.jsx(tn,{path:"my-blogs/new-blog",element:v.jsx(vCe,{})}),v.jsx(tn,{path:"threads",element:v.jsx(Jpe,{})}),v.jsx(tn,{path:"company-events",element:v.jsx(Qpe,{})}),v.jsx(tn,{path:"workshops",element:v.jsx(eme,{})}),v.jsx(tn,{path:"personality-test",element:v.jsx(tme,{})})]})})]})]})})}function jGe(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:i,onRegistered:s,onRegisteredSW:r,onRegisterError:o}=t;let a,l;const c=async(f=!0)=>{await l};async function d(){if("serviceWorker"in navigator){if(a=await Sl(async()=>{const{Workbox:f}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:f}},[]).then(({Workbox:f})=>new f("/sw.js",{scope:"/",type:"classic"})).catch(f=>{o==null||o(f)}),!a)return;a.addEventListener("activated",f=>{(f.isUpdate||f.isExternal)&&window.location.reload()}),a.addEventListener("installed",f=>{f.isUpdate||i==null||i()}),a.register({immediate:e}).then(f=>{r?r("/sw.js",f):s==null||s(f)}).catch(f=>{o==null||o(f)})}}return l=d(),c}const WGe=jGe({onNeedRefresh(){confirm("New content available. Reload?")&&WGe(!0)}});WZ.createRoot(document.getElementById("root")).render(v.jsx(E.StrictMode,{children:v.jsx(TG,{children:v.jsx(UGe,{})})}));export{c1e as $,gq as A,$F as B,KF as C,vq as D,yq as E,qF as F,uq as G,js as H,wo as I,on as J,xq as K,Zde as L,$o as M,the as N,du as O,Dn as P,CR as Q,ne as R,ZP as S,t3 as T,ZSe as U,Nn as V,HP as W,qf as X,x9 as Y,d9 as Z,XSe as _,pi as a,qGe as a0,jP as a1,Tbe as a2,Ov as a3,SF as a4,l9 as a5,Ybe as a6,Jbe as a7,Fo as a8,Mwe as a9,Ip as aa,$W as ab,Dbe as ac,Fbe as ad,GSe as ae,Rn as b,Gy as c,wn as d,Qn as e,d0 as f,Jn as g,mwe as h,HF as i,v as j,mUe as k,$P as l,Vi as m,u0 as n,uh as o,XW as p,ql as q,E as r,Ft as s,nSe as t,xi as u,eSe as v,L1 as w,bH as x,Oi as y,ea as z};
